{"version":3,"file":"static/chunks/9710.4fa3a978d39ccbef.js","mappings":"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","sources":["webpack://_N_E/./components/ApiActuator/ApiPayloadProvider.tsx","webpack://_N_E/./components/ApiActuator/useApiExecutor.ts","webpack://_N_E/./components/ApiActuator/PresupposeParamsSelector.tsx","webpack://_N_E/./components/ApiActuator/RequestEditor.tsx","webpack://_N_E/./components/ApiActuator/ApiPayload.tsx","webpack://_N_E/./components/ApiActuator/ApisContainer.tsx","webpack://_N_E/./components/ApiActuator/index.ts","webpack://_N_E/./components/ui/card.tsx","webpack://_N_E/./components/ui/jsonEditor.tsx","webpack://_N_E/./components/ui/textarea.tsx","webpack://_N_E/./lib/jsonUtils.ts","webpack://_N_E/<anon>"],"sourcesContent":["import React, { createContext, useContext, useReducer, useMemo, useCallback } from 'react';\n// @ts-expect-error\nimport perfectJson from 'perfect-json';\nimport { IPresupposeParam } from './PresupposeParamsSelector';\n\nconst RequestContext = createContext<string>('');\nconst ResultContext = createContext<string>('');\nconst ValidateResultContext = createContext<string>('');\nconst CurrentParamIdContext = createContext<string>('');\nconst PresupposeParamsContext = createContext<IPresupposeParam[] | undefined>(undefined);\nconst DispatchContext = createContext<React.Dispatch<ApiPayloadAction> | null>(null);\n\ntype ApiPayloadAction =\n  | { type: 'SET_REQUEST'; payload: string }\n  | { type: 'SET_RESULT'; payload: string }\n  | { type: 'SET_VALIDATE_RESULT'; payload: string }\n  | { type: 'SET_CURRENT_PARAM_ID'; payload: string }\n  | { type: 'SET_PRESUPPOSE_PARAMS'; payload: IPresupposeParam[] };\n\n// 优化 JSON 格式化函数\nexport const tryFormatJson = (json: string) => {\n  try {\n    return JSON.stringify(JSON.parse(json), null, 2);\n  } catch {\n    return json;\n  }\n};\n\nexport const tryFormatCompactJson = (json: string) => {\n  try {\n    const hasArray = /\\[.*?\\]/.test(json);\n    const obj = JSON.parse(json);\n    if (hasArray) {\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-return\n      return perfectJson(obj, {\n        // @ts-expect-error\n        singleLine: ({ value }) => Array.isArray(value) && value.length > 10,\n      });\n    } else {\n      return JSON.stringify(obj, null, 2);\n    }\n  } catch {\n    return json;\n  }\n};\n\nfunction apiPayloadReducer(state: ApiPayloadState, action: ApiPayloadAction): ApiPayloadState {\n  switch (action.type) {\n    case 'SET_REQUEST':\n      return { ...state, request: tryFormatJson(action.payload) };\n    case 'SET_RESULT':\n      return { ...state, result: tryFormatCompactJson(action.payload) };\n    case 'SET_VALIDATE_RESULT':\n      return { ...state, validateResult: tryFormatJson(action.payload) };\n    case 'SET_CURRENT_PARAM_ID':\n      return { ...state, currentPurposeParamId: action.payload };\n    case 'SET_PRESUPPOSE_PARAMS':\n      return { ...state, presupposeParams: action.payload };\n    default:\n      return state;\n  }\n}\n\ninterface ApiPayloadState {\n  request: string;\n  result: string;\n  validateResult: string;\n  currentPurposeParamId: string;\n  presupposeParams?: IPresupposeParam[];\n}\n\ninterface IApiPayloadProviderProps {\n  children: React.ReactNode;\n}\n\nexport function ApiPayloadProvider({ children }: IApiPayloadProviderProps) {\n  const [state, dispatch] = useReducer(apiPayloadReducer, {\n    request: '',\n    result: '',\n    validateResult: '',\n    currentPurposeParamId: '',\n  });\n\n  const memoizedDispatch = useCallback(dispatch, []);\n\n  const requestValue = useMemo(() => state.request, [state.request]);\n  const resultValue = useMemo(() => state.result, [state.result]);\n  const validateResultValue = useMemo(() => state.validateResult, [state.validateResult]);\n  const currentParamIdValue = useMemo(\n    () => state.currentPurposeParamId,\n    [state.currentPurposeParamId],\n  );\n  const presupposeParamsValue = useMemo(() => state.presupposeParams, [state.presupposeParams]);\n\n  return (\n    <DispatchContext.Provider value={memoizedDispatch}>\n      <RequestContext.Provider value={requestValue}>\n        <ResultContext.Provider value={resultValue}>\n          <ValidateResultContext.Provider value={validateResultValue}>\n            <CurrentParamIdContext.Provider value={currentParamIdValue}>\n              <PresupposeParamsContext.Provider value={presupposeParamsValue}>\n                {children}\n              </PresupposeParamsContext.Provider>\n            </CurrentParamIdContext.Provider>\n          </ValidateResultContext.Provider>\n        </ResultContext.Provider>\n      </RequestContext.Provider>\n    </DispatchContext.Provider>\n  );\n}\n\nexport function useApiPayload() {\n  const dispatch = useContext(DispatchContext);\n  if (!dispatch) {\n    throw new Error('useApiPayload must be used within a ApiPayloadProvider');\n  }\n\n  return {\n    request: useContext(RequestContext),\n    result: useContext(ResultContext),\n    validateResult: useContext(ValidateResultContext),\n    currentPurposeParamId: useContext(CurrentParamIdContext),\n    presupposeParams: useContext(PresupposeParamsContext),\n    dispatch,\n  };\n}\n\nexport const useRequest = () => useContext(RequestContext);\nexport const useResult = () => useContext(ResultContext);\nexport const useValidateResult = () => useContext(ValidateResultContext);\nexport const useCurrentParamId = () => useContext(CurrentParamIdContext);\nexport const usePresupposeParams = () => useContext(PresupposeParamsContext);\nexport const useApiDispatch = () => {\n  const dispatch = useContext(DispatchContext);\n  if (!dispatch) {\n    throw new Error('useApiDispatch must be used within a ApiPayloadProvider');\n  }\n  return dispatch;\n};\n","import { get } from 'lodash';\nimport { useCallback } from 'react';\nimport { stringifyWithSpecialType } from '../../lib/jsonUtils';\nimport { useToast } from '../ui/use-toast';\n\nexport type IApiExecutor = {\n  onExecute: (request: string) => Promise<any>;\n  onValidate?: (request: string, response: string) => Promise<any>;\n};\n\nexport function useApiExecutor({ onExecute, onValidate }: IApiExecutor): {\n  execute: (request: string) => Promise<{ result: string | undefined; error: string | undefined }>;\n  validate: (\n    request: string,\n    result: string,\n  ) => Promise<{ validation: string | undefined; error: string | undefined }>;\n} {\n  const { toast } = useToast();\n\n  const execute = useCallback(\n    async (request: string) => {\n      try {\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n        const result = await onExecute(request);\n\n        let resultString: string;\n        // normal types\n        if (\n          typeof result === 'number' ||\n          typeof result === 'boolean' ||\n          typeof result === 'string'\n        ) {\n          resultString = result.toString();\n        } else {\n          resultString = stringifyWithSpecialType(result);\n        }\n\n        return { result: resultString ?? 'null', error: undefined };\n      } catch (error) {\n        console.log('execute error', error);\n\n        let errorMessage = '';\n        try {\n          errorMessage = JSON.stringify(error);\n        } catch (error) {\n          errorMessage = get(error, 'message', 'Execution error');\n        }\n        return { result: undefined, error: errorMessage };\n      }\n    },\n    [onExecute],\n  );\n\n  const validate = useCallback(\n    async (request: string, result: string) => {\n      try {\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n        const validation = await onValidate(request, result);\n\n        let validationString: string;\n        // normal types\n        if (\n          typeof validation === 'number' ||\n          typeof validation === 'boolean' ||\n          typeof validation === 'string'\n        ) {\n          validationString = validation.toString();\n        } else {\n          validationString = stringifyWithSpecialType(validation);\n        }\n\n        return { validation: validationString ?? 'null', error: undefined };\n      } catch (error) {\n        toast({\n          title: '验证失败',\n          description: get(error, 'message', '验证失败'),\n          variant: 'destructive',\n        });\n        console.log('validate error', error);\n        return { validation: undefined, error: get(error, 'message', 'Validation error') };\n      }\n    },\n    [onValidate, toast],\n  );\n\n  return { execute, validate };\n}\n","import { useCallback, useEffect } from 'react';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '../ui/select';\nimport { useApiDispatch, useCurrentParamId, usePresupposeParams } from './ApiPayloadProvider';\n\nexport type IPresupposeParam = {\n  id: string;\n  name: string;\n  value: string;\n  description?: string;\n};\n\nexport type IPresupposeParamsSelectorProps = {\n  onPresupposeParamChange?: (paramId: string) => void;\n};\n\nexport function PresupposeParamsSelector({\n  onPresupposeParamChange,\n}: IPresupposeParamsSelectorProps) {\n  const presupposeParams = usePresupposeParams();\n  const currentPurposeParamId = useCurrentParamId();\n  const dispatch = useApiDispatch();\n\n  useEffect(() => {\n    if (presupposeParams && presupposeParams.length > 0) {\n      dispatch({ type: 'SET_CURRENT_PARAM_ID', payload: presupposeParams[0].id });\n      onPresupposeParamChange?.(presupposeParams[0].id);\n    }\n  }, [dispatch, presupposeParams]);\n\n  useEffect(() => {\n    const params = presupposeParams?.find((param) => param.id === currentPurposeParamId);\n    dispatch({ type: 'SET_REQUEST', payload: params?.value ?? '' });\n  }, [currentPurposeParamId, dispatch, presupposeParams]);\n\n  const handleSetCurrentPurposeParamId = useCallback(\n    (newPurposeParamId: string) => {\n      dispatch({ type: 'SET_CURRENT_PARAM_ID', payload: newPurposeParamId });\n      onPresupposeParamChange?.(newPurposeParamId);\n    },\n    [dispatch],\n  );\n\n  const showPresupposeParams = presupposeParams && presupposeParams.length > 1;\n\n  const presupposeParamsDescription = presupposeParams?.find((param) => param.id === currentPurposeParamId)?.description;\n\n  return showPresupposeParams ? (\n    <div className=\"flex flex-col gap-2\">\n      <span className=\"text-base font-medium\">预设参数</span>\n      <Select\n        defaultValue={presupposeParams[0]?.id}\n        value={currentPurposeParamId}\n        onValueChange={handleSetCurrentPurposeParamId}\n      >\n        <SelectTrigger className=\"w-full\">\n          <SelectValue className=\"text-base font-medium\" placeholder=\"选择参数\" />\n        </SelectTrigger>\n        <SelectContent>\n          {presupposeParams?.map((param) => (\n            <SelectItem key={param.id} value={param.id} className=\"text-base font-medium\">\n              {param.name || param.description}\n            </SelectItem>\n          ))}\n        </SelectContent>\n      </Select>\n      {\n        presupposeParamsDescription &&\n        <p className=\"px-2 text-base text-muted-foreground\">\n          {presupposeParamsDescription}\n        </p>\n      }\n    </div>\n  ) : null;\n}\n","import { FormEvent, useCallback, useState } from 'react';\nimport { Button } from '../ui/button';\nimport { AutoHeightTextarea } from '../ui/textarea';\nimport {\n  useApiDispatch,\n  useCurrentParamId,\n  usePresupposeParams,\n  useRequest,\n} from './ApiPayloadProvider';\nimport { toast } from '../ui/use-toast';\nimport { get } from 'lodash';\nimport JsonEditor from '../ui/jsonEditor';\n\nfunction ResetRequest() {\n  const presupposeParams = usePresupposeParams();\n  const currentPurposeParamId = useCurrentParamId();\n  const dispatch = useApiDispatch();\n\n  const handleSetRequest = useCallback(() => {\n    const newRequest = presupposeParams?.find((param) => param.id === currentPurposeParamId)?.value;\n    dispatch({ type: 'SET_REQUEST', payload: newRequest });\n    dispatch({ type: 'SET_RESULT', payload: '' });\n    dispatch({ type: 'SET_VALIDATE_RESULT', payload: '' });\n  }, [dispatch, presupposeParams, currentPurposeParamId]);\n\n  return (\n    <Button variant=\"outline\" size=\"sm\" onClick={handleSetRequest}>\n      Rest 请求\n    </Button>\n  );\n}\n\nexport type IRequestEditorProps = {\n  disableRequestContent?: boolean;\n  generateRequestFrom?: () => React.ReactNode;\n  onGenerateRequest?: (formData: Record<string, any>) => Promise<string>;\n};\nexport function RequestEditor({\n  disableRequestContent,\n  generateRequestFrom,\n  onGenerateRequest,\n}: IRequestEditorProps) {\n  const request = useRequest();\n  const dispatch = useApiDispatch();\n\n  const [generateRequesting, setGenerateRequesting] = useState(false);\n\n  const handleSetRequest = useCallback(\n    (newRequest: string) => {\n      dispatch({ type: 'SET_REQUEST', payload: newRequest });\n    },\n    [dispatch],\n  );\n\n  const handleGenerateRequestSubmit = useCallback(\n    async (e: FormEvent<HTMLFormElement>) => {\n      e.preventDefault();\n      const formData = new FormData(e.currentTarget); // 使用表单引用来创建FormData对象\n      const data: Record<string, any> = {};\n      formData.forEach((value, key) => {\n        data[key] = value; // 将每个表单项添加到一个对象中\n      });\n      try {\n        setGenerateRequesting(true);\n        const newRequest = await onGenerateRequest(data);\n        handleSetRequest(newRequest);\n      } catch (error) {\n        console.log('error', error);\n        toast({\n          title: '生成请求失败',\n          description: get(error, 'message', ''),\n        });\n      } finally {\n        setGenerateRequesting(false);\n      }\n    },\n    [handleSetRequest, onGenerateRequest],\n  );\n\n  return (\n    <div className=\"flex flex-col gap-1\">\n      <div className=\"flex flex-row justify-between items-end\">\n        <span className=\"text-base font-medium\">\n          请求{!disableRequestContent && <span>(可以手动编辑)</span>}\n        </span>\n        <ResetRequest />\n      </div>\n      {onGenerateRequest && (\n        <form onSubmit={handleGenerateRequestSubmit} className=\"p-2 m-2 gap-1 flex flex-col\">\n          {generateRequestFrom?.()}\n          <Button loading={generateRequesting} variant=\"outline\" type=\"submit\">\n            生成请求\n          </Button>\n        </form>\n      )}\n      {disableRequestContent ? (\n        <AutoHeightTextarea className=\"min-h-4\" placeholder=\"Not Request\" readOnly />\n      ) : (\n        // <AutoHeightTextarea\n        //   className=\"min-h-12\"\n        //   value={request ?? ''}\n        //   placeholder=\"Request 信息\"\n        //   onChange={(e) => handleSetRequest(e.target.value)}\n        // />\n        <JsonEditor value={request ?? ''} onChange={handleSetRequest} />\n      )}\n    </div>\n  );\n}\n\nexport type IResultDisplayProps = {\n  result?: string | undefined;\n  validateResult?: string;\n};\nexport function ResultDisplay({ result, validateResult }: IResultDisplayProps) {\n  return (\n    <div className=\"flex flex-col gap-2\">\n      {result !== undefined && <ResultTextArea label=\"执行结果\" content={result} />}\n      {validateResult !== undefined && <ResultTextArea label=\"验证结果\" content={validateResult} />}\n    </div>\n  );\n}\n\nexport type IResultTextAreaProps = {\n  label: string;\n  content: string | undefined;\n};\nexport function ResultTextArea({ label, content }: IResultTextAreaProps) {\n  return (\n    <div className=\"flex flex-col\">\n      <div className=\"flex flex-row justify-between items-center\">\n        <span className=\"text-base font-medium\">{label}</span>\n        <Button\n          variant=\"link\"\n          size=\"sm\"\n          onClick={() => {\n            navigator.clipboard\n              .writeText(content ?? '')\n              .then(() => {\n                toast({\n                  title: '复制成功',\n                });\n              })\n              .catch((err) => {\n                console.error('Failed to copy text: ', JSON.stringify(err));\n              });\n          }}\n        >\n          Copy\n        </Button>\n      </div>\n      <AutoHeightTextarea\n        value={content ?? ''}\n        placeholder={`${label}展示在这里`}\n        readOnly\n        className=\"min-h-12\"\n      />\n    </div>\n  );\n}\n","import React, { FC, useCallback, useEffect, useState } from 'react';\nimport { useWallet } from '../connect/WalletContext';\nimport { IApiExecutor, useApiExecutor } from './useApiExecutor';\nimport { IEthereumProvider } from '../chains/ethereum/types';\nimport { Card, CardContent, CardDescription, CardHeader } from '../ui/card';\nimport {\n  IPresupposeParam,\n  IPresupposeParamsSelectorProps,\n  PresupposeParamsSelector,\n} from './PresupposeParamsSelector';\nimport { IRequestEditorProps, RequestEditor, ResultTextArea } from './RequestEditor';\nimport { Button } from '../ui/button';\nimport {\n  ApiPayloadProvider,\n  useApiDispatch,\n  useRequest,\n  useResult,\n  useValidateResult,\n} from './ApiPayloadProvider';\n\nexport type IApiPayloadProps = {\n  title: string;\n  disableRequestContent?: boolean;\n  description?: string;\n  presupposeParams?: IPresupposeParam[];\n} & IApiExecuteProps &\n  IPresupposeParamsSelectorProps &\n  Omit<IRequestEditorProps, 'resetRequest'>;\n\nconst InitPresupposeParams: FC<{ presupposeParams?: IPresupposeParam[] }> = ({\n  presupposeParams,\n}) => {\n  const dispatch = useApiDispatch();\n\n  useEffect(() => {\n    dispatch({ type: 'SET_PRESUPPOSE_PARAMS', payload: presupposeParams });\n  }, [presupposeParams, dispatch]);\n\n  return null;\n};\n\nfunction ApiPayloadContent({\n  title,\n  description,\n  presupposeParams,\n  onExecute,\n  onValidate,\n  onPresupposeParamChange,\n  generateRequestFrom,\n  onGenerateRequest,\n  allowCallWithoutProvider,\n  disableRequestContent,\n}: IApiPayloadProps) {\n  return (\n    <Card>\n      <InitPresupposeParams presupposeParams={presupposeParams} />\n      <CardHeader className=\"text-xl font-medium searchable\">{title}</CardHeader>\n      {description && <CardDescription>{description}</CardDescription>}\n\n      <CardContent>\n        <div className=\"flex flex-col gap-3\">\n          <PresupposeParamsSelector onPresupposeParamChange={onPresupposeParamChange} />\n\n          <RequestEditor\n            generateRequestFrom={generateRequestFrom}\n            onGenerateRequest={onGenerateRequest}\n            disableRequestContent={disableRequestContent}\n          />\n\n          <ApiExecute allowCallWithoutProvider={allowCallWithoutProvider} onExecute={onExecute} />\n\n          <ExecuteResultDisplay />\n\n          {onValidate && (\n            <>\n              <ApiExecuteValidate onExecute={onExecute} onValidate={onValidate} />\n              <ValidateResultDisplay />\n            </>\n          )}\n        </div>\n      </CardContent>\n    </Card>\n  );\n}\n\nexport function ApiPayload(props: IApiPayloadProps) {\n  return (\n    <ApiPayloadProvider>\n      <ApiPayloadContent {...props} />\n    </ApiPayloadProvider>\n  );\n}\n\nexport type IApiExecuteProps = {\n  allowCallWithoutProvider?: boolean;\n  timeout?: number;\n} & IApiExecutor;\n\ninterface IExecuteResult {\n  result: string | undefined;\n  error?: string | undefined;\n}\n\nfunction ApiExecute({\n  allowCallWithoutProvider,\n  onExecute,\n  onValidate,\n  timeout = 5 * 60 * 1000,\n}: IApiExecuteProps) {\n  const { provider } = useWallet<IEthereumProvider>();\n  const { execute } = useApiExecutor({ onExecute, onValidate });\n\n  const request = useRequest();\n  const dispatch = useApiDispatch();\n\n  const [loading, setLoading] = useState(false);\n\n  const handleSetResult = useCallback(\n    (newResult: string) => {\n      dispatch({ type: 'SET_RESULT', payload: newResult });\n    },\n    [dispatch],\n  );\n\n  const handleSetValidateResult = useCallback(\n    (newResult: string) => {\n      dispatch({ type: 'SET_VALIDATE_RESULT', payload: newResult });\n    },\n    [dispatch],\n  );\n\n  const handleExecute = useCallback(async () => {\n    setLoading(true);\n    handleSetResult('Calling...');\n    handleSetValidateResult('');\n\n    try {\n      const { result, error } = await Promise.race([\n        execute(request),\n        new Promise<IExecuteResult>((_, rej) =>\n          setTimeout(() => rej(`call timeout ${timeout}ms`), timeout),\n        ),\n      ]);\n      if (error) {\n        handleSetResult(`Error: ${error}`);\n      } else {\n        handleSetResult(result);\n      }\n    } catch (error) {\n      console.log('execute error', error);\n\n      handleSetResult(`Error: ${typeof error === 'string' ? error : JSON.stringify(error)}`);\n    }\n    setLoading(false);\n  }, [execute, request, handleSetResult]);\n\n  return (\n    <Button\n      loading={loading}\n      disabled={!provider && !allowCallWithoutProvider}\n      onClick={handleExecute}\n    >\n      Call\n    </Button>\n  );\n}\n\nfunction ApiExecuteValidate({ onExecute, onValidate }: IApiExecuteProps) {\n  const request = useRequest();\n  const result = useResult();\n  const dispatch = useApiDispatch();\n\n  const { validate } = useApiExecutor({ onExecute, onValidate });\n\n  const handleSetValidateResult = useCallback(\n    (newResult: string) => {\n      dispatch({ type: 'SET_VALIDATE_RESULT', payload: newResult });\n    },\n    [dispatch],\n  );\n\n  const handleValidate = useCallback(async () => {\n    handleSetValidateResult('Validating...');\n    const { validation, error } = await validate(request, result);\n    if (error) {\n      handleSetValidateResult(`Error: ${error}`);\n    } else {\n      handleSetValidateResult(validation);\n    }\n  }, [validate, request, result, handleSetValidateResult]);\n\n  return (\n    <Button disabled={!result} onClick={handleValidate}>\n      Validate\n    </Button>\n  );\n}\n\nfunction ExecuteResultDisplay() {\n  const result = useResult();\n\n  return <ResultTextArea label=\"执行结果\" content={result} />;\n}\n\nfunction ValidateResultDisplay() {\n  const validateResult = useValidateResult();\n\n  return <ResultTextArea label=\"验证结果\" content={validateResult} />;\n}\n","export type IApiContainerProps = {\n  title: string;\n  children?: React.ReactNode;\n};\n\nexport function ApiGroup({ title, children }: IApiContainerProps) {\n  return (\n    <div>\n      <h2 className=\"text-2xl font-medium mt-4 mb-2\">{title}</h2>\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 3xl:grid-cols-4 gap-3\">\n        {children}\n      </div>\n    </div>\n  );\n}\n","export * from './ApiPayload';\nexport * from './ApisContainer';\n","import * as React from 'react';\n\nimport { cn } from '../../lib/utils';\n\nconst Card = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(\n  ({ className, ...props }, ref) => (\n    <div\n      ref={ref}\n      className={cn('rounded-xl border bg-card text-card-foreground shadow-sm p-3', className)}\n      {...props}\n    />\n  ),\n);\nCard.displayName = 'Card';\n\nconst CardHeader = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(\n  ({ className, ...props }, ref) => (\n    <div ref={ref} className={cn('flex p-1 flex-col space-y-1.5', className)} {...props} />\n  ),\n);\nCardHeader.displayName = 'CardHeader';\n\nconst CardTitle = React.forwardRef<HTMLParagraphElement, React.HTMLAttributes<HTMLHeadingElement>>(\n  ({ className, ...props }, ref) => (\n    <h3\n      ref={ref}\n      className={cn('text-2xl font-semibold leading-none tracking-tight', className)}\n      {...props}\n    />\n  ),\n);\nCardTitle.displayName = 'CardTitle';\n\nconst CardDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <p ref={ref} className={cn('px-3 text-base text-muted-foreground', className)} {...props} />\n));\nCardDescription.displayName = 'CardDescription';\n\nconst CardContent = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(\n  ({ className, ...props }, ref) => (\n    <div ref={ref} className={cn('p-1 pt-0', className)} {...props} />\n  ),\n);\nCardContent.displayName = 'CardContent';\n\nconst CardFooter = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(\n  ({ className, ...props }, ref) => (\n    <div ref={ref} className={cn('flex items-center p-1 pt-0', className)} {...props} />\n  ),\n);\nCardFooter.displayName = 'CardFooter';\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent };\n","import React, { useState, useEffect } from 'react';\nimport CodeMirror, { EditorView } from '@uiw/react-codemirror';\nimport { json, jsonParseLinter } from '@codemirror/lang-json';\nimport { linter, lintGutter } from '@codemirror/lint';\n\nexport type JsonEditorProps = {\n  value: string;\n  placeholder?: string;\n  onChange: (value: string) => void;\n};\n\nexport const JsonEditor = ({ value, placeholder, onChange }: JsonEditorProps) => {\n  const [isJson, setIsJson] = useState(false);\n\n  useEffect(() => {\n    if (value.trim().startsWith('{') || value.trim().startsWith('[')) {\n      setIsJson(true);\n    } else {\n      setIsJson(false);\n    }\n  }, [value]);\n\n  return (\n    <CodeMirror\n      className=\"text-sm overflow-auto max-h-[500px]\"\n      value={value}\n      data-test=\"json-editor\"\n      placeholder={placeholder}\n      extensions={[\n        isJson ? json() : [],\n        isJson ? linter(jsonParseLinter()) : [],\n        isJson ? lintGutter() : [],\n        EditorView.lineWrapping,\n      ]}\n      onChange={(value, viewUpdate) => {\n        onChange(value);\n      }}\n      basicSetup={{ lineNumbers: false }}\n      height=\"auto\"\n      theme=\"light\"\n    />\n  );\n};\n\nexport default JsonEditor;\n","import * as React from 'react';\n\nimport { cn } from '../../lib/utils';\n\nexport type TextareaProps = React.TextareaHTMLAttributes<HTMLTextAreaElement>;\n\nconst Textarea = React.forwardRef<HTMLTextAreaElement, TextareaProps>(\n  ({ className, ...props }, ref) => {\n    return (\n      <textarea\n        className={cn(\n          'flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50',\n          className,\n        )}\n        ref={ref}\n        {...props}\n      />\n    );\n  },\n);\nTextarea.displayName = 'Textarea';\n\nexport type AutoHeightTextareaProps = React.TextareaHTMLAttributes<HTMLTextAreaElement> & {\n  maxHeight?: number;\n};\n\nconst AutoHeightTextarea: React.FC<AutoHeightTextareaProps> = (props) => {\n  const textareaRef = React.useRef<HTMLTextAreaElement>(null);\n\n  const adjustHeight = React.useCallback(() => {\n    const textarea = textareaRef.current;\n    if (textarea) {\n      textarea.style.height = 'auto'; // 重置高度允许缩小\n      if (props.maxHeight) {\n        textarea.style.height = `${Math.min(textarea.scrollHeight, props.maxHeight)}px`;\n      } else {\n        textarea.style.height = `${textarea.scrollHeight}px`; // 设置新高度基于内容高度\n      }\n    }\n  }, [props.maxHeight]);\n\n  React.useEffect(() => {\n    adjustHeight();\n  }, [adjustHeight, props.value]); // 当value改变时调整高度\n\n  return (\n    <Textarea\n      {...props}\n      ref={textareaRef}\n      onInput={adjustHeight}\n      style={{ ...props.style, overflow: 'hidden' }}\n    />\n  );\n};\n\nexport { Textarea, AutoHeightTextarea };\n","export function stringifyWithSpecialType(obj: any): string {\n  if (obj instanceof Uint8Array) {\n    return JSON.stringify(Array.from(obj));\n  }\n\n  return JSON.stringify(obj, (key, value) => {\n    if (value instanceof Buffer) {\n      return Array.from(value);\n    }\n    if (value instanceof Uint8Array) {\n      return Array.from(value);\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-return\n    return value;\n  });\n}\n"],"names":["RequestContext","createContext","ResultContext","ValidateResultContext","CurrentParamIdContext","PresupposeParamsContext","undefined","DispatchContext","tryFormatJson","JSON","stringify","parse","json","e","tryFormatCompactJson","hasArray","test","obj","perfectJson","singleLine","value","param","Array","isArray","length","apiPayloadReducer","state","action","type","request","payload","result","validateResult","currentPurposeParamId","presupposeParams","ApiPayloadProvider","children","dispatch","useReducer","memoizedDispatch","useCallback","requestValue","useMemo","resultValue","validateResultValue","currentParamIdValue","presupposeParamsValue","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","jsx","Provider","useRequest","useContext","useResult","useValidateResult","useCurrentParamId","usePresupposeParams","useApiDispatch","useApiExecutor","onExecute","onValidate","toast","useToast","execute","resultString","toString","stringifyWithSpecialType","error","console","log","errorMessage","get","validate","validationString","validation","title","description","variant","PresupposeParamsSelector","onPresupposeParamChange","useEffect","id","params","find","handleSetCurrentPurposeParamId","newPurposeParamId","showPresupposeParams","presupposeParamsDescription","jsx_runtime","jsxs","div","className","span","Select","defaultValue","onValueChange","SelectTrigger","SelectValue","placeholder","SelectContent","map","SelectItem","name","p","ResetRequest","handleSetRequest","newRequest","Button","size","onClick","RequestEditor","disableRequestContent","generateRequestFrom","onGenerateRequest","generateRequesting","setGenerateRequesting","useState","handleGenerateRequestSubmit","preventDefault","formData","FormData","currentTarget","data","forEach","key","form","onSubmit","loading","AutoHeightTextarea","readOnly","JsonEditor","onChange","ResultTextArea","label","content","navigator","clipboard","writeText","then","catch","err","concat","InitPresupposeParams","ApiPayloadContent","allowCallWithoutProvider","Card","CardHeader","CardDescription","CardContent","ApiExecute","ExecuteResultDisplay","Fragment","ApiExecuteValidate","ValidateResultDisplay","ApiPayload","props","timeout","provider","useWallet","setLoading","handleSetResult","newResult","handleSetValidateResult","handleExecute","Promise","race","_","rej","setTimeout","disabled","handleValidate","ApiGroup","h2","React","ref","cn","displayName","CardTitle","h3","CardFooter","__webpack_exports__","Z","isJson","setIsJson","trim","startsWith","CodeMirror","data-test","extensions","linter","jsonParseLinter","lintGutter","EditorView","lineWrapping","viewUpdate","basicSetup","lineNumbers","height","theme","Textarea","textarea","textareaRef","adjustHeight","current","style","maxHeight","Math","min","scrollHeight","onInput","overflow","Uint8Array","from","Buffer"],"sourceRoot":""}