{"version":3,"file":"static/chunks/4084.ef606c09d4c93603.js","mappings":"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","sources":["webpack://_N_E/./components/DAppList.tsx","webpack://_N_E/./components/chains/nostr/dapps.config.ts","webpack://_N_E/./components/chains/nostr/params.ts","webpack://_N_E/./components/chains/nostr/example.tsx","webpack://_N_E/./components/connect/ConnectButton.tsx","webpack://_N_E/./components/ui/dialog.tsx","webpack://_N_E/<anon>"],"sourcesContent":["import React from 'react';\nimport Link from 'next/link';\nimport { Card, CardContent, CardTitle } from './ui/card';\n\nexport type Dapp = {\n  name: string;\n  url: string;\n};\n\nexport type DappListProps = {\n  dapps: Dapp[];\n};\n\nconst DappList: React.FC<DappListProps> = ({ dapps }) => {\n  return (\n    <Card>\n      <CardTitle className=\"text-xl\">Dapp Bookmarks</CardTitle>\n      <CardContent className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3\">\n        {dapps.map((dapp, index) => (\n          <div key={index} className=\"border p-2 rounded-lg shadow-sm hover:shadow-md\">\n            <Link href={dapp.url} legacyBehavior>\n              <a className=\"text-blue-500 hover:underline text-lg block\">{dapp.name} →</a>\n            </Link>\n          </div>\n        ))}\n      </CardContent>\n    </Card>\n  );\n};\n\nexport default DappList;\n","export const dapps = [\n  {\n    name: 'OpenSea',\n    url: 'https://opensea.io/',\n  },\n];\n","export default {\n  signEvent: [\n    {\n      id: 'signEvent',\n      name: 'signEvent',\n      value: JSON.stringify({\n        created_at: 1700000000,\n        kind: 1,\n        content: 'OneKey 🚀',\n        tags: [],\n      }),\n    },\n  ],\n  signSchnorr: [\n    {\n      id: 'signSchnorr-32HexString',\n      name: '32 位 Hex String',\n      value: '2118c65161c7d68b4bdbe1374f658532670057ab1bb0c99937d0ff7cff45cb5e',\n    },\n    {\n      id: 'signSchnorr',\n      name: 'Hex String - 硬件报错符合预期',\n      value: '010203',\n    },\n    // {\n    //   id: 'signSchnorr-text',\n    //   name: '普通文本',\n    //   value: 'some text here',\n    // }\n  ],\n  nip04encrypt: [\n    {\n      id: 'nip04encrypt',\n      name: 'nip04encrypt',\n      value: '010203',\n    },\n  ],\n};\n","/* eslint-disable @typescript-eslint/no-unsafe-assignment */\nimport { dapps } from './dapps.config';\nimport ConnectButton from '../../../components/connect/ConnectButton';\nimport { useEffect, useRef } from 'react';\nimport { get } from 'lodash';\nimport { IProviderApi, IProviderInfo } from './types';\nimport { ApiPayload, ApiGroup } from '../../ApiActuator';\nimport { useWallet } from '../../../components/connect/WalletContext';\nimport type { IKnownWallet } from '../../../components/connect/types';\nimport DappList from '../../../components/DAppList';\nimport params from './params';\n// @ts-expect-error\nimport Schnorr from 'bcrypto/lib/schnorr';\nimport { toast } from '../../ui/use-toast';\n\nexport default function Example() {\n  const walletsRef = useRef<IProviderInfo[]>([\n    {\n      uuid: 'injected',\n      name: 'Injected Wallet',\n      inject: 'nostr',\n    },\n    {\n      uuid: 'injected-onekey',\n      name: 'Injected OneKey',\n      inject: '$onekey.nostr',\n    },\n  ]);\n\n  const { provider, setAccount, account } = useWallet<IProviderApi>();\n\n  const onConnectWallet = async (selectedWallet: IKnownWallet) => {\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n    const providerDetail = walletsRef.current?.find((w) => w.uuid === selectedWallet.id);\n    if (!providerDetail) {\n      return Promise.reject('Wallet not found');\n    }\n\n    const provider = get(window, providerDetail.inject) as IProviderApi | undefined;\n\n    if (!provider) {\n      toast({\n        title: 'Wallet not found',\n        description: 'Please install the wallet extension',\n      });\n      return;\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment, no-unsafe-optional-chaining\n    const publicKey = await provider?.getPublicKey();\n\n    return {\n      provider,\n      address: '',\n      publicKey: publicKey,\n    };\n  };\n\n  useEffect(() => {\n    const accountsChangedHandler = (accounts: string) => {\n      console.log('nostr [accountsChanged]', accounts);\n\n      if (accounts.length) {\n        setAccount({\n          ...account,\n          address: accounts,\n        });\n      }\n    };\n\n    const connectHandler = (connectInfo: any) => {\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n      console.log('nostr connect', connectInfo);\n    };\n    const disconnectHandler = (error: any) => {\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n      console.log('nostr disconnect', error);\n    };\n\n    provider?.on('accountsChanged', accountsChangedHandler);\n    provider?.on('connect', connectHandler);\n    provider?.on('disconnect', disconnectHandler);\n\n    return () => {\n      provider?.removeListener('accountsChanged', accountsChangedHandler);\n      provider?.removeListener('connect', connectHandler);\n      provider?.removeListener('disconnect', disconnectHandler);\n    };\n  }, [account, provider, setAccount]);\n\n  return (\n    <>\n      <ConnectButton<IProviderApi>\n        fetchWallets={() => {\n          return Promise.resolve(\n            walletsRef.current.map((wallet) => {\n              return {\n                id: wallet.uuid,\n                name: wallet.name,\n              };\n            }),\n          );\n        }}\n        onConnect={onConnectWallet}\n      />\n\n      <ApiGroup title=\"Basics\">\n        <ApiPayload\n          title=\"getPublicKey\"\n          description=\"获取账户权限\"\n          onExecute={async (request: string) => {\n            const res = await provider?.getPublicKey();\n            return JSON.stringify(res);\n          }}\n        />\n        <ApiPayload\n          title=\"signEvent\"\n          description=\"signEvent\"\n          presupposeParams={params.signEvent}\n          onExecute={async (request: string) => {\n            const obj = JSON.parse(request);\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n            const res = await provider?.signEvent(obj);\n            return JSON.stringify(res);\n          }}\n        />\n        <ApiPayload\n          title=\"getRelays\"\n          description=\"getRelays\"\n          disableRequestContent\n          onExecute={async (request: string) => {\n            const res = await provider?.getRelays();\n            return JSON.stringify(res);\n          }}\n        />\n        <ApiPayload\n          title=\"signSchnorr\"\n          description=\"signSchnorr\"\n          presupposeParams={params.signSchnorr}\n          onExecute={async (request: string) => {\n            const res = await provider?.signSchnorr(request);\n            return res;\n          }}\n          onValidate={(request: string, result: string) => {\n            const message = Buffer.from(request, 'hex');\n            const publicKey = Buffer.from(account?.publicKey, 'hex');\n            const signature = Buffer.from(result, 'hex');\n\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access, @typescript-eslint/no-unsafe-call\n            const isValid = Schnorr.verify(message, signature, publicKey);\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access, @typescript-eslint/no-unsafe-call\n            return Promise.resolve(isValid.toString());\n          }}\n        />\n        <ApiPayload\n          title=\"nip04.encrypt and nip04.decrypt\"\n          description=\"nip04.encrypt\"\n          presupposeParams={params.nip04encrypt}\n          onExecute={async (request: string) => {\n            const pubkey = account?.publicKey;\n            const encrypted = await provider.nip04.encrypt(pubkey, request);\n            const decrypted = await provider.nip04.decrypt(pubkey, encrypted);\n            return JSON.stringify(decrypted);\n          }}\n        />\n        <ApiPayload\n          title=\"nip04.encrypt \"\n          description=\"nip04.encrypt\"\n          presupposeParams={params.nip04encrypt}\n          onExecute={async (request: string) => {\n            const pubkey = account?.publicKey;\n            const encrypted = await provider.nip04.encrypt(pubkey, request);\n            return JSON.stringify(encrypted);\n          }}\n        />\n      </ApiGroup>\n\n      <DappList dapps={dapps} />\n    </>\n  );\n}\n","/* eslint-disable @typescript-eslint/restrict-template-expressions */\nimport { useCallback, useEffect, useRef, useState } from 'react';\nimport { Button } from '../ui/button';\nimport { Card, CardContent } from '../ui/card';\nimport {\n  Dialog,\n  DialogClose,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n  DialogTrigger,\n} from '../ui/dialog';\nimport type { IAccountInfo, IKnownWallet } from './types';\nimport { useWallet } from './WalletContext';\nimport { toast } from '../ui/use-toast';\nimport { get } from 'lodash';\nimport { useSettings } from '../../hooks/useSettings';\n\nexport type ConnectButtonProps<T> = {\n  fetchWallets: () => Promise<IKnownWallet[]>;\n  onConnect: (wallet: IKnownWallet) => Promise<\n    {\n      provider: T;\n    } & Partial<IAccountInfo>\n  >;\n  onDisconnect?: () => Promise<void>;\n};\n\nconst accountInfoKeys: Record<string, string> = {\n  address: '地址',\n  publicKey: '公钥',\n  chainId: '网络',\n};\n\nexport default function ConnectButton<T>({\n  fetchWallets,\n  onConnect,\n  onDisconnect,\n}: ConnectButtonProps<T>) {\n  const { settings } = useSettings();\n  const connectDialogRef = useRef<any>(null);\n  const autoConnectedRef = useRef<boolean>(false);\n\n  const [wallets, setWallets] = useState<IKnownWallet[]>([]);\n\n  const { setProvider, setAccount, provider, account } = useWallet();\n\n  const connectWallet = useCallback(\n    async (wallet: IKnownWallet) => {\n      try {\n        const { provider: _provider, ...accountInfo } = await onConnect(wallet);\n        setProvider(_provider);\n        setAccount(accountInfo);\n      } catch (error) {\n        console.log('connectWallet error', error);\n\n        toast({\n          title: '连接失败',\n          description: get(error, 'message', ''),\n        });\n      }\n    },\n    [onConnect, setAccount, setProvider],\n  );\n\n  const disconnectWallet = useCallback(async () => {\n    autoConnectedRef.current = false;\n    await onDisconnect?.();\n    setProvider(null);\n    setAccount(null);\n  }, [onDisconnect, setAccount, setProvider]);\n\n  const closeDialog = useCallback(() => {\n    setTimeout(() => {\n      try {\n        connectDialogRef.current?.click();\n      } catch (error) {\n        // ignore\n      }\n    }, 150);\n  }, []);\n\n  const connectWalletWithDialog = useCallback(\n    async (options?: { directConnection?: boolean }) => {\n      const wallets = await fetchWallets?.();\n\n      if (wallets?.length === 0) {\n        closeDialog();\n        return;\n      }\n\n      const { directConnection } = options ?? { directConnection: false };\n      if (wallets?.length === 1 || (wallets?.length > 0 && directConnection)) {\n        closeDialog();\n        await connectWallet(wallets[0]);\n      } else {\n        setWallets(wallets);\n      }\n    },\n    [closeDialog, connectWallet, fetchWallets],\n  );\n\n  useEffect(() => {\n    const timeout = setTimeout(async () => {\n      if (autoConnectedRef.current) return;\n\n      console.log('settings.autoConnect', settings.autoConnect);\n      if (settings.autoConnect) {\n        autoConnectedRef.current = true;\n        await connectWalletWithDialog({\n          directConnection: true,\n        });\n      }\n    }, 500);\n\n    return () => {\n      clearTimeout(timeout);\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [settings.autoConnect]);\n\n  return (\n    <Card>\n      <CardContent className=\"flex flex-col flex-wrap gap-3\">\n        <div className=\"flex flex-row flex-wrap justify-between\">\n          <Dialog>\n            <DialogTrigger asChild>\n              <Button onClick={() => connectWalletWithDialog()}>Connect Wallet</Button>\n            </DialogTrigger>\n            <DialogContent>\n              <DialogClose ref={connectDialogRef} />\n              <DialogHeader>\n                <DialogTitle>选择钱包开始连接</DialogTitle>\n                {!!wallets &&\n                  wallets.map((wallet) => (\n                    <DialogClose asChild key={wallet.id}>\n                      <Button onClick={() => connectWallet(wallet)} className=\"gap-2\">\n                        {wallet.logo && (\n                          <img\n                            alt={wallet.name}\n                            src={wallet.logo}\n                            className=\"w-5 h-5 rounded-full\"\n                          />\n                        )}\n                        <span className=\"font-medium\">{wallet.name}</span>\n                        {wallet.tags?.map((tag) => (\n                          <span key={tag} className=\"text-xs font-light\">\n                            {tag}\n                          </span>\n                        ))}\n                      </Button>\n                    </DialogClose>\n                  ))}\n                {!wallets ||\n                  (wallets.length === 0 && (\n                    <DialogDescription>\n                      没有钱包可用，请安装 OneKey Extension\n                      <a target=\"_blank\" href={'https://www.onekey.so/download/'}>\n                        Install OneKey Extension →\n                      </a>\n                    </DialogDescription>\n                  ))}\n              </DialogHeader>\n            </DialogContent>\n          </Dialog>\n          {provider && (\n            <Button variant=\"destructive\" onClick={disconnectWallet}>\n              断开链接\n            </Button>\n          )}\n        </div>\n        {account && (\n          <div className=\"flex grid-cols-1 xl:grid-cols-2 flex-wrap gap-x-6 gap-y-3 mt-4\">\n            {Object.keys(account).map((key) => {\n              return (\n                <div key={key}>\n                  <span>{`${accountInfoKeys?.[key] ?? key}`}: </span>\n                  {/* @ts-expect-error */}\n                  <span className=\"font-normal flex flex-wrap text-break\">{`${account?.[key]}`}</span>\n                </div>\n              );\n            })}\n          </div>\n        )}\n      </CardContent>\n    </Card>\n  );\n}\n","import * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"../../lib/utils\"\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[35%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogHeader.displayName = \"DialogHeader\"\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogFooter.displayName = \"DialogFooter\"\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogClose,\n  DialogTrigger,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}\n"],"names":["__webpack_exports__","Z","dapps","param","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","jsxs","Card","jsx","CardTitle","className","CardContent","map","dapp","index","div","Link","href","url","legacyBehavior","a","name","params","signEvent","id","value","JSON","stringify","created_at","kind","content","tags","signSchnorr","nip04encrypt","Example","walletsRef","useRef","uuid","inject","provider","setAccount","account","useWallet","onConnectWallet","selectedWallet","providerDetail","current","find","w","Promise","reject","get","window","toast","title","description","publicKey","getPublicKey","address","useEffect","accountsChangedHandler","console","log","accounts","length","connectHandler","connectInfo","disconnectHandler","error","on","removeListener","jsx_runtime","Fragment","ConnectButton","fetchWallets","resolve","wallet","onConnect","ApiGroup","ApiPayload","onExecute","request","res","presupposeParams","obj","parse","disableRequestContent","getRelays","onValidate","result","message","Buffer","from","signature","isValid","Schnorr","toString","pubkey","encrypted","nip04","encrypt","decrypted","decrypt","DappList","accountInfoKeys","chainId","onDisconnect","settings","useSettings","connectDialogRef","autoConnectedRef","wallets","setWallets","useState","setProvider","connectWallet","useCallback","_provider","accountInfo","disconnectWallet","closeDialog","setTimeout","click","connectWalletWithDialog","options","directConnection","timeout","autoConnect","clearTimeout","Dialog","DialogTrigger","asChild","Button","onClick","DialogContent","DialogClose","ref","DialogHeader","DialogTitle","logo","img","alt","src","span","tag","DialogDescription","target","variant","Object","keys","concat","key","DialogPrimitive","DialogPortal","DialogOverlay","React","props","cn","displayName","children","X"],"sourceRoot":""}