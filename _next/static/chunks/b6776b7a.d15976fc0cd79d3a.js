(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9986],{16918:function(et,ei,eo){var ea=eo(34155),ec=eo(48764).Buffer;/*! For license information please see index.min.js.LICENSE.txt */et.exports=(()=>{var et={1029:(et,ei,eo)=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0});var ea=eo(9527);function i(et,ei,eo){return void 0===ei&&(ei=new Uint8Array(2)),void 0===eo&&(eo=0),ei[eo+0]=et>>>8,ei[eo+1]=et>>>0,ei}function s(et,ei,eo){return void 0===ei&&(ei=new Uint8Array(2)),void 0===eo&&(eo=0),ei[eo+0]=et>>>0,ei[eo+1]=et>>>8,ei}function o(et,ei){return void 0===ei&&(ei=0),et[ei]<<24|et[ei+1]<<16|et[ei+2]<<8|et[ei+3]}function a(et,ei){return void 0===ei&&(ei=0),(et[ei]<<24|et[ei+1]<<16|et[ei+2]<<8|et[ei+3])>>>0}function c(et,ei){return void 0===ei&&(ei=0),et[ei+3]<<24|et[ei+2]<<16|et[ei+1]<<8|et[ei]}function h(et,ei){return void 0===ei&&(ei=0),(et[ei+3]<<24|et[ei+2]<<16|et[ei+1]<<8|et[ei])>>>0}function u(et,ei,eo){return void 0===ei&&(ei=new Uint8Array(4)),void 0===eo&&(eo=0),ei[eo+0]=et>>>24,ei[eo+1]=et>>>16,ei[eo+2]=et>>>8,ei[eo+3]=et>>>0,ei}function d(et,ei,eo){return void 0===ei&&(ei=new Uint8Array(4)),void 0===eo&&(eo=0),ei[eo+0]=et>>>0,ei[eo+1]=et>>>8,ei[eo+2]=et>>>16,ei[eo+3]=et>>>24,ei}function f(et,ei,eo){return void 0===ei&&(ei=new Uint8Array(8)),void 0===eo&&(eo=0),u(et/4294967296>>>0,ei,eo),u(et>>>0,ei,eo+4),ei}function l(et,ei,eo){return void 0===ei&&(ei=new Uint8Array(8)),void 0===eo&&(eo=0),d(et>>>0,ei,eo),d(et/4294967296>>>0,ei,eo+4),ei}ei.readInt16BE=function(et,ei){return void 0===ei&&(ei=0),(et[ei+0]<<8|et[ei+1])<<16>>16},ei.readUint16BE=function(et,ei){return void 0===ei&&(ei=0),(et[ei+0]<<8|et[ei+1])>>>0},ei.readInt16LE=function(et,ei){return void 0===ei&&(ei=0),(et[ei+1]<<8|et[ei])<<16>>16},ei.readUint16LE=function(et,ei){return void 0===ei&&(ei=0),(et[ei+1]<<8|et[ei])>>>0},ei.writeUint16BE=i,ei.writeInt16BE=i,ei.writeUint16LE=s,ei.writeInt16LE=s,ei.readInt32BE=o,ei.readUint32BE=a,ei.readInt32LE=c,ei.readUint32LE=h,ei.writeUint32BE=u,ei.writeInt32BE=u,ei.writeUint32LE=d,ei.writeInt32LE=d,ei.readInt64BE=function(et,ei){void 0===ei&&(ei=0);var eo=o(et,ei),ea=o(et,ei+4);return 4294967296*eo+ea-4294967296*(ea>>31)},ei.readUint64BE=function(et,ei){return void 0===ei&&(ei=0),4294967296*a(et,ei)+a(et,ei+4)},ei.readInt64LE=function(et,ei){void 0===ei&&(ei=0);var eo=c(et,ei);return 4294967296*c(et,ei+4)+eo-4294967296*(eo>>31)},ei.readUint64LE=function(et,ei){void 0===ei&&(ei=0);var eo=h(et,ei);return 4294967296*h(et,ei+4)+eo},ei.writeUint64BE=f,ei.writeInt64BE=f,ei.writeUint64LE=l,ei.writeInt64LE=l,ei.readUintBE=function(et,ei,eo){if(void 0===eo&&(eo=0),et%8!=0)throw Error("readUintBE supports only bitLengths divisible by 8");if(et/8>ei.length-eo)throw Error("readUintBE: array is too short for the given bitLength");for(var ea=0,ec=1,eh=et/8+eo-1;eh>=eo;eh--)ea+=ei[eh]*ec,ec*=256;return ea},ei.readUintLE=function(et,ei,eo){if(void 0===eo&&(eo=0),et%8!=0)throw Error("readUintLE supports only bitLengths divisible by 8");if(et/8>ei.length-eo)throw Error("readUintLE: array is too short for the given bitLength");for(var ea=0,ec=1,eh=eo;eh<eo+et/8;eh++)ea+=ei[eh]*ec,ec*=256;return ea},ei.writeUintBE=function(et,ei,eo,ec){if(void 0===eo&&(eo=new Uint8Array(et/8)),void 0===ec&&(ec=0),et%8!=0)throw Error("writeUintBE supports only bitLengths divisible by 8");if(!ea.isSafeInteger(ei))throw Error("writeUintBE value must be an integer");for(var eh=1,eu=et/8+ec-1;eu>=ec;eu--)eo[eu]=ei/eh&255,eh*=256;return eo},ei.writeUintLE=function(et,ei,eo,ec){if(void 0===eo&&(eo=new Uint8Array(et/8)),void 0===ec&&(ec=0),et%8!=0)throw Error("writeUintLE supports only bitLengths divisible by 8");if(!ea.isSafeInteger(ei))throw Error("writeUintLE value must be an integer");for(var eh=1,eu=ec;eu<ec+et/8;eu++)eo[eu]=ei/eh&255,eh*=256;return eo},ei.readFloat32BE=function(et,ei){return void 0===ei&&(ei=0),new DataView(et.buffer,et.byteOffset,et.byteLength).getFloat32(ei)},ei.readFloat32LE=function(et,ei){return void 0===ei&&(ei=0),new DataView(et.buffer,et.byteOffset,et.byteLength).getFloat32(ei,!0)},ei.readFloat64BE=function(et,ei){return void 0===ei&&(ei=0),new DataView(et.buffer,et.byteOffset,et.byteLength).getFloat64(ei)},ei.readFloat64LE=function(et,ei){return void 0===ei&&(ei=0),new DataView(et.buffer,et.byteOffset,et.byteLength).getFloat64(ei,!0)},ei.writeFloat32BE=function(et,ei,eo){return void 0===ei&&(ei=new Uint8Array(4)),void 0===eo&&(eo=0),new DataView(ei.buffer,ei.byteOffset,ei.byteLength).setFloat32(eo,et),ei},ei.writeFloat32LE=function(et,ei,eo){return void 0===ei&&(ei=new Uint8Array(4)),void 0===eo&&(eo=0),new DataView(ei.buffer,ei.byteOffset,ei.byteLength).setFloat32(eo,et,!0),ei},ei.writeFloat64BE=function(et,ei,eo){return void 0===ei&&(ei=new Uint8Array(8)),void 0===eo&&(eo=0),new DataView(ei.buffer,ei.byteOffset,ei.byteLength).setFloat64(eo,et),ei},ei.writeFloat64LE=function(et,ei,eo){return void 0===ei&&(ei=new Uint8Array(8)),void 0===eo&&(eo=0),new DataView(ei.buffer,ei.byteOffset,ei.byteLength).setFloat64(eo,et,!0),ei}},3043:(et,ei,eo)=>{"use strict";var ea=eo(3082),ec=eo(93),eh=eo(5955),eu=eo(1029),ed=eo(3116);ei.J4=32,ei.PX=12,ei.iW=16;var ef=new Uint8Array(16),el=function(){function e(et){if(this.nonceLength=ei.PX,this.tagLength=ei.iW,et.length!==ei.J4)throw Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(et)}return e.prototype.seal=function(et,ei,eo,ec){if(et.length>16)throw Error("ChaCha20Poly1305: incorrect nonce length");var eu=new Uint8Array(16);eu.set(et,eu.length-et.length);var ed=new Uint8Array(32);ea.stream(this._key,eu,ed,4);var ef,el=ei.length+this.tagLength;if(ec){if(ec.length!==el)throw Error("ChaCha20Poly1305: incorrect destination length");ef=ec}else ef=new Uint8Array(el);return ea.streamXOR(this._key,eu,ei,ef,4),this._authenticate(ef.subarray(ef.length-this.tagLength,ef.length),ed,ef.subarray(0,ef.length-this.tagLength),eo),eh.wipe(eu),ef},e.prototype.open=function(et,ei,eo,ec){if(et.length>16)throw Error("ChaCha20Poly1305: incorrect nonce length");if(ei.length<this.tagLength)return null;var eu=new Uint8Array(16);eu.set(et,eu.length-et.length);var ef=new Uint8Array(32);ea.stream(this._key,eu,ef,4);var el=new Uint8Array(this.tagLength);if(this._authenticate(el,ef,ei.subarray(0,ei.length-this.tagLength),eo),!ed.equal(el,ei.subarray(ei.length-this.tagLength,ei.length)))return null;var ep,eb=ei.length-this.tagLength;if(ec){if(ec.length!==eb)throw Error("ChaCha20Poly1305: incorrect destination length");ep=ec}else ep=new Uint8Array(eb);return ea.streamXOR(this._key,eu,ei.subarray(0,ei.length-this.tagLength),ep,4),eh.wipe(eu),ep},e.prototype.clean=function(){return eh.wipe(this._key),this},e.prototype._authenticate=function(et,ei,eo,ea){var ed=new ec.Poly1305(ei);ea&&(ed.update(ea),ea.length%16>0&&ed.update(ef.subarray(ea.length%16))),ed.update(eo),eo.length%16>0&&ed.update(ef.subarray(eo.length%16));var el=new Uint8Array(8);ea&&eu.writeUint64LE(ea.length,el),ed.update(el),eu.writeUint64LE(eo.length,el),ed.update(el);for(var ep=ed.digest(),eb=0;eb<ep.length;eb++)et[eb]=ep[eb];ed.clean(),eh.wipe(ep),eh.wipe(el)},e}();ei.g6=el},3082:(et,ei,eo)=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0});var ea=eo(1029),ec=eo(5955);function a(et,ei,eo,eh,eu){if(void 0===eu&&(eu=0),32!==et.length)throw Error("ChaCha: key size must be 32 bytes");if(eh.length<eo.length)throw Error("ChaCha: destination is shorter than source");if(0===eu){if(8!==ei.length&&12!==ei.length)throw Error("ChaCha nonce must be 8 or 12 bytes");ef=(ed=new Uint8Array(16)).length-ei.length,ed.set(ei,ef)}else{if(16!==ei.length)throw Error("ChaCha nonce with counter must be 16 bytes");ed=ei,ef=eu}for(var ed,ef,el=new Uint8Array(64),ep=0;ep<eo.length;ep+=64){!function(et,ei,eo){for(var ec=eo[3]<<24|eo[2]<<16|eo[1]<<8|eo[0],eh=eo[7]<<24|eo[6]<<16|eo[5]<<8|eo[4],eu=eo[11]<<24|eo[10]<<16|eo[9]<<8|eo[8],ed=eo[15]<<24|eo[14]<<16|eo[13]<<8|eo[12],ef=eo[19]<<24|eo[18]<<16|eo[17]<<8|eo[16],el=eo[23]<<24|eo[22]<<16|eo[21]<<8|eo[20],ep=eo[27]<<24|eo[26]<<16|eo[25]<<8|eo[24],eb=eo[31]<<24|eo[30]<<16|eo[29]<<8|eo[28],eg=ei[3]<<24|ei[2]<<16|ei[1]<<8|ei[0],em=ei[7]<<24|ei[6]<<16|ei[5]<<8|ei[4],ey=ei[11]<<24|ei[10]<<16|ei[9]<<8|ei[8],ev=ei[15]<<24|ei[14]<<16|ei[13]<<8|ei[12],ew=1634760805,e_=857760878,eE=2036477234,eS=1797285236,eA=ec,eM=eh,eI=eu,eT=ed,ex=ef,eC=el,eR=ep,ek=eb,eP=eg,eO=em,eN=ey,eU=ev,eB=0;eB<20;eB+=2)eA=(eA^=ex=ex+(eP=(eP^=ew=ew+eA|0)>>>16|eP<<16)|0)>>>20|eA<<12,eM=(eM^=eC=eC+(eO=(eO^=e_=e_+eM|0)>>>16|eO<<16)|0)>>>20|eM<<12,eI=(eI^=eR=eR+(eN=(eN^=eE=eE+eI|0)>>>16|eN<<16)|0)>>>20|eI<<12,eT=(eT^=ek=ek+(eU=(eU^=eS=eS+eT|0)>>>16|eU<<16)|0)>>>20|eT<<12,eI=(eI^=eR=eR+(eN=(eN^=eE=eE+eI|0)>>>24|eN<<8)|0)>>>25|eI<<7,eT=(eT^=ek=ek+(eU=(eU^=eS=eS+eT|0)>>>24|eU<<8)|0)>>>25|eT<<7,eM=(eM^=eC=eC+(eO=(eO^=e_=e_+eM|0)>>>24|eO<<8)|0)>>>25|eM<<7,eA=(eA^=ex=ex+(eP=(eP^=ew=ew+eA|0)>>>24|eP<<8)|0)>>>25|eA<<7,eM=(eM^=eR=eR+(eU=(eU^=ew=ew+eM|0)>>>16|eU<<16)|0)>>>20|eM<<12,eI=(eI^=ek=ek+(eP=(eP^=e_=e_+eI|0)>>>16|eP<<16)|0)>>>20|eI<<12,eT=(eT^=ex=ex+(eO=(eO^=eE=eE+eT|0)>>>16|eO<<16)|0)>>>20|eT<<12,eA=(eA^=eC=eC+(eN=(eN^=eS=eS+eA|0)>>>16|eN<<16)|0)>>>20|eA<<12,eT=(eT^=ex=ex+(eO=(eO^=eE=eE+eT|0)>>>24|eO<<8)|0)>>>25|eT<<7,eA=(eA^=eC=eC+(eN=(eN^=eS=eS+eA|0)>>>24|eN<<8)|0)>>>25|eA<<7,eI=(eI^=ek=ek+(eP=(eP^=e_=e_+eI|0)>>>24|eP<<8)|0)>>>25|eI<<7,eM=(eM^=eR=eR+(eU=(eU^=ew=ew+eM|0)>>>24|eU<<8)|0)>>>25|eM<<7;ea.writeUint32LE(ew+1634760805|0,et,0),ea.writeUint32LE(e_+857760878|0,et,4),ea.writeUint32LE(eE+2036477234|0,et,8),ea.writeUint32LE(eS+1797285236|0,et,12),ea.writeUint32LE(eA+ec|0,et,16),ea.writeUint32LE(eM+eh|0,et,20),ea.writeUint32LE(eI+eu|0,et,24),ea.writeUint32LE(eT+ed|0,et,28),ea.writeUint32LE(ex+ef|0,et,32),ea.writeUint32LE(eC+el|0,et,36),ea.writeUint32LE(eR+ep|0,et,40),ea.writeUint32LE(ek+eb|0,et,44),ea.writeUint32LE(eP+eg|0,et,48),ea.writeUint32LE(eO+em|0,et,52),ea.writeUint32LE(eN+ey|0,et,56),ea.writeUint32LE(eU+ev|0,et,60)}(el,ed,et);for(var eb=ep;eb<ep+64&&eb<eo.length;eb++)eh[eb]=eo[eb]^el[eb-ep];!function(et,ei,eo){for(var ea=1;eo--;)ea=ea+(255&et[ei])|0,et[ei]=255&ea,ea>>>=8,ei++;if(ea>0)throw Error("ChaCha: counter overflow")}(ed,0,ef)}return ec.wipe(el),0===eu&&ec.wipe(ed),eh}ei.streamXOR=a,ei.stream=function(et,ei,eo,ea){return void 0===ea&&(ea=0),ec.wipe(eo),a(et,ei,eo,eo,ea)}},3116:(et,ei)=>{"use strict";function r(et,ei){if(et.length!==ei.length)return 0;for(var eo=0,ea=0;ea<et.length;ea++)eo|=et[ea]^ei[ea];return 1&eo-1>>>8}Object.defineProperty(ei,"__esModule",{value:!0}),ei.select=function(et,ei,eo){return~(et-1)&ei|et-1&eo},ei.lessOrEqual=function(et,ei){return(0|et)-(0|ei)-1>>>31&1},ei.compare=r,ei.equal=function(et,ei){return 0!==et.length&&0!==ei.length&&0!==r(et,ei)}},1741:(et,ei,eo)=>{"use strict";ei._S=ei.K=ei.TP=ei.wE=ei.Ee=void 0,eo(4734);let ea=eo(3668);function i(et){let ei=new Float64Array(16);if(et)for(let eo=0;eo<et.length;eo++)ei[eo]=et[eo];return ei}eo(5955),ei.Ee=64,ei.wE=64,ei.TP=32,new Uint8Array(32)[0]=9;let ec=i(),eh=i([1]),eu=(i([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),i([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222])),ed=i([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),ef=i([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]);function u(et,ei){for(let eo=0;eo<16;eo++)et[eo]=0|ei[eo]}function d(et){let ei=1;for(let eo=0;eo<16;eo++){let ea=et[eo]+ei+65535;ei=Math.floor(ea/65536),et[eo]=ea-65536*ei}et[0]+=ei-1+37*(ei-1)}function f(et,ei,eo){let ea=~(eo-1);for(let eo=0;eo<16;eo++){let ec=ea&(et[eo]^ei[eo]);et[eo]^=ec,ei[eo]^=ec}}function l(et,ei){let eo=i(),ea=i();for(let et=0;et<16;et++)ea[et]=ei[et];d(ea),d(ea),d(ea);for(let et=0;et<2;et++){eo[0]=ea[0]-65517;for(let et=1;et<15;et++)eo[et]=ea[et]-65535-(eo[et-1]>>16&1),eo[et-1]&=65535;eo[15]=ea[15]-32767-(eo[14]>>16&1);let et=eo[15]>>16&1;eo[14]&=65535,f(ea,eo,1-et)}for(let ei=0;ei<16;ei++)et[2*ei]=255&ea[ei],et[2*ei+1]=ea[ei]>>8}function b(et,ei,eo){for(let ea=0;ea<16;ea++)et[ea]=ei[ea]+eo[ea]}function g(et,ei,eo){for(let ea=0;ea<16;ea++)et[ea]=ei[ea]-eo[ea]}function m(et,ei,eo){let ea,ec,eh=0,eu=0,ed=0,ef=0,el=0,ep=0,eb=0,eg=0,em=0,ey=0,ev=0,ew=0,e_=0,eE=0,eS=0,eA=0,eM=0,eI=0,eT=0,ex=0,eC=0,eR=0,ek=0,eP=0,eO=0,eN=0,eU=0,eB=0,eL=0,eD=0,ej=0,eq=eo[0],eF=eo[1],eH=eo[2],eV=eo[3],ez=eo[4],e$=eo[5],eK=eo[6],eG=eo[7],eW=eo[8],eJ=eo[9],eY=eo[10],eX=eo[11],eZ=eo[12],eQ=eo[13],e0=eo[14],e1=eo[15];eh+=(ea=ei[0])*eq,eu+=ea*eF,ed+=ea*eH,ef+=ea*eV,el+=ea*ez,ep+=ea*e$,eb+=ea*eK,eg+=ea*eG,em+=ea*eW,ey+=ea*eJ,ev+=ea*eY,ew+=ea*eX,e_+=ea*eZ,eE+=ea*eQ,eS+=ea*e0,eA+=ea*e1,eu+=(ea=ei[1])*eq,ed+=ea*eF,ef+=ea*eH,el+=ea*eV,ep+=ea*ez,eb+=ea*e$,eg+=ea*eK,em+=ea*eG,ey+=ea*eW,ev+=ea*eJ,ew+=ea*eY,e_+=ea*eX,eE+=ea*eZ,eS+=ea*eQ,eA+=ea*e0,eM+=ea*e1,ed+=(ea=ei[2])*eq,ef+=ea*eF,el+=ea*eH,ep+=ea*eV,eb+=ea*ez,eg+=ea*e$,em+=ea*eK,ey+=ea*eG,ev+=ea*eW,ew+=ea*eJ,e_+=ea*eY,eE+=ea*eX,eS+=ea*eZ,eA+=ea*eQ,eM+=ea*e0,eI+=ea*e1,ef+=(ea=ei[3])*eq,el+=ea*eF,ep+=ea*eH,eb+=ea*eV,eg+=ea*ez,em+=ea*e$,ey+=ea*eK,ev+=ea*eG,ew+=ea*eW,e_+=ea*eJ,eE+=ea*eY,eS+=ea*eX,eA+=ea*eZ,eM+=ea*eQ,eI+=ea*e0,eT+=ea*e1,el+=(ea=ei[4])*eq,ep+=ea*eF,eb+=ea*eH,eg+=ea*eV,em+=ea*ez,ey+=ea*e$,ev+=ea*eK,ew+=ea*eG,e_+=ea*eW,eE+=ea*eJ,eS+=ea*eY,eA+=ea*eX,eM+=ea*eZ,eI+=ea*eQ,eT+=ea*e0,ex+=ea*e1,ep+=(ea=ei[5])*eq,eb+=ea*eF,eg+=ea*eH,em+=ea*eV,ey+=ea*ez,ev+=ea*e$,ew+=ea*eK,e_+=ea*eG,eE+=ea*eW,eS+=ea*eJ,eA+=ea*eY,eM+=ea*eX,eI+=ea*eZ,eT+=ea*eQ,ex+=ea*e0,eC+=ea*e1,eb+=(ea=ei[6])*eq,eg+=ea*eF,em+=ea*eH,ey+=ea*eV,ev+=ea*ez,ew+=ea*e$,e_+=ea*eK,eE+=ea*eG,eS+=ea*eW,eA+=ea*eJ,eM+=ea*eY,eI+=ea*eX,eT+=ea*eZ,ex+=ea*eQ,eC+=ea*e0,eR+=ea*e1,eg+=(ea=ei[7])*eq,em+=ea*eF,ey+=ea*eH,ev+=ea*eV,ew+=ea*ez,e_+=ea*e$,eE+=ea*eK,eS+=ea*eG,eA+=ea*eW,eM+=ea*eJ,eI+=ea*eY,eT+=ea*eX,ex+=ea*eZ,eC+=ea*eQ,eR+=ea*e0,ek+=ea*e1,em+=(ea=ei[8])*eq,ey+=ea*eF,ev+=ea*eH,ew+=ea*eV,e_+=ea*ez,eE+=ea*e$,eS+=ea*eK,eA+=ea*eG,eM+=ea*eW,eI+=ea*eJ,eT+=ea*eY,ex+=ea*eX,eC+=ea*eZ,eR+=ea*eQ,ek+=ea*e0,eP+=ea*e1,ey+=(ea=ei[9])*eq,ev+=ea*eF,ew+=ea*eH,e_+=ea*eV,eE+=ea*ez,eS+=ea*e$,eA+=ea*eK,eM+=ea*eG,eI+=ea*eW,eT+=ea*eJ,ex+=ea*eY,eC+=ea*eX,eR+=ea*eZ,ek+=ea*eQ,eP+=ea*e0,eO+=ea*e1,ev+=(ea=ei[10])*eq,ew+=ea*eF,e_+=ea*eH,eE+=ea*eV,eS+=ea*ez,eA+=ea*e$,eM+=ea*eK,eI+=ea*eG,eT+=ea*eW,ex+=ea*eJ,eC+=ea*eY,eR+=ea*eX,ek+=ea*eZ,eP+=ea*eQ,eO+=ea*e0,eN+=ea*e1,ew+=(ea=ei[11])*eq,e_+=ea*eF,eE+=ea*eH,eS+=ea*eV,eA+=ea*ez,eM+=ea*e$,eI+=ea*eK,eT+=ea*eG,ex+=ea*eW,eC+=ea*eJ,eR+=ea*eY,ek+=ea*eX,eP+=ea*eZ,eO+=ea*eQ,eN+=ea*e0,eU+=ea*e1,e_+=(ea=ei[12])*eq,eE+=ea*eF,eS+=ea*eH,eA+=ea*eV,eM+=ea*ez,eI+=ea*e$,eT+=ea*eK,ex+=ea*eG,eC+=ea*eW,eR+=ea*eJ,ek+=ea*eY,eP+=ea*eX,eO+=ea*eZ,eN+=ea*eQ,eU+=ea*e0,eB+=ea*e1,eE+=(ea=ei[13])*eq,eS+=ea*eF,eA+=ea*eH,eM+=ea*eV,eI+=ea*ez,eT+=ea*e$,ex+=ea*eK,eC+=ea*eG,eR+=ea*eW,ek+=ea*eJ,eP+=ea*eY,eO+=ea*eX,eN+=ea*eZ,eU+=ea*eQ,eB+=ea*e0,eL+=ea*e1,eS+=(ea=ei[14])*eq,eA+=ea*eF,eM+=ea*eH,eI+=ea*eV,eT+=ea*ez,ex+=ea*e$,eC+=ea*eK,eR+=ea*eG,ek+=ea*eW,eP+=ea*eJ,eO+=ea*eY,eN+=ea*eX,eU+=ea*eZ,eB+=ea*eQ,eL+=ea*e0,eD+=ea*e1,eA+=(ea=ei[15])*eq,eM+=ea*eF,eI+=ea*eH,eT+=ea*eV,ex+=ea*ez,eC+=ea*e$,eR+=ea*eK,ek+=ea*eG,eP+=ea*eW,eO+=ea*eJ,eN+=ea*eY,eU+=ea*eX,eB+=ea*eZ,eL+=ea*eQ,eD+=ea*e0,ej+=ea*e1,eh+=38*eM,eu+=38*eI,ed+=38*eT,ef+=38*ex,el+=38*eC,ep+=38*eR,eb+=38*ek,eg+=38*eP,em+=38*eO,ey+=38*eN,ev+=38*eU,ew+=38*eB,e_+=38*eL,eE+=38*eD,eS+=38*ej,ec=Math.floor((ea=eh+(ec=1)+65535)/65536),eh=ea-65536*ec,ec=Math.floor((ea=eu+ec+65535)/65536),eu=ea-65536*ec,ec=Math.floor((ea=ed+ec+65535)/65536),ed=ea-65536*ec,ec=Math.floor((ea=ef+ec+65535)/65536),ef=ea-65536*ec,ec=Math.floor((ea=el+ec+65535)/65536),el=ea-65536*ec,ec=Math.floor((ea=ep+ec+65535)/65536),ep=ea-65536*ec,ec=Math.floor((ea=eb+ec+65535)/65536),eb=ea-65536*ec,ec=Math.floor((ea=eg+ec+65535)/65536),eg=ea-65536*ec,ec=Math.floor((ea=em+ec+65535)/65536),em=ea-65536*ec,ec=Math.floor((ea=ey+ec+65535)/65536),ey=ea-65536*ec,ec=Math.floor((ea=ev+ec+65535)/65536),ev=ea-65536*ec,ec=Math.floor((ea=ew+ec+65535)/65536),ew=ea-65536*ec,ec=Math.floor((ea=e_+ec+65535)/65536),e_=ea-65536*ec,ec=Math.floor((ea=eE+ec+65535)/65536),eE=ea-65536*ec,ec=Math.floor((ea=eS+ec+65535)/65536),eS=ea-65536*ec,ec=Math.floor((ea=eA+ec+65535)/65536),eA=ea-65536*ec,eh+=ec-1+37*(ec-1),ec=Math.floor((ea=eh+(ec=1)+65535)/65536),eh=ea-65536*ec,ec=Math.floor((ea=eu+ec+65535)/65536),eu=ea-65536*ec,ec=Math.floor((ea=ed+ec+65535)/65536),ed=ea-65536*ec,ec=Math.floor((ea=ef+ec+65535)/65536),ef=ea-65536*ec,ec=Math.floor((ea=el+ec+65535)/65536),el=ea-65536*ec,ec=Math.floor((ea=ep+ec+65535)/65536),ep=ea-65536*ec,ec=Math.floor((ea=eb+ec+65535)/65536),eb=ea-65536*ec,ec=Math.floor((ea=eg+ec+65535)/65536),eg=ea-65536*ec,ec=Math.floor((ea=em+ec+65535)/65536),em=ea-65536*ec,ec=Math.floor((ea=ey+ec+65535)/65536),ey=ea-65536*ec,ec=Math.floor((ea=ev+ec+65535)/65536),ev=ea-65536*ec,ec=Math.floor((ea=ew+ec+65535)/65536),ew=ea-65536*ec,ec=Math.floor((ea=e_+ec+65535)/65536),e_=ea-65536*ec,ec=Math.floor((ea=eE+ec+65535)/65536),eE=ea-65536*ec,ec=Math.floor((ea=eS+ec+65535)/65536),eS=ea-65536*ec,ec=Math.floor((ea=eA+ec+65535)/65536),eA=ea-65536*ec,eh+=ec-1+37*(ec-1),et[0]=eh,et[1]=eu,et[2]=ed,et[3]=ef,et[4]=el,et[5]=ep,et[6]=eb,et[7]=eg,et[8]=em,et[9]=ey,et[10]=ev,et[11]=ew,et[12]=e_,et[13]=eE,et[14]=eS,et[15]=eA}function v(et,ei){let eo=i(),ea=i(),ec=i(),eh=i(),ed=i(),ef=i(),el=i(),ep=i(),eb=i();g(eo,et[1],et[0]),g(eb,ei[1],ei[0]),m(eo,eo,eb),b(ea,et[0],et[1]),b(eb,ei[0],ei[1]),m(ea,ea,eb),m(ec,et[3],ei[3]),m(ec,ec,eu),m(eh,et[2],ei[2]),b(eh,eh,eh),g(ed,ea,eo),g(ef,eh,ec),b(el,eh,ec),b(ep,ea,eo),m(et[0],ed,ef),m(et[1],ep,el),m(et[2],el,ef),m(et[3],ed,ep)}function w(et,ei,eo){for(let ea=0;ea<4;ea++)f(et[ea],ei[ea],eo)}function _(et,ei){let eo=i(),ea=i(),ec=i();(function(et,ei){let eo;let ea=i();for(eo=0;eo<16;eo++)ea[eo]=ei[eo];for(eo=253;eo>=0;eo--)m(ea,ea,ea),2!==eo&&4!==eo&&m(ea,ea,ei);for(eo=0;eo<16;eo++)et[eo]=ea[eo]})(ec,ei[2]),m(eo,ei[0],ec),m(ea,ei[1],ec),l(et,ea),et[31]^=function(et){let ei=new Uint8Array(32);return l(ei,et),1&ei[0]}(eo)<<7}function E(et,ei){let eo=[i(),i(),i(),i()];u(eo[0],ed),u(eo[1],ef),u(eo[2],eh),m(eo[3],ed,ef),function(et,ei,eo){u(et[0],ec),u(et[1],eh),u(et[2],eh),u(et[3],ec);for(let ea=255;ea>=0;--ea){let ec=eo[ea/8|0]>>(7&ea)&1;w(et,ei,ec),v(ei,et),v(et,et),w(et,ei,ec)}}(et,eo,ei)}i([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]),ei.K=function(et){if(et.length!==ei.TP)throw Error(`ed25519: seed must be ${ei.TP} bytes`);let eo=(0,ea.hash)(et);eo[0]&=248,eo[31]&=127,eo[31]|=64;let ec=new Uint8Array(32),eh=[i(),i(),i(),i()];E(eh,eo),_(ec,eh);let eu=new Uint8Array(64);return eu.set(et),eu.set(ec,32),{publicKey:ec,secretKey:eu}};let el=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function A(et,ei){let eo,ea,ec,eh;for(ea=63;ea>=32;--ea){for(eo=0,ec=ea-32,eh=ea-12;ec<eh;++ec)ei[ec]+=eo-16*ei[ea]*el[ec-(ea-32)],eo=Math.floor((ei[ec]+128)/256),ei[ec]-=256*eo;ei[ec]+=eo,ei[ea]=0}for(eo=0,ec=0;ec<32;ec++)ei[ec]+=eo-(ei[31]>>4)*el[ec],eo=ei[ec]>>8,ei[ec]&=255;for(ec=0;ec<32;ec++)ei[ec]-=eo*el[ec];for(ea=0;ea<32;ea++)ei[ea+1]+=ei[ea]>>8,et[ea]=255&ei[ea]}function M(et){let ei=new Float64Array(64);for(let eo=0;eo<64;eo++)ei[eo]=et[eo];for(let ei=0;ei<64;ei++)et[ei]=0;A(et,ei)}ei._S=function(et,ei){let eo=new Float64Array(64),ec=[i(),i(),i(),i()],eh=(0,ea.hash)(et.subarray(0,32));eh[0]&=248,eh[31]&=127,eh[31]|=64;let eu=new Uint8Array(64);eu.set(eh.subarray(32),32);let ed=new ea.SHA512;ed.update(eu.subarray(32)),ed.update(ei);let ef=ed.digest();ed.clean(),M(ef),E(ec,ef),_(eu,ec),ed.reset(),ed.update(eu.subarray(0,32)),ed.update(et.subarray(32)),ed.update(ei);let el=ed.digest();M(el);for(let et=0;et<32;et++)eo[et]=ef[et];for(let et=0;et<32;et++)for(let ei=0;ei<32;ei++)eo[et+ei]+=el[et]*eh[ei];return A(eu.subarray(32),eo),eu}},4950:(et,ei)=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0}),ei.isSerializableHash=function(et){return void 0!==et.saveState&&void 0!==et.restoreState&&void 0!==et.cleanSavedState}},1619:(et,ei,eo)=>{"use strict";var ea=eo(3159),ec=eo(5955),eh=function(){function e(et,ei,eo,ec){void 0===eo&&(eo=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=et,this._info=ec;var eh=ea.hmac(this._hash,eo,ei);this._hmac=new ea.HMAC(et,eh),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return e.prototype._fillBuffer=function(){this._counter[0]++;var et=this._counter[0];if(0===et)throw Error("hkdf: cannot expand more");this._hmac.reset(),et>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},e.prototype.expand=function(et){for(var ei=new Uint8Array(et),eo=0;eo<ei.length;eo++)this._bufpos===this._buffer.length&&this._fillBuffer(),ei[eo]=this._buffer[this._bufpos++];return ei},e.prototype.clean=function(){this._hmac.clean(),ec.wipe(this._buffer),ec.wipe(this._counter),this._bufpos=0},e}();ei.i=eh},3159:(et,ei,eo)=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0});var ea=eo(4950),ec=eo(3116),eh=eo(5955),eu=function(){function e(et,ei){this._finished=!1,this._inner=new et,this._outer=new et,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var eo=new Uint8Array(this.blockSize);ei.length>this.blockSize?this._inner.update(ei).finish(eo).clean():eo.set(ei);for(var ec=0;ec<eo.length;ec++)eo[ec]^=54;for(this._inner.update(eo),ec=0;ec<eo.length;ec++)eo[ec]^=106;this._outer.update(eo),ea.isSerializableHash(this._inner)&&ea.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),eh.wipe(eo)}return e.prototype.reset=function(){if(!ea.isSerializableHash(this._inner)||!ea.isSerializableHash(this._outer))throw Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},e.prototype.clean=function(){ea.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),ea.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},e.prototype.update=function(et){return this._inner.update(et),this},e.prototype.finish=function(et){return this._finished?this._outer.finish(et):(this._inner.finish(et),this._outer.update(et.subarray(0,this.digestLength)).finish(et),this._finished=!0),this},e.prototype.digest=function(){var et=new Uint8Array(this.digestLength);return this.finish(et),et},e.prototype.saveState=function(){if(!ea.isSerializableHash(this._inner))throw Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},e.prototype.restoreState=function(et){if(!ea.isSerializableHash(this._inner)||!ea.isSerializableHash(this._outer))throw Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(et),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},e.prototype.cleanSavedState=function(et){if(!ea.isSerializableHash(this._inner))throw Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(et)},e}();ei.HMAC=eu,ei.hmac=function(et,ei,eo){var ea=new eu(et,ei);ea.update(eo);var ec=ea.digest();return ea.clean(),ec},ei.equal=ec.equal},9527:(et,ei)=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0}),ei.mul=Math.imul||function(et,ei){var eo=65535&et,ea=65535&ei;return eo*ea+((et>>>16&65535)*ea+eo*(ei>>>16&65535)<<16>>>0)|0},ei.add=function(et,ei){return et+ei|0},ei.sub=function(et,ei){return et-ei|0},ei.rotl=function(et,ei){return et<<ei|et>>>32-ei},ei.rotr=function(et,ei){return et<<32-ei|et>>>ei},ei.isInteger=Number.isInteger||function(et){return"number"==typeof et&&isFinite(et)&&Math.floor(et)===et},ei.MAX_SAFE_INTEGER=9007199254740991,ei.isSafeInteger=function(et){return ei.isInteger(et)&&et>=-ei.MAX_SAFE_INTEGER&&et<=ei.MAX_SAFE_INTEGER}},93:(et,ei,eo)=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0});var ea=eo(3116),ec=eo(5955);ei.DIGEST_LENGTH=16;var eh=function(){function e(et){this.digestLength=ei.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var eo=et[0]|et[1]<<8;this._r[0]=8191&eo;var ea=et[2]|et[3]<<8;this._r[1]=8191&(eo>>>13|ea<<3);var ec=et[4]|et[5]<<8;this._r[2]=7939&(ea>>>10|ec<<6);var eh=et[6]|et[7]<<8;this._r[3]=8191&(ec>>>7|eh<<9);var eu=et[8]|et[9]<<8;this._r[4]=255&(eh>>>4|eu<<12),this._r[5]=eu>>>1&8190;var ed=et[10]|et[11]<<8;this._r[6]=8191&(eu>>>14|ed<<2);var ef=et[12]|et[13]<<8;this._r[7]=8065&(ed>>>11|ef<<5);var el=et[14]|et[15]<<8;this._r[8]=8191&(ef>>>8|el<<8),this._r[9]=el>>>5&127,this._pad[0]=et[16]|et[17]<<8,this._pad[1]=et[18]|et[19]<<8,this._pad[2]=et[20]|et[21]<<8,this._pad[3]=et[22]|et[23]<<8,this._pad[4]=et[24]|et[25]<<8,this._pad[5]=et[26]|et[27]<<8,this._pad[6]=et[28]|et[29]<<8,this._pad[7]=et[30]|et[31]<<8}return e.prototype._blocks=function(et,ei,eo){for(var ea=this._fin?0:2048,ec=this._h[0],eh=this._h[1],eu=this._h[2],ed=this._h[3],ef=this._h[4],el=this._h[5],ep=this._h[6],eb=this._h[7],eg=this._h[8],em=this._h[9],ey=this._r[0],ev=this._r[1],ew=this._r[2],e_=this._r[3],eE=this._r[4],eS=this._r[5],eA=this._r[6],eM=this._r[7],eI=this._r[8],eT=this._r[9];eo>=16;){var ex=et[ei+0]|et[ei+1]<<8;ec+=8191&ex;var eC=et[ei+2]|et[ei+3]<<8;eh+=8191&(ex>>>13|eC<<3);var eR=et[ei+4]|et[ei+5]<<8;eu+=8191&(eC>>>10|eR<<6);var ek=et[ei+6]|et[ei+7]<<8;ed+=8191&(eR>>>7|ek<<9);var eP=et[ei+8]|et[ei+9]<<8;ef+=8191&(ek>>>4|eP<<12),el+=eP>>>1&8191;var eO=et[ei+10]|et[ei+11]<<8;ep+=8191&(eP>>>14|eO<<2);var eN=et[ei+12]|et[ei+13]<<8;eb+=8191&(eO>>>11|eN<<5);var eU,eB=et[ei+14]|et[ei+15]<<8,eL=0;eL=(eU=0+(ec*ey+eh*(5*eT)+eu*(5*eI)+ed*(5*eM))+ef*(5*eA))>>>13,eU&=8191,eU+=el*(5*eS)+ep*(5*eE)+eb*(5*e_)+(eg+=8191&(eN>>>8|eB<<8))*(5*ew);var eD=eL+=(eU+=(em+=eB>>>5|ea)*(5*ev))>>>13;eD+=ec*ev+eh*ey+eu*(5*eT)+ed*(5*eI),eL=(eD+=ef*(5*eM))>>>13,eD&=8191,eD+=el*(5*eA)+ep*(5*eS)+eb*(5*eE)+eg*(5*e_),eL+=(eD+=em*(5*ew))>>>13,eD&=8191;var ej=eL;ej+=ec*ew+eh*ev+eu*ey+ed*(5*eT),eL=(ej+=ef*(5*eI))>>>13,ej&=8191,ej+=el*(5*eM)+ep*(5*eA)+eb*(5*eS)+eg*(5*eE);var eq=eL+=(ej+=em*(5*e_))>>>13;eq+=ec*e_+eh*ew+eu*ev+ed*ey,eL=(eq+=ef*(5*eT))>>>13,eq&=8191,eq+=el*(5*eI)+ep*(5*eM)+eb*(5*eA)+eg*(5*eS);var eF=eL+=(eq+=em*(5*eE))>>>13;eF+=ec*eE+eh*e_+eu*ew+ed*ev,eL=(eF+=ef*ey)>>>13,eF&=8191,eF+=el*(5*eT)+ep*(5*eI)+eb*(5*eM)+eg*(5*eA);var eH=eL+=(eF+=em*(5*eS))>>>13;eH+=ec*eS+eh*eE+eu*e_+ed*ew,eL=(eH+=ef*ev)>>>13,eH&=8191,eH+=el*ey+ep*(5*eT)+eb*(5*eI)+eg*(5*eM);var eV=eL+=(eH+=em*(5*eA))>>>13;eV+=ec*eA+eh*eS+eu*eE+ed*e_,eL=(eV+=ef*ew)>>>13,eV&=8191,eV+=el*ev+ep*ey+eb*(5*eT)+eg*(5*eI);var ez=eL+=(eV+=em*(5*eM))>>>13;ez+=ec*eM+eh*eA+eu*eS+ed*eE,eL=(ez+=ef*e_)>>>13,ez&=8191,ez+=el*ew+ep*ev+eb*ey+eg*(5*eT);var e$=eL+=(ez+=em*(5*eI))>>>13;e$+=ec*eI+eh*eM+eu*eA+ed*eS,eL=(e$+=ef*eE)>>>13,e$&=8191,e$+=el*e_+ep*ew+eb*ev+eg*ey;var eK=eL+=(e$+=em*(5*eT))>>>13;eK+=ec*eT+eh*eI+eu*eM+ed*eA,eL=(eK+=ef*eS)>>>13,eK&=8191,eK+=el*eE+ep*e_+eb*ew+eg*ev,ec=eU=8191&(eL=(eL=((eL+=(eK+=em*ey)>>>13)<<2)+eL|0)+(eU&=8191)|0),eh=eD+=eL>>>=13,eu=ej&=8191,ed=eq&=8191,ef=eF&=8191,el=eH&=8191,ep=eV&=8191,eb=ez&=8191,eg=e$&=8191,em=eK&=8191,ei+=16,eo-=16}this._h[0]=ec,this._h[1]=eh,this._h[2]=eu,this._h[3]=ed,this._h[4]=ef,this._h[5]=el,this._h[6]=ep,this._h[7]=eb,this._h[8]=eg,this._h[9]=em},e.prototype.finish=function(et,ei){void 0===ei&&(ei=0);var eo,ea,ec,eh,eu=new Uint16Array(10);if(this._leftover){for(eh=this._leftover,this._buffer[eh++]=1;eh<16;eh++)this._buffer[eh]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(eo=this._h[1]>>>13,this._h[1]&=8191,eh=2;eh<10;eh++)this._h[eh]+=eo,eo=this._h[eh]>>>13,this._h[eh]&=8191;for(this._h[0]+=5*eo,eo=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=eo,eo=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=eo,eu[0]=this._h[0]+5,eo=eu[0]>>>13,eu[0]&=8191,eh=1;eh<10;eh++)eu[eh]=this._h[eh]+eo,eo=eu[eh]>>>13,eu[eh]&=8191;for(eu[9]-=8192,ea=(1^eo)-1,eh=0;eh<10;eh++)eu[eh]&=ea;for(ea=~ea,eh=0;eh<10;eh++)this._h[eh]=this._h[eh]&ea|eu[eh];for(this._h[0]=65535&(this._h[0]|this._h[1]<<13),this._h[1]=65535&(this._h[1]>>>3|this._h[2]<<10),this._h[2]=65535&(this._h[2]>>>6|this._h[3]<<7),this._h[3]=65535&(this._h[3]>>>9|this._h[4]<<4),this._h[4]=65535&(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14),this._h[5]=65535&(this._h[6]>>>2|this._h[7]<<11),this._h[6]=65535&(this._h[7]>>>5|this._h[8]<<8),this._h[7]=65535&(this._h[8]>>>8|this._h[9]<<5),ec=this._h[0]+this._pad[0],this._h[0]=65535&ec,eh=1;eh<8;eh++)ec=(this._h[eh]+this._pad[eh]|0)+(ec>>>16)|0,this._h[eh]=65535&ec;return et[ei+0]=this._h[0]>>>0,et[ei+1]=this._h[0]>>>8,et[ei+2]=this._h[1]>>>0,et[ei+3]=this._h[1]>>>8,et[ei+4]=this._h[2]>>>0,et[ei+5]=this._h[2]>>>8,et[ei+6]=this._h[3]>>>0,et[ei+7]=this._h[3]>>>8,et[ei+8]=this._h[4]>>>0,et[ei+9]=this._h[4]>>>8,et[ei+10]=this._h[5]>>>0,et[ei+11]=this._h[5]>>>8,et[ei+12]=this._h[6]>>>0,et[ei+13]=this._h[6]>>>8,et[ei+14]=this._h[7]>>>0,et[ei+15]=this._h[7]>>>8,this._finished=!0,this},e.prototype.update=function(et){var ei,eo=0,ea=et.length;if(this._leftover){(ei=16-this._leftover)>ea&&(ei=ea);for(var ec=0;ec<ei;ec++)this._buffer[this._leftover+ec]=et[eo+ec];if(ea-=ei,eo+=ei,this._leftover+=ei,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(ea>=16&&(ei=ea-ea%16,this._blocks(et,eo,ei),eo+=ei,ea-=ei),ea){for(ec=0;ec<ea;ec++)this._buffer[this._leftover+ec]=et[eo+ec];this._leftover+=ea}return this},e.prototype.digest=function(){if(this._finished)throw Error("Poly1305 was finished");var et=new Uint8Array(16);return this.finish(et),et},e.prototype.clean=function(){return ec.wipe(this._buffer),ec.wipe(this._r),ec.wipe(this._h),ec.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},e}();ei.Poly1305=eh,ei.oneTimeAuth=function(et,ei){var eo=new eh(et);eo.update(ei);var ea=eo.digest();return eo.clean(),ea},ei.equal=function(et,eo){return et.length===ei.DIGEST_LENGTH&&eo.length===ei.DIGEST_LENGTH&&ea.equal(et,eo)}},4734:(et,ei,eo)=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0}),ei.randomStringForEntropy=ei.randomString=ei.randomUint32=ei.randomBytes=ei.defaultRandomSource=void 0;let ea=eo(7418),ec=eo(1029),eh=eo(5955);function o(et,eo=ei.defaultRandomSource){return eo.randomBytes(et)}ei.defaultRandomSource=new ea.SystemRandomSource,ei.randomBytes=o,ei.randomUint32=function(et=ei.defaultRandomSource){let eo=o(4,et),ea=(0,ec.readUint32LE)(eo);return(0,eh.wipe)(eo),ea};let eu="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function c(et,eo=eu,ea=ei.defaultRandomSource){if(eo.length<2)throw Error("randomString charset is too short");if(eo.length>256)throw Error("randomString charset is too long");let ec="",ed=eo.length,ef=256-256%ed;for(;et>0;){let ei=o(Math.ceil(256*et/ef),ea);for(let ea=0;ea<ei.length&&et>0;ea++){let eh=ei[ea];eh<ef&&(ec+=eo.charAt(eh%ed),et--)}(0,eh.wipe)(ei)}return ec}ei.randomString=c,ei.randomStringForEntropy=function(et,eo=eu,ea=ei.defaultRandomSource){return c(Math.ceil(et/(Math.log(eo.length)/Math.LN2)),eo,ea)}},5855:(et,ei)=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0}),ei.BrowserRandomSource=void 0,ei.BrowserRandomSource=class{constructor(){this.isAvailable=!1,this.isInstantiated=!1;let et="undefined"!=typeof self?self.crypto||self.msCrypto:null;et&&void 0!==et.getRandomValues&&(this._crypto=et,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(et){if(!this.isAvailable||!this._crypto)throw Error("Browser random byte generator is not available.");let ei=new Uint8Array(et);for(let et=0;et<ei.length;et+=65536)this._crypto.getRandomValues(ei.subarray(et,et+Math.min(ei.length-et,65536)));return ei}}},4075:(et,ei,eo)=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0}),ei.NodeRandomSource=void 0;let ea=eo(5955);ei.NodeRandomSource=class{constructor(){this.isAvailable=!1,this.isInstantiated=!1;{let et=eo(170);et&&et.randomBytes&&(this._crypto=et,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(et){if(!this.isAvailable||!this._crypto)throw Error("Node.js random byte generator is not available.");let ei=this._crypto.randomBytes(et);if(ei.length!==et)throw Error("NodeRandomSource: got fewer bytes than requested");let eo=new Uint8Array(et);for(let et=0;et<eo.length;et++)eo[et]=ei[et];return(0,ea.wipe)(ei),eo}}},7418:(et,ei,eo)=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0}),ei.SystemRandomSource=void 0;let ea=eo(5855),ec=eo(4075);ei.SystemRandomSource=class{constructor(){return this.isAvailable=!1,this.name="",this._source=new ea.BrowserRandomSource,this._source.isAvailable?(this.isAvailable=!0,void(this.name="Browser")):(this._source=new ec.NodeRandomSource,this._source.isAvailable?(this.isAvailable=!0,void(this.name="Node")):void 0)}randomBytes(et){if(!this.isAvailable)throw Error("System random byte generator is not available.");return this._source.randomBytes(et)}}},6247:(et,ei,eo)=>{"use strict";var ea=eo(1029),ec=eo(5955);ei.On=32,ei.cS=64;var eh=function(){function e(){this.digestLength=ei.On,this.blockSize=ei.cS,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return e.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},e.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},e.prototype.clean=function(){ec.wipe(this._buffer),ec.wipe(this._temp),this.reset()},e.prototype.update=function(et,ei){if(void 0===ei&&(ei=et.length),this._finished)throw Error("SHA256: can't update because hash was finished.");var eo=0;if(this._bytesHashed+=ei,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&ei>0;)this._buffer[this._bufferLength++]=et[eo++],ei--;this._bufferLength===this.blockSize&&(a(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(ei>=this.blockSize&&(eo=a(this._temp,this._state,et,eo,ei),ei%=this.blockSize);ei>0;)this._buffer[this._bufferLength++]=et[eo++],ei--;return this},e.prototype.finish=function(et){if(!this._finished){var ei=this._bytesHashed,eo=this._bufferLength,ec=ei%64<56?64:128;this._buffer[eo]=128;for(var eh=eo+1;eh<ec-8;eh++)this._buffer[eh]=0;ea.writeUint32BE(ei/536870912|0,this._buffer,ec-8),ea.writeUint32BE(ei<<3,this._buffer,ec-4),a(this._temp,this._state,this._buffer,0,ec),this._finished=!0}for(eh=0;eh<this.digestLength/4;eh++)ea.writeUint32BE(this._state[eh],et,4*eh);return this},e.prototype.digest=function(){var et=new Uint8Array(this.digestLength);return this.finish(et),et},e.prototype.saveState=function(){if(this._finished)throw Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},e.prototype.restoreState=function(et){return this._state.set(et.state),this._bufferLength=et.bufferLength,et.buffer&&this._buffer.set(et.buffer),this._bytesHashed=et.bytesHashed,this._finished=!1,this},e.prototype.cleanSavedState=function(et){ec.wipe(et.state),et.buffer&&ec.wipe(et.buffer),et.bufferLength=0,et.bytesHashed=0},e}();ei.aD=eh;var eu=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function a(et,ei,eo,ec,eh){for(;eh>=64;){for(var ed=ei[0],ef=ei[1],el=ei[2],ep=ei[3],eb=ei[4],eg=ei[5],em=ei[6],ey=ei[7],ev=0;ev<16;ev++){var ew=ec+4*ev;et[ev]=ea.readUint32BE(eo,ew)}for(ev=16;ev<64;ev++){var e_=et[ev-2],eE=(e_>>>17|e_<<15)^(e_>>>19|e_<<13)^e_>>>10,eS=((e_=et[ev-15])>>>7|e_<<25)^(e_>>>18|e_<<14)^e_>>>3;et[ev]=(eE+et[ev-7]|0)+(eS+et[ev-16]|0)}for(ev=0;ev<64;ev++)eE=(((eb>>>6|eb<<26)^(eb>>>11|eb<<21)^(eb>>>25|eb<<7))+(eb&eg^~eb&em)|0)+(ey+(eu[ev]+et[ev]|0)|0)|0,eS=((ed>>>2|ed<<30)^(ed>>>13|ed<<19)^(ed>>>22|ed<<10))+(ed&ef^ed&el^ef&el)|0,ey=em,em=eg,eg=eb,eb=ep+eE|0,ep=el,el=ef,ef=ed,ed=eE+eS|0;ei[0]+=ed,ei[1]+=ef,ei[2]+=el,ei[3]+=ep,ei[4]+=eb,ei[5]+=eg,ei[6]+=em,ei[7]+=ey,ec+=64,eh-=64}return ec}ei.tW=function(et){var ei=new eh;ei.update(et);var eo=ei.digest();return ei.clean(),eo}},3668:(et,ei,eo)=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0});var ea=eo(1029),ec=eo(5955);ei.DIGEST_LENGTH=64,ei.BLOCK_SIZE=128;var eh=function(){function e(){this.digestLength=ei.DIGEST_LENGTH,this.blockSize=ei.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return e.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},e.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},e.prototype.clean=function(){ec.wipe(this._buffer),ec.wipe(this._tempHi),ec.wipe(this._tempLo),this.reset()},e.prototype.update=function(et,eo){if(void 0===eo&&(eo=et.length),this._finished)throw Error("SHA512: can't update because hash was finished.");var ea=0;if(this._bytesHashed+=eo,this._bufferLength>0){for(;this._bufferLength<ei.BLOCK_SIZE&&eo>0;)this._buffer[this._bufferLength++]=et[ea++],eo--;this._bufferLength===this.blockSize&&(a(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(eo>=this.blockSize&&(ea=a(this._tempHi,this._tempLo,this._stateHi,this._stateLo,et,ea,eo),eo%=this.blockSize);eo>0;)this._buffer[this._bufferLength++]=et[ea++],eo--;return this},e.prototype.finish=function(et){if(!this._finished){var ei=this._bytesHashed,eo=this._bufferLength,ec=ei%128<112?128:256;this._buffer[eo]=128;for(var eh=eo+1;eh<ec-8;eh++)this._buffer[eh]=0;ea.writeUint32BE(ei/536870912|0,this._buffer,ec-8),ea.writeUint32BE(ei<<3,this._buffer,ec-4),a(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,ec),this._finished=!0}for(eh=0;eh<this.digestLength/8;eh++)ea.writeUint32BE(this._stateHi[eh],et,8*eh),ea.writeUint32BE(this._stateLo[eh],et,8*eh+4);return this},e.prototype.digest=function(){var et=new Uint8Array(this.digestLength);return this.finish(et),et},e.prototype.saveState=function(){if(this._finished)throw Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},e.prototype.restoreState=function(et){return this._stateHi.set(et.stateHi),this._stateLo.set(et.stateLo),this._bufferLength=et.bufferLength,et.buffer&&this._buffer.set(et.buffer),this._bytesHashed=et.bytesHashed,this._finished=!1,this},e.prototype.cleanSavedState=function(et){ec.wipe(et.stateHi),ec.wipe(et.stateLo),et.buffer&&ec.wipe(et.buffer),et.bufferLength=0,et.bytesHashed=0},e}();ei.SHA512=eh;var eu=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function a(et,ei,eo,ec,eh,ed,ef){for(var el,ep,eb,eg,em,ey,ev,ew,e_=eo[0],eE=eo[1],eS=eo[2],eA=eo[3],eM=eo[4],eI=eo[5],eT=eo[6],ex=eo[7],eC=ec[0],eR=ec[1],ek=ec[2],eP=ec[3],eO=ec[4],eN=ec[5],eU=ec[6],eB=ec[7];ef>=128;){for(var eL=0;eL<16;eL++){var eD=8*eL+ed;et[eL]=ea.readUint32BE(eh,eD),ei[eL]=ea.readUint32BE(eh,eD+4)}for(eL=0;eL<80;eL++){var ej,eq,eF=e_,eH=eE,eV=eS,ez=eA,e$=eM,eK=eI,eG=eT,eW=eC,eJ=eR,eY=ek,eX=eP,eZ=eO,eQ=eN,e0=eU;if(em=65535&(ep=eB),ey=ep>>>16,ev=65535&(el=ex),ew=el>>>16,em+=65535&(ep=(eO>>>14|eM<<18)^(eO>>>18|eM<<14)^(eM>>>9|eO<<23)),ey+=ep>>>16,ev+=65535&(el=(eM>>>14|eO<<18)^(eM>>>18|eO<<14)^(eO>>>9|eM<<23)),ew+=el>>>16,em+=65535&(ep=eO&eN^~eO&eU),ey+=ep>>>16,ev+=65535&(el=eM&eI^~eM&eT),ew+=el>>>16,el=eu[2*eL],em+=65535&(ep=eu[2*eL+1]),ey+=ep>>>16,ev+=65535&el,ew+=el>>>16,el=et[eL%16],ey+=(ep=ei[eL%16])>>>16,ev+=65535&el,ew+=el>>>16,ev+=(ey+=(em+=65535&ep)>>>16)>>>16,em=65535&(ep=eg=65535&em|ey<<16),ey=ep>>>16,ev=65535&(el=eb=65535&ev|(ew+=ev>>>16)<<16),ew=el>>>16,em+=65535&(ep=(eC>>>28|e_<<4)^(e_>>>2|eC<<30)^(e_>>>7|eC<<25)),ey+=ep>>>16,ev+=65535&(el=(e_>>>28|eC<<4)^(eC>>>2|e_<<30)^(eC>>>7|e_<<25)),ew+=el>>>16,ey+=(ep=eC&eR^eC&ek^eR&ek)>>>16,ev+=65535&(el=e_&eE^e_&eS^eE&eS),ew+=el>>>16,ej=65535&(ev+=(ey+=(em+=65535&ep)>>>16)>>>16)|(ew+=ev>>>16)<<16,eq=65535&em|ey<<16,em=65535&(ep=eX),ey=ep>>>16,ev=65535&(el=ez),ew=el>>>16,ey+=(ep=eg)>>>16,ev+=65535&(el=eb),ew+=el>>>16,eE=eF,eS=eH,eA=eV,eM=ez=65535&(ev+=(ey+=(em+=65535&ep)>>>16)>>>16)|(ew+=ev>>>16)<<16,eI=e$,eT=eK,ex=eG,e_=ej,eR=eW,ek=eJ,eP=eY,eO=eX=65535&em|ey<<16,eN=eZ,eU=eQ,eB=e0,eC=eq,eL%16==15)for(eD=0;eD<16;eD++)el=et[eD],em=65535&(ep=ei[eD]),ey=ep>>>16,ev=65535&el,ew=el>>>16,el=et[(eD+9)%16],em+=65535&(ep=ei[(eD+9)%16]),ey+=ep>>>16,ev+=65535&el,ew+=el>>>16,eb=et[(eD+1)%16],em+=65535&(ep=((eg=ei[(eD+1)%16])>>>1|eb<<31)^(eg>>>8|eb<<24)^(eg>>>7|eb<<25)),ey+=ep>>>16,ev+=65535&(el=(eb>>>1|eg<<31)^(eb>>>8|eg<<24)^eb>>>7),ew+=el>>>16,eb=et[(eD+14)%16],ey+=(ep=((eg=ei[(eD+14)%16])>>>19|eb<<13)^(eb>>>29|eg<<3)^(eg>>>6|eb<<26))>>>16,ev+=65535&(el=(eb>>>19|eg<<13)^(eg>>>29|eb<<3)^eb>>>6),ew+=(el>>>16)+((ev+=(ey+=(em+=65535&ep)>>>16)>>>16)>>>16),et[eD]=65535&ev|ew<<16,ei[eD]=65535&em|ey<<16}em=65535&(ep=eC),ey=ep>>>16,ev=65535&(el=e_),ew=el>>>16,el=eo[0],ey+=(ep=ec[0])>>>16,ev+=65535&el,ew+=(el>>>16)+((ev+=(ey+=(em+=65535&ep)>>>16)>>>16)>>>16),eo[0]=e_=65535&ev|ew<<16,ec[0]=eC=65535&em|ey<<16,em=65535&(ep=eR),ey=ep>>>16,ev=65535&(el=eE),ew=el>>>16,el=eo[1],ey+=(ep=ec[1])>>>16,ev+=65535&el,ew+=(el>>>16)+((ev+=(ey+=(em+=65535&ep)>>>16)>>>16)>>>16),eo[1]=eE=65535&ev|ew<<16,ec[1]=eR=65535&em|ey<<16,em=65535&(ep=ek),ey=ep>>>16,ev=65535&(el=eS),ew=el>>>16,el=eo[2],ey+=(ep=ec[2])>>>16,ev+=65535&el,ew+=(el>>>16)+((ev+=(ey+=(em+=65535&ep)>>>16)>>>16)>>>16),eo[2]=eS=65535&ev|ew<<16,ec[2]=ek=65535&em|ey<<16,em=65535&(ep=eP),ey=ep>>>16,ev=65535&(el=eA),ew=el>>>16,el=eo[3],ey+=(ep=ec[3])>>>16,ev+=65535&el,ew+=(el>>>16)+((ev+=(ey+=(em+=65535&ep)>>>16)>>>16)>>>16),eo[3]=eA=65535&ev|ew<<16,ec[3]=eP=65535&em|ey<<16,em=65535&(ep=eO),ey=ep>>>16,ev=65535&(el=eM),ew=el>>>16,el=eo[4],ey+=(ep=ec[4])>>>16,ev+=65535&el,ew+=(el>>>16)+((ev+=(ey+=(em+=65535&ep)>>>16)>>>16)>>>16),eo[4]=eM=65535&ev|ew<<16,ec[4]=eO=65535&em|ey<<16,em=65535&(ep=eN),ey=ep>>>16,ev=65535&(el=eI),ew=el>>>16,el=eo[5],ey+=(ep=ec[5])>>>16,ev+=65535&el,ew+=(el>>>16)+((ev+=(ey+=(em+=65535&ep)>>>16)>>>16)>>>16),eo[5]=eI=65535&ev|ew<<16,ec[5]=eN=65535&em|ey<<16,em=65535&(ep=eU),ey=ep>>>16,ev=65535&(el=eT),ew=el>>>16,el=eo[6],ey+=(ep=ec[6])>>>16,ev+=65535&el,ew+=(el>>>16)+((ev+=(ey+=(em+=65535&ep)>>>16)>>>16)>>>16),eo[6]=eT=65535&ev|ew<<16,ec[6]=eU=65535&em|ey<<16,em=65535&(ep=eB),ey=ep>>>16,ev=65535&(el=ex),ew=el>>>16,el=eo[7],ey+=(ep=ec[7])>>>16,ev+=65535&el,ew+=(el>>>16)+((ev+=(ey+=(em+=65535&ep)>>>16)>>>16)>>>16),eo[7]=ex=65535&ev|ew<<16,ec[7]=eB=65535&em|ey<<16,ed+=128,ef-=128}return ed}ei.hash=function(et){var ei=new eh;ei.update(et);var eo=ei.digest();return ei.clean(),eo}},5955:(et,ei)=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0}),ei.wipe=function(et){for(var ei=0;ei<et.length;ei++)et[ei]=0;return et}},2945:(et,ei,eo)=>{"use strict";ei.Tc=ei.TZ=ei.wE=ei.Xx=void 0;let ea=eo(4734),ec=eo(5955);function s(et){let ei=new Float64Array(16);if(et)for(let eo=0;eo<et.length;eo++)ei[eo]=et[eo];return ei}ei.Xx=32,ei.wE=32;let eh=new Uint8Array(32);eh[0]=9;let eu=s([56129,1]);function c(et){let ei=1;for(let eo=0;eo<16;eo++){let ea=et[eo]+ei+65535;ei=Math.floor(ea/65536),et[eo]=ea-65536*ei}et[0]+=ei-1+37*(ei-1)}function h(et,ei,eo){let ea=~(eo-1);for(let eo=0;eo<16;eo++){let ec=ea&(et[eo]^ei[eo]);et[eo]^=ec,ei[eo]^=ec}}function u(et,ei,eo){for(let ea=0;ea<16;ea++)et[ea]=ei[ea]+eo[ea]}function d(et,ei,eo){for(let ea=0;ea<16;ea++)et[ea]=ei[ea]-eo[ea]}function f(et,ei,eo){let ea,ec,eh=0,eu=0,ed=0,ef=0,el=0,ep=0,eb=0,eg=0,em=0,ey=0,ev=0,ew=0,e_=0,eE=0,eS=0,eA=0,eM=0,eI=0,eT=0,ex=0,eC=0,eR=0,ek=0,eP=0,eO=0,eN=0,eU=0,eB=0,eL=0,eD=0,ej=0,eq=eo[0],eF=eo[1],eH=eo[2],eV=eo[3],ez=eo[4],e$=eo[5],eK=eo[6],eG=eo[7],eW=eo[8],eJ=eo[9],eY=eo[10],eX=eo[11],eZ=eo[12],eQ=eo[13],e0=eo[14],e1=eo[15];eh+=(ea=ei[0])*eq,eu+=ea*eF,ed+=ea*eH,ef+=ea*eV,el+=ea*ez,ep+=ea*e$,eb+=ea*eK,eg+=ea*eG,em+=ea*eW,ey+=ea*eJ,ev+=ea*eY,ew+=ea*eX,e_+=ea*eZ,eE+=ea*eQ,eS+=ea*e0,eA+=ea*e1,eu+=(ea=ei[1])*eq,ed+=ea*eF,ef+=ea*eH,el+=ea*eV,ep+=ea*ez,eb+=ea*e$,eg+=ea*eK,em+=ea*eG,ey+=ea*eW,ev+=ea*eJ,ew+=ea*eY,e_+=ea*eX,eE+=ea*eZ,eS+=ea*eQ,eA+=ea*e0,eM+=ea*e1,ed+=(ea=ei[2])*eq,ef+=ea*eF,el+=ea*eH,ep+=ea*eV,eb+=ea*ez,eg+=ea*e$,em+=ea*eK,ey+=ea*eG,ev+=ea*eW,ew+=ea*eJ,e_+=ea*eY,eE+=ea*eX,eS+=ea*eZ,eA+=ea*eQ,eM+=ea*e0,eI+=ea*e1,ef+=(ea=ei[3])*eq,el+=ea*eF,ep+=ea*eH,eb+=ea*eV,eg+=ea*ez,em+=ea*e$,ey+=ea*eK,ev+=ea*eG,ew+=ea*eW,e_+=ea*eJ,eE+=ea*eY,eS+=ea*eX,eA+=ea*eZ,eM+=ea*eQ,eI+=ea*e0,eT+=ea*e1,el+=(ea=ei[4])*eq,ep+=ea*eF,eb+=ea*eH,eg+=ea*eV,em+=ea*ez,ey+=ea*e$,ev+=ea*eK,ew+=ea*eG,e_+=ea*eW,eE+=ea*eJ,eS+=ea*eY,eA+=ea*eX,eM+=ea*eZ,eI+=ea*eQ,eT+=ea*e0,ex+=ea*e1,ep+=(ea=ei[5])*eq,eb+=ea*eF,eg+=ea*eH,em+=ea*eV,ey+=ea*ez,ev+=ea*e$,ew+=ea*eK,e_+=ea*eG,eE+=ea*eW,eS+=ea*eJ,eA+=ea*eY,eM+=ea*eX,eI+=ea*eZ,eT+=ea*eQ,ex+=ea*e0,eC+=ea*e1,eb+=(ea=ei[6])*eq,eg+=ea*eF,em+=ea*eH,ey+=ea*eV,ev+=ea*ez,ew+=ea*e$,e_+=ea*eK,eE+=ea*eG,eS+=ea*eW,eA+=ea*eJ,eM+=ea*eY,eI+=ea*eX,eT+=ea*eZ,ex+=ea*eQ,eC+=ea*e0,eR+=ea*e1,eg+=(ea=ei[7])*eq,em+=ea*eF,ey+=ea*eH,ev+=ea*eV,ew+=ea*ez,e_+=ea*e$,eE+=ea*eK,eS+=ea*eG,eA+=ea*eW,eM+=ea*eJ,eI+=ea*eY,eT+=ea*eX,ex+=ea*eZ,eC+=ea*eQ,eR+=ea*e0,ek+=ea*e1,em+=(ea=ei[8])*eq,ey+=ea*eF,ev+=ea*eH,ew+=ea*eV,e_+=ea*ez,eE+=ea*e$,eS+=ea*eK,eA+=ea*eG,eM+=ea*eW,eI+=ea*eJ,eT+=ea*eY,ex+=ea*eX,eC+=ea*eZ,eR+=ea*eQ,ek+=ea*e0,eP+=ea*e1,ey+=(ea=ei[9])*eq,ev+=ea*eF,ew+=ea*eH,e_+=ea*eV,eE+=ea*ez,eS+=ea*e$,eA+=ea*eK,eM+=ea*eG,eI+=ea*eW,eT+=ea*eJ,ex+=ea*eY,eC+=ea*eX,eR+=ea*eZ,ek+=ea*eQ,eP+=ea*e0,eO+=ea*e1,ev+=(ea=ei[10])*eq,ew+=ea*eF,e_+=ea*eH,eE+=ea*eV,eS+=ea*ez,eA+=ea*e$,eM+=ea*eK,eI+=ea*eG,eT+=ea*eW,ex+=ea*eJ,eC+=ea*eY,eR+=ea*eX,ek+=ea*eZ,eP+=ea*eQ,eO+=ea*e0,eN+=ea*e1,ew+=(ea=ei[11])*eq,e_+=ea*eF,eE+=ea*eH,eS+=ea*eV,eA+=ea*ez,eM+=ea*e$,eI+=ea*eK,eT+=ea*eG,ex+=ea*eW,eC+=ea*eJ,eR+=ea*eY,ek+=ea*eX,eP+=ea*eZ,eO+=ea*eQ,eN+=ea*e0,eU+=ea*e1,e_+=(ea=ei[12])*eq,eE+=ea*eF,eS+=ea*eH,eA+=ea*eV,eM+=ea*ez,eI+=ea*e$,eT+=ea*eK,ex+=ea*eG,eC+=ea*eW,eR+=ea*eJ,ek+=ea*eY,eP+=ea*eX,eO+=ea*eZ,eN+=ea*eQ,eU+=ea*e0,eB+=ea*e1,eE+=(ea=ei[13])*eq,eS+=ea*eF,eA+=ea*eH,eM+=ea*eV,eI+=ea*ez,eT+=ea*e$,ex+=ea*eK,eC+=ea*eG,eR+=ea*eW,ek+=ea*eJ,eP+=ea*eY,eO+=ea*eX,eN+=ea*eZ,eU+=ea*eQ,eB+=ea*e0,eL+=ea*e1,eS+=(ea=ei[14])*eq,eA+=ea*eF,eM+=ea*eH,eI+=ea*eV,eT+=ea*ez,ex+=ea*e$,eC+=ea*eK,eR+=ea*eG,ek+=ea*eW,eP+=ea*eJ,eO+=ea*eY,eN+=ea*eX,eU+=ea*eZ,eB+=ea*eQ,eL+=ea*e0,eD+=ea*e1,eA+=(ea=ei[15])*eq,eM+=ea*eF,eI+=ea*eH,eT+=ea*eV,ex+=ea*ez,eC+=ea*e$,eR+=ea*eK,ek+=ea*eG,eP+=ea*eW,eO+=ea*eJ,eN+=ea*eY,eU+=ea*eX,eB+=ea*eZ,eL+=ea*eQ,eD+=ea*e0,ej+=ea*e1,eh+=38*eM,eu+=38*eI,ed+=38*eT,ef+=38*ex,el+=38*eC,ep+=38*eR,eb+=38*ek,eg+=38*eP,em+=38*eO,ey+=38*eN,ev+=38*eU,ew+=38*eB,e_+=38*eL,eE+=38*eD,eS+=38*ej,ec=Math.floor((ea=eh+(ec=1)+65535)/65536),eh=ea-65536*ec,ec=Math.floor((ea=eu+ec+65535)/65536),eu=ea-65536*ec,ec=Math.floor((ea=ed+ec+65535)/65536),ed=ea-65536*ec,ec=Math.floor((ea=ef+ec+65535)/65536),ef=ea-65536*ec,ec=Math.floor((ea=el+ec+65535)/65536),el=ea-65536*ec,ec=Math.floor((ea=ep+ec+65535)/65536),ep=ea-65536*ec,ec=Math.floor((ea=eb+ec+65535)/65536),eb=ea-65536*ec,ec=Math.floor((ea=eg+ec+65535)/65536),eg=ea-65536*ec,ec=Math.floor((ea=em+ec+65535)/65536),em=ea-65536*ec,ec=Math.floor((ea=ey+ec+65535)/65536),ey=ea-65536*ec,ec=Math.floor((ea=ev+ec+65535)/65536),ev=ea-65536*ec,ec=Math.floor((ea=ew+ec+65535)/65536),ew=ea-65536*ec,ec=Math.floor((ea=e_+ec+65535)/65536),e_=ea-65536*ec,ec=Math.floor((ea=eE+ec+65535)/65536),eE=ea-65536*ec,ec=Math.floor((ea=eS+ec+65535)/65536),eS=ea-65536*ec,ec=Math.floor((ea=eA+ec+65535)/65536),eA=ea-65536*ec,eh+=ec-1+37*(ec-1),ec=Math.floor((ea=eh+(ec=1)+65535)/65536),eh=ea-65536*ec,ec=Math.floor((ea=eu+ec+65535)/65536),eu=ea-65536*ec,ec=Math.floor((ea=ed+ec+65535)/65536),ed=ea-65536*ec,ec=Math.floor((ea=ef+ec+65535)/65536),ef=ea-65536*ec,ec=Math.floor((ea=el+ec+65535)/65536),el=ea-65536*ec,ec=Math.floor((ea=ep+ec+65535)/65536),ep=ea-65536*ec,ec=Math.floor((ea=eb+ec+65535)/65536),eb=ea-65536*ec,ec=Math.floor((ea=eg+ec+65535)/65536),eg=ea-65536*ec,ec=Math.floor((ea=em+ec+65535)/65536),em=ea-65536*ec,ec=Math.floor((ea=ey+ec+65535)/65536),ey=ea-65536*ec,ec=Math.floor((ea=ev+ec+65535)/65536),ev=ea-65536*ec,ec=Math.floor((ea=ew+ec+65535)/65536),ew=ea-65536*ec,ec=Math.floor((ea=e_+ec+65535)/65536),e_=ea-65536*ec,ec=Math.floor((ea=eE+ec+65535)/65536),eE=ea-65536*ec,ec=Math.floor((ea=eS+ec+65535)/65536),eS=ea-65536*ec,ec=Math.floor((ea=eA+ec+65535)/65536),eA=ea-65536*ec,eh+=ec-1+37*(ec-1),et[0]=eh,et[1]=eu,et[2]=ed,et[3]=ef,et[4]=el,et[5]=ep,et[6]=eb,et[7]=eg,et[8]=em,et[9]=ey,et[10]=ev,et[11]=ew,et[12]=e_,et[13]=eE,et[14]=eS,et[15]=eA}function p(et,ei){let eo=new Uint8Array(32),ea=new Float64Array(80),ec=s(),eh=s(),ed=s(),ef=s(),el=s(),ep=s();for(let ei=0;ei<31;ei++)eo[ei]=et[ei];eo[31]=127&et[31]|64,eo[0]&=248,function(et,ei){for(let eo=0;eo<16;eo++)et[eo]=ei[2*eo]+(ei[2*eo+1]<<8);et[15]&=32767}(ea,ei);for(let et=0;et<16;et++)eh[et]=ea[et];ec[0]=ef[0]=1;for(let et=254;et>=0;--et){let ei=eo[et>>>3]>>>(7&et)&1;h(ec,eh,ei),h(ed,ef,ei),u(el,ec,ed),d(ec,ec,ed),u(ed,eh,ef),d(eh,eh,ef),f(ef,el,el),f(ep,ec,ec),f(ec,ed,ec),f(ed,eh,el),u(el,ec,ed),d(ec,ec,ed),f(eh,ec,ec),d(ed,ef,ep),f(ec,ed,eu),u(ec,ec,ef),f(ed,ed,ec),f(ec,ef,ep),f(ef,eh,ea),f(eh,el,el),h(ec,eh,ei),h(ed,ef,ei)}for(let et=0;et<16;et++)ea[et+16]=ec[et],ea[et+32]=ed[et],ea[et+48]=eh[et],ea[et+64]=ef[et];let eb=ea.subarray(32),eg=ea.subarray(16);(function(et,ei){let eo=s();for(let et=0;et<16;et++)eo[et]=ei[et];for(let et=253;et>=0;et--)f(eo,eo,eo),2!==et&&4!==et&&f(eo,eo,ei);for(let ei=0;ei<16;ei++)et[ei]=eo[ei]})(eb,eb),f(eg,eg,eb);let em=new Uint8Array(32);return function(et,ei){let eo=s(),ea=s();for(let et=0;et<16;et++)ea[et]=ei[et];c(ea),c(ea),c(ea);for(let et=0;et<2;et++){eo[0]=ea[0]-65517;for(let et=1;et<15;et++)eo[et]=ea[et]-65535-(eo[et-1]>>16&1),eo[et-1]&=65535;eo[15]=ea[15]-32767-(eo[14]>>16&1);let et=eo[15]>>16&1;eo[14]&=65535,h(ea,eo,1-et)}for(let ei=0;ei<16;ei++)et[2*ei]=255&ea[ei],et[2*ei+1]=ea[ei]>>8}(em,eg),em}ei.TZ=function(et){let eo=(0,ea.randomBytes)(32,et),eu=function(et){if(et.length!==ei.wE)throw Error(`x25519: seed must be ${ei.wE} bytes`);let eo=new Uint8Array(et);return{publicKey:p(eo,eh),secretKey:eo}}(eo);return(0,ec.wipe)(eo),eu},ei.Tc=function(et,eo,ea=!1){if(et.length!==ei.Xx)throw Error("X25519: incorrect secret key length");if(eo.length!==ei.Xx)throw Error("X25519: incorrect public key length");let ec=p(et,eo);if(ea){let et=0;for(let ei=0;ei<ec.length;ei++)et|=ec[ei];if(0===et)throw Error("X25519: invalid shared key")}return ec}},8827:(et,ei,eo)=>{"use strict";eo.r(ei),eo.d(ei,{CORE_CONTEXT:()=>eT,CORE_DEFAULT:()=>eC,CORE_PROTOCOL:()=>eM,CORE_STORAGE_OPTIONS:()=>eR,CORE_STORAGE_PREFIX:()=>ex,CORE_VERSION:()=>eI,CRYPTO_CLIENT_SEED:()=>eP,CRYPTO_CONTEXT:()=>ek,CRYPTO_JWT_TTL:()=>eO,Core:()=>rD,Crypto:()=>hr,ECHO_CONTEXT:()=>ty,ECHO_URL:()=>tv,EVENTS_CLIENT_API_URL:()=>tR,EVENTS_STORAGE_CLEANUP_INTERVAL:()=>tC,EVENTS_STORAGE_CONTEXT:()=>tx,EVENTS_STORAGE_VERSION:()=>tT,EVENT_CLIENT_AUTHENTICATE_ERRORS:()=>tI,EVENT_CLIENT_AUTHENTICATE_TRACES:()=>tM,EVENT_CLIENT_CONTEXT:()=>tw,EVENT_CLIENT_PAIRING_ERRORS:()=>tE,EVENT_CLIENT_PAIRING_TRACES:()=>t_,EVENT_CLIENT_SESSION_ERRORS:()=>tA,EVENT_CLIENT_SESSION_TRACES:()=>tS,EXPIRER_CONTEXT:()=>th,EXPIRER_DEFAULT_TTL:()=>tf,EXPIRER_EVENTS:()=>tu,EXPIRER_STORAGE_VERSION:()=>td,EchoClient:()=>Fr,EventClient:()=>Wr,Expirer:()=>Dr,HISTORY_CONTEXT:()=>ta,HISTORY_EVENTS:()=>to,HISTORY_STORAGE_VERSION:()=>tc,JsonRpcHistory:()=>jr,KEYCHAIN_CONTEXT:()=>eN,KEYCHAIN_STORAGE_VERSION:()=>eU,KeyChain:()=>cr,MESSAGES_CONTEXT:()=>eB,MESSAGES_STORAGE_VERSION:()=>eL,MessageTracker:()=>ur,PAIRING_CONTEXT:()=>e8,PAIRING_DEFAULT_TTL:()=>e7,PAIRING_EVENTS:()=>tt,PAIRING_RPC_OPTS:()=>e9,PAIRING_STORAGE_VERSION:()=>e4,PENDING_SUB_RESOLUTION_TIMEOUT:()=>e3,PUBLISHER_CONTEXT:()=>ej,PUBLISHER_DEFAULT_TTL:()=>eD,Pairing:()=>Lr,RELAYER_CONTEXT:()=>eV,RELAYER_DEFAULT_LOGGER:()=>eF,RELAYER_DEFAULT_PROTOCOL:()=>eq,RELAYER_DEFAULT_RELAY_URL:()=>eH,RELAYER_EVENTS:()=>ez,RELAYER_PROVIDER_EVENTS:()=>eK,RELAYER_RECONNECT_TIMEOUT:()=>eG,RELAYER_SDK_VERSION:()=>eJ,RELAYER_STORAGE_OPTIONS:()=>eW,RELAYER_SUBSCRIBER_SUFFIX:()=>e$,RELAYER_TRANSPORT_CUTOFF:()=>eY,Relayer:()=>Cr,STORE_STORAGE_VERSION:()=>eZ,SUBSCRIBER_CONTEXT:()=>e6,SUBSCRIBER_DEFAULT_TTL:()=>e2,SUBSCRIBER_EVENTS:()=>e1,SUBSCRIBER_STORAGE_VERSION:()=>e5,Store:()=>Br,Subscriber:()=>Er,TRANSPORT_TYPES:()=>eX,TRUSTED_VERIFY_URLS:()=>tm,VERIFY_CONTEXT:()=>tl,VERIFY_SERVER:()=>tb,VERIFY_SERVER_V3:()=>tg,Verify:()=>qr,WALLETCONNECT_CLIENT_ID:()=>eQ,WALLETCONNECT_LINK_MODE_APPS:()=>e0,default:()=>tn});var ea=eo(381),ec=eo.n(ea),eh=eo(7777),eu=eo(9920);let a=class a extends eu.H{constructor(et){super()}};let ed=eh.FIVE_SECONDS,ef="heartbeat_pulse";let u=class u extends a{constructor(et){super(et),this.events=new ea.EventEmitter,this.interval=ed,this.interval=et?.interval||ed}static async init(et){let ei=new u(et);return await ei.init(),ei}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(et,ei){this.events.on(et,ei)}once(et,ei){this.events.once(et,ei)}off(et,ei){this.events.off(et,ei)}removeListener(et,ei){this.events.removeListener(et,ei)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),(0,eh.toMiliseconds)(this.interval))}pulse(){this.events.emit(ef)}};var el=eo(6446),ep=eo(6556),eb=eo(3247),eg=eo(8916),em=eo(9940),ey=eo(4327),ev=eo(2376),ew=eo(3526);let v=class v extends ew.IJsonRpcProvider{constructor(et){super(et),this.events=new ea.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(et),this.connection.connected&&this.registerEventListeners()}async connect(et=this.connection){await this.open(et)}async disconnect(){await this.close()}on(et,ei){this.events.on(et,ei)}once(et,ei){this.events.once(et,ei)}off(et,ei){this.events.off(et,ei)}removeListener(et,ei){this.events.removeListener(et,ei)}async request(et,ei){return this.requestStrict((0,ew.formatJsonRpcRequest)(et.method,et.params||[],et.id||(0,ew.getBigIntRpcId)().toString()),ei)}async requestStrict(et,ei){return new Promise(async(eo,ea)=>{if(!this.connection.connected)try{await this.open()}catch(et){ea(et)}this.events.on(`${et.id}`,et=>{(0,ew.isJsonRpcError)(et)?ea(et.error):eo(et.result)});try{await this.connection.send(et,ei)}catch(et){ea(et)}})}setConnection(et=this.connection){return et}onPayload(et){this.events.emit("payload",et),(0,ew.isJsonRpcResponse)(et)?this.events.emit(`${et.id}`,et):this.events.emit("message",{type:et.method,data:et.params})}onClose(et){et&&3e3===et.code&&this.events.emit("error",Error(`WebSocket connection closed abnormally with code: ${et.code} ${et.reason?`(${et.reason})`:""}`)),this.events.emit("disconnect")}async open(et=this.connection){this.connection===et&&this.connection.connected||(this.connection.connected&&this.close(),"string"==typeof et&&(await this.connection.open(et),et=this.connection),this.connection=this.setConnection(et),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",et=>this.onPayload(et)),this.connection.on("close",et=>this.onClose(et)),this.connection.on("error",et=>this.events.emit("error",et)),this.connection.on("register_error",et=>this.onClose()),this.hasRegisteredEventListeners=!0)}};let w=et=>et.split("?")[0],e_="u">typeof WebSocket?WebSocket:"u">typeof eo.g&&"u">typeof eo.g.WebSocket?eo.g.WebSocket:"u">typeof window&&"u">typeof window.WebSocket?window.WebSocket:"u">typeof self&&"u">typeof self.WebSocket?self.WebSocket:eo(5985);let E=class E{constructor(et){if(this.url=et,this.events=new ea.EventEmitter,this.registering=!1,!(0,ew.isWsUrl)(et))throw Error(`Provided URL is not compatible with WebSocket connection: ${et}`);this.url=et}get connected(){return"u">typeof this.socket}get connecting(){return this.registering}on(et,ei){this.events.on(et,ei)}once(et,ei){this.events.once(et,ei)}off(et,ei){this.events.off(et,ei)}removeListener(et,ei){this.events.removeListener(et,ei)}async open(et=this.url){await this.register(et)}async close(){return new Promise((et,ei)=>{typeof this.socket>"u"?ei(Error("Connection already closed")):(this.socket.onclose=ei=>{this.onClose(ei),et()},this.socket.close())})}async send(et){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send((0,eg.h)(et))}catch(ei){this.onError(et.id,ei)}}register(et=this.url){if(!(0,ew.isWsUrl)(et))throw Error(`Provided URL is not compatible with WebSocket connection: ${et}`);if(this.registering){let et=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=et||this.events.listenerCount("open")>=et)&&this.events.setMaxListeners(et+1),new Promise((et,ei)=>{this.events.once("register_error",et=>{this.resetMaxListeners(),ei(et)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return ei(Error("WebSocket connection is missing or invalid"));et(this.socket)})})}return this.url=et,this.registering=!0,new Promise((ei,ea)=>{let ec=new URLSearchParams(et).get("origin"),eh=(0,ew.isReactNative)()?{headers:{origin:ec}}:{rejectUnauthorized:!(0,ew.isLocalhostUrl)(et)},eu=new e_(et,[],eh);"u">typeof WebSocket||"u">typeof eo.g&&"u">typeof eo.g.WebSocket||"u">typeof window&&"u">typeof window.WebSocket||"u">typeof self&&"u">typeof self.WebSocket?eu.onerror=et=>{ea(this.emitError(et.error))}:eu.on("error",et=>{ea(this.emitError(et))}),eu.onopen=()=>{this.onOpen(eu),ei(eu)}})}onOpen(et){et.onmessage=et=>this.onPayload(et),et.onclose=et=>this.onClose(et),this.socket=et,this.registering=!1,this.events.emit("open")}onClose(et){this.socket=void 0,this.registering=!1,this.events.emit("close",et)}onPayload(et){if(typeof et.data>"u")return;let ei="string"==typeof et.data?(0,eg.j)(et.data):et.data;this.events.emit("payload",ei)}onError(et,ei){let eo=this.parseError(ei),ea=eo.message||eo.toString(),ec=(0,ew.formatJsonRpcError)(et,ea);this.events.emit("payload",ec)}parseError(et,ei=this.url){return(0,ew.parseConnectionError)(et,w(ei),"WS")}resetMaxListeners(){this.events.getMaxListeners()>10&&this.events.setMaxListeners(10)}emitError(et){let ei=this.parseError(Error(et?.message||`WebSocket connection failed for host: ${w(this.url)}`));return this.events.emit("register_error",ei),ei}};var eE=eo(3497),eS=eo.n(eE),eA=eo(5280);let eM="wc",eI=2,eT="core",ex=`${eM}@2:${eT}:`,eC={name:eT,logger:"error"},eR={database:":memory:"},ek="crypto",eP="client_ed25519_seed",eO=eh.ONE_DAY,eN="keychain",eU="0.3",eB="messages",eL="0.3",eD=eh.SIX_HOURS,ej="publisher",eq="irn",eF="error",eH="wss://relay.walletconnect.org",eV="relayer",ez={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},e$="_subscription",eK={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},eG=.1,eW={database:":memory:"},eJ="2.17.2",eY=1e4,eX={link_mode:"link_mode",relay:"relay"},eZ="0.3",eQ="WALLETCONNECT_CLIENT_ID",e0="WALLETCONNECT_LINK_MODE_APPS",e1={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},e2=eh.THIRTY_DAYS,e6="subscription",e5="0.3",e3=1e3*eh.FIVE_SECONDS,e8="pairing",e4="0.3",e7=eh.THIRTY_DAYS,e9={wc_pairingDelete:{req:{ttl:eh.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:eh.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:eh.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:eh.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:eh.ONE_DAY,prompt:!1,tag:0},res:{ttl:eh.ONE_DAY,prompt:!1,tag:0}}},tt={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},to={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},ta="history",tc="0.3",th="expirer",tu={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},td="0.3",tf=eh.ONE_DAY,tl="verify-api",tp="https://verify.walletconnect.org",tb=tp,tg=`${tb}/v3`,tm=["https://verify.walletconnect.com",tp],ty="echo",tv="https://echo.walletconnect.com",tw="event-client",t_={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},tE={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},tS={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},tA={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},tM={authenticated_session_approve_started:"authenticated_session_approve_started",authenticated_session_not_expired:"authenticated_session_not_expired",chains_caip2_compliant:"chains_caip2_compliant",chains_evm_compliant:"chains_evm_compliant",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve",authenticated_session_approve_publish_success:"authenticated_session_approve_publish_success"},tI={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",missing_session_authenticate_request:"missing_session_authenticate_request",session_authenticate_request_expired:"session_authenticate_request_expired",chains_caip2_compliant_failure:"chains_caip2_compliant_failure",chains_evm_compliant_failure:"chains_evm_compliant_failure",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},tT=.1,tx="event-client",tC=86400,tR="https://pulse.walletconnect.org/batch";var Le=function(et,ei){if(et.length>=255)throw TypeError("Alphabet too long");for(var eo=new Uint8Array(256),ea=0;ea<eo.length;ea++)eo[ea]=255;for(var ec=0;ec<et.length;ec++){var eh=et.charAt(ec),eu=eh.charCodeAt(0);if(255!==eo[eu])throw TypeError(eh+" is ambiguous");eo[eu]=ec}var ed=et.length,ef=et.charAt(0),el=Math.log(ed)/Math.log(256),ep=Math.log(256)/Math.log(ed);function d(et){if("string"!=typeof et)throw TypeError("Expected String");if(0===et.length)return new Uint8Array;var ei=0;if(" "!==et[0]){for(var ea=0,ec=0;et[ei]===ef;)ea++,ei++;for(var eh=(et.length-ei)*el+1>>>0,eu=new Uint8Array(eh);et[ei];){var ep=eo[et.charCodeAt(ei)];if(255===ep)return;for(var eb=0,eg=eh-1;(0!==ep||eb<ec)&&-1!==eg;eg--,eb++)ep+=ed*eu[eg]>>>0,eu[eg]=ep%256>>>0,ep=ep/256>>>0;if(0!==ep)throw Error("Non-zero carry");ec=eb,ei++}if(" "!==et[ei]){for(var em=eh-ec;em!==eh&&0===eu[em];)em++;for(var ey=new Uint8Array(ea+(eh-em)),ev=ea;em!==eh;)ey[ev++]=eu[em++];return ey}}}return{encode:function(ei){if(ei instanceof Uint8Array||(ArrayBuffer.isView(ei)?ei=new Uint8Array(ei.buffer,ei.byteOffset,ei.byteLength):Array.isArray(ei)&&(ei=Uint8Array.from(ei))),!(ei instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===ei.length)return"";for(var eo=0,ea=0,ec=0,eh=ei.length;ec!==eh&&0===ei[ec];)ec++,eo++;for(var eu=(eh-ec)*ep+1>>>0,el=new Uint8Array(eu);ec!==eh;){for(var eb=ei[ec],eg=0,em=eu-1;(0!==eb||eg<ea)&&-1!==em;em--,eg++)eb+=256*el[em]>>>0,el[em]=eb%ed>>>0,eb=eb/ed>>>0;if(0!==eb)throw Error("Non-zero carry");ea=eg,ec++}for(var ey=eu-ea;ey!==eu&&0===el[ey];)ey++;for(var ev=ef.repeat(eo);ey<eu;++ey)ev+=et.charAt(el[ey]);return ev},decodeUnsafe:d,decode:function(et){var eo=d(et);if(eo)return eo;throw Error(`Non-${ei} character`)}}};let je=et=>{if(et instanceof Uint8Array&&"Uint8Array"===et.constructor.name)return et;if(et instanceof ArrayBuffer)return new Uint8Array(et);if(ArrayBuffer.isView(et))return new Uint8Array(et.buffer,et.byteOffset,et.byteLength);throw Error("Unknown type, must be binary type")};let De=class De{constructor(et,ei,eo){this.name=et,this.prefix=ei,this.baseEncode=eo}encode(et){if(et instanceof Uint8Array)return`${this.prefix}${this.baseEncode(et)}`;throw Error("Unknown type, must be binary type")}};let qe=class qe{constructor(et,ei,eo){if(this.name=et,this.prefix=ei,void 0===ei.codePointAt(0))throw Error("Invalid prefix character");this.prefixCodePoint=ei.codePointAt(0),this.baseDecode=eo}decode(et){if("string"==typeof et){if(et.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(et)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(et.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(et){return He(this,et)}};let Fe=class Fe{constructor(et){this.decoders=et}or(et){return He(this,et)}decode(et){let ei=et[0],eo=this.decoders[ei];if(eo)return eo.decode(et);throw RangeError(`Unable to decode multibase string ${JSON.stringify(et)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};let He=(et,ei)=>new Fe({...et.decoders||{[et.prefix]:et},...ei.decoders||{[ei.prefix]:ei}});let ze=class ze{constructor(et,ei,eo,ea){this.name=et,this.prefix=ei,this.baseEncode=eo,this.baseDecode=ea,this.encoder=new De(et,ei,eo),this.decoder=new qe(et,ei,ea)}encode(et){return this.encoder.encode(et)}decode(et){return this.decoder.decode(et)}};let Ve=({name:et,prefix:ei,encode:eo,decode:ea})=>new ze(et,ei,eo,ea),$e=({prefix:et,name:ei,alphabet:eo})=>{let{encode:ea,decode:ec}=Le(eo,ei);return Ve({prefix:et,name:ei,encode:ea,decode:et=>je(ec(et))})},Ke=({name:et,prefix:ei,bitsPerChar:eo,alphabet:ea})=>Ve({prefix:ei,name:et,encode:et=>((et,ei,eo)=>{let ea="="===ei[ei.length-1],ec=(1<<eo)-1,eh="",eu=0,ed=0;for(let ea=0;ea<et.length;++ea)for(ed=ed<<8|et[ea],eu+=8;eu>eo;)eu-=eo,eh+=ei[ec&ed>>eu];if(eu&&(eh+=ei[ec&ed<<eo-eu]),ea)for(;eh.length*eo&7;)eh+="=";return eh})(et,ea,eo),decode:ei=>((et,ei,eo,ea)=>{let ec={};for(let et=0;et<ei.length;++et)ec[ei[et]]=et;let eh=et.length;for(;"="===et[eh-1];)--eh;let eu=new Uint8Array(eh*eo/8|0),ed=0,ef=0,el=0;for(let ei=0;ei<eh;++ei){let eh=ec[et[ei]];if(void 0===eh)throw SyntaxError(`Non-${ea} character`);ef=ef<<eo|eh,(ed+=eo)>=8&&(ed-=8,eu[el++]=255&ef>>ed)}if(ed>=eo||255&ef<<8-ed)throw SyntaxError("Unexpected end of data");return eu})(ei,ea,eo,et)}),tk=Ve({prefix:"\x00",name:"identity",encode:et=>(new TextDecoder).decode(et),decode:et=>(new TextEncoder).encode(et)});var tP=Object.freeze({__proto__:null,identity:tk});let tO=Ke({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var tN=Object.freeze({__proto__:null,base2:tO});let tU=Ke({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var tB=Object.freeze({__proto__:null,base8:tU});let tL=$e({prefix:"9",name:"base10",alphabet:"0123456789"});var tD=Object.freeze({__proto__:null,base10:tL});let tj=Ke({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),tq=Ke({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var tF=Object.freeze({__proto__:null,base16:tj,base16upper:tq});let tH=Ke({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),tV=Ke({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),tz=Ke({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),t$=Ke({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),tK=Ke({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),tG=Ke({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),tW=Ke({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),tJ=Ke({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),tY=Ke({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var tX=Object.freeze({__proto__:null,base32:tH,base32upper:tV,base32pad:tz,base32padupper:t$,base32hex:tK,base32hexupper:tG,base32hexpad:tW,base32hexpadupper:tJ,base32z:tY});let tZ=$e({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),tQ=$e({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var t0=Object.freeze({__proto__:null,base36:tZ,base36upper:tQ});let t1=$e({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),t2=$e({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var t6=Object.freeze({__proto__:null,base58btc:t1,base58flickr:t2});let t5=Ke({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),t3=Ke({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),t8=Ke({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),t4=Ke({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var t7=Object.freeze({__proto__:null,base64:t5,base64pad:t3,base64url:t8,base64urlpad:t4});let t9=Array.from("\uD83D\uDE80\uD83E\uDE90☄\uD83D\uDEF0\uD83C\uDF0C\uD83C\uDF11\uD83C\uDF12\uD83C\uDF13\uD83C\uDF14\uD83C\uDF15\uD83C\uDF16\uD83C\uDF17\uD83C\uDF18\uD83C\uDF0D\uD83C\uDF0F\uD83C\uDF0E\uD83D\uDC09☀\uD83D\uDCBB\uD83D\uDDA5\uD83D\uDCBE\uD83D\uDCBF\uD83D\uDE02❤\uD83D\uDE0D\uD83E\uDD23\uD83D\uDE0A\uD83D\uDE4F\uD83D\uDC95\uD83D\uDE2D\uD83D\uDE18\uD83D\uDC4D\uD83D\uDE05\uD83D\uDC4F\uD83D\uDE01\uD83D\uDD25\uD83E\uDD70\uD83D\uDC94\uD83D\uDC96\uD83D\uDC99\uD83D\uDE22\uD83E\uDD14\uD83D\uDE06\uD83D\uDE44\uD83D\uDCAA\uD83D\uDE09☺\uD83D\uDC4C\uD83E\uDD17\uD83D\uDC9C\uD83D\uDE14\uD83D\uDE0E\uD83D\uDE07\uD83C\uDF39\uD83E\uDD26\uD83C\uDF89\uD83D\uDC9E✌✨\uD83E\uDD37\uD83D\uDE31\uD83D\uDE0C\uD83C\uDF38\uD83D\uDE4C\uD83D\uDE0B\uD83D\uDC97\uD83D\uDC9A\uD83D\uDE0F\uD83D\uDC9B\uD83D\uDE42\uD83D\uDC93\uD83E\uDD29\uD83D\uDE04\uD83D\uDE00\uD83D\uDDA4\uD83D\uDE03\uD83D\uDCAF\uD83D\uDE48\uD83D\uDC47\uD83C\uDFB6\uD83D\uDE12\uD83E\uDD2D❣\uD83D\uDE1C\uD83D\uDC8B\uD83D\uDC40\uD83D\uDE2A\uD83D\uDE11\uD83D\uDCA5\uD83D\uDE4B\uD83D\uDE1E\uD83D\uDE29\uD83D\uDE21\uD83E\uDD2A\uD83D\uDC4A\uD83E\uDD73\uD83D\uDE25\uD83E\uDD24\uD83D\uDC49\uD83D\uDC83\uD83D\uDE33✋\uD83D\uDE1A\uD83D\uDE1D\uD83D\uDE34\uD83C\uDF1F\uD83D\uDE2C\uD83D\uDE43\uD83C\uDF40\uD83C\uDF37\uD83D\uDE3B\uD83D\uDE13⭐✅\uD83E\uDD7A\uD83C\uDF08\uD83D\uDE08\uD83E\uDD18\uD83D\uDCA6✔\uD83D\uDE23\uD83C\uDFC3\uD83D\uDC90☹\uD83C\uDF8A\uD83D\uDC98\uD83D\uDE20☝\uD83D\uDE15\uD83C\uDF3A\uD83C\uDF82\uD83C\uDF3B\uD83D\uDE10\uD83D\uDD95\uD83D\uDC9D\uD83D\uDE4A\uD83D\uDE39\uD83D\uDDE3\uD83D\uDCAB\uD83D\uDC80\uD83D\uDC51\uD83C\uDFB5\uD83E\uDD1E\uD83D\uDE1B\uD83D\uDD34\uD83D\uDE24\uD83C\uDF3C\uD83D\uDE2B⚽\uD83E\uDD19☕\uD83C\uDFC6\uD83E\uDD2B\uD83D\uDC48\uD83D\uDE2E\uD83D\uDE46\uD83C\uDF7B\uD83C\uDF43\uD83D\uDC36\uD83D\uDC81\uD83D\uDE32\uD83C\uDF3F\uD83E\uDDE1\uD83C\uDF81⚡\uD83C\uDF1E\uD83C\uDF88❌✊\uD83D\uDC4B\uD83D\uDE30\uD83E\uDD28\uD83D\uDE36\uD83E\uDD1D\uD83D\uDEB6\uD83D\uDCB0\uD83C\uDF53\uD83D\uDCA2\uD83E\uDD1F\uD83D\uDE41\uD83D\uDEA8\uD83D\uDCA8\uD83E\uDD2C✈\uD83C\uDF80\uD83C\uDF7A\uD83E\uDD13\uD83D\uDE19\uD83D\uDC9F\uD83C\uDF31\uD83D\uDE16\uD83D\uDC76\uD83E\uDD74▶➡❓\uD83D\uDC8E\uD83D\uDCB8⬇\uD83D\uDE28\uD83C\uDF1A\uD83E\uDD8B\uD83D\uDE37\uD83D\uDD7A⚠\uD83D\uDE45\uD83D\uDE1F\uD83D\uDE35\uD83D\uDC4E\uD83E\uDD32\uD83E\uDD20\uD83E\uDD27\uD83D\uDCCC\uD83D\uDD35\uD83D\uDC85\uD83E\uDDD0\uD83D\uDC3E\uD83C\uDF52\uD83D\uDE17\uD83E\uDD11\uD83C\uDF0A\uD83E\uDD2F\uD83D\uDC37☎\uD83D\uDCA7\uD83D\uDE2F\uD83D\uDC86\uD83D\uDC46\uD83C\uDFA4\uD83D\uDE47\uD83C\uDF51❄\uD83C\uDF34\uD83D\uDCA3\uD83D\uDC38\uD83D\uDC8C\uD83D\uDCCD\uD83E\uDD40\uD83E\uDD22\uD83D\uDC45\uD83D\uDCA1\uD83D\uDCA9\uD83D\uDC50\uD83D\uDCF8\uD83D\uDC7B\uD83E\uDD10\uD83E\uDD2E\uD83C\uDFBC\uD83E\uDD75\uD83D\uDEA9\uD83C\uDF4E\uD83C\uDF4A\uD83D\uDC7C\uD83D\uDC8D\uD83D\uDCE3\uD83E\uDD42"),rt=t9.reduce((et,ei,eo)=>(et[eo]=ei,et),[]),ro=t9.reduce((et,ei,eo)=>(et[ei.codePointAt(0)]=eo,et),[]),ra=Ve({prefix:"\uD83D\uDE80",name:"base256emoji",encode:function(et){return et.reduce((et,ei)=>et+rt[ei],"")},decode:function(et){let ei=[];for(let eo of et){let et=ro[eo.codePointAt(0)];if(void 0===et)throw Error(`Non-base256emoji character: ${eo}`);ei.push(et)}return new Uint8Array(ei)}});var rc=Object.freeze({__proto__:null,base256emoji:ra}),rh={encode:function e(et,ei,eo){ei=ei||[];for(var ea=eo=eo||0;et>=2147483648;)ei[eo++]=255&et|128,et/=128;for(;-128&et;)ei[eo++]=255&et|128,et>>>=7;return ei[eo]=0|et,e.bytes=eo-ea+1,ei},decode:function e(et,ei){var eo,ea=0,ec=(ei=ei||0,0),eh=ei,eu=et.length;do{if(eh>=eu)throw e.bytes=0,RangeError("Could not decode varint");eo=et[eh++],ea+=ec<28?(127&eo)<<ec:(127&eo)*Math.pow(2,ec),ec+=7}while(eo>=128);return e.bytes=eh-ei,ea},encodingLength:function(et){return et<128?1:et<16384?2:et<2097152?3:et<268435456?4:et<34359738368?5:et<4398046511104?6:et<562949953421312?7:et<72057594037927940?8:et<0x7fffffffffffffff?9:10}};let Kt=(et,ei,eo=0)=>(rh.encode(et,ei,eo),ei),Gt=et=>rh.encodingLength(et),Wt=(et,ei)=>{let eo=ei.byteLength,ea=Gt(et),ec=ea+Gt(eo),eh=new Uint8Array(ec+eo);return Kt(et,eh,0),Kt(eo,eh,ea),eh.set(ei,ec),new Jt(et,eo,ei,eh)};let Jt=class Jt{constructor(et,ei,eo,ea){this.code=et,this.size=ei,this.digest=eo,this.bytes=ea}};let Yt=({name:et,code:ei,encode:eo})=>new Xt(et,ei,eo);let Xt=class Xt{constructor(et,ei,eo){this.name=et,this.code=ei,this.encode=eo}digest(et){if(et instanceof Uint8Array){let ei=this.encode(et);return ei instanceof Uint8Array?Wt(this.code,ei):ei.then(et=>Wt(this.code,et))}throw Error("Unknown type, must be binary type")}};let Zt=et=>async ei=>new Uint8Array(await crypto.subtle.digest(et,ei)),ru=Yt({name:"sha2-256",code:18,encode:Zt("SHA-256")}),rd=Yt({name:"sha2-512",code:19,encode:Zt("SHA-512")});Object.freeze({__proto__:null,sha256:ru,sha512:rd}),Object.freeze({__proto__:null,identity:{code:0,name:"identity",encode:je,digest:et=>Wt(0,je(et))}}),new TextEncoder,new TextDecoder;let rf={...tP,...tN,...tB,...tD,...tF,...tX,...t0,...t6,...t7,...rc};function ir(et,ei,eo,ea){return{name:et,prefix:ei,encoder:{name:et,prefix:ei,encode:eo},decoder:{decode:ea}}}let rl=ir("utf8","u",et=>"u"+new TextDecoder("utf8").decode(et),et=>(new TextEncoder).encode(et.substring(1))),rp=ir("ascii","a",et=>{let ei="a";for(let eo=0;eo<et.length;eo++)ei+=String.fromCharCode(et[eo]);return ei},et=>{let ei=function(et=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?globalThis.Buffer.allocUnsafe(et):new Uint8Array(et)}((et=et.substring(1)).length);for(let eo=0;eo<et.length;eo++)ei[eo]=et.charCodeAt(eo);return ei}),rb={utf8:rl,"utf-8":rl,hex:rf.base16,latin1:rp,ascii:rp,binary:rp,...rf};let cr=class cr{constructor(et,ei){this.core=et,this.logger=ei,this.keychain=new Map,this.name=eN,this.version=eU,this.initialized=!1,this.storagePrefix=ex,this.init=async()=>{if(!this.initialized){let et=await this.getKeyChain();"u">typeof et&&(this.keychain=et),this.initialized=!0}},this.has=et=>(this.isInitialized(),this.keychain.has(et)),this.set=async(et,ei)=>{this.isInitialized(),this.keychain.set(et,ei),await this.persist()},this.get=et=>{this.isInitialized();let ei=this.keychain.get(et);if(typeof ei>"u"){let{message:ei}=(0,ey.getInternalError)("NO_MATCHING_KEY",`${this.name}: ${et}`);throw Error(ei)}return ei},this.del=async et=>{this.isInitialized(),this.keychain.delete(et),await this.persist()},this.core=et,this.logger=(0,ep.U5)(ei,this.name)}get context(){return(0,ep.oI)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(et){await this.core.storage.setItem(this.storageKey,(0,ey.mapToObj)(et))}async getKeyChain(){let et=await this.core.storage.getItem(this.storageKey);return"u">typeof et?(0,ey.objToMap)(et):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){let{message:et}=(0,ey.getInternalError)("NOT_INITIALIZED",this.name);throw Error(et)}}};let hr=class hr{constructor(et,ei,eo){this.core=et,this.logger=ei,this.name=ek,this.randomSessionIdentifier=(0,ey.generateRandomBytes32)(),this.initialized=!1,this.init=async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)},this.hasKeys=et=>(this.isInitialized(),this.keychain.has(et)),this.getClientId=async()=>{this.isInitialized();let et=await this.getClientSeed(),ei=em.generateKeyPair(et);return em.encodeIss(ei.publicKey)},this.generateKeyPair=()=>{this.isInitialized();let et=(0,ey.generateKeyPair)();return this.setPrivateKey(et.publicKey,et.privateKey)},this.signJWT=async et=>{this.isInitialized();let ei=await this.getClientSeed(),eo=em.generateKeyPair(ei),ea=this.randomSessionIdentifier;return await em.signJWT(ea,et,eO,eo)},this.generateSharedKey=(et,ei,eo)=>{this.isInitialized();let ea=this.getPrivateKey(et),ec=(0,ey.deriveSymKey)(ea,ei);return this.setSymKey(ec,eo)},this.setSymKey=async(et,ei)=>{this.isInitialized();let eo=ei||(0,ey.hashKey)(et);return await this.keychain.set(eo,et),eo},this.deleteKeyPair=async et=>{this.isInitialized(),await this.keychain.del(et)},this.deleteSymKey=async et=>{this.isInitialized(),await this.keychain.del(et)},this.encode=async(et,ei,eo)=>{this.isInitialized();let ea=(0,ey.validateEncoding)(eo),ec=(0,eg.h)(ei);if((0,ey.isTypeTwoEnvelope)(ea))return(0,ey.encodeTypeTwoEnvelope)(ec,eo?.encoding);if((0,ey.isTypeOneEnvelope)(ea)){let ei=ea.senderPublicKey,eo=ea.receiverPublicKey;et=await this.generateSharedKey(ei,eo)}let eh=this.getSymKey(et),{type:eu,senderPublicKey:ed}=ea;return(0,ey.encrypt)({type:eu,symKey:eh,message:ec,senderPublicKey:ed,encoding:eo?.encoding})},this.decode=async(et,ei,eo)=>{this.isInitialized();let ea=(0,ey.validateDecoding)(ei,eo);if((0,ey.isTypeTwoEnvelope)(ea)){let et=(0,ey.decodeTypeTwoEnvelope)(ei,eo?.encoding);return(0,eg.j)(et)}if((0,ey.isTypeOneEnvelope)(ea)){let ei=ea.receiverPublicKey,eo=ea.senderPublicKey;et=await this.generateSharedKey(ei,eo)}try{let ea=this.getSymKey(et),ec=(0,ey.decrypt)({symKey:ea,encoded:ei,encoding:eo?.encoding});return(0,eg.j)(ec)}catch(ei){this.logger.error(`Failed to decode message from topic: '${et}', clientId: '${await this.getClientId()}'`),this.logger.error(ei)}},this.getPayloadType=(et,ei=ey.BASE64)=>{let eo=(0,ey.deserialize)({encoded:et,encoding:ei});return(0,ey.decodeTypeByte)(eo.type)},this.getPayloadSenderPublicKey=(et,ei=ey.BASE64)=>{let eo=(0,ey.deserialize)({encoded:et,encoding:ei});return eo.senderPublicKey?(0,ev.dI)(eo.senderPublicKey,ey.BASE16):void 0},this.core=et,this.logger=(0,ep.U5)(ei,this.name),this.keychain=eo||new cr(this.core,this.logger)}get context(){return(0,ep.oI)(this.logger)}async setPrivateKey(et,ei){return await this.keychain.set(et,ei),et}getPrivateKey(et){return this.keychain.get(et)}async getClientSeed(){let et="";try{et=this.keychain.get(eP)}catch{et=(0,ey.generateRandomBytes32)(),await this.keychain.set(eP,et)}return function(et,ei="utf8"){let eo=rb[ei];if(!eo)throw Error(`Unsupported encoding "${ei}"`);return"utf8"!==ei&&"utf-8"!==ei||null==globalThis.Buffer||null==globalThis.Buffer.from?eo.decoder.decode(`${eo.prefix}${et}`):globalThis.Buffer.from(et,"utf8")}(et,"base16")}getSymKey(et){return this.keychain.get(et)}isInitialized(){if(!this.initialized){let{message:et}=(0,ey.getInternalError)("NOT_INITIALIZED",this.name);throw Error(et)}}};let ur=class ur extends eb.dQ{constructor(et,ei){super(et,ei),this.logger=et,this.core=ei,this.messages=new Map,this.name=eB,this.version=eL,this.initialized=!1,this.storagePrefix=ex,this.init=async()=>{if(!this.initialized){this.logger.trace("Initialized");try{let et=await this.getRelayerMessages();"u">typeof et&&(this.messages=et),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(et){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(et)}finally{this.initialized=!0}}},this.set=async(et,ei)=>{this.isInitialized();let eo=(0,ey.hashMessage)(ei),ea=this.messages.get(et);return typeof ea>"u"&&(ea={}),"u">typeof ea[eo]||(ea[eo]=ei,this.messages.set(et,ea),await this.persist()),eo},this.get=et=>{this.isInitialized();let ei=this.messages.get(et);return typeof ei>"u"&&(ei={}),ei},this.has=(et,ei)=>(this.isInitialized(),"u">typeof this.get(et)[(0,ey.hashMessage)(ei)]),this.del=async et=>{this.isInitialized(),this.messages.delete(et),await this.persist()},this.logger=(0,ep.U5)(et,this.name),this.core=ei}get context(){return(0,ep.oI)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setRelayerMessages(et){await this.core.storage.setItem(this.storageKey,(0,ey.mapToObj)(et))}async getRelayerMessages(){let et=await this.core.storage.getItem(this.storageKey);return"u">typeof et?(0,ey.objToMap)(et):void 0}async persist(){await this.setRelayerMessages(this.messages)}isInitialized(){if(!this.initialized){let{message:et}=(0,ey.getInternalError)("NOT_INITIALIZED",this.name);throw Error(et)}}};let dr=class dr extends eb.qE{constructor(et,ei){super(et,ei),this.relayer=et,this.logger=ei,this.events=new ea.EventEmitter,this.name=ej,this.queue=new Map,this.publishTimeout=(0,eh.toMiliseconds)(eh.ONE_MINUTE),this.failedPublishTimeout=(0,eh.toMiliseconds)(eh.ONE_SECOND),this.needsTransportRestart=!1,this.publish=async(et,ei,eo)=>{var ea;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:et,message:ei,opts:eo}});let ec=eo?.ttl||eD,eh=(0,ey.getRelayProtocolName)(eo),eu=eo?.prompt||!1,ed=eo?.tag||0,ef=eo?.id||(0,ew.getBigIntRpcId)().toString(),el={topic:et,message:ei,opts:{ttl:ec,relay:eh,prompt:eu,tag:ed,id:ef,attestation:eo?.attestation}},ep=`Failed to publish payload, please try again. id:${ef} tag:${ed}`,eb=Date.now(),eg,em=1;try{for(;void 0===eg;){if(Date.now()-eb>this.publishTimeout)throw Error(ep);this.logger.trace({id:ef,attempts:em},`publisher.publish - attempt ${em}`),eg=await await (0,ey.createExpiringPromise)(this.rpcPublish(et,ei,ec,eh,eu,ed,ef,eo?.attestation).catch(et=>this.logger.warn(et)),this.publishTimeout,ep),em++,eg||await new Promise(et=>setTimeout(et,this.failedPublishTimeout))}this.relayer.events.emit(ez.publish,el),this.logger.debug("Successfully Published Payload"),this.logger.trace({type:"method",method:"publish",params:{id:ef,topic:et,message:ei,opts:eo}})}catch(et){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(et),null!=(ea=eo?.internal)&&ea.throwOnFailedPublish)throw et;this.queue.set(ef,el)}},this.on=(et,ei)=>{this.events.on(et,ei)},this.once=(et,ei)=>{this.events.once(et,ei)},this.off=(et,ei)=>{this.events.off(et,ei)},this.removeListener=(et,ei)=>{this.events.removeListener(et,ei)},this.relayer=et,this.logger=(0,ep.U5)(ei,this.name),this.registerEventListeners()}get context(){return(0,ep.oI)(this.logger)}rpcPublish(et,ei,eo,ea,ec,eh,eu,ed){var ef,el,ep,eb;let eg={method:(0,ey.getRelayProtocolApi)(ea.protocol).publish,params:{topic:et,message:ei,ttl:eo,prompt:ec,tag:eh,attestation:ed},id:eu};return(0,ey.isUndefined)(null==(ef=eg.params)?void 0:ef.prompt)&&(null==(el=eg.params)||delete el.prompt),(0,ey.isUndefined)(null==(ep=eg.params)?void 0:ep.tag)&&(null==(eb=eg.params)||delete eb.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:eg}),this.relayer.request(eg)}removeRequestFromQueue(et){this.queue.delete(et)}checkQueue(){this.queue.forEach(async et=>{let{topic:ei,message:eo,opts:ea}=et;await this.publish(ei,eo,ea)})}registerEventListeners(){this.relayer.core.heartbeat.on(ef,()=>{if(this.needsTransportRestart)return this.needsTransportRestart=!1,void this.relayer.events.emit(ez.connection_stalled);this.checkQueue()}),this.relayer.on(ez.message_ack,et=>{this.removeRequestFromQueue(et.id.toString())})}};let fr=class fr{constructor(){this.map=new Map,this.set=(et,ei)=>{let eo=this.get(et);this.exists(et,ei)||this.map.set(et,[...eo,ei])},this.get=et=>this.map.get(et)||[],this.exists=(et,ei)=>this.get(et).includes(ei),this.delete=(et,ei)=>{if(typeof ei>"u")return void this.map.delete(et);if(!this.map.has(et))return;let eo=this.get(et);if(!this.exists(et,ei))return;let ea=eo.filter(et=>et!==ei);ea.length?this.map.set(et,ea):this.map.delete(et)},this.clear=()=>{this.map.clear()}}get topics(){return Array.from(this.map.keys())}};var rg=Object.defineProperty,rm=Object.defineProperties,ry=Object.getOwnPropertyDescriptors,rv=Object.getOwnPropertySymbols,rw=Object.prototype.hasOwnProperty,r_=Object.prototype.propertyIsEnumerable,vr=(et,ei,eo)=>ei in et?rg(et,ei,{enumerable:!0,configurable:!0,writable:!0,value:eo}):et[ei]=eo,wr=(et,ei)=>{for(var eo in ei||(ei={}))rw.call(ei,eo)&&vr(et,eo,ei[eo]);if(rv)for(var eo of rv(ei))r_.call(ei,eo)&&vr(et,eo,ei[eo]);return et},_r=(et,ei)=>rm(et,ry(ei));let Er=class Er extends eb.mF{constructor(et,ei){super(et,ei),this.relayer=et,this.logger=ei,this.subscriptions=new Map,this.topicMap=new fr,this.events=new ea.EventEmitter,this.name=e6,this.version=e5,this.pending=new Map,this.cached=[],this.initialized=!1,this.pendingSubscriptionWatchLabel="pending_sub_watch_label",this.pollingInterval=20,this.storagePrefix=ex,this.subscribeTimeout=(0,eh.toMiliseconds)(eh.ONE_MINUTE),this.restartInProgress=!1,this.batchSubscribeTopicsLimit=500,this.pendingBatchMessages=[],this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),this.clientId=await this.relayer.core.crypto.getClientId(),await this.restore()),this.initialized=!0},this.subscribe=async(et,ei)=>{this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:et,opts:ei}});try{let eo=(0,ey.getRelayProtocolName)(ei),ea={topic:et,relay:eo,transportType:ei?.transportType};this.pending.set(et,ea);let ec=await this.rpcSubscribe(et,eo,ei);return"string"==typeof ec&&(this.onSubscribe(ec,ea),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:et,opts:ei}})),ec}catch(et){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(et),et}},this.unsubscribe=async(et,ei)=>{await this.restartToComplete(),this.isInitialized(),"u">typeof ei?.id?await this.unsubscribeById(et,ei.id,ei):await this.unsubscribeByTopic(et,ei)},this.isSubscribed=async et=>{if(this.topics.includes(et))return!0;let ei=`${this.pendingSubscriptionWatchLabel}_${et}`;return await new Promise((eo,ea)=>{let ec=new eh.Watch;ec.start(ei);let eu=setInterval(()=>{!this.pending.has(et)&&this.topics.includes(et)&&(clearInterval(eu),ec.stop(ei),eo(!0)),ec.elapsed(ei)>=e3&&(clearInterval(eu),ec.stop(ei),ea(Error("Subscription resolution timeout")))},this.pollingInterval)}).catch(()=>!1)},this.on=(et,ei)=>{this.events.on(et,ei)},this.once=(et,ei)=>{this.events.once(et,ei)},this.off=(et,ei)=>{this.events.off(et,ei)},this.removeListener=(et,ei)=>{this.events.removeListener(et,ei)},this.start=async()=>{await this.onConnect()},this.stop=async()=>{await this.onDisconnect()},this.restart=async()=>{this.restartInProgress=!0,await this.restore(),await this.reset(),this.restartInProgress=!1},this.relayer=et,this.logger=(0,ep.U5)(ei,this.name),this.clientId=""}get context(){return(0,ep.oI)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}hasSubscription(et,ei){let eo=!1;try{eo=this.getSubscription(et).topic===ei}catch{}return eo}onEnable(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(et,ei){let eo=this.topicMap.get(et);await Promise.all(eo.map(async eo=>await this.unsubscribeById(et,eo,ei)))}async unsubscribeById(et,ei,eo){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:et,id:ei,opts:eo}});try{let ea=(0,ey.getRelayProtocolName)(eo);await this.rpcUnsubscribe(et,ei,ea);let ec=(0,ey.getSdkError)("USER_DISCONNECTED",`${this.name}, ${et}`);await this.onUnsubscribe(et,ei,ec),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:et,id:ei,opts:eo}})}catch(et){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(et),et}}async rpcSubscribe(et,ei,eo){var ea;eo?.transportType===eX.relay&&await this.restartToComplete();let ec={method:(0,ey.getRelayProtocolApi)(ei.protocol).subscribe,params:{topic:et}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:ec});let eu=null==(ea=eo?.internal)?void 0:ea.throwOnFailedPublish;try{let ei=(0,ey.hashMessage)(et+this.clientId);if(eo?.transportType===eX.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(ec).catch(et=>this.logger.warn(et))},(0,eh.toMiliseconds)(eh.ONE_SECOND)),ei;let ea=await (0,ey.createExpiringPromise)(this.relayer.request(ec).catch(et=>this.logger.warn(et)),this.subscribeTimeout,`Subscribing to ${et} failed, please try again`);if(!ea&&eu)throw Error(`Subscribing to ${et} failed, please try again`);return ea?ei:null}catch(et){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(ez.connection_stalled),eu)throw et}return null}async rpcBatchSubscribe(et){if(!et.length)return;let ei=et[0].relay,eo={method:(0,ey.getRelayProtocolApi)(ei.protocol).batchSubscribe,params:{topics:et.map(et=>et.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:eo});try{return await await (0,ey.createExpiringPromise)(this.relayer.request(eo).catch(et=>this.logger.warn(et)),this.subscribeTimeout)}catch{this.relayer.events.emit(ez.connection_stalled)}}async rpcBatchFetchMessages(et){let ei;if(!et.length)return;let eo=et[0].relay,ea={method:(0,ey.getRelayProtocolApi)(eo.protocol).batchFetchMessages,params:{topics:et.map(et=>et.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:ea});try{ei=await await (0,ey.createExpiringPromise)(this.relayer.request(ea).catch(et=>this.logger.warn(et)),this.subscribeTimeout)}catch{this.relayer.events.emit(ez.connection_stalled)}return ei}rpcUnsubscribe(et,ei,eo){let ea={method:(0,ey.getRelayProtocolApi)(eo.protocol).unsubscribe,params:{topic:et,id:ei}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:ea}),this.relayer.request(ea)}onSubscribe(et,ei){this.setSubscription(et,_r(wr({},ei),{id:et})),this.pending.delete(ei.topic)}onBatchSubscribe(et){et.length&&et.forEach(et=>{this.setSubscription(et.id,wr({},et)),this.pending.delete(et.topic)})}async onUnsubscribe(et,ei,eo){this.events.removeAllListeners(ei),this.hasSubscription(ei,et)&&this.deleteSubscription(ei,eo),await this.relayer.messages.del(et)}async setRelayerSubscriptions(et){await this.relayer.core.storage.setItem(this.storageKey,et)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(et,ei){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:et,subscription:ei}),this.addSubscription(et,ei)}addSubscription(et,ei){this.subscriptions.set(et,wr({},ei)),this.topicMap.set(ei.topic,et),this.events.emit(e1.created,ei)}getSubscription(et){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:et});let ei=this.subscriptions.get(et);if(!ei){let{message:ei}=(0,ey.getInternalError)("NO_MATCHING_KEY",`${this.name}: ${et}`);throw Error(ei)}return ei}deleteSubscription(et,ei){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:et,reason:ei});let eo=this.getSubscription(et);this.subscriptions.delete(et),this.topicMap.delete(eo.topic,et),this.events.emit(e1.deleted,_r(wr({},eo),{reason:ei}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(e1.sync)}async reset(){if(this.cached.length){let et=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let ei=0;ei<et;ei++){let et=this.cached.splice(0,this.batchSubscribeTopicsLimit);await this.batchFetchMessages(et),await this.batchSubscribe(et)}}this.events.emit(e1.resubscribed)}async restore(){try{let et=await this.getRelayerSubscriptions();if(typeof et>"u"||!et.length)return;if(this.subscriptions.size){let{message:et}=(0,ey.getInternalError)("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(et),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),Error(et)}this.cached=et,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(et){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(et)}}async batchSubscribe(et){if(!et.length)return;let ei=await this.rpcBatchSubscribe(et);(0,ey.isValidArray)(ei)&&this.onBatchSubscribe(ei.map((ei,eo)=>_r(wr({},et[eo]),{id:ei})))}async batchFetchMessages(et){if(!et.length)return;this.logger.trace(`Fetching batch messages for ${et.length} subscriptions`);let ei=await this.rpcBatchFetchMessages(et);ei&&ei.messages&&(this.pendingBatchMessages=this.pendingBatchMessages.concat(ei.messages))}async onConnect(){await this.restart(),this.onEnable()}onDisconnect(){this.onDisable()}async checkPending(){if(!this.initialized||!this.relayer.connected)return;let et=[];this.pending.forEach(ei=>{et.push(ei)}),await this.batchSubscribe(et),this.pendingBatchMessages.length&&(await this.relayer.handleBatchMessageEvents(this.pendingBatchMessages),this.pendingBatchMessages=[])}registerEventListeners(){this.relayer.core.heartbeat.on(ef,async()=>{await this.checkPending()}),this.events.on(e1.created,async et=>{let ei=e1.created;this.logger.info(`Emitting ${ei}`),this.logger.debug({type:"event",event:ei,data:et}),await this.persist()}),this.events.on(e1.deleted,async et=>{let ei=e1.deleted;this.logger.info(`Emitting ${ei}`),this.logger.debug({type:"event",event:ei,data:et}),await this.persist()})}isInitialized(){if(!this.initialized){let{message:et}=(0,ey.getInternalError)("NOT_INITIALIZED",this.name);throw Error(et)}}async restartToComplete(){this.relayer.connected||this.relayer.connecting||await this.relayer.transportOpen(),this.restartInProgress&&await new Promise(et=>{let ei=setInterval(()=>{this.restartInProgress||(clearInterval(ei),et())},this.pollingInterval)})}};var rE=Object.defineProperty,rS=Object.getOwnPropertySymbols,rA=Object.prototype.hasOwnProperty,rM=Object.prototype.propertyIsEnumerable,Tr=(et,ei,eo)=>ei in et?rE(et,ei,{enumerable:!0,configurable:!0,writable:!0,value:eo}):et[ei]=eo,xr=(et,ei)=>{for(var eo in ei||(ei={}))rA.call(ei,eo)&&Tr(et,eo,ei[eo]);if(rS)for(var eo of rS(ei))rM.call(ei,eo)&&Tr(et,eo,ei[eo]);return et};let Cr=class Cr extends eb.m5{constructor(et){super(et),this.protocol="wc",this.version=2,this.events=new ea.EventEmitter,this.name=eV,this.transportExplicitlyClosed=!1,this.initialized=!1,this.connectionAttemptInProgress=!1,this.connectionStatusPollingInterval=20,this.staleConnectionErrors=["socket hang up","stalled","interrupted"],this.hasExperiencedNetworkDisruption=!1,this.requestsInFlight=new Map,this.heartBeatTimeout=(0,eh.toMiliseconds)(eh.THIRTY_SECONDS+eh.ONE_SECOND),this.request=async et=>{var ei,eo;this.logger.debug("Publishing Request Payload");let ea=et.id||(0,ew.getBigIntRpcId)().toString();await this.toEstablishConnection();try{let ec=this.provider.request(et);this.requestsInFlight.set(ea,{promise:ec,request:et}),this.logger.trace({id:ea,method:et.method,topic:null==(ei=et.params)?void 0:ei.topic},"relayer.request - attempt to publish...");let eh=await new Promise(async(et,ei)=>{let r=()=>{ei(Error(`relayer.request - publish interrupted, id: ${ea}`))};this.provider.on(eK.disconnect,r);let eo=await ec;this.provider.off(eK.disconnect,r),et(eo)});return this.logger.trace({id:ea,method:et.method,topic:null==(eo=et.params)?void 0:eo.topic},"relayer.request - published"),eh}catch(et){throw this.logger.debug(`Failed to Publish Request: ${ea}`),et}finally{this.requestsInFlight.delete(ea)}},this.resetPingTimeout=()=>{if((0,ey.isNode)())try{clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var et,ei,eo;null==(eo=null==(ei=null==(et=this.provider)?void 0:et.connection)?void 0:ei.socket)||eo.terminate()},this.heartBeatTimeout)}catch(et){this.logger.warn(et)}},this.onPayloadHandler=et=>{this.onProviderPayload(et),this.resetPingTimeout()},this.onConnectHandler=()=>{this.logger.trace("relayer connected"),this.startPingTimeout(),this.events.emit(ez.connect)},this.onDisconnectHandler=()=>{this.logger.trace("relayer disconnected"),this.onProviderDisconnect()},this.onProviderErrorHandler=et=>{this.logger.error(et),this.events.emit(ez.error,et),this.logger.info("Fatal socket error received, closing transport"),this.transportClose()},this.registerProviderListeners=()=>{this.provider.on(eK.payload,this.onPayloadHandler),this.provider.on(eK.connect,this.onConnectHandler),this.provider.on(eK.disconnect,this.onDisconnectHandler),this.provider.on(eK.error,this.onProviderErrorHandler)},this.core=et.core,this.logger="u">typeof et.logger&&"string"!=typeof et.logger?(0,ep.U5)(et.logger,this.name):(0,ep.h6)((0,ep.iP)({level:et.logger||eF})),this.messages=new ur(this.logger,et.core),this.subscriber=new Er(this,this.logger),this.publisher=new dr(this,this.logger),this.relayUrl=et?.relayUrl||eH,this.projectId=et.projectId,this.bundleId=(0,ey.getBundleId)(),this.provider={}}async init(){if(this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.subscriber.cached.length>0)try{await this.transportOpen()}catch(et){this.logger.warn(et)}}get context(){return(0,ep.oI)(this.logger)}get connected(){var et,ei,eo;return 1===(null==(eo=null==(ei=null==(et=this.provider)?void 0:et.connection)?void 0:ei.socket)?void 0:eo.readyState)}get connecting(){var et,ei,eo;return 0===(null==(eo=null==(ei=null==(et=this.provider)?void 0:et.connection)?void 0:ei.socket)?void 0:eo.readyState)}async publish(et,ei,eo){this.isInitialized(),await this.publisher.publish(et,ei,eo),await this.recordMessageEvent({topic:et,message:ei,publishedAt:Date.now(),transportType:eX.relay})}async subscribe(et,ei){var eo,ea,ec;this.isInitialized(),"relay"===ei?.transportType&&await this.toEstablishConnection();let eh=typeof(null==(eo=ei?.internal)?void 0:eo.throwOnFailedPublish)>"u"||(null==(ea=ei?.internal)?void 0:ea.throwOnFailedPublish),eu,ed=(null==(ec=this.subscriber.topicMap.get(et))?void 0:ec[0])||"",c=ei=>{ei.topic===et&&(this.subscriber.off(e1.created,c),eu())};return await Promise.all([new Promise(et=>{eu=et,this.subscriber.on(e1.created,c)}),new Promise(async(eo,ea)=>{ed=await this.subscriber.subscribe(et,xr({internal:{throwOnFailedPublish:eh}},ei)).catch(et=>{eh&&ea(et)})||ed,eo()})]),ed}async unsubscribe(et,ei){this.isInitialized(),await this.subscriber.unsubscribe(et,ei)}on(et,ei){this.events.on(et,ei)}once(et,ei){this.events.once(et,ei)}off(et,ei){this.events.off(et,ei)}removeListener(et,ei){this.events.removeListener(et,ei)}async transportDisconnect(){if(!this.hasExperiencedNetworkDisruption&&this.connected&&this.requestsInFlight.size>0)try{await Promise.all(Array.from(this.requestsInFlight.values()).map(et=>et.promise))}catch(et){this.logger.warn(et)}this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await (0,ey.createExpiringPromise)(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(et){await this.confirmOnlineStateOrThrow(),et&&et!==this.relayUrl&&(this.relayUrl=et,await this.transportDisconnect()),await this.createProvider(),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;try{await new Promise(async(et,ei)=>{let r=()=>{this.provider.off(eK.disconnect,r),ei(Error("Connection interrupted while trying to subscribe"))};this.provider.on(eK.disconnect,r),await (0,ey.createExpiringPromise)(this.provider.connect(),(0,eh.toMiliseconds)(eh.ONE_MINUTE),`Socket stalled when trying to connect to ${this.relayUrl}`).catch(et=>{ei(et)}).finally(()=>{clearTimeout(this.reconnectTimeout),this.reconnectTimeout=void 0}),this.subscriber.start().catch(et=>{this.logger.error(et),this.onDisconnectHandler()}),this.hasExperiencedNetworkDisruption=!1,et()})}catch(et){if(this.logger.error(et),this.hasExperiencedNetworkDisruption=!0,!this.isConnectionStalled(et.message))throw et}finally{this.connectionAttemptInProgress=!1}}async restartTransport(et){this.connectionAttemptInProgress||(this.relayUrl=et||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await (0,ey.isOnline)())throw Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(et){if(0===et?.length)return void this.logger.trace("Batch message events is empty. Ignoring...");let ei=et.sort((et,ei)=>et.publishedAt-ei.publishedAt);for(let et of(this.logger.trace(`Batch of ${ei.length} message events sorted`),ei))try{await this.onMessageEvent(et)}catch(et){this.logger.warn(et)}this.logger.trace(`Batch of ${ei.length} message events processed`)}async onLinkMessageEvent(et,ei){let{topic:eo}=et;if(!ei.sessionExists){let et={topic:eo,expiry:(0,ey.calcExpiry)(eh.FIVE_MINUTES),relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(eo,et)}this.events.emit(ez.message,et),await this.recordMessageEvent(et)}startPingTimeout(){var et,ei,eo,ea,ec;if((0,ey.isNode)())try{null!=(ei=null==(et=this.provider)?void 0:et.connection)&&ei.socket&&(null==(ec=null==(ea=null==(eo=this.provider)?void 0:eo.connection)?void 0:ea.socket)||ec.once("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(et){this.logger.warn(et)}}isConnectionStalled(et){return this.staleConnectionErrors.some(ei=>et.includes(ei))}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();let et=await this.core.crypto.signJWT(this.relayUrl);this.provider=new v(new E((0,ey.formatRelayRpcUrl)({sdkVersion:eJ,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:et,useOnCloseEvent:!0,bundleId:this.bundleId}))),this.registerProviderListeners()}async recordMessageEvent(et){let{topic:ei,message:eo}=et;await this.messages.set(ei,eo)}async shouldIgnoreMessageEvent(et){let{topic:ei,message:eo}=et;if(!eo||0===eo.length)return this.logger.debug(`Ignoring invalid/empty message: ${eo}`),!0;if(!await this.subscriber.isSubscribed(ei))return this.logger.debug(`Ignoring message for non-subscribed topic ${ei}`),!0;let ea=this.messages.has(ei,eo);return ea&&this.logger.debug(`Ignoring duplicate message: ${eo}`),ea}async onProviderPayload(et){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:et}),(0,ew.isJsonRpcRequest)(et)){if(!et.method.endsWith(e$))return;let ei=et.params,{topic:eo,message:ea,publishedAt:ec,attestation:eh}=ei.data,eu={topic:eo,message:ea,publishedAt:ec,transportType:eX.relay,attestation:eh};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(xr({type:"event",event:ei.id},eu)),this.events.emit(ei.id,eu),await this.acknowledgePayload(et),await this.onMessageEvent(eu)}else(0,ew.isJsonRpcResponse)(et)&&this.events.emit(ez.message_ack,et)}async onMessageEvent(et){await this.shouldIgnoreMessageEvent(et)||(this.events.emit(ez.message,et),await this.recordMessageEvent(et))}async acknowledgePayload(et){let ei=(0,ew.formatJsonRpcResult)(et.id,!0);await this.provider.connection.send(ei)}unregisterProviderListeners(){this.provider.off(eK.payload,this.onPayloadHandler),this.provider.off(eK.connect,this.onConnectHandler),this.provider.off(eK.disconnect,this.onDisconnectHandler),this.provider.off(eK.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let et=await (0,ey.isOnline)();(0,ey.subscribeToNetworkChange)(async ei=>{et!==ei&&(et=ei,ei?await this.restartTransport().catch(et=>this.logger.error(et)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))})}async onProviderDisconnect(){await this.subscriber.stop(),this.requestsInFlight.clear(),clearTimeout(this.pingTimeout),this.events.emit(ez.disconnect),this.connectionAttemptInProgress=!1,!this.transportExplicitlyClosed&&(this.reconnectTimeout||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(et=>this.logger.error(et))},(0,eh.toMiliseconds)(eG))))}isInitialized(){if(!this.initialized){let{message:et}=(0,ey.getInternalError)("NOT_INITIALIZED",this.name);throw Error(et)}}async toEstablishConnection(){await this.confirmOnlineStateOrThrow(),this.connected||(this.connectionAttemptInProgress&&await new Promise(et=>{let ei=setInterval(()=>{this.connected&&(clearInterval(ei),et())},this.connectionStatusPollingInterval)}),await this.transportOpen())}};var rI=Object.defineProperty,rT=Object.getOwnPropertySymbols,rx=Object.prototype.hasOwnProperty,rC=Object.prototype.propertyIsEnumerable,Nr=(et,ei,eo)=>ei in et?rI(et,ei,{enumerable:!0,configurable:!0,writable:!0,value:eo}):et[ei]=eo,Ur=(et,ei)=>{for(var eo in ei||(ei={}))rx.call(ei,eo)&&Nr(et,eo,ei[eo]);if(rT)for(var eo of rT(ei))rC.call(ei,eo)&&Nr(et,eo,ei[eo]);return et};let Br=class Br extends eb.pi{constructor(et,ei,eo,ea=ex,ec){super(et,ei,eo,ea),this.core=et,this.logger=ei,this.name=eo,this.map=new Map,this.version=eZ,this.cached=[],this.initialized=!1,this.storagePrefix=ex,this.recentlyDeleted=[],this.recentlyDeletedLimit=200,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(et=>{this.getKey&&null!==et&&!(0,ey.isUndefined)(et)?this.map.set(this.getKey(et),et):(0,ey.isProposalStruct)(et)?this.map.set(et.id,et):(0,ey.isSessionStruct)(et)&&this.map.set(et.topic,et)}),this.cached=[],this.initialized=!0)},this.set=async(et,ei)=>{this.isInitialized(),this.map.has(et)?await this.update(et,ei):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:et,value:ei}),this.map.set(et,ei),await this.persist())},this.get=et=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:et}),this.getData(et)),this.getAll=et=>(this.isInitialized(),et?this.values.filter(ei=>Object.keys(et).every(eo=>eS()(ei[eo],et[eo]))):this.values),this.update=async(et,ei)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:et,update:ei});let eo=Ur(Ur({},this.getData(et)),ei);this.map.set(et,eo),await this.persist()},this.delete=async(et,ei)=>{this.isInitialized(),this.map.has(et)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:et,reason:ei}),this.map.delete(et),this.addToRecentlyDeleted(et),await this.persist())},this.logger=(0,ep.U5)(ei,this.name),this.storagePrefix=ea,this.getKey=ec}get context(){return(0,ep.oI)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(et){this.recentlyDeleted.push(et),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(et){await this.core.storage.setItem(this.storageKey,et)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(et){let ei=this.map.get(et);if(!ei){if(this.recentlyDeleted.includes(et)){let{message:ei}=(0,ey.getInternalError)("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${et}`);throw this.logger.error(ei),Error(ei)}let{message:ei}=(0,ey.getInternalError)("NO_MATCHING_KEY",`${this.name}: ${et}`);throw this.logger.error(ei),Error(ei)}return ei}async persist(){await this.setDataStore(this.values)}async restore(){try{let et=await this.getDataStore();if(typeof et>"u"||!et.length)return;if(this.map.size){let{message:et}=(0,ey.getInternalError)("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(et),Error(et)}this.cached=et,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(et){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(et)}}isInitialized(){if(!this.initialized){let{message:et}=(0,ey.getInternalError)("NOT_INITIALIZED",this.name);throw Error(et)}}};let Lr=class Lr{constructor(et,ei){this.core=et,this.logger=ei,this.name=e8,this.version=e4,this.events=new(ec()),this.initialized=!1,this.storagePrefix=ex,this.ignoredPayloadTypes=[ey.TYPE_1],this.registeredMethods=[],this.init=async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))},this.register=({methods:et})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...et])]},this.create=async et=>{this.isInitialized();let ei=(0,ey.generateRandomBytes32)(),eo=await this.core.crypto.setSymKey(ei),ea=(0,ey.calcExpiry)(eh.FIVE_MINUTES),ec={protocol:eq},eu={topic:eo,expiry:ea,relay:ec,active:!1,methods:et?.methods},ed=(0,ey.formatUri)({protocol:this.core.protocol,version:this.core.version,topic:eo,symKey:ei,relay:ec,expiryTimestamp:ea,methods:et?.methods});return this.events.emit(tt.create,eu),this.core.expirer.set(eo,ea),await this.pairings.set(eo,eu),await this.core.relayer.subscribe(eo,{transportType:et?.transportType}),{topic:eo,uri:ed}},this.pair=async et=>{let ei;this.isInitialized();let eo=this.core.eventClient.createEvent({properties:{topic:et?.uri,trace:[t_.pairing_started]}});this.isValidPair(et,eo);let{topic:ea,symKey:ec,relay:eu,expiryTimestamp:ed,methods:ef}=(0,ey.parseUri)(et.uri);if(eo.props.properties.topic=ea,eo.addTrace(t_.pairing_uri_validation_success),eo.addTrace(t_.pairing_uri_not_expired),this.pairings.keys.includes(ea)){if(ei=this.pairings.get(ea),eo.addTrace(t_.existing_pairing),ei.active)throw eo.setError(tE.active_pairing_already_exists),Error(`Pairing already exists: ${ea}. Please try again with a new connection URI.`);eo.addTrace(t_.pairing_not_expired)}let el=ed||(0,ey.calcExpiry)(eh.FIVE_MINUTES),ep={topic:ea,relay:eu,expiry:el,active:!1,methods:ef};this.core.expirer.set(ea,el),await this.pairings.set(ea,ep),eo.addTrace(t_.store_new_pairing),et.activatePairing&&await this.activate({topic:ea}),this.events.emit(tt.create,ep),eo.addTrace(t_.emit_inactive_pairing),this.core.crypto.keychain.has(ea)||await this.core.crypto.setSymKey(ec,ea),eo.addTrace(t_.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{eo.setError(tE.no_internet_connection)}try{await this.core.relayer.subscribe(ea,{relay:eu})}catch(et){throw eo.setError(tE.subscribe_pairing_topic_failure),et}return eo.addTrace(t_.subscribe_pairing_topic_success),ep},this.activate=async({topic:et})=>{this.isInitialized();let ei=(0,ey.calcExpiry)(eh.THIRTY_DAYS);this.core.expirer.set(et,ei),await this.pairings.update(et,{active:!0,expiry:ei})},this.ping=async et=>{this.isInitialized(),await this.isValidPing(et);let{topic:ei}=et;if(this.pairings.keys.includes(ei)){let et=await this.sendRequest(ei,"wc_pairingPing",{}),{done:eo,resolve:ea,reject:ec}=(0,ey.createDelayedPromise)();this.events.once((0,ey.engineEvent)("pairing_ping",et),({error:et})=>{et?ec(et):ea()}),await eo()}},this.updateExpiry=async({topic:et,expiry:ei})=>{this.isInitialized(),await this.pairings.update(et,{expiry:ei})},this.updateMetadata=async({topic:et,metadata:ei})=>{this.isInitialized(),await this.pairings.update(et,{peerMetadata:ei})},this.getPairings=()=>(this.isInitialized(),this.pairings.values),this.disconnect=async et=>{this.isInitialized(),await this.isValidDisconnect(et);let{topic:ei}=et;this.pairings.keys.includes(ei)&&(await this.sendRequest(ei,"wc_pairingDelete",(0,ey.getSdkError)("USER_DISCONNECTED")),await this.deletePairing(ei))},this.formatUriFromPairing=et=>{this.isInitialized();let{topic:ei,relay:eo,expiry:ea,methods:ec}=et,eh=this.core.crypto.keychain.get(ei);return(0,ey.formatUri)({protocol:this.core.protocol,version:this.core.version,topic:ei,symKey:eh,relay:eo,expiryTimestamp:ea,methods:ec})},this.sendRequest=async(et,ei,eo)=>{let ea=(0,ew.formatJsonRpcRequest)(ei,eo),ec=await this.core.crypto.encode(et,ea),eh=e9[ei].req;return this.core.history.set(et,ea),this.core.relayer.publish(et,ec,eh),ea.id},this.sendResult=async(et,ei,eo)=>{let ea=(0,ew.formatJsonRpcResult)(et,eo),ec=await this.core.crypto.encode(ei,ea),eh=await this.core.history.get(ei,et),eu=e9[eh.request.method].res;await this.core.relayer.publish(ei,ec,eu),await this.core.history.resolve(ea)},this.sendError=async(et,ei,eo)=>{let ea=(0,ew.formatJsonRpcError)(et,eo),ec=await this.core.crypto.encode(ei,ea),eh=await this.core.history.get(ei,et),eu=e9[eh.request.method]?e9[eh.request.method].res:e9.unregistered_method.res;await this.core.relayer.publish(ei,ec,eu),await this.core.history.resolve(ea)},this.deletePairing=async(et,ei)=>{await this.core.relayer.unsubscribe(et),await Promise.all([this.pairings.delete(et,(0,ey.getSdkError)("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(et),ei?Promise.resolve():this.core.expirer.del(et)])},this.cleanup=async()=>{let et=this.pairings.getAll().filter(et=>(0,ey.isExpired)(et.expiry));await Promise.all(et.map(et=>this.deletePairing(et.topic)))},this.onRelayEventRequest=et=>{let{topic:ei,payload:eo}=et;switch(eo.method){case"wc_pairingPing":return this.onPairingPingRequest(ei,eo);case"wc_pairingDelete":return this.onPairingDeleteRequest(ei,eo);default:return this.onUnknownRpcMethodRequest(ei,eo)}},this.onRelayEventResponse=async et=>{let{topic:ei,payload:eo}=et,ea=(await this.core.history.get(ei,eo.id)).request.method;return"wc_pairingPing"===ea?this.onPairingPingResponse(ei,eo):this.onUnknownRpcMethodResponse(ea)},this.onPairingPingRequest=async(et,ei)=>{let{id:eo}=ei;try{this.isValidPing({topic:et}),await this.sendResult(eo,et,!0),this.events.emit(tt.ping,{id:eo,topic:et})}catch(ei){await this.sendError(eo,et,ei),this.logger.error(ei)}},this.onPairingPingResponse=(et,ei)=>{let{id:eo}=ei;setTimeout(()=>{(0,ew.isJsonRpcResult)(ei)?this.events.emit((0,ey.engineEvent)("pairing_ping",eo),{}):(0,ew.isJsonRpcError)(ei)&&this.events.emit((0,ey.engineEvent)("pairing_ping",eo),{error:ei.error})},500)},this.onPairingDeleteRequest=async(et,ei)=>{let{id:eo}=ei;try{this.isValidDisconnect({topic:et}),await this.deletePairing(et),this.events.emit(tt.delete,{id:eo,topic:et})}catch(ei){await this.sendError(eo,et,ei),this.logger.error(ei)}},this.onUnknownRpcMethodRequest=async(et,ei)=>{let{id:eo,method:ea}=ei;try{if(this.registeredMethods.includes(ea))return;let ei=(0,ey.getSdkError)("WC_METHOD_UNSUPPORTED",ea);await this.sendError(eo,et,ei),this.logger.error(ei)}catch(ei){await this.sendError(eo,et,ei),this.logger.error(ei)}},this.onUnknownRpcMethodResponse=et=>{this.registeredMethods.includes(et)||this.logger.error((0,ey.getSdkError)("WC_METHOD_UNSUPPORTED",et))},this.isValidPair=(et,ei)=>{var eo;if(!(0,ey.isValidParams)(et)){let{message:eo}=(0,ey.getInternalError)("MISSING_OR_INVALID",`pair() params: ${et}`);throw ei.setError(tE.malformed_pairing_uri),Error(eo)}if(!(0,ey.isValidUrl)(et.uri)){let{message:eo}=(0,ey.getInternalError)("MISSING_OR_INVALID",`pair() uri: ${et.uri}`);throw ei.setError(tE.malformed_pairing_uri),Error(eo)}let ea=(0,ey.parseUri)(et?.uri);if(null==(eo=ea?.relay)||!eo.protocol){let{message:et}=(0,ey.getInternalError)("MISSING_OR_INVALID","pair() uri#relay-protocol");throw ei.setError(tE.malformed_pairing_uri),Error(et)}if(null==ea||!ea.symKey){let{message:et}=(0,ey.getInternalError)("MISSING_OR_INVALID","pair() uri#symKey");throw ei.setError(tE.malformed_pairing_uri),Error(et)}if(null!=ea&&ea.expiryTimestamp&&(0,eh.toMiliseconds)(ea?.expiryTimestamp)<Date.now()){ei.setError(tE.pairing_expired);let{message:et}=(0,ey.getInternalError)("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw Error(et)}},this.isValidPing=async et=>{if(!(0,ey.isValidParams)(et)){let{message:ei}=(0,ey.getInternalError)("MISSING_OR_INVALID",`ping() params: ${et}`);throw Error(ei)}let{topic:ei}=et;await this.isValidPairingTopic(ei)},this.isValidDisconnect=async et=>{if(!(0,ey.isValidParams)(et)){let{message:ei}=(0,ey.getInternalError)("MISSING_OR_INVALID",`disconnect() params: ${et}`);throw Error(ei)}let{topic:ei}=et;await this.isValidPairingTopic(ei)},this.isValidPairingTopic=async et=>{if(!(0,ey.isValidString)(et,!1)){let{message:ei}=(0,ey.getInternalError)("MISSING_OR_INVALID",`pairing topic should be a string: ${et}`);throw Error(ei)}if(!this.pairings.keys.includes(et)){let{message:ei}=(0,ey.getInternalError)("NO_MATCHING_KEY",`pairing topic doesn't exist: ${et}`);throw Error(ei)}if((0,ey.isExpired)(this.pairings.get(et).expiry)){await this.deletePairing(et);let{message:ei}=(0,ey.getInternalError)("EXPIRED",`pairing topic: ${et}`);throw Error(ei)}},this.core=et,this.logger=(0,ep.U5)(ei,this.name),this.pairings=new Br(this.core,this.logger,this.name,this.storagePrefix)}get context(){return(0,ep.oI)(this.logger)}isInitialized(){if(!this.initialized){let{message:et}=(0,ey.getInternalError)("NOT_INITIALIZED",this.name);throw Error(et)}}registerRelayerEvents(){this.core.relayer.on(ez.message,async et=>{let{topic:ei,message:eo,transportType:ea}=et;if(!this.pairings.keys.includes(ei)||ea===eX.link_mode||this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(eo)))return;let ec=await this.core.crypto.decode(ei,eo);try{(0,ew.isJsonRpcRequest)(ec)?(this.core.history.set(ei,ec),this.onRelayEventRequest({topic:ei,payload:ec})):(0,ew.isJsonRpcResponse)(ec)&&(await this.core.history.resolve(ec),await this.onRelayEventResponse({topic:ei,payload:ec}),this.core.history.delete(ei,ec.id))}catch(et){this.logger.error(et)}})}registerExpirerEvents(){this.core.expirer.on(tu.expired,async et=>{let{topic:ei}=(0,ey.parseExpirerTarget)(et.target);ei&&this.pairings.keys.includes(ei)&&(await this.deletePairing(ei,!0),this.events.emit(tt.expire,{topic:ei}))})}};let jr=class jr extends eb.lZ{constructor(et,ei){super(et,ei),this.core=et,this.logger=ei,this.records=new Map,this.events=new ea.EventEmitter,this.name=ta,this.version=tc,this.cached=[],this.initialized=!1,this.storagePrefix=ex,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(et=>this.records.set(et.id,et)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.set=(et,ei,eo)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:et,request:ei,chainId:eo}),this.records.has(ei.id))return;let ea={id:ei.id,topic:et,request:{method:ei.method,params:ei.params||null},chainId:eo,expiry:(0,ey.calcExpiry)(eh.THIRTY_DAYS)};this.records.set(ea.id,ea),this.persist(),this.events.emit(to.created,ea)},this.resolve=async et=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:et}),!this.records.has(et.id))return;let ei=await this.getRecord(et.id);typeof ei.response>"u"&&(ei.response=(0,ew.isJsonRpcError)(et)?{error:et.error}:{result:et.result},this.records.set(ei.id,ei),this.persist(),this.events.emit(to.updated,ei))},this.get=async(et,ei)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:et,id:ei}),await this.getRecord(ei)),this.delete=(et,ei)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:ei}),this.values.forEach(eo=>{eo.topic!==et||"u">typeof ei&&eo.id!==ei||(this.records.delete(eo.id),this.events.emit(to.deleted,eo))}),this.persist()},this.exists=async(et,ei)=>(this.isInitialized(),!!this.records.has(ei)&&(await this.getRecord(ei)).topic===et),this.on=(et,ei)=>{this.events.on(et,ei)},this.once=(et,ei)=>{this.events.once(et,ei)},this.off=(et,ei)=>{this.events.off(et,ei)},this.removeListener=(et,ei)=>{this.events.removeListener(et,ei)},this.logger=(0,ep.U5)(ei,this.name)}get context(){return(0,ep.oI)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){let et=[];return this.values.forEach(ei=>{if("u">typeof ei.response)return;let eo={topic:ei.topic,request:(0,ew.formatJsonRpcRequest)(ei.request.method,ei.request.params,ei.id),chainId:ei.chainId};return et.push(eo)}),et}async setJsonRpcRecords(et){await this.core.storage.setItem(this.storageKey,et)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(et){this.isInitialized();let ei=this.records.get(et);if(!ei){let{message:ei}=(0,ey.getInternalError)("NO_MATCHING_KEY",`${this.name}: ${et}`);throw Error(ei)}return ei}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(to.sync)}async restore(){try{let et=await this.getJsonRpcRecords();if(typeof et>"u"||!et.length)return;if(this.records.size){let{message:et}=(0,ey.getInternalError)("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(et),Error(et)}this.cached=et,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(et){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(et)}}registerEventListeners(){this.events.on(to.created,et=>{let ei=to.created;this.logger.info(`Emitting ${ei}`),this.logger.debug({type:"event",event:ei,record:et})}),this.events.on(to.updated,et=>{let ei=to.updated;this.logger.info(`Emitting ${ei}`),this.logger.debug({type:"event",event:ei,record:et})}),this.events.on(to.deleted,et=>{let ei=to.deleted;this.logger.info(`Emitting ${ei}`),this.logger.debug({type:"event",event:ei,record:et})}),this.core.heartbeat.on(ef,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let et=!1;this.records.forEach(ei=>{(0,eh.toMiliseconds)(ei.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${ei.id}`),this.records.delete(ei.id),this.events.emit(to.deleted,ei,!1),et=!0)}),et&&this.persist()}catch(et){this.logger.warn(et)}}isInitialized(){if(!this.initialized){let{message:et}=(0,ey.getInternalError)("NOT_INITIALIZED",this.name);throw Error(et)}}};let Dr=class Dr extends eb.Vx{constructor(et,ei){super(et,ei),this.core=et,this.logger=ei,this.expirations=new Map,this.events=new ea.EventEmitter,this.name=th,this.version=td,this.cached=[],this.initialized=!1,this.storagePrefix=ex,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(et=>this.expirations.set(et.target,et)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.has=et=>{try{let ei=this.formatTarget(et);return"u">typeof this.getExpiration(ei)}catch{return!1}},this.set=(et,ei)=>{this.isInitialized();let eo=this.formatTarget(et),ea={target:eo,expiry:ei};this.expirations.set(eo,ea),this.checkExpiry(eo,ea),this.events.emit(tu.created,{target:eo,expiration:ea})},this.get=et=>{this.isInitialized();let ei=this.formatTarget(et);return this.getExpiration(ei)},this.del=et=>{if(this.isInitialized(),this.has(et)){let ei=this.formatTarget(et),eo=this.getExpiration(ei);this.expirations.delete(ei),this.events.emit(tu.deleted,{target:ei,expiration:eo})}},this.on=(et,ei)=>{this.events.on(et,ei)},this.once=(et,ei)=>{this.events.once(et,ei)},this.off=(et,ei)=>{this.events.off(et,ei)},this.removeListener=(et,ei)=>{this.events.removeListener(et,ei)},this.logger=(0,ep.U5)(ei,this.name)}get context(){return(0,ep.oI)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(et){if("string"==typeof et)return(0,ey.formatTopicTarget)(et);if("number"==typeof et)return(0,ey.formatIdTarget)(et);let{message:ei}=(0,ey.getInternalError)("UNKNOWN_TYPE","Target type: "+typeof et);throw Error(ei)}async setExpirations(et){await this.core.storage.setItem(this.storageKey,et)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(tu.sync)}async restore(){try{let et=await this.getExpirations();if(typeof et>"u"||!et.length)return;if(this.expirations.size){let{message:et}=(0,ey.getInternalError)("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(et),Error(et)}this.cached=et,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(et){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(et)}}getExpiration(et){let ei=this.expirations.get(et);if(!ei){let{message:ei}=(0,ey.getInternalError)("NO_MATCHING_KEY",`${this.name}: ${et}`);throw this.logger.warn(ei),Error(ei)}return ei}checkExpiry(et,ei){let{expiry:eo}=ei;(0,eh.toMiliseconds)(eo)-Date.now()<=0&&this.expire(et,ei)}expire(et,ei){this.expirations.delete(et),this.events.emit(tu.expired,{target:et,expiration:ei})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((et,ei)=>this.checkExpiry(ei,et))}registerEventListeners(){this.core.heartbeat.on(ef,()=>this.checkExpirations()),this.events.on(tu.created,et=>{let ei=tu.created;this.logger.info(`Emitting ${ei}`),this.logger.debug({type:"event",event:ei,data:et}),this.persist()}),this.events.on(tu.expired,et=>{let ei=tu.expired;this.logger.info(`Emitting ${ei}`),this.logger.debug({type:"event",event:ei,data:et}),this.persist()}),this.events.on(tu.deleted,et=>{let ei=tu.deleted;this.logger.info(`Emitting ${ei}`),this.logger.debug({type:"event",event:ei,data:et}),this.persist()})}isInitialized(){if(!this.initialized){let{message:et}=(0,ey.getInternalError)("NOT_INITIALIZED",this.name);throw Error(et)}}};let qr=class qr extends eb.zl{constructor(et,ei,eo){super(et,ei,eo),this.core=et,this.logger=ei,this.store=eo,this.name=tl,this.verifyUrlV3=tg,this.storagePrefix=ex,this.version=eI,this.init=async()=>{var et;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&(0,eh.toMiliseconds)(null==(et=this.publicKey)?void 0:et.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))},this.register=async et=>{if(!(0,ey.isBrowser)()||this.isDevEnv)return;let ei=window.location.origin,{id:eo,decryptedId:ea}=et,ec=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${ei}&id=${eo}&decryptedId=${ea}`;try{let et=(0,eA.getDocument)(),ei=this.startAbortTimer(5*eh.ONE_SECOND),ea=await new Promise((ea,eh)=>{let o=()=>{window.removeEventListener("message",c),et.body.removeChild(eu),eh("attestation aborted")};this.abortController.signal.addEventListener("abort",o);let eu=et.createElement("iframe");eu.src=ec,eu.style.display="none",eu.addEventListener("error",o,{signal:this.abortController.signal});let c=ec=>{if(ec.data&&"string"==typeof ec.data)try{let eh=JSON.parse(ec.data);if("verify_attestation"===eh.type){if((0,em.decodeJWT)(eh.attestation).payload.id!==eo)return;clearInterval(ei),et.body.removeChild(eu),this.abortController.signal.removeEventListener("abort",o),window.removeEventListener("message",c),ea(null===eh.attestation?"":eh.attestation)}}catch(et){this.logger.warn(et)}};et.body.appendChild(eu),window.addEventListener("message",c,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",ea),ea}catch(et){this.logger.warn(et)}return""},this.resolve=async et=>{if(this.isDevEnv)return"";let{attestationId:ei,hash:eo,encryptedId:ea}=et;if(""===ei)return void this.logger.debug("resolve: attestationId is empty, skipping");if(ei){if((0,em.decodeJWT)(ei).payload.id!==ea)return;let et=await this.isValidJwtAttestation(ei);if(et)return et.isVerified?et:void this.logger.warn("resolve: jwt attestation: origin url not verified")}if(!eo)return;let ec=this.getVerifyUrl(et?.verifyUrl);return this.fetchAttestation(eo,ec)},this.fetchAttestation=async(et,ei)=>{this.logger.debug(`resolving attestation: ${et} from url: ${ei}`);let eo=this.startAbortTimer(5*eh.ONE_SECOND),ea=await fetch(`${ei}/attestation/${et}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(eo),200===ea.status?await ea.json():void 0},this.getVerifyUrl=et=>{let ei=et||tb;return tm.includes(ei)||(this.logger.info(`verify url: ${ei}, not included in trusted list, assigning default: ${tb}`),ei=tb),ei},this.fetchPublicKey=async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);let et=this.startAbortTimer(eh.FIVE_SECONDS),ei=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(et),await ei.json()}catch(et){this.logger.warn(et)}},this.persistPublicKey=async et=>{this.logger.debug("persisting public key to local storage",et),await this.store.setItem(this.storeKey,et),this.publicKey=et},this.removePublicKey=async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0},this.isValidJwtAttestation=async et=>{let ei=await this.getPublicKey();try{if(ei)return this.validateAttestation(et,ei)}catch(et){this.logger.error(et),this.logger.warn("error validating attestation")}let eo=await this.fetchAndPersistPublicKey();try{if(eo)return this.validateAttestation(et,eo)}catch(et){this.logger.error(et),this.logger.warn("error validating attestation")}},this.getPublicKey=async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey(),this.fetchAndPersistPublicKey=async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async et=>{let ei=await this.fetchPublicKey();ei&&(await this.persistPublicKey(ei),et(ei))});let et=await this.fetchPromise;return this.fetchPromise=void 0,et},this.validateAttestation=(et,ei)=>{let eo=(0,ey.verifyP256Jwt)(et,ei.publicKey),ea={hasExpired:(0,eh.toMiliseconds)(eo.exp)<Date.now(),payload:eo};if(ea.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),Error("JWT attestation expired");return{origin:ea.payload.origin,isScam:ea.payload.isScam,isVerified:ea.payload.isVerified}},this.logger=(0,ep.U5)(ei,this.name),this.abortController=new AbortController,this.isDevEnv=(0,ey.isTestRun)(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return(0,ep.oI)(this.logger)}startAbortTimer(et){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),(0,eh.toMiliseconds)(et))}};let Fr=class Fr extends eb.GF{constructor(et,ei){super(et,ei),this.projectId=et,this.logger=ei,this.context=ty,this.registerDeviceToken=async et=>{let{clientId:ei,token:eo,notificationType:ea,enableEncrypted:ec=!1}=et,eh=`${tv}/${this.projectId}/clients`;await fetch(eh,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:ei,type:ea,token:eo,always_raw:ec})})},this.logger=(0,ep.U5)(ei,this.context)}};var rR=Object.defineProperty,rk=Object.getOwnPropertySymbols,rP=Object.prototype.hasOwnProperty,rO=Object.prototype.propertyIsEnumerable,Kr=(et,ei,eo)=>ei in et?rR(et,ei,{enumerable:!0,configurable:!0,writable:!0,value:eo}):et[ei]=eo,Gr=(et,ei)=>{for(var eo in ei||(ei={}))rP.call(ei,eo)&&Kr(et,eo,ei[eo]);if(rk)for(var eo of rk(ei))rO.call(ei,eo)&&Kr(et,eo,ei[eo]);return et};let Wr=class Wr extends eb.$Q{constructor(et,ei,eo=!0){super(et,ei,eo),this.core=et,this.logger=ei,this.context=tx,this.storagePrefix=ex,this.storageVersion=tT,this.events=new Map,this.shouldPersist=!1,this.init=async()=>{if(!(0,ey.isTestRun)())try{let et={eventId:(0,ey.uuidv4)(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:(0,ey.formatUA)(this.core.relayer.protocol,this.core.relayer.version,eJ)}}};await this.sendEvent([et])}catch(et){this.logger.warn(et)}},this.createEvent=et=>{let{event:ei="ERROR",type:eo="",properties:{topic:ea,trace:ec}}=et,eh=(0,ey.uuidv4)(),eu=this.core.projectId||"",ed=Date.now(),ef=Gr({eventId:eh,timestamp:ed,props:{event:ei,type:eo,properties:{topic:ea,trace:ec}},bundleId:eu,domain:this.getAppDomain()},this.setMethods(eh));return this.telemetryEnabled&&(this.events.set(eh,ef),this.shouldPersist=!0),ef},this.getEvent=et=>{let{eventId:ei,topic:eo}=et;if(ei)return this.events.get(ei);let ea=Array.from(this.events.values()).find(et=>et.props.properties.topic===eo);return ea?Gr(Gr({},ea),this.setMethods(ea.eventId)):void 0},this.deleteEvent=et=>{let{eventId:ei}=et;this.events.delete(ei),this.shouldPersist=!0},this.setEventListeners=()=>{this.core.heartbeat.on(ef,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(et=>{(0,eh.fromMiliseconds)(Date.now())-(0,eh.fromMiliseconds)(et.timestamp)>tC&&(this.events.delete(et.eventId),this.shouldPersist=!0)})})},this.setMethods=et=>({addTrace:ei=>this.addTrace(et,ei),setError:ei=>this.setError(et,ei)}),this.addTrace=(et,ei)=>{let eo=this.events.get(et);eo&&(eo.props.properties.trace.push(ei),this.events.set(et,eo),this.shouldPersist=!0)},this.setError=(et,ei)=>{let eo=this.events.get(et);eo&&(eo.props.type=ei,eo.timestamp=Date.now(),this.events.set(et,eo),this.shouldPersist=!0)},this.persist=async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1},this.restore=async()=>{try{let et=await this.core.storage.getItem(this.storageKey)||[];if(!et.length)return;et.forEach(et=>{this.events.set(et.eventId,Gr(Gr({},et),this.setMethods(et.eventId)))})}catch(et){this.logger.warn(et)}},this.submit=async()=>{if(!this.telemetryEnabled||0===this.events.size)return;let et=[];for(let[ei,eo]of this.events)eo.props.type&&et.push(eo);if(0!==et.length)try{if((await this.sendEvent(et)).ok)for(let ei of et)this.events.delete(ei.eventId),this.shouldPersist=!0}catch(et){this.logger.warn(et)}},this.sendEvent=async et=>{let ei=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${tR}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${eJ}${ei}`,{method:"POST",body:JSON.stringify(et)})},this.getAppDomain=()=>(0,ey.getAppMetadata)().url,this.logger=(0,ep.U5)(ei,this.context),this.telemetryEnabled=eo,eo?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}};var rN=Object.defineProperty,rU=Object.getOwnPropertySymbols,rB=Object.prototype.hasOwnProperty,rL=Object.prototype.propertyIsEnumerable,Qr=(et,ei,eo)=>ei in et?rN(et,ei,{enumerable:!0,configurable:!0,writable:!0,value:eo}):et[ei]=eo,en=(et,ei)=>{for(var eo in ei||(ei={}))rB.call(ei,eo)&&Qr(et,eo,ei[eo]);if(rU)for(var eo of rU(ei))rL.call(ei,eo)&&Qr(et,eo,ei[eo]);return et};let tn=class tn extends eb.ZP{constructor(et){var ei;super(et),this.protocol=eM,this.version=eI,this.name=eT,this.events=new ea.EventEmitter,this.initialized=!1,this.on=(et,ei)=>this.events.on(et,ei),this.once=(et,ei)=>this.events.once(et,ei),this.off=(et,ei)=>this.events.off(et,ei),this.removeListener=(et,ei)=>this.events.removeListener(et,ei),this.dispatchEnvelope=({topic:et,message:ei,sessionExists:eo})=>{if(!et||!ei)return;let ea={topic:et,message:ei,publishedAt:Date.now(),transportType:eX.link_mode};this.relayer.onLinkMessageEvent(ea,{sessionExists:eo})},this.projectId=et?.projectId,this.relayUrl=et?.relayUrl||eH,this.customStoragePrefix=null!=et&&et.customStoragePrefix?`:${et.customStoragePrefix}`:"";let eo=(0,ep.iP)({level:"string"==typeof et?.logger&&et.logger?et.logger:eC.logger}),{logger:ec,chunkLoggerController:eh}=(0,ep.D5)({opts:eo,maxSizeInBytes:et?.maxLogBlobSizeInBytes,loggerOverride:et?.logger});this.logChunkController=eh,null!=(ei=this.logChunkController)&&ei.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var et,ei;null!=(et=this.logChunkController)&&et.downloadLogsBlobInBrowser&&(null==(ei=this.logChunkController)||ei.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=(0,ep.U5)(ec,this.name),this.heartbeat=new u,this.crypto=new hr(this,this.logger,et?.keychain),this.history=new jr(this,this.logger),this.expirer=new Dr(this,this.logger),this.storage=null!=et&&et.storage?et.storage:new el.default(en(en({},eR),et?.storageOptions)),this.relayer=new Cr({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new Lr(this,this.logger),this.verify=new qr(this,this.logger,this.storage),this.echoClient=new Fr(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new Wr(this,this.logger,et?.telemetryEnabled)}static async init(et){let ei=new tn(et);await ei.initialize();let eo=await ei.crypto.getClientId();return await ei.storage.setItem(eQ,eo),ei}get context(){return(0,ep.oI)(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var et;return null==(et=this.logChunkController)?void 0:et.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(et){this.linkModeSupportedApps.includes(et)||(this.linkModeSupportedApps.push(et),await this.storage.setItem(e0,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.eventClient.init(),this.linkModeSupportedApps=await this.storage.getItem(e0)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(et){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,et),this.logger.error(et.message),et}}};let rD=tn},9441:(et,ei,eo)=>{"use strict";function n(){return(null===eo.g||void 0===eo.g?void 0:eo.g.crypto)||(null===eo.g||void 0===eo.g?void 0:eo.g.msCrypto)||{}}function i(){let et=n();return et.subtle||et.webkitSubtle}Object.defineProperty(ei,"__esModule",{value:!0}),ei.isBrowserCryptoAvailable=ei.getSubtleCrypto=ei.getBrowerCrypto=void 0,ei.getBrowerCrypto=n,ei.getSubtleCrypto=i,ei.isBrowserCryptoAvailable=function(){return!!n()&&!!i()}},7149:(et,ei)=>{"use strict";function r(){return"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product}function n(){return void 0!==ea&&void 0!==ea.versions&&void 0!==ea.versions.node}Object.defineProperty(ei,"__esModule",{value:!0}),ei.isBrowser=ei.isNode=ei.isReactNative=void 0,ei.isReactNative=r,ei.isNode=n,ei.isBrowser=function(){return!r()&&!n()}},7502:(et,ei,eo)=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0});let ea=eo(5927);ea.__exportStar(eo(9441),ei),ea.__exportStar(eo(7149),ei)},9920:(et,ei,eo)=>{"use strict";eo.d(ei,{H:()=>n});let n=class n{}},6391:(et,ei,eo)=>{"use strict";eo.d(ei,{Uf:()=>eu,XW:()=>ed,fO:()=>ec,jf:()=>eh,zR:()=>ea});let ea="INTERNAL_ERROR",ec="SERVER_ERROR",eh=[-32700,-32600,-32601,-32602,-32603],eu={PARSE_ERROR:{code:-32700,message:"Parse error"},INVALID_REQUEST:{code:-32600,message:"Invalid Request"},METHOD_NOT_FOUND:{code:-32601,message:"Method not found"},INVALID_PARAMS:{code:-32602,message:"Invalid params"},[ea]:{code:-32603,message:"Internal error"},[ec]:{code:-32e3,message:"Server error"}},ed=ec},661:(et,ei,eo)=>{"use strict";var ea=eo(7502);eo.o(ea,"IJsonRpcProvider")&&eo.d(ei,{IJsonRpcProvider:function(){return ea.IJsonRpcProvider}}),eo.o(ea,"formatJsonRpcError")&&eo.d(ei,{formatJsonRpcError:function(){return ea.formatJsonRpcError}}),eo.o(ea,"formatJsonRpcRequest")&&eo.d(ei,{formatJsonRpcRequest:function(){return ea.formatJsonRpcRequest}}),eo.o(ea,"formatJsonRpcResult")&&eo.d(ei,{formatJsonRpcResult:function(){return ea.formatJsonRpcResult}}),eo.o(ea,"getBigIntRpcId")&&eo.d(ei,{getBigIntRpcId:function(){return ea.getBigIntRpcId}}),eo.o(ea,"isJsonRpcError")&&eo.d(ei,{isJsonRpcError:function(){return ea.isJsonRpcError}}),eo.o(ea,"isJsonRpcRequest")&&eo.d(ei,{isJsonRpcRequest:function(){return ea.isJsonRpcRequest}}),eo.o(ea,"isJsonRpcResponse")&&eo.d(ei,{isJsonRpcResponse:function(){return ea.isJsonRpcResponse}}),eo.o(ea,"isJsonRpcResult")&&eo.d(ei,{isJsonRpcResult:function(){return ea.isJsonRpcResult}}),eo.o(ea,"isLocalhostUrl")&&eo.d(ei,{isLocalhostUrl:function(){return ea.isLocalhostUrl}}),eo.o(ea,"isReactNative")&&eo.d(ei,{isReactNative:function(){return ea.isReactNative}}),eo.o(ea,"isWsUrl")&&eo.d(ei,{isWsUrl:function(){return ea.isWsUrl}}),eo.o(ea,"payloadId")&&eo.d(ei,{payloadId:function(){return ea.payloadId}})},6948:(et,ei,eo)=>{"use strict";eo.d(ei,{eF:()=>a,mE:()=>i,rI:()=>o,vG:()=>s});var ea=eo(6391);function i(et){return ea.jf.includes(et)}function s(et){return Object.keys(ea.Uf).includes(et)?ea.Uf[et]:ea.Uf[ea.XW]}function o(et){return Object.values(ea.Uf).find(ei=>ei.code===et)||ea.Uf[ea.XW]}function a(et,ei,eo){return et.message.includes("getaddrinfo ENOTFOUND")||et.message.includes("connect ECONNREFUSED")?Error(`Unavailable ${eo} RPC url at ${ei}`):et}},3863:(et,ei,eo)=>{"use strict";eo.d(ei,{ER:()=>s,Im:()=>c,dZ:()=>h,eX:()=>o,e_:()=>a});var ea=eo(6948),ec=eo(6391);function s(et=3){return Date.now()*Math.pow(10,et)+Math.floor(Math.random()*Math.pow(10,et))}function o(et=6){return BigInt(s(et))}function a(et,ei,eo){return{id:eo||s(),jsonrpc:"2.0",method:et,params:ei}}function c(et,ei){return{id:et,jsonrpc:"2.0",result:ei}}function h(et,ei,eo){var eh;return{id:et,jsonrpc:"2.0",error:void 0===(eh=ei)?(0,ea.vG)(ec.zR):("string"==typeof eh&&(eh=Object.assign(Object.assign({},(0,ea.vG)(ec.fO)),{message:eh})),void 0!==eo&&(eh.data=eo),(0,ea.mE)(eh.code)&&(eh=(0,ea.rI)(eh.code)),eh)}}},3526:(et,ei,eo)=>{"use strict";eo.d(ei,{IJsonRpcProvider:()=>eu.kF,formatJsonRpcError:()=>eh.dZ,formatJsonRpcRequest:()=>eh.e_,formatJsonRpcResult:()=>eh.Im,getBigIntRpcId:()=>eh.eX,isJsonRpcError:()=>ef.U$,isJsonRpcRequest:()=>ef.p3,isJsonRpcResponse:()=>ef.tq,isJsonRpcResult:()=>ef.xT,isLocalhostUrl:()=>ed.z,isWsUrl:()=>ed.A1,parseConnectionError:()=>ea.eF,payloadId:()=>eh.ER}),eo(6391);var ea=eo(6948),ec=eo(661);eo.o(ec,"IJsonRpcProvider")&&eo.d(ei,{IJsonRpcProvider:function(){return ec.IJsonRpcProvider}}),eo.o(ec,"formatJsonRpcError")&&eo.d(ei,{formatJsonRpcError:function(){return ec.formatJsonRpcError}}),eo.o(ec,"formatJsonRpcRequest")&&eo.d(ei,{formatJsonRpcRequest:function(){return ec.formatJsonRpcRequest}}),eo.o(ec,"formatJsonRpcResult")&&eo.d(ei,{formatJsonRpcResult:function(){return ec.formatJsonRpcResult}}),eo.o(ec,"getBigIntRpcId")&&eo.d(ei,{getBigIntRpcId:function(){return ec.getBigIntRpcId}}),eo.o(ec,"isJsonRpcError")&&eo.d(ei,{isJsonRpcError:function(){return ec.isJsonRpcError}}),eo.o(ec,"isJsonRpcRequest")&&eo.d(ei,{isJsonRpcRequest:function(){return ec.isJsonRpcRequest}}),eo.o(ec,"isJsonRpcResponse")&&eo.d(ei,{isJsonRpcResponse:function(){return ec.isJsonRpcResponse}}),eo.o(ec,"isJsonRpcResult")&&eo.d(ei,{isJsonRpcResult:function(){return ec.isJsonRpcResult}}),eo.o(ec,"isLocalhostUrl")&&eo.d(ei,{isLocalhostUrl:function(){return ec.isLocalhostUrl}}),eo.o(ec,"isReactNative")&&eo.d(ei,{isReactNative:function(){return ec.isReactNative}}),eo.o(ec,"isWsUrl")&&eo.d(ei,{isWsUrl:function(){return ec.isWsUrl}}),eo.o(ec,"payloadId")&&eo.d(ei,{payloadId:function(){return ec.payloadId}});var eh=eo(3863),eu=eo(4110),ed=eo(7919),ef=eo(983)},4110:(et,ei,eo)=>{"use strict";eo.d(ei,{kF:()=>s});let n=class n{};let i=class i extends n{constructor(){super()}};let s=class s extends i{constructor(et){super()}}},7919:(et,ei,eo)=>{"use strict";function i(et){return function(et,ei){let eo=function(et){let ei=et.match(RegExp(/^\w+:/,"gi"));if(ei&&ei.length)return ei[0]}(et);return void 0!==eo&&new RegExp(ei).test(eo)}(et,"^wss?:")}function s(et){return RegExp("wss?://localhost(:d{2,5})?").test(et)}eo.d(ei,{A1:()=>i,z:()=>s})},983:(et,ei,eo)=>{"use strict";function n(et){return"object"==typeof et&&"id"in et&&"jsonrpc"in et&&"2.0"===et.jsonrpc}function i(et){return n(et)&&"method"in et}function s(et){return n(et)&&(o(et)||a(et))}function o(et){return"result"in et}function a(et){return"error"in et}eo.d(ei,{U$:()=>a,p3:()=>i,tq:()=>s,xT:()=>o})},6446:(et,ei,eo)=>{"use strict";let ea;eo.r(ei),eo.d(ei,{KeyValueStorage:()=>R,default:()=>R});let eh=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,eu=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,ed=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function o(et,ei){if(!("__proto__"===et||"constructor"===et&&ei&&"object"==typeof ei&&"prototype"in ei))return ei;console.warn(`[destr] Dropping "${et}" key to prevent prototype pollution.`)}function a(et,ei={}){if("string"!=typeof et)return et;let eo=et.trim();if('"'===et[0]&&'"'===et.at(-1)&&!et.includes("\\"))return eo.slice(1,-1);if(eo.length<=9){let et=eo.toLowerCase();if("true"===et)return!0;if("false"===et)return!1;if("undefined"===et)return;if("null"===et)return null;if("nan"===et)return Number.NaN;if("infinity"===et)return Number.POSITIVE_INFINITY;if("-infinity"===et)return Number.NEGATIVE_INFINITY}if(!ed.test(et)){if(ei.strict)throw SyntaxError("[destr] Invalid JSON");return et}try{if(eh.test(et)||eu.test(et)){if(ei.strict)throw Error("[destr] Possible prototype pollution");return JSON.parse(et,o)}return JSON.parse(et)}catch(eo){if(ei.strict)throw eo;return et}}function c(et,...ei){var eo;try{return(eo=et(...ei))&&"function"==typeof eo.then?eo:Promise.resolve(eo)}catch(et){return Promise.reject(et)}}function h(et){if(function(et){let ei=typeof et;return null===et||"object"!==ei&&"function"!==ei}(et))return String(et);if(function(et){let ei=Object.getPrototypeOf(et);return!ei||ei.isPrototypeOf(Object)}(et)||Array.isArray(et))return JSON.stringify(et);if("function"==typeof et.toJSON)return h(et.toJSON());throw Error("[unstorage] Cannot stringify value!")}let ef="base64:";function f(et){return et?et.split("?")[0].replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""):""}function p(et){return(et=f(et))?et+":":""}let b=()=>{let et=new Map;return{name:"memory",options:{},hasItem:ei=>et.has(ei),getItem:ei=>et.get(ei)??null,getItemRaw:ei=>et.get(ei)??null,setItem(ei,eo){et.set(ei,eo)},setItemRaw(ei,eo){et.set(ei,eo)},removeItem(ei){et.delete(ei)},getKeys:()=>Array.from(et.keys()),clear(){et.clear()},dispose(){et.clear()}}};function g(et,ei,eo){return et.watch?et.watch((et,ea)=>ei(et,eo+ea)):()=>{}}async function m(et){"function"==typeof et.dispose&&await c(et.dispose)}function y(et){return new Promise((ei,eo)=>{et.oncomplete=et.onsuccess=()=>ei(et.result),et.onabort=et.onerror=()=>eo(et.error)})}function v(et,ei){let eo=indexedDB.open(et);eo.onupgradeneeded=()=>eo.result.createObjectStore(ei);let ea=y(eo);return(et,eo)=>ea.then(ea=>eo(ea.transaction(ei,et).objectStore(ei)))}function _(){return ea||(ea=v("keyval-store","keyval")),ea}function E(et,ei=_()){return ei("readonly",ei=>y(ei.get(et)))}var el=eo(8916),A=(et={})=>{let ei;let eo=et.base&&et.base.length>0?`${et.base}:`:"",r=et=>eo+et;return et.dbName&&et.storeName&&(ei=v(et.dbName,et.storeName)),{name:"idb-keyval",options:et,hasItem:async et=>!(typeof await E(r(et),ei)>"u"),getItem:async et=>await E(r(et),ei)??null,setItem:(et,eo)=>(function(et,ei,eo=_()){return eo("readwrite",eo=>(eo.put(ei,et),y(eo.transaction)))})(r(et),eo,ei),removeItem:et=>(function(et,ei=_()){return ei("readwrite",ei=>(ei.delete(et),y(ei.transaction)))})(r(et),ei),getKeys:()=>(function(et=_()){return et("readonly",et=>{var ei;if(et.getAllKeys)return y(et.getAllKeys());let eo=[];return(ei=et=>eo.push(et.key),et.openCursor().onsuccess=function(){this.result&&(ei(this.result),this.result.continue())},y(et.transaction)).then(()=>eo)})})(ei),clear:()=>(function(et=_()){return et("readwrite",et=>(et.clear(),y(et.transaction)))})(ei)}};let M=class M{constructor(){this.indexedDb=function(et={}){let ei={mounts:{"":et.driver||b()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},r=et=>{for(let eo of ei.mountpoints)if(et.startsWith(eo))return{base:eo,relativeKey:et.slice(eo.length),driver:ei.mounts[eo]};return{base:"",relativeKey:et,driver:ei.mounts[""]}},n=(et,eo)=>ei.mountpoints.filter(ei=>ei.startsWith(et)||eo&&et.startsWith(ei)).map(eo=>({relativeBase:et.length>eo.length?et.slice(eo.length):void 0,mountpoint:eo,driver:ei.mounts[eo]})),i=(et,eo)=>{if(ei.watching)for(let ea of(eo=f(eo),ei.watchListeners))ea(et,eo)},s=async()=>{if(ei.watching){for(let et in ei.unwatch)await ei.unwatch[et]();ei.unwatch={},ei.watching=!1}},o=(et,ei,eo)=>{let ea=new Map,s=et=>{let ei=ea.get(et.base);return ei||(ei={driver:et.driver,base:et.base,items:[]},ea.set(et.base,ei)),ei};for(let eo of et){let et="string"==typeof eo,ea=f(et?eo:eo.key),ec=et?void 0:eo.value,eh=et||!eo.options?ei:{...ei,...eo.options},eu=r(ea);s(eu).items.push({key:ea,value:ec,relativeKey:eu.relativeKey,options:eh})}return Promise.all([...ea.values()].map(et=>eo(et))).then(et=>et.flat())},eo={hasItem(et,ei={}){et=f(et);let{relativeKey:eo,driver:ea}=r(et);return c(ea.hasItem,eo,ei)},getItem(et,ei={}){et=f(et);let{relativeKey:eo,driver:ea}=r(et);return c(ea.getItem,eo,ei).then(et=>a(et))},getItems:(et,ei)=>o(et,ei,et=>et.driver.getItems?c(et.driver.getItems,et.items.map(et=>({key:et.relativeKey,options:et.options})),ei).then(ei=>ei.map(ei=>({key:function(...et){return f(et.join(":"))}(et.base,ei.key),value:a(ei.value)}))):Promise.all(et.items.map(ei=>c(et.driver.getItem,ei.relativeKey,ei.options).then(et=>({key:ei.key,value:a(et)}))))),getItemRaw(et,ei={}){et=f(et);let{relativeKey:eo,driver:ea}=r(et);return ea.getItemRaw?c(ea.getItemRaw,eo,ei):c(ea.getItem,eo,ei).then(et=>"string"!=typeof et?et:et.startsWith(ef)?ec.from(et.slice(7),"base64"):et)},async setItem(et,ei,ea={}){if(void 0===ei)return eo.removeItem(et);et=f(et);let{relativeKey:ec,driver:eh}=r(et);eh.setItem&&(await c(eh.setItem,ec,h(ei),ea),eh.watch||i("update",et))},async setItems(et,ei){await o(et,ei,async et=>{et.driver.setItems&&await c(et.driver.setItems,et.items.map(et=>({key:et.relativeKey,value:h(et.value),options:et.options})),ei),et.driver.setItem&&await Promise.all(et.items.map(ei=>c(et.driver.setItem,ei.relativeKey,h(ei.value),ei.options)))})},async setItemRaw(et,ei,ea={}){if(void 0===ei)return eo.removeItem(et,ea);et=f(et);let{relativeKey:eh,driver:eu}=r(et);if(eu.setItemRaw)await c(eu.setItemRaw,eh,ei,ea);else{if(!eu.setItem)return;await c(eu.setItem,eh,function(et){if("string"==typeof et)return et;let ei=ec.from(et).toString("base64");return ef+ei}(ei),ea)}eu.watch||i("update",et)},async removeItem(et,ei={}){"boolean"==typeof ei&&(ei={removeMeta:ei}),et=f(et);let{relativeKey:eo,driver:ea}=r(et);ea.removeItem&&(await c(ea.removeItem,eo,ei),(ei.removeMeta||ei.removeMata)&&await c(ea.removeItem,eo+"$",ei),ea.watch||i("remove",et))},async getMeta(et,ei={}){"boolean"==typeof ei&&(ei={nativeOnly:ei}),et=f(et);let{relativeKey:eo,driver:ea}=r(et),ec=Object.create(null);if(ea.getMeta&&Object.assign(ec,await c(ea.getMeta,eo,ei)),!ei.nativeOnly){let et=await c(ea.getItem,eo+"$",ei).then(et=>a(et));et&&"object"==typeof et&&("string"==typeof et.atime&&(et.atime=new Date(et.atime)),"string"==typeof et.mtime&&(et.mtime=new Date(et.mtime)),Object.assign(ec,et))}return ec},setMeta(et,ei,eo={}){return this.setItem(et+"$",ei,eo)},removeMeta(et,ei={}){return this.removeItem(et+"$",ei)},async getKeys(et,ei={}){et=p(et);let eo=n(et,!0),ea=[],ec=[];for(let et of eo){let eo=(await c(et.driver.getKeys,et.relativeBase,ei)).map(ei=>et.mountpoint+f(ei)).filter(et=>!ea.some(ei=>et.startsWith(ei)));ec.push(...eo),ea=[et.mountpoint,...ea.filter(ei=>!ei.startsWith(et.mountpoint))]}return et?ec.filter(ei=>ei.startsWith(et)&&!ei.endsWith("$")):ec.filter(et=>!et.endsWith("$"))},async clear(et,ei={}){et=p(et),await Promise.all(n(et,!1).map(async et=>{if(et.driver.clear)return c(et.driver.clear,et.relativeBase,ei);if(et.driver.removeItem){let eo=await et.driver.getKeys(et.relativeBase||"",ei);return Promise.all(eo.map(eo=>et.driver.removeItem(eo,ei)))}}))},async dispose(){await Promise.all(Object.values(ei.mounts).map(et=>m(et)))},watch:async et=>(await (async()=>{if(!ei.watching)for(let et in ei.watching=!0,ei.mounts)ei.unwatch[et]=await g(ei.mounts[et],i,et)})(),ei.watchListeners.push(et),async()=>{ei.watchListeners=ei.watchListeners.filter(ei=>ei!==et),0===ei.watchListeners.length&&await s()}),async unwatch(){ei.watchListeners=[],await s()},mount(et,ea){if((et=p(et))&&ei.mounts[et])throw Error(`already mounted at ${et}`);return et&&(ei.mountpoints.push(et),ei.mountpoints.sort((et,ei)=>ei.length-et.length)),ei.mounts[et]=ea,ei.watching&&Promise.resolve(g(ea,i,et)).then(eo=>{ei.unwatch[et]=eo}).catch(console.error),eo},async unmount(et,eo=!0){(et=p(et))&&ei.mounts[et]&&(ei.watching&&et in ei.unwatch&&(ei.unwatch[et](),delete ei.unwatch[et]),eo&&await m(ei.mounts[et]),ei.mountpoints=ei.mountpoints.filter(ei=>ei!==et),delete ei.mounts[et])},getMount(et=""){et=f(et)+":";let ei=r(et);return{driver:ei.driver,base:ei.base}},getMounts:(et="",ei={})=>n(et=f(et),ei.parents).map(et=>({driver:et.driver,base:et.mountpoint}))};return eo}({driver:A({dbName:"WALLET_CONNECT_V2_INDEXED_DB",storeName:"keyvaluestorage"})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(et=>[et.key,et.value])}async getItem(et){let ei=await this.indexedDb.getItem(et);if(null!==ei)return ei}async setItem(et,ei){await this.indexedDb.setItem(et,(0,el.h)(ei))}async removeItem(et){await this.indexedDb.removeItem(et)}};var ep="u">typeof globalThis?globalThis:"u">typeof window?window:"u">typeof eo.g?eo.g:"u">typeof self?self:{},eb={exports:{}};function x(et){var ei;return[et[0],(0,el.j)(null!=(ei=et[1])?ei:"")]}!function(){function t(){}t.prototype.getItem=function(et){return this.hasOwnProperty(et)?String(this[et]):null},t.prototype.setItem=function(et,ei){this[et]=String(ei)},t.prototype.removeItem=function(et){delete this[et]},t.prototype.clear=function(){let et=this;Object.keys(et).forEach(function(ei){et[ei]=void 0,delete et[ei]})},t.prototype.key=function(et){return et=et||0,Object.keys(this)[et]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),"u">typeof ep&&ep.localStorage?eb.exports=ep.localStorage:"u">typeof window&&window.localStorage?eb.exports=window.localStorage:eb.exports=new t}();let C=class C{constructor(){this.localStorage=eb.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(x)}async getItem(et){let ei=this.localStorage.getItem(et);if(null!==ei)return(0,el.j)(ei)}async setItem(et,ei){this.localStorage.setItem(et,(0,el.h)(ei))}async removeItem(et){this.localStorage.removeItem(et)}};let R=class R{constructor(){this.initialized=!1,this.setInitialized=et=>{this.storage=et,this.initialized=!0};let et=new C;this.storage=et;try{(async(et,ei,eo)=>{let ea="wc_storage_version",ec=await ei.getItem(ea);if(ec&&ec>=1)return void eo(ei);let eh=await et.getKeys();if(!eh.length)return void eo(ei);let eu=[];for(;eh.length;){let eo=eh.shift();if(!eo)continue;let ea=eo.toLowerCase();if(ea.includes("wc@")||ea.includes("walletconnect")||ea.includes("wc_")||ea.includes("wallet_connect")){let ea=await et.getItem(eo);await ei.setItem(eo,ea),eu.push(eo)}}await ei.setItem(ea,1),eo(ei),(async(et,ei)=>{ei.length&&ei.forEach(async ei=>{await et.removeItem(ei)})})(et,eu)})(et,new M,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(et){return await this.initialize(),this.storage.getItem(et)}async setItem(et,ei){return await this.initialize(),this.storage.setItem(et,ei)}async removeItem(et){return await this.initialize(),this.storage.removeItem(et)}async initialize(){this.initialized||await new Promise(et=>{let ei=setInterval(()=>{this.initialized&&(clearInterval(ei),et())},20)})}}},6556:(et,ei,eo)=>{"use strict";eo.d(ei,{D5:()=>I,U5:()=>M,h6:()=>ec.a,iP:()=>S,oI:()=>A});var ea=eo(9798),ec=eo.n(ea),eh=eo(8916);let eu={level:"info"},ed="custom_context";let h=class h{constructor(et){this.nodeValue=et,this.sizeInBytes=(new TextEncoder).encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}};let u=class u{constructor(et){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=et,this.sizeInBytes=0}append(et){let ei=new h(et);if(ei.size>this.maxSizeInBytes)throw Error(`[LinkedList] Value too big to insert into list: ${et} with size ${ei.size}`);for(;this.size+ei.size>this.maxSizeInBytes;)this.shift();this.head?this.tail&&(this.tail.next=ei):this.head=ei,this.tail=ei,this.lengthInNodes++,this.sizeInBytes+=ei.size}shift(){if(!this.head)return;let et=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=et.size}toArray(){let et=[],ei=this.head;for(;null!==ei;)et.push(ei.value),ei=ei.next;return et}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let et=this.head;return{next:()=>{if(!et)return{done:!0,value:null};let ei=et.value;return et=et.next,{done:!1,value:ei}}}}};let d=class d{constructor(et,ei=1024e3){this.level=et??"error",this.levelValue=ea.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=ei,this.logs=new u(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(et,ei){ei===ea.levels.values.error?console.error(et):ei===ea.levels.values.warn?console.warn(et):ei===ea.levels.values.debug?console.debug(et):ei===ea.levels.values.trace?console.trace(et):console.log(et)}appendToLogs(et){this.logs.append((0,eh.h)({timestamp:(new Date).toISOString(),log:et}));let ei="string"==typeof et?JSON.parse(et).level:et.level;ei>=this.levelValue&&this.forwardToConsole(et,ei)}getLogs(){return this.logs}clearLogs(){this.logs=new u(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(et){let ei=this.getLogArray();return ei.push((0,eh.h)({extraMetadata:et})),new Blob(ei,{type:"application/json"})}};let f=class f{constructor(et,ei=1024e3){this.baseChunkLogger=new d(et,ei)}write(et){this.baseChunkLogger.appendToLogs(et)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(et){return this.baseChunkLogger.logsToBlob(et)}downloadLogsBlobInBrowser(et){let ei=URL.createObjectURL(this.logsToBlob(et)),eo=document.createElement("a");eo.href=ei,eo.download=`walletconnect-logs-${(new Date).toISOString()}.txt`,document.body.appendChild(eo),eo.click(),document.body.removeChild(eo),URL.revokeObjectURL(ei)}};let l=class l{constructor(et,ei=1024e3){this.baseChunkLogger=new d(et,ei)}write(et){this.baseChunkLogger.appendToLogs(et)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(et){return this.baseChunkLogger.logsToBlob(et)}};var ef=Object.defineProperty,el=Object.defineProperties,ep=Object.getOwnPropertyDescriptors,eb=Object.getOwnPropertySymbols,eg=Object.prototype.hasOwnProperty,em=Object.prototype.propertyIsEnumerable,w=(et,ei,eo)=>ei in et?ef(et,ei,{enumerable:!0,configurable:!0,writable:!0,value:eo}):et[ei]=eo,_=(et,ei)=>{for(var eo in ei||(ei={}))eg.call(ei,eo)&&w(et,eo,ei[eo]);if(eb)for(var eo of eb(ei))em.call(ei,eo)&&w(et,eo,ei[eo]);return et},E=(et,ei)=>el(et,ep(ei));function S(et){return E(_({},et),{level:et?.level||eu.level})}function A(et,ei=ed){return typeof et.bindings>"u"?function(et,ei=ed){return et[ei]||""}(et,ei):et.bindings().context||""}function M(et,ei,eo=ed){let ea=function(et,ei,eo=ed){let ea=A(et,eo);return ea.trim()?`${ea}/${ei}`:ei}(et,ei,eo);return function(et,ei,eo=ed){return et[eo]=ei,et}(et.child({context:ea}),ea,eo)}function I(et){return"u">typeof et.loggerOverride&&"string"!=typeof et.loggerOverride?{logger:et.loggerOverride,chunkLoggerController:null}:"u">typeof window?function(et){var ei,eo;let ea=new f(null==(ei=et.opts)?void 0:ei.level,et.maxSizeInBytes);return{logger:ec()(E(_({},et.opts),{level:"trace",browser:E(_({},null==(eo=et.opts)?void 0:eo.browser),{write:et=>ea.write(et)})})),chunkLoggerController:ea}}(et):function(et){var ei;let eo=new l(null==(ei=et.opts)?void 0:ei.level,et.maxSizeInBytes);return{logger:ec()(E(_({},et.opts),{level:"trace"}),eo),chunkLoggerController:eo}}(et)}},9940:(et,ei,eo)=>{"use strict";eo.d(ei,{decodeJWT:()=>P,encodeIss:()=>k,generateKeyPair:()=>O,signJWT:()=>N});var ea=eo(1741),ec=eo(4734),eh=eo(7777);let eu="base64url",ed="utf8",ef="utf8",el="base58btc";function v(et){return null!=globalThis.Buffer?new Uint8Array(et.buffer,et.byteOffset,et.byteLength):et}function w(et=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?v(globalThis.Buffer.allocUnsafe(et)):new Uint8Array(et)}var ep=eo(8484);function E(et,ei,eo,ea){return{name:et,prefix:ei,encoder:{name:et,prefix:ei,encode:eo},decoder:{decode:ea}}}let eb=E("utf8","u",et=>"u"+new TextDecoder("utf8").decode(et),et=>(new TextEncoder).encode(et.substring(1))),eg=E("ascii","a",et=>{let ei="a";for(let eo=0;eo<et.length;eo++)ei+=String.fromCharCode(et[eo]);return ei},et=>{let ei=w((et=et.substring(1)).length);for(let eo=0;eo<et.length;eo++)ei[eo]=et.charCodeAt(eo);return ei}),em={utf8:eb,"utf-8":eb,hex:ep.Fo.base16,latin1:eg,ascii:eg,binary:eg,...ep.Fo};function I(et,ei="utf8"){let eo=em[ei];if(!eo)throw Error(`Unsupported encoding "${ei}"`);return"utf8"!==ei&&"utf-8"!==ei||null==globalThis.Buffer||null==globalThis.Buffer.from?eo.encoder.encode(et).substring(1):globalThis.Buffer.from(et.buffer,et.byteOffset,et.byteLength).toString("utf8")}function T(et,ei="utf8"){let eo=em[ei];if(!eo)throw Error(`Unsupported encoding "${ei}"`);return"utf8"!==ei&&"utf-8"!==ei||null==globalThis.Buffer||null==globalThis.Buffer.from?eo.decoder.decode(`${eo.prefix}${et}`):v(globalThis.Buffer.from(et,"utf-8"))}var ey=eo(8916);function C(et){return(0,ey.j)(I(T(et,eu),ed))}function R(et){return I(T((0,ey.h)(et),ed),eu)}function k(et){let ei=T("K36",el),eo="z"+I(function(et,ei){ei||(ei=et.reduce((et,ei)=>et+ei.length,0));let eo=w(ei),ea=0;for(let ei of et)eo.set(ei,ea),ea+=ei.length;return v(eo)}([ei,et]),el);return["did","key",eo].join(":")}function P(et){let ei=et.split(".");return{header:C(ei[0]),payload:C(ei[1]),signature:T(ei[2],eu),data:T(ei.slice(0,2).join("."),ef)}}function O(et=(0,ec.randomBytes)(32)){return ea.K(et)}async function N(et,ei,eo,ec,ed=(0,eh.fromMiliseconds)(Date.now())){var el,ep;let eb={alg:"EdDSA",typ:"JWT"},eg={iss:k(ec.publicKey),sub:et,aud:ei,iat:ed,exp:ed+eo},em=T([R((el={header:eb,payload:eg}).header),R(el.payload)].join("."),ef);return[R((ep={header:eb,payload:eg,signature:ea._S(ec.secretKey,em)}).header),R(ep.payload),I(ep.signature,eu)].join(".")}eo(7477)},7477:()=>{},8916:(et,ei,eo)=>{"use strict";eo.d(ei,{h:()=>o,j:()=>s});let n=et=>JSON.stringify(et,(et,ei)=>"bigint"==typeof ei?ei.toString()+"n":ei),i=et=>{let ei=et.replace(/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,'$1"$2n"$3');return JSON.parse(ei,(et,ei)=>"string"==typeof ei&&ei.match(/^\d+n$/)?BigInt(ei.substring(0,ei.length-1)):ei)};function s(et){if("string"!=typeof et)throw Error("Cannot safe json parse value of type "+typeof et);try{return i(et)}catch(ei){return et}}function o(et){return"string"==typeof et?et:n(et)||""}},3399:(et,ei,eo)=>{"use strict";eo.r(ei),eo.d(ei,{AUTH_CONTEXT:()=>ej,AUTH_KEYS_CONTEXT:()=>eq,AUTH_PAIRING_TOPIC_CONTEXT:()=>eF,AUTH_PROTOCOL:()=>eL,AUTH_PUBLIC_KEY_NAME:()=>ez,AUTH_REQUEST_CONTEXT:()=>eH,AUTH_STORAGE_PREFIX:()=>eV,AUTH_VERSION:()=>eD,ENGINE_CONTEXT:()=>ek,ENGINE_QUEUE_STATES:()=>eN,ENGINE_RPC_OPTS:()=>eP,HISTORY_CONTEXT:()=>eA,HISTORY_EVENTS:()=>eS,HISTORY_STORAGE_VERSION:()=>eM,METHODS_TO_VERIFY:()=>eB,PROPOSAL_CONTEXT:()=>eI,PROPOSAL_EXPIRY:()=>eT,PROPOSAL_EXPIRY_MESSAGE:()=>ex,REQUEST_CONTEXT:()=>eU,SESSION_CONTEXT:()=>eC,SESSION_EXPIRY:()=>eR,SESSION_REQUEST_EXPIRY_BOUNDARIES:()=>eO,SIGN_CLIENT_CONTEXT:()=>em,SIGN_CLIENT_DEFAULT:()=>ev,SIGN_CLIENT_EVENTS:()=>ew,SIGN_CLIENT_PROTOCOL:()=>eb,SIGN_CLIENT_STORAGE_OPTIONS:()=>e_,SIGN_CLIENT_STORAGE_PREFIX:()=>ey,SIGN_CLIENT_VERSION:()=>eg,SessionStore:()=>eX,SignClient:()=>eZ,WALLETCONNECT_DEEPLINK_CHOICE:()=>eE,default:()=>ie});var ea=eo(8827),ec=eo(6556),eh=eo(3247),eu=eo(4327),ed=eo(381),ef=eo.n(ed),el=eo(7777),ep=eo(3526);let eb="wc",eg=2,em="client",ey=`${eb}@${eg}:${em}:`,ev={name:em,logger:"error",controller:!1,relayUrl:"wss://relay.walletconnect.org"},ew={session_proposal:"session_proposal",session_update:"session_update",session_extend:"session_extend",session_ping:"session_ping",session_delete:"session_delete",session_expire:"session_expire",session_request:"session_request",session_request_sent:"session_request_sent",session_event:"session_event",proposal_expire:"proposal_expire",session_authenticate:"session_authenticate",session_request_expire:"session_request_expire"},e_={database:":memory:"},eE="WALLETCONNECT_DEEPLINK_CHOICE",eS={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},eA="history",eM="0.3",eI="proposal",eT=el.THIRTY_DAYS,ex="Proposal expired",eC="session",eR=el.SEVEN_DAYS,ek="engine",eP={wc_sessionPropose:{req:{ttl:el.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:el.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:el.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:el.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:el.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:el.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:el.ONE_DAY,prompt:!1,tag:1104},res:{ttl:el.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:el.ONE_DAY,prompt:!1,tag:1106},res:{ttl:el.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:el.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:el.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:el.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:el.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:el.ONE_DAY,prompt:!1,tag:1112},res:{ttl:el.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:el.ONE_DAY,prompt:!1,tag:1114},res:{ttl:el.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:el.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:el.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:el.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:el.FIVE_MINUTES,prompt:!1,tag:1119}}},eO={min:el.FIVE_MINUTES,max:el.SEVEN_DAYS},eN={idle:"IDLE",active:"ACTIVE"},eU="request",eB=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],eL="wc",eD=1.5,ej="auth",eq="authKeys",eF="pairingTopics",eH="requests",eV=`${eL}@1.5:${ej}:`,ez=`${eV}:PUB_KEY`;var e$=Object.defineProperty,eK=Object.defineProperties,eG=Object.getOwnPropertyDescriptors,eW=Object.getOwnPropertySymbols,eJ=Object.prototype.hasOwnProperty,eY=Object.prototype.propertyIsEnumerable,G=(et,ei,eo)=>ei in et?e$(et,ei,{enumerable:!0,configurable:!0,writable:!0,value:eo}):et[ei]=eo,W=(et,ei)=>{for(var eo in ei||(ei={}))eJ.call(ei,eo)&&G(et,eo,ei[eo]);if(eW)for(var eo of eW(ei))eY.call(ei,eo)&&G(et,eo,ei[eo]);return et},J=(et,ei)=>eK(et,eG(ei));let Y=class Y extends eh.yJ{constructor(et){super(et),this.name=ek,this.events=new(ef()),this.initialized=!1,this.requestQueue={state:eN.idle,queue:[]},this.sessionRequestQueue={state:eN.idle,queue:[]},this.requestQueueDelay=el.ONE_SECOND,this.expectedPairingMethodMap=new Map,this.recentlyDeletedMap=new Map,this.recentlyDeletedLimit=200,this.relayMessageCache=[],this.init=async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(eP)}),this.initialized=!0,setTimeout(()=>{this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},(0,el.toMiliseconds)(this.requestQueueDelay)))},this.connect=async et=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();let ei=J(W({},et),{requiredNamespaces:et.requiredNamespaces||{},optionalNamespaces:et.optionalNamespaces||{}});await this.isValidConnect(ei);let{pairingTopic:eo,requiredNamespaces:ec,optionalNamespaces:eh,sessionProperties:ed,relays:ef}=ei,ep,eb=eo,eg=!1;try{eb&&(eg=this.client.core.pairing.pairings.get(eb).active)}catch(et){throw this.client.logger.error(`connect() -> pairing.get(${eb}) failed`),et}if(!eb||!eg){let{topic:et,uri:ei}=await this.client.core.pairing.create();eb=et,ep=ei}if(!eb){let{message:et}=(0,eu.getInternalError)("NO_MATCHING_KEY",`connect() pairing topic: ${eb}`);throw Error(et)}let em=await this.client.core.crypto.generateKeyPair(),ey=eP.wc_sessionPropose.req.ttl||el.FIVE_MINUTES,ev=(0,eu.calcExpiry)(ey),ew=W({requiredNamespaces:ec,optionalNamespaces:eh,relays:ef??[{protocol:ea.RELAYER_DEFAULT_PROTOCOL}],proposer:{publicKey:em,metadata:this.client.metadata},expiryTimestamp:ev,pairingTopic:eb},ed&&{sessionProperties:ed}),{reject:e_,resolve:eE,done:eS}=(0,eu.createDelayedPromise)(ey,ex);this.events.once((0,eu.engineEvent)("session_connect"),async({error:et,session:ei})=>{if(et)e_(et);else if(ei){ei.self.publicKey=em;let et=J(W({},ei),{pairingTopic:ew.pairingTopic,requiredNamespaces:ew.requiredNamespaces,optionalNamespaces:ew.optionalNamespaces,transportType:ea.TRANSPORT_TYPES.relay});await this.client.session.set(ei.topic,et),await this.setExpiry(ei.topic,ei.expiry),eb&&await this.client.core.pairing.updateMetadata({topic:eb,metadata:ei.peer.metadata}),this.cleanupDuplicatePairings(et),eE(et)}});let eA=await this.sendRequest({topic:eb,method:"wc_sessionPropose",params:ew,throwOnFailedPublish:!0});return await this.setProposal(eA,W({id:eA},ew)),{uri:ep,approval:eS}},this.pair=async et=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(et)}catch(et){throw this.client.logger.error("pair() failed"),et}},this.approve=async et=>{var ei,eo,ec;let eh=this.client.core.eventClient.createEvent({properties:{topic:null==(ei=et?.id)?void 0:ei.toString(),trace:[ea.EVENT_CLIENT_SESSION_TRACES.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(et){throw eh.setError(ea.EVENT_CLIENT_SESSION_ERRORS.no_internet_connection),et}try{await this.isValidProposalId(et?.id)}catch(ei){throw this.client.logger.error(`approve() -> proposal.get(${et?.id}) failed`),eh.setError(ea.EVENT_CLIENT_SESSION_ERRORS.proposal_not_found),ei}try{await this.isValidApprove(et)}catch(et){throw this.client.logger.error("approve() -> isValidApprove() failed"),eh.setError(ea.EVENT_CLIENT_SESSION_ERRORS.session_approve_namespace_validation_failure),et}let{id:ed,relayProtocol:ef,namespaces:el,sessionProperties:ep,sessionConfig:eb}=et,eg=this.client.proposal.get(ed);this.client.core.eventClient.deleteEvent({eventId:eh.eventId});let{pairingTopic:em,proposer:ey,requiredNamespaces:ev,optionalNamespaces:ew}=eg,e_=null==(eo=this.client.core.eventClient)?void 0:eo.getEvent({topic:em});e_||(e_=null==(ec=this.client.core.eventClient)?void 0:ec.createEvent({type:ea.EVENT_CLIENT_SESSION_TRACES.session_approve_started,properties:{topic:em,trace:[ea.EVENT_CLIENT_SESSION_TRACES.session_approve_started,ea.EVENT_CLIENT_SESSION_TRACES.session_namespaces_validation_success]}}));let eE=await this.client.core.crypto.generateKeyPair(),eS=ey.publicKey,eA=await this.client.core.crypto.generateSharedKey(eE,eS),eM=W(W({relay:{protocol:ef??"irn"},namespaces:el,controller:{publicKey:eE,metadata:this.client.metadata},expiry:(0,eu.calcExpiry)(eR)},ep&&{sessionProperties:ep}),eb&&{sessionConfig:eb}),eI=ea.TRANSPORT_TYPES.relay;e_.addTrace(ea.EVENT_CLIENT_SESSION_TRACES.subscribing_session_topic);try{await this.client.core.relayer.subscribe(eA,{transportType:eI})}catch(et){throw e_.setError(ea.EVENT_CLIENT_SESSION_ERRORS.subscribe_session_topic_failure),et}e_.addTrace(ea.EVENT_CLIENT_SESSION_TRACES.subscribe_session_topic_success);let eT=J(W({},eM),{topic:eA,requiredNamespaces:ev,optionalNamespaces:ew,pairingTopic:em,acknowledged:!1,self:eM.controller,peer:{publicKey:ey.publicKey,metadata:ey.metadata},controller:eE,transportType:ea.TRANSPORT_TYPES.relay});await this.client.session.set(eA,eT),e_.addTrace(ea.EVENT_CLIENT_SESSION_TRACES.store_session);try{e_.addTrace(ea.EVENT_CLIENT_SESSION_TRACES.publishing_session_settle),await this.sendRequest({topic:eA,method:"wc_sessionSettle",params:eM,throwOnFailedPublish:!0}).catch(et=>{throw e_?.setError(ea.EVENT_CLIENT_SESSION_ERRORS.session_settle_publish_failure),et}),e_.addTrace(ea.EVENT_CLIENT_SESSION_TRACES.session_settle_publish_success),e_.addTrace(ea.EVENT_CLIENT_SESSION_TRACES.publishing_session_approve),await this.sendResult({id:ed,topic:em,result:{relay:{protocol:ef??"irn"},responderPublicKey:eE},throwOnFailedPublish:!0}).catch(et=>{throw e_?.setError(ea.EVENT_CLIENT_SESSION_ERRORS.session_approve_publish_failure),et}),e_.addTrace(ea.EVENT_CLIENT_SESSION_TRACES.session_approve_publish_success)}catch(et){throw this.client.logger.error(et),this.client.session.delete(eA,(0,eu.getSdkError)("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(eA),et}return this.client.core.eventClient.deleteEvent({eventId:e_.eventId}),await this.client.core.pairing.updateMetadata({topic:em,metadata:ey.metadata}),await this.client.proposal.delete(ed,(0,eu.getSdkError)("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:em}),await this.setExpiry(eA,(0,eu.calcExpiry)(eR)),{topic:eA,acknowledged:()=>Promise.resolve(this.client.session.get(eA))}},this.reject=async et=>{let ei;this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(et)}catch(et){throw this.client.logger.error("reject() -> isValidReject() failed"),et}let{id:eo,reason:ea}=et;try{ei=this.client.proposal.get(eo).pairingTopic}catch(et){throw this.client.logger.error(`reject() -> proposal.get(${eo}) failed`),et}ei&&(await this.sendError({id:eo,topic:ei,error:ea,rpcOpts:eP.wc_sessionPropose.reject}),await this.client.proposal.delete(eo,(0,eu.getSdkError)("USER_DISCONNECTED")))},this.update=async et=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(et)}catch(et){throw this.client.logger.error("update() -> isValidUpdate() failed"),et}let{topic:ei,namespaces:eo}=et,{done:ea,resolve:ec,reject:eh}=(0,eu.createDelayedPromise)(),ed=(0,ep.payloadId)(),ef=(0,ep.getBigIntRpcId)().toString(),el=this.client.session.get(ei).namespaces;return this.events.once((0,eu.engineEvent)("session_update",ed),({error:et})=>{et?eh(et):ec()}),await this.client.session.update(ei,{namespaces:eo}),await this.sendRequest({topic:ei,method:"wc_sessionUpdate",params:{namespaces:eo},throwOnFailedPublish:!0,clientRpcId:ed,relayRpcId:ef}).catch(et=>{this.client.logger.error(et),this.client.session.update(ei,{namespaces:el}),eh(et)}),{acknowledged:ea}},this.extend=async et=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(et)}catch(et){throw this.client.logger.error("extend() -> isValidExtend() failed"),et}let{topic:ei}=et,eo=(0,ep.payloadId)(),{done:ea,resolve:ec,reject:eh}=(0,eu.createDelayedPromise)();return this.events.once((0,eu.engineEvent)("session_extend",eo),({error:et})=>{et?eh(et):ec()}),await this.setExpiry(ei,(0,eu.calcExpiry)(eR)),this.sendRequest({topic:ei,method:"wc_sessionExtend",params:{},clientRpcId:eo,throwOnFailedPublish:!0}).catch(et=>{eh(et)}),{acknowledged:ea}},this.request=async et=>{this.isInitialized();try{await this.isValidRequest(et)}catch(et){throw this.client.logger.error("request() -> isValidRequest() failed"),et}let{chainId:ei,request:eo,topic:ec,expiry:eh=eP.wc_sessionRequest.req.ttl}=et,ed=this.client.session.get(ec);ed?.transportType===ea.TRANSPORT_TYPES.relay&&await this.confirmOnlineStateOrThrow();let ef=(0,ep.payloadId)(),el=(0,ep.getBigIntRpcId)().toString(),{done:eb,resolve:eg,reject:em}=(0,eu.createDelayedPromise)(eh,"Request expired. Please try again.");this.events.once((0,eu.engineEvent)("session_request",ef),({error:et,result:ei})=>{et?em(et):eg(ei)});let ey=this.getAppLinkIfEnabled(ed.peer.metadata,ed.transportType);return ey?(await this.sendRequest({clientRpcId:ef,relayRpcId:el,topic:ec,method:"wc_sessionRequest",params:{request:J(W({},eo),{expiryTimestamp:(0,eu.calcExpiry)(eh)}),chainId:ei},expiry:eh,throwOnFailedPublish:!0,appLink:ey}).catch(et=>em(et)),this.client.events.emit("session_request_sent",{topic:ec,request:eo,chainId:ei,id:ef}),await eb()):await Promise.all([new Promise(async et=>{await this.sendRequest({clientRpcId:ef,relayRpcId:el,topic:ec,method:"wc_sessionRequest",params:{request:J(W({},eo),{expiryTimestamp:(0,eu.calcExpiry)(eh)}),chainId:ei},expiry:eh,throwOnFailedPublish:!0}).catch(et=>em(et)),this.client.events.emit("session_request_sent",{topic:ec,request:eo,chainId:ei,id:ef}),et()}),new Promise(async et=>{var ei;if(null==(ei=ed.sessionConfig)||!ei.disableDeepLink){let et=await (0,eu.getDeepLink)(this.client.core.storage,eE);await (0,eu.handleDeeplinkRedirect)({id:ef,topic:ec,wcDeepLink:et})}et()}),eb()]).then(et=>et[2])},this.respond=async et=>{this.isInitialized(),await this.isValidRespond(et);let{topic:ei,response:eo}=et,{id:ec}=eo,eh=this.client.session.get(ei);eh.transportType===ea.TRANSPORT_TYPES.relay&&await this.confirmOnlineStateOrThrow();let eu=this.getAppLinkIfEnabled(eh.peer.metadata,eh.transportType);(0,ep.isJsonRpcResult)(eo)?await this.sendResult({id:ec,topic:ei,result:eo.result,throwOnFailedPublish:!0,appLink:eu}):(0,ep.isJsonRpcError)(eo)&&await this.sendError({id:ec,topic:ei,error:eo.error,appLink:eu}),this.cleanupAfterResponse(et)},this.ping=async et=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(et)}catch(et){throw this.client.logger.error("ping() -> isValidPing() failed"),et}let{topic:ei}=et;if(this.client.session.keys.includes(ei)){let et=(0,ep.payloadId)(),eo=(0,ep.getBigIntRpcId)().toString(),{done:ea,resolve:ec,reject:eh}=(0,eu.createDelayedPromise)();this.events.once((0,eu.engineEvent)("session_ping",et),({error:et})=>{et?eh(et):ec()}),await Promise.all([this.sendRequest({topic:ei,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:et,relayRpcId:eo}),ea()])}else this.client.core.pairing.pairings.keys.includes(ei)&&await this.client.core.pairing.ping({topic:ei})},this.emit=async et=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(et);let{topic:ei,event:eo,chainId:ea}=et,ec=(0,ep.getBigIntRpcId)().toString();await this.sendRequest({topic:ei,method:"wc_sessionEvent",params:{event:eo,chainId:ea},throwOnFailedPublish:!0,relayRpcId:ec})},this.disconnect=async et=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(et);let{topic:ei}=et;if(this.client.session.keys.includes(ei))await this.sendRequest({topic:ei,method:"wc_sessionDelete",params:(0,eu.getSdkError)("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:ei,emitEvent:!1});else{if(!this.client.core.pairing.pairings.keys.includes(ei)){let{message:et}=(0,eu.getInternalError)("MISMATCHED_TOPIC",`Session or pairing topic not found: ${ei}`);throw Error(et)}await this.client.core.pairing.disconnect({topic:ei})}},this.find=et=>(this.isInitialized(),this.client.session.getAll().filter(ei=>(0,eu.isSessionCompatible)(ei,et))),this.getPendingSessionRequests=()=>this.client.pendingRequest.getAll(),this.authenticate=async(et,ei)=>{var eo;let ec;this.isInitialized(),this.isValidAuthenticate(et);let eh=ei&&this.client.core.linkModeSupportedApps.includes(ei)&&(null==(eo=this.client.metadata.redirect)?void 0:eo.linkMode),ed=eh?ea.TRANSPORT_TYPES.link_mode:ea.TRANSPORT_TYPES.relay;ed===ea.TRANSPORT_TYPES.relay&&await this.confirmOnlineStateOrThrow();let{chains:ef,statement:el="",uri:eb,domain:eg,nonce:em,type:ey,exp:ev,nbf:ew,methods:e_=[],expiry:eE}=et,eS=[...et.resources||[]],{topic:eA,uri:eM}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:ed});this.client.logger.info({message:"Generated new pairing",pairing:{topic:eA,uri:eM}});let eI=await this.client.core.crypto.generateKeyPair(),eT=(0,eu.hashKey)(eI);if(await Promise.all([this.client.auth.authKeys.set(ez,{responseTopic:eT,publicKey:eI}),this.client.auth.pairingTopics.set(eT,{topic:eT,pairingTopic:eA})]),await this.client.core.relayer.subscribe(eT,{transportType:ed}),this.client.logger.info(`sending request to new pairing topic: ${eA}`),e_.length>0){let{namespace:et}=(0,eu.parseChainId)(ef[0]),ei=(0,eu.createEncodedRecap)(et,"request",e_);(0,eu.getRecapFromResources)(eS)&&(ei=(0,eu.mergeEncodedRecaps)(ei,eS.pop())),eS.push(ei)}let ex=eE&&eE>eP.wc_sessionAuthenticate.req.ttl?eE:eP.wc_sessionAuthenticate.req.ttl,eC={authPayload:{type:ey??"caip122",chains:ef,statement:el,aud:eb,domain:eg,version:"1",nonce:em,iat:(new Date).toISOString(),exp:ev,nbf:ew,resources:eS},requester:{publicKey:eI,metadata:this.client.metadata},expiryTimestamp:(0,eu.calcExpiry)(ex)},ek={requiredNamespaces:{},optionalNamespaces:{eip155:{chains:ef,methods:[...new Set(["personal_sign",...e_])],events:["chainChanged","accountsChanged"]}},relays:[{protocol:"irn"}],pairingTopic:eA,proposer:{publicKey:eI,metadata:this.client.metadata},expiryTimestamp:(0,eu.calcExpiry)(eP.wc_sessionPropose.req.ttl)},{done:eO,resolve:eN,reject:eU}=(0,eu.createDelayedPromise)(ex,"Request expired"),k=async({error:et,session:ei})=>{if(this.events.off((0,eu.engineEvent)("session_request",eB),P),et)eU(et);else if(ei){ei.self.publicKey=eI,await this.client.session.set(ei.topic,ei),await this.setExpiry(ei.topic,ei.expiry),eA&&await this.client.core.pairing.updateMetadata({topic:eA,metadata:ei.peer.metadata});let et=this.client.session.get(ei.topic);await this.deleteProposal(eL),eN({session:et})}},P=async et=>{var eo,ec,eh;let ef;if(await this.deletePendingAuthRequest(eB,{message:"fulfilled",code:0}),et.error){let ei=(0,eu.getSdkError)("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return et.error.code===ei.code?void 0:(this.events.off((0,eu.engineEvent)("session_connect"),k),eU(et.error.message))}await this.deleteProposal(eL),this.events.off((0,eu.engineEvent)("session_connect"),k);let{cacaos:el,responder:ep}=et.result,eb=[],eg=[];for(let et of el){await (0,eu.validateSignedCacao)({cacao:et,projectId:this.client.core.projectId})||(this.client.logger.error(et,"Signature verification failed"),eU((0,eu.getSdkError)("SESSION_SETTLEMENT_FAILED","Signature verification failed")));let{p:ei}=et,eo=(0,eu.getRecapFromResources)(ei.resources),ea=[(0,eu.getNamespacedDidChainId)(ei.iss)],ec=(0,eu.getDidAddress)(ei.iss);if(eo){let et=(0,eu.getMethodsFromRecap)(eo),ei=(0,eu.getChainsFromRecap)(eo);eb.push(...et),ea.push(...ei)}for(let et of ea)eg.push(`${et}:${ec}`)}let em=await this.client.core.crypto.generateSharedKey(eI,ep.publicKey);eb.length>0&&(ef={topic:em,acknowledged:!0,self:{publicKey:eI,metadata:this.client.metadata},peer:ep,controller:ep.publicKey,expiry:(0,eu.calcExpiry)(eR),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:eA,namespaces:(0,eu.buildNamespacesFromAuth)([...new Set(eb)],[...new Set(eg)]),transportType:ed},await this.client.core.relayer.subscribe(em,{transportType:ed}),await this.client.session.set(em,ef),eA&&await this.client.core.pairing.updateMetadata({topic:eA,metadata:ep.metadata}),ef=this.client.session.get(em)),null!=(eo=this.client.metadata.redirect)&&eo.linkMode&&null!=(ec=ep.metadata.redirect)&&ec.linkMode&&null!=(eh=ep.metadata.redirect)&&eh.universal&&ei&&(this.client.core.addLinkModeSupportedApp(ep.metadata.redirect.universal),this.client.session.update(em,{transportType:ea.TRANSPORT_TYPES.link_mode})),eN({auths:el,session:ef})},eB=(0,ep.payloadId)(),eL=(0,ep.payloadId)();this.events.once((0,eu.engineEvent)("session_connect"),k),this.events.once((0,eu.engineEvent)("session_request",eB),P);try{if(eh){let et=(0,ep.formatJsonRpcRequest)("wc_sessionAuthenticate",eC,eB);this.client.core.history.set(eA,et);let eo=await this.client.core.crypto.encode("",et,{type:eu.TYPE_2,encoding:eu.BASE64URL});ec=(0,eu.getLinkModeURL)(ei,eA,eo)}else await Promise.all([this.sendRequest({topic:eA,method:"wc_sessionAuthenticate",params:eC,expiry:et.expiry,throwOnFailedPublish:!0,clientRpcId:eB}),this.sendRequest({topic:eA,method:"wc_sessionPropose",params:ek,expiry:eP.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:eL})])}catch(et){throw this.events.off((0,eu.engineEvent)("session_connect"),k),this.events.off((0,eu.engineEvent)("session_request",eB),P),et}return await this.setProposal(eL,W({id:eL},ek)),await this.setAuthRequest(eB,{request:J(W({},eC),{verifyContext:{}}),pairingTopic:eA,transportType:ed}),{uri:ec??eM,response:eO}},this.approveSessionAuthenticate=async et=>{let ei;let{id:eo,auths:ec}=et,eh=this.client.core.eventClient.createEvent({properties:{topic:eo.toString(),trace:[ea.EVENT_CLIENT_AUTHENTICATE_TRACES.authenticated_session_approve_started]}});try{this.isInitialized()}catch(et){throw eh.setError(ea.EVENT_CLIENT_AUTHENTICATE_ERRORS.no_internet_connection),et}let ed=this.getPendingAuthRequest(eo);if(!ed)throw eh.setError(ea.EVENT_CLIENT_AUTHENTICATE_ERRORS.authenticated_session_pending_request_not_found),Error(`Could not find pending auth request with id ${eo}`);let ef=ed.transportType||ea.TRANSPORT_TYPES.relay;ef===ea.TRANSPORT_TYPES.relay&&await this.confirmOnlineStateOrThrow();let el=ed.requester.publicKey,ep=await this.client.core.crypto.generateKeyPair(),eb=(0,eu.hashKey)(el),eg={type:eu.TYPE_1,receiverPublicKey:el,senderPublicKey:ep},em=[],ey=[];for(let et of ec){if(!await (0,eu.validateSignedCacao)({cacao:et,projectId:this.client.core.projectId})){eh.setError(ea.EVENT_CLIENT_AUTHENTICATE_ERRORS.invalid_cacao);let et=(0,eu.getSdkError)("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:eo,topic:eb,error:et,encodeOpts:eg}),Error(et.message)}eh.addTrace(ea.EVENT_CLIENT_AUTHENTICATE_TRACES.cacaos_verified);let{p:ei}=et,ec=(0,eu.getRecapFromResources)(ei.resources),ed=[(0,eu.getNamespacedDidChainId)(ei.iss)],ef=(0,eu.getDidAddress)(ei.iss);if(ec){let et=(0,eu.getMethodsFromRecap)(ec),ei=(0,eu.getChainsFromRecap)(ec);em.push(...et),ed.push(...ei)}for(let et of ed)ey.push(`${et}:${ef}`)}let ev=await this.client.core.crypto.generateSharedKey(ep,el);if(eh.addTrace(ea.EVENT_CLIENT_AUTHENTICATE_TRACES.create_authenticated_session_topic),em?.length>0){ei={topic:ev,acknowledged:!0,self:{publicKey:ep,metadata:this.client.metadata},peer:{publicKey:el,metadata:ed.requester.metadata},controller:el,expiry:(0,eu.calcExpiry)(eR),authentication:ec,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:ed.pairingTopic,namespaces:(0,eu.buildNamespacesFromAuth)([...new Set(em)],[...new Set(ey)]),transportType:ef},eh.addTrace(ea.EVENT_CLIENT_AUTHENTICATE_TRACES.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(ev,{transportType:ef})}catch(et){throw eh.setError(ea.EVENT_CLIENT_AUTHENTICATE_ERRORS.subscribe_authenticated_session_topic_failure),et}eh.addTrace(ea.EVENT_CLIENT_AUTHENTICATE_TRACES.subscribe_authenticated_session_topic_success),await this.client.session.set(ev,ei),eh.addTrace(ea.EVENT_CLIENT_AUTHENTICATE_TRACES.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:ed.pairingTopic,metadata:ed.requester.metadata})}eh.addTrace(ea.EVENT_CLIENT_AUTHENTICATE_TRACES.publishing_authenticated_session_approve);try{await this.sendResult({topic:eb,id:eo,result:{cacaos:ec,responder:{publicKey:ep,metadata:this.client.metadata}},encodeOpts:eg,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(ed.requester.metadata,ef)})}catch(et){throw eh.setError(ea.EVENT_CLIENT_AUTHENTICATE_ERRORS.authenticated_session_approve_publish_failure),et}return await this.client.auth.requests.delete(eo,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:ed.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:eh.eventId}),{session:ei}},this.rejectSessionAuthenticate=async et=>{this.isInitialized();let{id:ei,reason:eo}=et,ec=this.getPendingAuthRequest(ei);if(!ec)throw Error(`Could not find pending auth request with id ${ei}`);ec.transportType===ea.TRANSPORT_TYPES.relay&&await this.confirmOnlineStateOrThrow();let eh=ec.requester.publicKey,ed=await this.client.core.crypto.generateKeyPair(),ef=(0,eu.hashKey)(eh),el={type:eu.TYPE_1,receiverPublicKey:eh,senderPublicKey:ed};await this.sendError({id:ei,topic:ef,error:eo,encodeOpts:el,rpcOpts:eP.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(ec.requester.metadata,ec.transportType)}),await this.client.auth.requests.delete(ei,{message:"rejected",code:0}),await this.client.proposal.delete(ei,(0,eu.getSdkError)("USER_DISCONNECTED"))},this.formatAuthMessage=et=>{this.isInitialized();let{request:ei,iss:eo}=et;return(0,eu.formatMessage)(ei,eo)},this.processRelayMessageCache=()=>{setTimeout(async()=>{if(0!==this.relayMessageCache.length)for(;this.relayMessageCache.length>0;)try{let et=this.relayMessageCache.shift();et&&await this.onRelayMessage(et)}catch(et){this.client.logger.error(et)}},50)},this.cleanupDuplicatePairings=async et=>{if(et.pairingTopic)try{let ei=this.client.core.pairing.pairings.get(et.pairingTopic),eo=this.client.core.pairing.pairings.getAll().filter(eo=>{var ea,ec;return(null==(ea=eo.peerMetadata)?void 0:ea.url)&&(null==(ec=eo.peerMetadata)?void 0:ec.url)===et.peer.metadata.url&&eo.topic&&eo.topic!==ei.topic});if(0===eo.length)return;this.client.logger.info(`Cleaning up ${eo.length} duplicate pairing(s)`),await Promise.all(eo.map(et=>this.client.core.pairing.disconnect({topic:et.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(et){this.client.logger.error(et)}},this.deleteSession=async et=>{var ei;let{topic:eo,expirerHasDeleted:ea=!1,emitEvent:ec=!0,id:eh=0}=et,{self:ed}=this.client.session.get(eo);await this.client.core.relayer.unsubscribe(eo),await this.client.session.delete(eo,(0,eu.getSdkError)("USER_DISCONNECTED")),this.addToRecentlyDeleted(eo,"session"),this.client.core.crypto.keychain.has(ed.publicKey)&&await this.client.core.crypto.deleteKeyPair(ed.publicKey),this.client.core.crypto.keychain.has(eo)&&await this.client.core.crypto.deleteSymKey(eo),ea||this.client.core.expirer.del(eo),this.client.core.storage.removeItem(eE).catch(et=>this.client.logger.warn(et)),this.getPendingSessionRequests().forEach(et=>{et.topic===eo&&this.deletePendingSessionRequest(et.id,(0,eu.getSdkError)("USER_DISCONNECTED"))}),eo===(null==(ei=this.sessionRequestQueue.queue[0])?void 0:ei.topic)&&(this.sessionRequestQueue.state=eN.idle),ec&&this.client.events.emit("session_delete",{id:eh,topic:eo})},this.deleteProposal=async(et,ei)=>{if(ei)try{let ei=this.client.proposal.get(et),eo=this.client.core.eventClient.getEvent({topic:ei.pairingTopic});eo?.setError(ea.EVENT_CLIENT_SESSION_ERRORS.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(et,(0,eu.getSdkError)("USER_DISCONNECTED")),ei?Promise.resolve():this.client.core.expirer.del(et)]),this.addToRecentlyDeleted(et,"proposal")},this.deletePendingSessionRequest=async(et,ei,eo=!1)=>{await Promise.all([this.client.pendingRequest.delete(et,ei),eo?Promise.resolve():this.client.core.expirer.del(et)]),this.addToRecentlyDeleted(et,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(ei=>ei.id!==et),eo&&(this.sessionRequestQueue.state=eN.idle,this.client.events.emit("session_request_expire",{id:et}))},this.deletePendingAuthRequest=async(et,ei,eo=!1)=>{await Promise.all([this.client.auth.requests.delete(et,ei),eo?Promise.resolve():this.client.core.expirer.del(et)])},this.setExpiry=async(et,ei)=>{this.client.session.keys.includes(et)&&(this.client.core.expirer.set(et,ei),await this.client.session.update(et,{expiry:ei}))},this.setProposal=async(et,ei)=>{this.client.core.expirer.set(et,(0,eu.calcExpiry)(eP.wc_sessionPropose.req.ttl)),await this.client.proposal.set(et,ei)},this.setAuthRequest=async(et,ei)=>{let{request:eo,pairingTopic:ec,transportType:eh=ea.TRANSPORT_TYPES.relay}=ei;this.client.core.expirer.set(et,eo.expiryTimestamp),await this.client.auth.requests.set(et,{authPayload:eo.authPayload,requester:eo.requester,expiryTimestamp:eo.expiryTimestamp,id:et,pairingTopic:ec,verifyContext:eo.verifyContext,transportType:eh})},this.setPendingSessionRequest=async et=>{let{id:ei,topic:eo,params:ea,verifyContext:ec}=et,eh=ea.request.expiryTimestamp||(0,eu.calcExpiry)(eP.wc_sessionRequest.req.ttl);this.client.core.expirer.set(ei,eh),await this.client.pendingRequest.set(ei,{id:ei,topic:eo,params:ea,verifyContext:ec})},this.sendRequest=async et=>{let ei,ea;let{topic:ec,method:eh,params:ed,expiry:ef,relayRpcId:el,clientRpcId:eb,throwOnFailedPublish:eg,appLink:em}=et,ey=(0,ep.formatJsonRpcRequest)(eh,ed,eb),ev=!!em;try{let et=ev?eu.BASE64URL:eu.BASE64;ei=await this.client.core.crypto.encode(ec,ey,{encoding:et})}catch(et){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${ec} failed`),et}if(eB.includes(eh)){let et=(0,eu.hashMessage)(JSON.stringify(ey)),eo=(0,eu.hashMessage)(ei);ea=await this.client.core.verify.register({id:eo,decryptedId:et})}let ew=eP[eh].req;if(ew.attestation=ea,ef&&(ew.ttl=ef),el&&(ew.id=el),this.client.core.history.set(ec,ey),ev){let et=(0,eu.getLinkModeURL)(em,ec,ei);await eo.g.Linking.openURL(et,this.client.name)}else{let et=eP[eh].req;ef&&(et.ttl=ef),el&&(et.id=el),eg?(et.internal=J(W({},et.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(ec,ei,et)):this.client.core.relayer.publish(ec,ei,et).catch(et=>this.client.logger.error(et))}return ey.id},this.sendResult=async et=>{let ei,ea;let{id:ec,topic:eh,result:ed,throwOnFailedPublish:ef,encodeOpts:el,appLink:eb}=et,eg=(0,ep.formatJsonRpcResult)(ec,ed),em=eb&&"u">typeof(null==eo.g?void 0:eo.g.Linking);try{let et=em?eu.BASE64URL:eu.BASE64;ei=await this.client.core.crypto.encode(eh,eg,J(W({},el||{}),{encoding:et}))}catch(et){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${eh} failed`),et}try{ea=await this.client.core.history.get(eh,ec)}catch(et){throw this.client.logger.error(`sendResult() -> history.get(${eh}, ${ec}) failed`),et}if(em){let et=(0,eu.getLinkModeURL)(eb,eh,ei);await eo.g.Linking.openURL(et,this.client.name)}else{let et=eP[ea.request.method].res;ef?(et.internal=J(W({},et.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(eh,ei,et)):this.client.core.relayer.publish(eh,ei,et).catch(et=>this.client.logger.error(et))}await this.client.core.history.resolve(eg)},this.sendError=async et=>{let ei,ea;let{id:ec,topic:eh,error:ed,encodeOpts:ef,rpcOpts:el,appLink:eb}=et,eg=(0,ep.formatJsonRpcError)(ec,ed),em=eb&&"u">typeof(null==eo.g?void 0:eo.g.Linking);try{let et=em?eu.BASE64URL:eu.BASE64;ei=await this.client.core.crypto.encode(eh,eg,J(W({},ef||{}),{encoding:et}))}catch(et){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${eh} failed`),et}try{ea=await this.client.core.history.get(eh,ec)}catch(et){throw this.client.logger.error(`sendError() -> history.get(${eh}, ${ec}) failed`),et}if(em){let et=(0,eu.getLinkModeURL)(eb,eh,ei);await eo.g.Linking.openURL(et,this.client.name)}else{let et=el||eP[ea.request.method].res;this.client.core.relayer.publish(eh,ei,et)}await this.client.core.history.resolve(eg)},this.cleanup=async()=>{let et=[],ei=[];this.client.session.getAll().forEach(ei=>{let eo=!1;(0,eu.isExpired)(ei.expiry)&&(eo=!0),this.client.core.crypto.keychain.has(ei.topic)||(eo=!0),eo&&et.push(ei.topic)}),this.client.proposal.getAll().forEach(et=>{(0,eu.isExpired)(et.expiryTimestamp)&&ei.push(et.id)}),await Promise.all([...et.map(et=>this.deleteSession({topic:et})),...ei.map(et=>this.deleteProposal(et))])},this.onRelayEventRequest=async et=>{this.requestQueue.queue.push(et),await this.processRequestsQueue()},this.processRequestsQueue=async()=>{if(this.requestQueue.state!==eN.active){for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=eN.active;let et=this.requestQueue.queue.shift();if(et)try{await this.processRequest(et)}catch(et){this.client.logger.warn(et)}}this.requestQueue.state=eN.idle}else this.client.logger.info("Request queue already active, skipping...")},this.processRequest=async et=>{let{topic:ei,payload:eo,attestation:ea,transportType:ec,encryptedId:eh}=et,eu=eo.method;if(!this.shouldIgnorePairingRequest({topic:ei,requestMethod:eu}))switch(eu){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:ei,payload:eo,attestation:ea,encryptedId:eh});case"wc_sessionSettle":return await this.onSessionSettleRequest(ei,eo);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(ei,eo);case"wc_sessionExtend":return await this.onSessionExtendRequest(ei,eo);case"wc_sessionPing":return await this.onSessionPingRequest(ei,eo);case"wc_sessionDelete":return await this.onSessionDeleteRequest(ei,eo);case"wc_sessionRequest":return await this.onSessionRequest({topic:ei,payload:eo,attestation:ea,encryptedId:eh,transportType:ec});case"wc_sessionEvent":return await this.onSessionEventRequest(ei,eo);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:ei,payload:eo,attestation:ea,encryptedId:eh,transportType:ec});default:return this.client.logger.info(`Unsupported request method ${eu}`)}},this.onRelayEventResponse=async et=>{let{topic:ei,payload:eo,transportType:ea}=et,ec=(await this.client.core.history.get(ei,eo.id)).request.method;switch(ec){case"wc_sessionPropose":return this.onSessionProposeResponse(ei,eo,ea);case"wc_sessionSettle":return this.onSessionSettleResponse(ei,eo);case"wc_sessionUpdate":return this.onSessionUpdateResponse(ei,eo);case"wc_sessionExtend":return this.onSessionExtendResponse(ei,eo);case"wc_sessionPing":return this.onSessionPingResponse(ei,eo);case"wc_sessionRequest":return this.onSessionRequestResponse(ei,eo);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(ei,eo);default:return this.client.logger.info(`Unsupported response method ${ec}`)}},this.onRelayEventUnknownPayload=et=>{let{topic:ei}=et,{message:eo}=(0,eu.getInternalError)("MISSING_OR_INVALID",`Decoded payload on topic ${ei} is not identifiable as a JSON-RPC request or a response.`);throw Error(eo)},this.shouldIgnorePairingRequest=et=>{let{topic:ei,requestMethod:eo}=et,ea=this.expectedPairingMethodMap.get(ei);return!(!ea||ea.includes(eo)||!(ea.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0))},this.onSessionProposeRequest=async et=>{let{topic:ei,payload:eo,attestation:ec,encryptedId:eh}=et,{params:ed,id:ef}=eo;try{let et=this.client.core.eventClient.getEvent({topic:ei});this.isValidConnect(W({},eo.params));let el=ed.expiryTimestamp||(0,eu.calcExpiry)(eP.wc_sessionPropose.req.ttl),ep=W({id:ef,pairingTopic:ei,expiryTimestamp:el},ed);await this.setProposal(ef,ep);let eb=await this.getVerifyContext({attestationId:ec,hash:(0,eu.hashMessage)(JSON.stringify(eo)),encryptedId:eh,metadata:ep.proposer.metadata});0===this.client.events.listenerCount("session_proposal")&&(console.warn("No listener for session_proposal event"),et?.setError(ea.EVENT_CLIENT_PAIRING_ERRORS.proposal_listener_not_found)),et?.addTrace(ea.EVENT_CLIENT_PAIRING_TRACES.emit_session_proposal),this.client.events.emit("session_proposal",{id:ef,params:ep,verifyContext:eb})}catch(et){await this.sendError({id:ef,topic:ei,error:et,rpcOpts:eP.wc_sessionPropose.autoReject}),this.client.logger.error(et)}},this.onSessionProposeResponse=async(et,ei,eo)=>{let{id:ea}=ei;if((0,ep.isJsonRpcResult)(ei)){let{result:ec}=ei;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:ec});let eh=this.client.proposal.get(ea);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:eh});let eu=eh.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:eu});let ed=ec.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:ed});let ef=await this.client.core.crypto.generateSharedKey(eu,ed);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",sessionTopic:ef});let el=await this.client.core.relayer.subscribe(ef,{transportType:eo});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:el}),await this.client.core.pairing.activate({topic:et})}else if((0,ep.isJsonRpcError)(ei)){await this.client.proposal.delete(ea,(0,eu.getSdkError)("USER_DISCONNECTED"));let et=(0,eu.engineEvent)("session_connect");if(0===this.events.listenerCount(et))throw Error(`emitting ${et} without any listeners, 954`);this.events.emit((0,eu.engineEvent)("session_connect"),{error:ei.error})}},this.onSessionSettleRequest=async(et,ei)=>{let{id:eo,params:ec}=ei;try{this.isValidSessionSettleRequest(ec);let{relay:eo,controller:eh,expiry:ed,namespaces:ef,sessionProperties:el,sessionConfig:ep}=ei.params,eb=J(W(W({topic:et,relay:eo,expiry:ed,namespaces:ef,acknowledged:!0,pairingTopic:"",requiredNamespaces:{},optionalNamespaces:{},controller:eh.publicKey,self:{publicKey:"",metadata:this.client.metadata},peer:{publicKey:eh.publicKey,metadata:eh.metadata}},el&&{sessionProperties:el}),ep&&{sessionConfig:ep}),{transportType:ea.TRANSPORT_TYPES.relay}),eg=(0,eu.engineEvent)("session_connect");if(0===this.events.listenerCount(eg))throw Error(`emitting ${eg} without any listeners 997`);this.events.emit((0,eu.engineEvent)("session_connect"),{session:eb}),await this.sendResult({id:ei.id,topic:et,result:!0,throwOnFailedPublish:!0})}catch(ei){await this.sendError({id:eo,topic:et,error:ei}),this.client.logger.error(ei)}},this.onSessionSettleResponse=async(et,ei)=>{let{id:eo}=ei;(0,ep.isJsonRpcResult)(ei)?(await this.client.session.update(et,{acknowledged:!0}),this.events.emit((0,eu.engineEvent)("session_approve",eo),{})):(0,ep.isJsonRpcError)(ei)&&(await this.client.session.delete(et,(0,eu.getSdkError)("USER_DISCONNECTED")),this.events.emit((0,eu.engineEvent)("session_approve",eo),{error:ei.error}))},this.onSessionUpdateRequest=async(et,ei)=>{let{params:eo,id:ea}=ei;try{let ei=`${et}_session_update`,ec=eu.MemoryStore.get(ei);if(ec&&this.isRequestOutOfSync(ec,ea))return this.client.logger.info(`Discarding out of sync request - ${ea}`),void this.sendError({id:ea,topic:et,error:(0,eu.getSdkError)("INVALID_UPDATE_REQUEST")});this.isValidUpdate(W({topic:et},eo));try{eu.MemoryStore.set(ei,ea),await this.client.session.update(et,{namespaces:eo.namespaces}),await this.sendResult({id:ea,topic:et,result:!0,throwOnFailedPublish:!0})}catch(et){throw eu.MemoryStore.delete(ei),et}this.client.events.emit("session_update",{id:ea,topic:et,params:eo})}catch(ei){await this.sendError({id:ea,topic:et,error:ei}),this.client.logger.error(ei)}},this.isRequestOutOfSync=(et,ei)=>parseInt(ei.toString().slice(0,-3))<=parseInt(et.toString().slice(0,-3)),this.onSessionUpdateResponse=(et,ei)=>{let{id:eo}=ei,ea=(0,eu.engineEvent)("session_update",eo);if(0===this.events.listenerCount(ea))throw Error(`emitting ${ea} without any listeners`);(0,ep.isJsonRpcResult)(ei)?this.events.emit((0,eu.engineEvent)("session_update",eo),{}):(0,ep.isJsonRpcError)(ei)&&this.events.emit((0,eu.engineEvent)("session_update",eo),{error:ei.error})},this.onSessionExtendRequest=async(et,ei)=>{let{id:eo}=ei;try{this.isValidExtend({topic:et}),await this.setExpiry(et,(0,eu.calcExpiry)(eR)),await this.sendResult({id:eo,topic:et,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_extend",{id:eo,topic:et})}catch(ei){await this.sendError({id:eo,topic:et,error:ei}),this.client.logger.error(ei)}},this.onSessionExtendResponse=(et,ei)=>{let{id:eo}=ei,ea=(0,eu.engineEvent)("session_extend",eo);if(0===this.events.listenerCount(ea))throw Error(`emitting ${ea} without any listeners`);(0,ep.isJsonRpcResult)(ei)?this.events.emit((0,eu.engineEvent)("session_extend",eo),{}):(0,ep.isJsonRpcError)(ei)&&this.events.emit((0,eu.engineEvent)("session_extend",eo),{error:ei.error})},this.onSessionPingRequest=async(et,ei)=>{let{id:eo}=ei;try{this.isValidPing({topic:et}),await this.sendResult({id:eo,topic:et,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:eo,topic:et})}catch(ei){await this.sendError({id:eo,topic:et,error:ei}),this.client.logger.error(ei)}},this.onSessionPingResponse=(et,ei)=>{let{id:eo}=ei,ea=(0,eu.engineEvent)("session_ping",eo);if(0===this.events.listenerCount(ea))throw Error(`emitting ${ea} without any listeners`);setTimeout(()=>{(0,ep.isJsonRpcResult)(ei)?this.events.emit((0,eu.engineEvent)("session_ping",eo),{}):(0,ep.isJsonRpcError)(ei)&&this.events.emit((0,eu.engineEvent)("session_ping",eo),{error:ei.error})},500)},this.onSessionDeleteRequest=async(et,ei)=>{let{id:eo}=ei;try{this.isValidDisconnect({topic:et,reason:ei.params}),Promise.all([new Promise(ei=>{this.client.core.relayer.once(ea.RELAYER_EVENTS.publish,async()=>{ei(await this.deleteSession({topic:et,id:eo}))})}),this.sendResult({id:eo,topic:et,result:!0,throwOnFailedPublish:!0}),this.cleanupPendingSentRequestsForTopic({topic:et,error:(0,eu.getSdkError)("USER_DISCONNECTED")})]).catch(et=>this.client.logger.error(et))}catch(et){this.client.logger.error(et)}},this.onSessionRequest=async et=>{var ei,eo,ec;let{topic:eh,payload:ed,attestation:ef,encryptedId:el,transportType:eb}=et,{id:eg,params:em}=ed;try{await this.isValidRequest(W({topic:eh},em));let et=this.client.session.get(eh),ed={id:eg,topic:eh,params:em,verifyContext:await this.getVerifyContext({attestationId:ef,hash:(0,eu.hashMessage)(JSON.stringify((0,ep.formatJsonRpcRequest)("wc_sessionRequest",em,eg))),encryptedId:el,metadata:et.peer.metadata,transportType:eb})};await this.setPendingSessionRequest(ed),eb===ea.TRANSPORT_TYPES.link_mode&&null!=(ei=et.peer.metadata.redirect)&&ei.universal&&this.client.core.addLinkModeSupportedApp(null==(eo=et.peer.metadata.redirect)?void 0:eo.universal),null!=(ec=this.client.signConfig)&&ec.disableRequestQueue?this.emitSessionRequest(ed):(this.addSessionRequestToSessionRequestQueue(ed),this.processSessionRequestQueue())}catch(et){await this.sendError({id:eg,topic:eh,error:et}),this.client.logger.error(et)}},this.onSessionRequestResponse=(et,ei)=>{let{id:eo}=ei,ea=(0,eu.engineEvent)("session_request",eo);if(0===this.events.listenerCount(ea))throw Error(`emitting ${ea} without any listeners`);(0,ep.isJsonRpcResult)(ei)?this.events.emit((0,eu.engineEvent)("session_request",eo),{result:ei.result}):(0,ep.isJsonRpcError)(ei)&&this.events.emit((0,eu.engineEvent)("session_request",eo),{error:ei.error})},this.onSessionEventRequest=async(et,ei)=>{let{id:eo,params:ea}=ei;try{let ei=`${et}_session_event_${ea.event.name}`,ec=eu.MemoryStore.get(ei);if(ec&&this.isRequestOutOfSync(ec,eo))return void this.client.logger.info(`Discarding out of sync request - ${eo}`);this.isValidEmit(W({topic:et},ea)),this.client.events.emit("session_event",{id:eo,topic:et,params:ea}),eu.MemoryStore.set(ei,eo)}catch(ei){await this.sendError({id:eo,topic:et,error:ei}),this.client.logger.error(ei)}},this.onSessionAuthenticateResponse=(et,ei)=>{let{id:eo}=ei;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:et,payload:ei}),(0,ep.isJsonRpcResult)(ei)?this.events.emit((0,eu.engineEvent)("session_request",eo),{result:ei.result}):(0,ep.isJsonRpcError)(ei)&&this.events.emit((0,eu.engineEvent)("session_request",eo),{error:ei.error})},this.onSessionAuthenticateRequest=async et=>{var ei;let{topic:eo,payload:ec,attestation:eh,encryptedId:ed,transportType:ef}=et;try{let{requester:et,authPayload:el,expiryTimestamp:ep}=ec.params,eb=await this.getVerifyContext({attestationId:eh,hash:(0,eu.hashMessage)(JSON.stringify(ec)),encryptedId:ed,metadata:et.metadata,transportType:ef}),eg={requester:et,pairingTopic:eo,id:ec.id,authPayload:el,verifyContext:eb,expiryTimestamp:ep};await this.setAuthRequest(ec.id,{request:eg,pairingTopic:eo,transportType:ef}),ef===ea.TRANSPORT_TYPES.link_mode&&null!=(ei=et.metadata.redirect)&&ei.universal&&this.client.core.addLinkModeSupportedApp(et.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:eo,params:ec.params,id:ec.id,verifyContext:eb})}catch(ed){this.client.logger.error(ed);let et=ec.params.requester.publicKey,ei=await this.client.core.crypto.generateKeyPair(),ea=this.getAppLinkIfEnabled(ec.params.requester.metadata,ef),eh={type:eu.TYPE_1,receiverPublicKey:et,senderPublicKey:ei};await this.sendError({id:ec.id,topic:eo,error:ed,encodeOpts:eh,rpcOpts:eP.wc_sessionAuthenticate.autoReject,appLink:ea})}},this.addSessionRequestToSessionRequestQueue=et=>{this.sessionRequestQueue.queue.push(et)},this.cleanupAfterResponse=et=>{this.deletePendingSessionRequest(et.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=eN.idle,this.processSessionRequestQueue()},(0,el.toMiliseconds)(this.requestQueueDelay))},this.cleanupPendingSentRequestsForTopic=({topic:et,error:ei})=>{let eo=this.client.core.history.pending;eo.length>0&&eo.filter(ei=>ei.topic===et&&"wc_sessionRequest"===ei.request.method).forEach(et=>{let eo=et.request.id,ea=(0,eu.engineEvent)("session_request",eo);if(0===this.events.listenerCount(ea))throw Error(`emitting ${ea} without any listeners`);this.events.emit((0,eu.engineEvent)("session_request",et.request.id),{error:ei})})},this.processSessionRequestQueue=()=>{if(this.sessionRequestQueue.state===eN.active)return void this.client.logger.info("session request queue is already active.");let et=this.sessionRequestQueue.queue[0];if(et)try{this.sessionRequestQueue.state=eN.active,this.emitSessionRequest(et)}catch(et){this.client.logger.error(et)}else this.client.logger.info("session request queue is empty.")},this.emitSessionRequest=et=>{this.client.events.emit("session_request",et)},this.onPairingCreated=et=>{if(et.methods&&this.expectedPairingMethodMap.set(et.topic,et.methods),et.active)return;let ei=this.client.proposal.getAll().find(ei=>ei.pairingTopic===et.topic);ei&&this.onSessionProposeRequest({topic:et.topic,payload:(0,ep.formatJsonRpcRequest)("wc_sessionPropose",{requiredNamespaces:ei.requiredNamespaces,optionalNamespaces:ei.optionalNamespaces,relays:ei.relays,proposer:ei.proposer,sessionProperties:ei.sessionProperties},ei.id)})},this.isValidConnect=async et=>{if(!(0,eu.isValidParams)(et)){let{message:ei}=(0,eu.getInternalError)("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(et)}`);throw Error(ei)}let{pairingTopic:ei,requiredNamespaces:eo,optionalNamespaces:ea,sessionProperties:ec,relays:eh}=et;if((0,eu.isUndefined)(ei)||await this.isValidPairingTopic(ei),!(0,eu.isValidRelays)(eh,!0)){let{message:et}=(0,eu.getInternalError)("MISSING_OR_INVALID",`connect() relays: ${eh}`);throw Error(et)}(0,eu.isUndefined)(eo)||0===(0,eu.isValidObject)(eo)||this.validateNamespaces(eo,"requiredNamespaces"),(0,eu.isUndefined)(ea)||0===(0,eu.isValidObject)(ea)||this.validateNamespaces(ea,"optionalNamespaces"),(0,eu.isUndefined)(ec)||this.validateSessionProps(ec,"sessionProperties")},this.validateNamespaces=(et,ei)=>{let eo=(0,eu.isValidRequiredNamespaces)(et,"connect()",ei);if(eo)throw Error(eo.message)},this.isValidApprove=async et=>{if(!(0,eu.isValidParams)(et))throw Error((0,eu.getInternalError)("MISSING_OR_INVALID",`approve() params: ${et}`).message);let{id:ei,namespaces:eo,relayProtocol:ea,sessionProperties:ec}=et;this.checkRecentlyDeleted(ei),await this.isValidProposalId(ei);let eh=this.client.proposal.get(ei),ed=(0,eu.isValidNamespaces)(eo,"approve()");if(ed)throw Error(ed.message);let ef=(0,eu.isConformingNamespaces)(eh.requiredNamespaces,eo,"approve()");if(ef)throw Error(ef.message);if(!(0,eu.isValidString)(ea,!0)){let{message:et}=(0,eu.getInternalError)("MISSING_OR_INVALID",`approve() relayProtocol: ${ea}`);throw Error(et)}(0,eu.isUndefined)(ec)||this.validateSessionProps(ec,"sessionProperties")},this.isValidReject=async et=>{if(!(0,eu.isValidParams)(et)){let{message:ei}=(0,eu.getInternalError)("MISSING_OR_INVALID",`reject() params: ${et}`);throw Error(ei)}let{id:ei,reason:eo}=et;if(this.checkRecentlyDeleted(ei),await this.isValidProposalId(ei),!(0,eu.isValidErrorReason)(eo)){let{message:et}=(0,eu.getInternalError)("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(eo)}`);throw Error(et)}},this.isValidSessionSettleRequest=et=>{if(!(0,eu.isValidParams)(et)){let{message:ei}=(0,eu.getInternalError)("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${et}`);throw Error(ei)}let{relay:ei,controller:eo,namespaces:ea,expiry:ec}=et;if(!(0,eu.isValidRelay)(ei)){let{message:et}=(0,eu.getInternalError)("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw Error(et)}let eh=(0,eu.isValidController)(eo,"onSessionSettleRequest()");if(eh)throw Error(eh.message);let ed=(0,eu.isValidNamespaces)(ea,"onSessionSettleRequest()");if(ed)throw Error(ed.message);if((0,eu.isExpired)(ec)){let{message:et}=(0,eu.getInternalError)("EXPIRED","onSessionSettleRequest()");throw Error(et)}},this.isValidUpdate=async et=>{if(!(0,eu.isValidParams)(et)){let{message:ei}=(0,eu.getInternalError)("MISSING_OR_INVALID",`update() params: ${et}`);throw Error(ei)}let{topic:ei,namespaces:eo}=et;this.checkRecentlyDeleted(ei),await this.isValidSessionTopic(ei);let ea=this.client.session.get(ei),ec=(0,eu.isValidNamespaces)(eo,"update()");if(ec)throw Error(ec.message);let eh=(0,eu.isConformingNamespaces)(ea.requiredNamespaces,eo,"update()");if(eh)throw Error(eh.message)},this.isValidExtend=async et=>{if(!(0,eu.isValidParams)(et)){let{message:ei}=(0,eu.getInternalError)("MISSING_OR_INVALID",`extend() params: ${et}`);throw Error(ei)}let{topic:ei}=et;this.checkRecentlyDeleted(ei),await this.isValidSessionTopic(ei)},this.isValidRequest=async et=>{if(!(0,eu.isValidParams)(et)){let{message:ei}=(0,eu.getInternalError)("MISSING_OR_INVALID",`request() params: ${et}`);throw Error(ei)}let{topic:ei,request:eo,chainId:ea,expiry:ec}=et;this.checkRecentlyDeleted(ei),await this.isValidSessionTopic(ei);let{namespaces:eh}=this.client.session.get(ei);if(!(0,eu.isValidNamespacesChainId)(eh,ea)){let{message:et}=(0,eu.getInternalError)("MISSING_OR_INVALID",`request() chainId: ${ea}`);throw Error(et)}if(!(0,eu.isValidRequest)(eo)){let{message:et}=(0,eu.getInternalError)("MISSING_OR_INVALID",`request() ${JSON.stringify(eo)}`);throw Error(et)}if(!(0,eu.isValidNamespacesRequest)(eh,ea,eo.method)){let{message:et}=(0,eu.getInternalError)("MISSING_OR_INVALID",`request() method: ${eo.method}`);throw Error(et)}if(ec&&!(0,eu.isValidRequestExpiry)(ec,eO)){let{message:et}=(0,eu.getInternalError)("MISSING_OR_INVALID",`request() expiry: ${ec}. Expiry must be a number (in seconds) between ${eO.min} and ${eO.max}`);throw Error(et)}},this.isValidRespond=async et=>{var ei;if(!(0,eu.isValidParams)(et)){let{message:ei}=(0,eu.getInternalError)("MISSING_OR_INVALID",`respond() params: ${et}`);throw Error(ei)}let{topic:eo,response:ea}=et;try{await this.isValidSessionTopic(eo)}catch(eo){throw null!=(ei=et?.response)&&ei.id&&this.cleanupAfterResponse(et),eo}if(!(0,eu.isValidResponse)(ea)){let{message:et}=(0,eu.getInternalError)("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(ea)}`);throw Error(et)}},this.isValidPing=async et=>{if(!(0,eu.isValidParams)(et)){let{message:ei}=(0,eu.getInternalError)("MISSING_OR_INVALID",`ping() params: ${et}`);throw Error(ei)}let{topic:ei}=et;await this.isValidSessionOrPairingTopic(ei)},this.isValidEmit=async et=>{if(!(0,eu.isValidParams)(et)){let{message:ei}=(0,eu.getInternalError)("MISSING_OR_INVALID",`emit() params: ${et}`);throw Error(ei)}let{topic:ei,event:eo,chainId:ea}=et;await this.isValidSessionTopic(ei);let{namespaces:ec}=this.client.session.get(ei);if(!(0,eu.isValidNamespacesChainId)(ec,ea)){let{message:et}=(0,eu.getInternalError)("MISSING_OR_INVALID",`emit() chainId: ${ea}`);throw Error(et)}if(!(0,eu.isValidEvent)(eo)){let{message:et}=(0,eu.getInternalError)("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(eo)}`);throw Error(et)}if(!(0,eu.isValidNamespacesEvent)(ec,ea,eo.name)){let{message:et}=(0,eu.getInternalError)("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(eo)}`);throw Error(et)}},this.isValidDisconnect=async et=>{if(!(0,eu.isValidParams)(et)){let{message:ei}=(0,eu.getInternalError)("MISSING_OR_INVALID",`disconnect() params: ${et}`);throw Error(ei)}let{topic:ei}=et;await this.isValidSessionOrPairingTopic(ei)},this.isValidAuthenticate=et=>{let{chains:ei,uri:eo,domain:ea,nonce:ec}=et;if(!Array.isArray(ei)||0===ei.length)throw Error("chains is required and must be a non-empty array");if(!(0,eu.isValidString)(eo,!1))throw Error("uri is required parameter");if(!(0,eu.isValidString)(ea,!1))throw Error("domain is required parameter");if(!(0,eu.isValidString)(ec,!1))throw Error("nonce is required parameter");if([...new Set(ei.map(et=>(0,eu.parseChainId)(et).namespace))].length>1)throw Error("Multi-namespace requests are not supported. Please request single namespace only.");let{namespace:eh}=(0,eu.parseChainId)(ei[0]);if("eip155"!==eh)throw Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")},this.getVerifyContext=async et=>{let{attestationId:ei,hash:eo,encryptedId:ec,metadata:eh,transportType:eu}=et,ed={verified:{verifyUrl:eh.verifyUrl||ea.VERIFY_SERVER,validation:"UNKNOWN",origin:eh.url||""}};try{if(eu===ea.TRANSPORT_TYPES.link_mode){let et=this.getAppLinkIfEnabled(eh,eu);return ed.verified.validation=et&&new URL(et).origin===new URL(eh.url).origin?"VALID":"INVALID",ed}let et=await this.client.core.verify.resolve({attestationId:ei,hash:eo,encryptedId:ec,verifyUrl:eh.verifyUrl});et&&(ed.verified.origin=et.origin,ed.verified.isScam=et.isScam,ed.verified.validation=et.origin===new URL(eh.url).origin?"VALID":"INVALID")}catch(et){this.client.logger.warn(et)}return this.client.logger.debug(`Verify context: ${JSON.stringify(ed)}`),ed},this.validateSessionProps=(et,ei)=>{Object.values(et).forEach(et=>{if(!(0,eu.isValidString)(et,!1)){let{message:eo}=(0,eu.getInternalError)("MISSING_OR_INVALID",`${ei} must be in Record<string, string> format. Received: ${JSON.stringify(et)}`);throw Error(eo)}})},this.getPendingAuthRequest=et=>{let ei=this.client.auth.requests.get(et);return"object"==typeof ei?ei:void 0},this.addToRecentlyDeleted=(et,ei)=>{if(this.recentlyDeletedMap.set(et,ei),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let et=0,ei=this.recentlyDeletedLimit/2;for(let eo of this.recentlyDeletedMap.keys()){if(et++>=ei)break;this.recentlyDeletedMap.delete(eo)}}},this.checkRecentlyDeleted=et=>{let ei=this.recentlyDeletedMap.get(et);if(ei){let{message:eo}=(0,eu.getInternalError)("MISSING_OR_INVALID",`Record was recently deleted - ${ei}: ${et}`);throw Error(eo)}},this.isLinkModeEnabled=(et,ei)=>{var ec,eh,eu,ed,ef,el,ep,eb,eg;return!(!et||ei!==ea.TRANSPORT_TYPES.link_mode)&&!0===(null==(eh=null==(ec=this.client.metadata)?void 0:ec.redirect)?void 0:eh.linkMode)&&void 0!==(null==(ed=null==(eu=this.client.metadata)?void 0:eu.redirect)?void 0:ed.universal)&&""!==(null==(el=null==(ef=this.client.metadata)?void 0:ef.redirect)?void 0:el.universal)&&void 0!==(null==(ep=et?.redirect)?void 0:ep.universal)&&""!==(null==(eb=et?.redirect)?void 0:eb.universal)&&!0===(null==(eg=et?.redirect)?void 0:eg.linkMode)&&this.client.core.linkModeSupportedApps.includes(et.redirect.universal)&&"u">typeof(null==eo.g?void 0:eo.g.Linking)},this.getAppLinkIfEnabled=(et,ei)=>{var eo;return this.isLinkModeEnabled(et,ei)?null==(eo=et?.redirect)?void 0:eo.universal:void 0},this.handleLinkModeMessage=({url:et})=>{if(!et||!et.includes("wc_ev")||!et.includes("topic"))return;let ei=(0,eu.getSearchParamFromURL)(et,"topic")||"",eo=decodeURIComponent((0,eu.getSearchParamFromURL)(et,"wc_ev")||""),ec=this.client.session.keys.includes(ei);ec&&this.client.session.update(ei,{transportType:ea.TRANSPORT_TYPES.link_mode}),this.client.core.dispatchEnvelope({topic:ei,message:eo,sessionExists:ec})},this.registerLinkModeListeners=async()=>{var et;if((0,eu.isTestRun)()||(0,eu.isReactNative)()&&null!=(et=this.client.metadata.redirect)&&et.linkMode){let et=null==eo.g?void 0:eo.g.Linking;if("u">typeof et){et.addEventListener("url",this.handleLinkModeMessage,this.client.name);let ei=await et.getInitialURL();ei&&setTimeout(()=>{this.handleLinkModeMessage({url:ei})},50)}}}}isInitialized(){if(!this.initialized){let{message:et}=(0,eu.getInternalError)("NOT_INITIALIZED",this.name);throw Error(et)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(ea.RELAYER_EVENTS.message,et=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(et):this.onRelayMessage(et)})}async onRelayMessage(et){let{topic:ei,message:eo,attestation:ec,transportType:eh}=et,{publicKey:ed}=this.client.auth.authKeys.keys.includes(ez)?this.client.auth.authKeys.get(ez):{responseTopic:void 0,publicKey:void 0},ef=await this.client.core.crypto.decode(ei,eo,{receiverPublicKey:ed,encoding:eh===ea.TRANSPORT_TYPES.link_mode?eu.BASE64URL:eu.BASE64});try{(0,ep.isJsonRpcRequest)(ef)?(this.client.core.history.set(ei,ef),this.onRelayEventRequest({topic:ei,payload:ef,attestation:ec,transportType:eh,encryptedId:(0,eu.hashMessage)(eo)})):(0,ep.isJsonRpcResponse)(ef)?(await this.client.core.history.resolve(ef),await this.onRelayEventResponse({topic:ei,payload:ef,transportType:eh}),this.client.core.history.delete(ei,ef.id)):this.onRelayEventUnknownPayload({topic:ei,payload:ef,transportType:eh})}catch(et){this.client.logger.error(et)}}registerExpirerEvents(){this.client.core.expirer.on(ea.EXPIRER_EVENTS.expired,async et=>{let{topic:ei,id:eo}=(0,eu.parseExpirerTarget)(et.target);return eo&&this.client.pendingRequest.keys.includes(eo)?await this.deletePendingSessionRequest(eo,(0,eu.getInternalError)("EXPIRED"),!0):eo&&this.client.auth.requests.keys.includes(eo)?await this.deletePendingAuthRequest(eo,(0,eu.getInternalError)("EXPIRED"),!0):void(ei?this.client.session.keys.includes(ei)&&(await this.deleteSession({topic:ei,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:ei})):eo&&(await this.deleteProposal(eo,!0),this.client.events.emit("proposal_expire",{id:eo})))})}registerPairingEvents(){this.client.core.pairing.events.on(ea.PAIRING_EVENTS.create,et=>this.onPairingCreated(et)),this.client.core.pairing.events.on(ea.PAIRING_EVENTS.delete,et=>{this.addToRecentlyDeleted(et.topic,"pairing")})}isValidPairingTopic(et){if(!(0,eu.isValidString)(et,!1)){let{message:ei}=(0,eu.getInternalError)("MISSING_OR_INVALID",`pairing topic should be a string: ${et}`);throw Error(ei)}if(!this.client.core.pairing.pairings.keys.includes(et)){let{message:ei}=(0,eu.getInternalError)("NO_MATCHING_KEY",`pairing topic doesn't exist: ${et}`);throw Error(ei)}if((0,eu.isExpired)(this.client.core.pairing.pairings.get(et).expiry)){let{message:ei}=(0,eu.getInternalError)("EXPIRED",`pairing topic: ${et}`);throw Error(ei)}}async isValidSessionTopic(et){if(!(0,eu.isValidString)(et,!1)){let{message:ei}=(0,eu.getInternalError)("MISSING_OR_INVALID",`session topic should be a string: ${et}`);throw Error(ei)}if(this.checkRecentlyDeleted(et),!this.client.session.keys.includes(et)){let{message:ei}=(0,eu.getInternalError)("NO_MATCHING_KEY",`session topic doesn't exist: ${et}`);throw Error(ei)}if((0,eu.isExpired)(this.client.session.get(et).expiry)){await this.deleteSession({topic:et});let{message:ei}=(0,eu.getInternalError)("EXPIRED",`session topic: ${et}`);throw Error(ei)}if(!this.client.core.crypto.keychain.has(et)){let{message:ei}=(0,eu.getInternalError)("MISSING_OR_INVALID",`session topic does not exist in keychain: ${et}`);throw await this.deleteSession({topic:et}),Error(ei)}}async isValidSessionOrPairingTopic(et){if(this.checkRecentlyDeleted(et),this.client.session.keys.includes(et))await this.isValidSessionTopic(et);else{if(!this.client.core.pairing.pairings.keys.includes(et)){if((0,eu.isValidString)(et,!1)){let{message:ei}=(0,eu.getInternalError)("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${et}`);throw Error(ei)}{let{message:ei}=(0,eu.getInternalError)("MISSING_OR_INVALID",`session or pairing topic should be a string: ${et}`);throw Error(ei)}}this.isValidPairingTopic(et)}}async isValidProposalId(et){if(!(0,eu.isValidId)(et)){let{message:ei}=(0,eu.getInternalError)("MISSING_OR_INVALID",`proposal id should be a number: ${et}`);throw Error(ei)}if(!this.client.proposal.keys.includes(et)){let{message:ei}=(0,eu.getInternalError)("NO_MATCHING_KEY",`proposal id doesn't exist: ${et}`);throw Error(ei)}if((0,eu.isExpired)(this.client.proposal.get(et).expiryTimestamp)){await this.deleteProposal(et);let{message:ei}=(0,eu.getInternalError)("EXPIRED",`proposal id: ${et}`);throw Error(ei)}}};let X=class X extends ea.Store{constructor(et,ei){super(et,ei,eI,ey),this.core=et,this.logger=ei}};let Z=class Z extends ea.Store{constructor(et,ei){super(et,ei,eC,ey),this.core=et,this.logger=ei}};let Q=class Q extends ea.Store{constructor(et,ei){super(et,ei,eU,ey,et=>et.id),this.core=et,this.logger=ei}};let ee=class ee extends ea.Store{constructor(et,ei){super(et,ei,eq,eV,()=>ez),this.core=et,this.logger=ei}};let te=class te extends ea.Store{constructor(et,ei){super(et,ei,eF,eV),this.core=et,this.logger=ei}};let re=class re extends ea.Store{constructor(et,ei){super(et,ei,eH,eV,et=>et.id),this.core=et,this.logger=ei}};let ne=class ne{constructor(et,ei){this.core=et,this.logger=ei,this.authKeys=new ee(this.core,this.logger),this.pairingTopics=new te(this.core,this.logger),this.requests=new re(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}};let ie=class ie extends eh.S9{constructor(et){super(et),this.protocol=eb,this.version=eg,this.name=ev.name,this.events=new ed.EventEmitter,this.on=(et,ei)=>this.events.on(et,ei),this.once=(et,ei)=>this.events.once(et,ei),this.off=(et,ei)=>this.events.off(et,ei),this.removeListener=(et,ei)=>this.events.removeListener(et,ei),this.removeAllListeners=et=>this.events.removeAllListeners(et),this.connect=async et=>{try{return await this.engine.connect(et)}catch(et){throw this.logger.error(et.message),et}},this.pair=async et=>{try{return await this.engine.pair(et)}catch(et){throw this.logger.error(et.message),et}},this.approve=async et=>{try{return await this.engine.approve(et)}catch(et){throw this.logger.error(et.message),et}},this.reject=async et=>{try{return await this.engine.reject(et)}catch(et){throw this.logger.error(et.message),et}},this.update=async et=>{try{return await this.engine.update(et)}catch(et){throw this.logger.error(et.message),et}},this.extend=async et=>{try{return await this.engine.extend(et)}catch(et){throw this.logger.error(et.message),et}},this.request=async et=>{try{return await this.engine.request(et)}catch(et){throw this.logger.error(et.message),et}},this.respond=async et=>{try{return await this.engine.respond(et)}catch(et){throw this.logger.error(et.message),et}},this.ping=async et=>{try{return await this.engine.ping(et)}catch(et){throw this.logger.error(et.message),et}},this.emit=async et=>{try{return await this.engine.emit(et)}catch(et){throw this.logger.error(et.message),et}},this.disconnect=async et=>{try{return await this.engine.disconnect(et)}catch(et){throw this.logger.error(et.message),et}},this.find=et=>{try{return this.engine.find(et)}catch(et){throw this.logger.error(et.message),et}},this.getPendingSessionRequests=()=>{try{return this.engine.getPendingSessionRequests()}catch(et){throw this.logger.error(et.message),et}},this.authenticate=async(et,ei)=>{try{return await this.engine.authenticate(et,ei)}catch(et){throw this.logger.error(et.message),et}},this.formatAuthMessage=et=>{try{return this.engine.formatAuthMessage(et)}catch(et){throw this.logger.error(et.message),et}},this.approveSessionAuthenticate=async et=>{try{return await this.engine.approveSessionAuthenticate(et)}catch(et){throw this.logger.error(et.message),et}},this.rejectSessionAuthenticate=async et=>{try{return await this.engine.rejectSessionAuthenticate(et)}catch(et){throw this.logger.error(et.message),et}},this.name=et?.name||ev.name,this.metadata=et?.metadata||(0,eu.getAppMetadata)(),this.signConfig=et?.signConfig;let ei="u">typeof et?.logger&&"string"!=typeof et?.logger?et.logger:(0,ec.h6)((0,ec.iP)({level:et?.logger||ev.logger}));this.core=et?.core||new ea.Core(et),this.logger=(0,ec.U5)(ei,this.name),this.session=new Z(this.core,this.logger),this.proposal=new X(this.core,this.logger),this.pendingRequest=new Q(this.core,this.logger),this.engine=new Y(this),this.auth=new ne(this.core,this.logger)}static async init(et){let ei=new ie(et);return await ei.initialize(),ei}get context(){return(0,ec.oI)(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success"),this.engine.processRelayMessageCache()}catch(et){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(et.message),et}}};let eX=Z,eZ=ie},6383:(et,ei,eo)=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0});let ea=eo(5927);ea.__exportStar(eo(6435),ei),ea.__exportStar(eo(5326),ei)},6435:(et,ei)=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0}),ei.ONE_THOUSAND=ei.ONE_HUNDRED=void 0,ei.ONE_HUNDRED=100,ei.ONE_THOUSAND=1e3},5326:(et,ei)=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0}),ei.ONE_YEAR=ei.FOUR_WEEKS=ei.THREE_WEEKS=ei.TWO_WEEKS=ei.ONE_WEEK=ei.THIRTY_DAYS=ei.SEVEN_DAYS=ei.FIVE_DAYS=ei.THREE_DAYS=ei.ONE_DAY=ei.TWENTY_FOUR_HOURS=ei.TWELVE_HOURS=ei.SIX_HOURS=ei.THREE_HOURS=ei.ONE_HOUR=ei.SIXTY_MINUTES=ei.THIRTY_MINUTES=ei.TEN_MINUTES=ei.FIVE_MINUTES=ei.ONE_MINUTE=ei.SIXTY_SECONDS=ei.THIRTY_SECONDS=ei.TEN_SECONDS=ei.FIVE_SECONDS=ei.ONE_SECOND=void 0,ei.ONE_SECOND=1,ei.FIVE_SECONDS=5,ei.TEN_SECONDS=10,ei.THIRTY_SECONDS=30,ei.SIXTY_SECONDS=60,ei.ONE_MINUTE=ei.SIXTY_SECONDS,ei.FIVE_MINUTES=5*ei.ONE_MINUTE,ei.TEN_MINUTES=10*ei.ONE_MINUTE,ei.THIRTY_MINUTES=30*ei.ONE_MINUTE,ei.SIXTY_MINUTES=60*ei.ONE_MINUTE,ei.ONE_HOUR=ei.SIXTY_MINUTES,ei.THREE_HOURS=3*ei.ONE_HOUR,ei.SIX_HOURS=6*ei.ONE_HOUR,ei.TWELVE_HOURS=12*ei.ONE_HOUR,ei.TWENTY_FOUR_HOURS=24*ei.ONE_HOUR,ei.ONE_DAY=ei.TWENTY_FOUR_HOURS,ei.THREE_DAYS=3*ei.ONE_DAY,ei.FIVE_DAYS=5*ei.ONE_DAY,ei.SEVEN_DAYS=7*ei.ONE_DAY,ei.THIRTY_DAYS=30*ei.ONE_DAY,ei.ONE_WEEK=ei.SEVEN_DAYS,ei.TWO_WEEKS=2*ei.ONE_WEEK,ei.THREE_WEEKS=3*ei.ONE_WEEK,ei.FOUR_WEEKS=4*ei.ONE_WEEK,ei.ONE_YEAR=365*ei.ONE_DAY},7777:(et,ei,eo)=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0});let ea=eo(5927);ea.__exportStar(eo(9523),ei),ea.__exportStar(eo(4186),ei),ea.__exportStar(eo(5767),ei),ea.__exportStar(eo(6383),ei)},5767:(et,ei,eo)=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0}),eo(5927).__exportStar(eo(884),ei)},884:(et,ei)=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0}),ei.IWatch=void 0,ei.IWatch=class{}},1884:(et,ei,eo)=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0}),ei.fromMiliseconds=ei.toMiliseconds=void 0;let ea=eo(6383);ei.toMiliseconds=function(et){return et*ea.ONE_THOUSAND},ei.fromMiliseconds=function(et){return Math.floor(et/ea.ONE_THOUSAND)}},4892:(et,ei)=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0}),ei.delay=void 0,ei.delay=function(et){return new Promise(ei=>{setTimeout(()=>{ei(!0)},et)})}},9523:(et,ei,eo)=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0});let ea=eo(5927);ea.__exportStar(eo(4892),ei),ea.__exportStar(eo(1884),ei)},4186:(et,ei)=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0}),ei.Watch=void 0;let r=class r{constructor(){this.timestamps=new Map}start(et){if(this.timestamps.has(et))throw Error(`Watch already started for label: ${et}`);this.timestamps.set(et,{started:Date.now()})}stop(et){let ei=this.get(et);if(void 0!==ei.elapsed)throw Error(`Watch already stopped for label: ${et}`);let eo=Date.now()-ei.started;this.timestamps.set(et,{started:ei.started,elapsed:eo})}get(et){let ei=this.timestamps.get(et);if(void 0===ei)throw Error(`No timestamp found for label: ${et}`);return ei}elapsed(et){let ei=this.get(et);return ei.elapsed||Date.now()-ei.started}};ei.Watch=r,ei.default=r},3247:(et,ei,eo)=>{"use strict";eo.d(ei,{$Q:()=>g,GF:()=>b,S9:()=>m,Vx:()=>l,ZP:()=>o,dQ:()=>c,lZ:()=>a,m5:()=>u,mF:()=>f,pi:()=>d,qE:()=>h,yJ:()=>y,zl:()=>p});var ea=eo(9920),ec=eo(381),eh=eo.n(ec);let o=class o extends ea.H{constructor(et){super(),this.opts=et,this.protocol="wc",this.version=2}};let a=class a extends ea.H{constructor(et,ei){super(),this.core=et,this.logger=ei,this.records=new Map}};let c=class c{constructor(et,ei){this.logger=et,this.core=ei}};let h=class h extends ea.H{constructor(et,ei){super(),this.relayer=et,this.logger=ei}};let u=class u extends ea.H{constructor(et){super()}};let d=class d{constructor(et,ei,eo,ea){this.core=et,this.logger=ei,this.name=eo}};let f=class f extends ea.H{constructor(et,ei){super(),this.relayer=et,this.logger=ei}};let l=class l extends ea.H{constructor(et,ei){super(),this.core=et,this.logger=ei}};let p=class p{constructor(et,ei,eo){this.core=et,this.logger=ei,this.store=eo}};let b=class b{constructor(et,ei){this.projectId=et,this.logger=ei}};let g=class g{constructor(et,ei,eo){this.core=et,this.logger=ei,this.telemetryEnabled=eo}};eh();let m=class m{constructor(et){this.opts=et,this.protocol="wc",this.version=2}};ec.EventEmitter;let y=class y{constructor(et){this.client=et}}},4327:(et,ei,eo)=>{"use strict";eo.r(ei),eo.d(ei,{BASE10:()=>tR,BASE16:()=>tk,BASE64:()=>tP,BASE64URL:()=>tO,COLON:()=>tv,DEFAULT_DEPTH:()=>t_,EMPTY_SPACE:()=>ty,ENV_MAP:()=>tm,INTERNAL_ERRORS:()=>tZ,MemoryStore:()=>Ss,ONE_THOUSAND:()=>tE,REACT_NATIVE_PRODUCT:()=>tg,RELAYER_DEFAULT_PROTOCOL:()=>tD,SDK_ERRORS:()=>tX,SDK_TYPE:()=>tS,SLASH:()=>tw,TYPE_0:()=>tU,TYPE_1:()=>tB,TYPE_2:()=>tL,UTF8:()=>tN,addResourceToRecap:()=>tn,appendToQueryString:()=>qt,assertType:()=>Wt,assignAbilityToActions:()=>rn,base64Decode:()=>Zr,base64Encode:()=>Xr,buildApprovedNamespaces:()=>Ai,buildAuthObject:()=>Vr,buildNamespacesFromAuth:()=>Ci,buildRecapStatement:()=>ln,calcExpiry:()=>dr,capitalize:()=>ir,capitalizeWord:()=>nr,createDelayedPromise:()=>sr,createEncodedRecap:()=>on,createExpiringPromise:()=>or,createRecap:()=>en,decodeRecap:()=>sn,decodeTypeByte:()=>On,decodeTypeTwoEnvelope:()=>Ln,decrypt:()=>Bn,deriveSymKey:()=>Cn,deserialize:()=>Dn,encodeRecap:()=>nn,encodeTypeByte:()=>Pn,encodeTypeTwoEnvelope:()=>Un,encrypt:()=>Nn,engineEvent:()=>lr,enumify:()=>rr,formatAccountId:()=>ut,formatAccountWithChain:()=>pt,formatChainId:()=>ct,formatDeeplinkUrl:()=>gr,formatExpirerTarget:()=>ar,formatIdTarget:()=>hr,formatMessage:()=>zr,formatMessageContext:()=>Yt,formatRelayParams:()=>ai,formatRelayRpcUrl:()=>Kt,formatStatementFromRecap:()=>un,formatTopicTarget:()=>cr,formatUA:()=>$t,formatUri:()=>ci,fromBase64:()=>Ar,generateKeyPair:()=>Tn,generateRandomBytes32:()=>xn,getAccountsChains:()=>vi,getAccountsFromNamespaces:()=>mt,getAddressFromAccount:()=>ft,getAddressesFromAccounts:()=>bt,getAppMetadata:()=>Ft,getBrowserOnlineStatus:()=>gs,getBundleId:()=>Dt,getChainFromAccount:()=>lt,getChainsFromAccounts:()=>gt,getChainsFromNamespace:()=>wt,getChainsFromNamespaces:()=>yt,getChainsFromRecap:()=>fn,getChainsFromRequiredNamespaces:()=>vt,getCommonValuesInArrays:()=>yr,getCryptoKeyFromKeyData:()=>Vn,getDecodedRecapFromResources:()=>Kr,getDeepLink:()=>mr,getDidAddress:()=>Fr,getDidAddressSegments:()=>jr,getDidChainId:()=>Dr,getEnvironment:()=>jt,getHttpUrl:()=>Gt,getInternalError:()=>Pi,getJavascriptID:()=>Vt,getJavascriptOS:()=>zt,getLastItems:()=>Zt,getLinkModeURL:()=>hi,getMethodsFromRecap:()=>dn,getNamespacedDidChainId:()=>qr,getNamespacesChains:()=>wi,getNamespacesEventsForChainId:()=>Ei,getNamespacesFromAccounts:()=>xi,getNamespacesMethodsForChainId:()=>_i,getNodeOnlineStatus:()=>ys,getReCapActions:()=>Yr,getReactNativeOnlineStatus:()=>ms,getRecapAbilitiesFromResource:()=>Jr,getRecapFromResources:()=>pn,getRecapResource:()=>Wr,getRelayClientMetadata:()=>Ht,getRelayProtocolApi:()=>Wn,getRelayProtocolName:()=>Gn,getRequiredNamespacesFromNamespaces:()=>Si,getSdkError:()=>Oi,getSearchParamFromURL:()=>vr,getUniqueValues:()=>dt,handleDeeplinkRedirect:()=>br,hasOverlap:()=>Xt,hashKey:()=>Rn,hashMessage:()=>kn,isBrowser:()=>Lt,isCaipNamespace:()=>Mi,isConformingNamespaces:()=>fs,isExpired:()=>fr,isNode:()=>Ut,isOnline:()=>bs,isProposalStruct:()=>zi,isReactNative:()=>Bt,isRecap:()=>an,isSessionCompatible:()=>Di,isSessionStruct:()=>Vi,isTelegram:()=>Er,isTestRun:()=>_r,isTypeOneEnvelope:()=>Hn,isTypeTwoEnvelope:()=>zn,isUndefined:()=>Bi,isValidAccountId:()=>Fi,isValidAccounts:()=>Ji,isValidActions:()=>Xi,isValidArray:()=>Ni,isValidChainId:()=>qi,isValidChains:()=>Gi,isValidController:()=>$i,isValidEip1271Signature:()=>xr,isValidEip191Signature:()=>Tr,isValidErrorReason:()=>ss,isValidEvent:()=>cs,isValidId:()=>ns,isValidNamespaceAccounts:()=>Yi,isValidNamespaceActions:()=>Zi,isValidNamespaceChains:()=>Wi,isValidNamespaceMethodsOrEvents:()=>Ki,isValidNamespaces:()=>es,isValidNamespacesChainId:()=>hs,isValidNamespacesEvent:()=>ds,isValidNamespacesRequest:()=>us,isValidNumber:()=>ji,isValidObject:()=>Ui,isValidParams:()=>is,isValidRecap:()=>Qr,isValidRelay:()=>ts,isValidRelays:()=>rs,isValidRequest:()=>os,isValidRequestExpiry:()=>ps,isValidRequiredNamespaces:()=>Qi,isValidResponse:()=>as,isValidString:()=>Li,isValidUrl:()=>Hi,mapEntries:()=>tr,mapToObj:()=>Qt,mergeArrays:()=>pr,mergeEncodedRecaps:()=>cn,mergeRecaps:()=>hn,normalizeNamespaces:()=>Ti,objToMap:()=>er,parseAccountId:()=>ht,parseChainId:()=>at,parseContextNames:()=>Jt,parseExpirerTarget:()=>ur,parseNamespaceKey:()=>Ii,parseRelayParams:()=>ii,parseTopic:()=>oi,parseUri:()=>si,populateAuthPayload:()=>$r,recapHasResource:()=>Gr,serialize:()=>jn,subscribeToBrowserNetworkChange:()=>ws,subscribeToNetworkChange:()=>vs,subscribeToReactNativeNetworkChange:()=>_s,toBase64:()=>Sr,uuidv4:()=>wr,validateDecoding:()=>qn,validateEncoding:()=>Fn,validateSignedCacao:()=>Hr,verifyP256Jwt:()=>$n,verifySignature:()=>Ir});var eh,eu,ed,ef,el,ep,eb,eg,em,ey,n=function(et,ei,eo){if(eo||2==arguments.length)for(var ea,ec=0,eh=ei.length;ec<eh;ec++)!ea&&ec in ei||(ea||(ea=Array.prototype.slice.call(ei,0,ec)),ea[ec]=ei[ec]);return et.concat(ea||Array.prototype.slice.call(ei))},i=function(et,ei,eo){this.name=et,this.version=ei,this.os=eo,this.type="browser"},s=function(et){this.version=et,this.type="node",this.name="node",this.os=ea.platform},o=function(et,ei,eo,ea){this.name=et,this.version=ei,this.os=eo,this.bot=ea,this.type="bot-device"},a=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},c=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},ev=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,ew=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],e_=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function l(et){var ei=""!==et&&ew.reduce(function(ei,eo){var ea=eo[0],ec=eo[1];if(ei)return ei;var eh=ec.exec(et);return!!eh&&[ea,eh]},!1);if(!ei)return null;var eo=ei[0],ea=ei[1];if("searchbot"===eo)return new a;var ec=ea[1]&&ea[1].split(".").join("_").split("_").slice(0,3);ec?ec.length<3&&(ec=n(n([],ec,!0),function(et){for(var ei=[],eo=0;eo<et;eo++)ei.push("0");return ei}(3-ec.length),!0)):ec=[];var eh=ec.join("."),eu=function(et){for(var ei=0,eo=e_.length;ei<eo;ei++){var ea=e_[ei],ec=ea[0];if(ea[1].exec(et))return ec}return null}(et),ed=ev.exec(et);return ed&&ed[1]?new o(eo,eh,eu,ed[1]):new i(eo,eh,eu)}var eE=eo(7777),eS=eo(5280),eA=eo(5206),eM=eo(8605);let eI=!1,eT=!1,ex={debug:1,default:2,info:2,warning:3,error:4,off:5},eC=2,eR=null,ek=function(){try{let et=[];if(["NFD","NFC","NFKD","NFKC"].forEach(ei=>{try{if("test"!=="test".normalize(ei))throw Error("bad normalize")}catch(eo){et.push(ei)}}),et.length)throw Error("missing "+et.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw Error("broken implementation")}catch(et){return et.message}return null}();(eh=ep||(ep={})).DEBUG="DEBUG",eh.INFO="INFO",eh.WARNING="WARNING",eh.ERROR="ERROR",eh.OFF="OFF",(eu=eb||(eb={})).UNKNOWN_ERROR="UNKNOWN_ERROR",eu.NOT_IMPLEMENTED="NOT_IMPLEMENTED",eu.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",eu.NETWORK_ERROR="NETWORK_ERROR",eu.SERVER_ERROR="SERVER_ERROR",eu.TIMEOUT="TIMEOUT",eu.BUFFER_OVERRUN="BUFFER_OVERRUN",eu.NUMERIC_FAULT="NUMERIC_FAULT",eu.MISSING_NEW="MISSING_NEW",eu.INVALID_ARGUMENT="INVALID_ARGUMENT",eu.MISSING_ARGUMENT="MISSING_ARGUMENT",eu.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",eu.CALL_EXCEPTION="CALL_EXCEPTION",eu.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",eu.NONCE_EXPIRED="NONCE_EXPIRED",eu.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",eu.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",eu.TRANSACTION_REPLACED="TRANSACTION_REPLACED",eu.ACTION_REJECTED="ACTION_REJECTED";let eP="0123456789abcdef";let T=class T{constructor(et){Object.defineProperty(this,"version",{enumerable:!0,value:et,writable:!1})}_log(et,ei){let eo=et.toLowerCase();null==ex[eo]&&this.throwArgumentError("invalid log level name","logLevel",et),eC>ex[eo]||console.log.apply(console,ei)}debug(...et){this._log(T.levels.DEBUG,et)}info(...et){this._log(T.levels.INFO,et)}warn(...et){this._log(T.levels.WARNING,et)}makeError(et,ei,eo){if(eT)return this.makeError("censored error",ei,{});ei||(ei=T.errors.UNKNOWN_ERROR),eo||(eo={});let ea=[];Object.keys(eo).forEach(et=>{let ei=eo[et];try{if(ei instanceof Uint8Array){let eo="";for(let et=0;et<ei.length;et++)eo+=eP[ei[et]>>4]+eP[15&ei[et]];ea.push(et+"=Uint8Array(0x"+eo+")")}else ea.push(et+"="+JSON.stringify(ei))}catch(ei){ea.push(et+"="+JSON.stringify(eo[et].toString()))}}),ea.push(`code=${ei}`),ea.push(`version=${this.version}`);let ec=et,eh="";switch(ei){case eb.NUMERIC_FAULT:{eh="NUMERIC_FAULT";let ei=et;switch(ei){case"overflow":case"underflow":case"division-by-zero":eh+="-"+ei;break;case"negative-power":case"negative-width":eh+="-unsupported";break;case"unbound-bitwise-result":eh+="-unbound-result"}break}case eb.CALL_EXCEPTION:case eb.INSUFFICIENT_FUNDS:case eb.MISSING_NEW:case eb.NONCE_EXPIRED:case eb.REPLACEMENT_UNDERPRICED:case eb.TRANSACTION_REPLACED:case eb.UNPREDICTABLE_GAS_LIMIT:eh=ei}eh&&(et+=" [ See: https://links.ethers.org/v5-errors-"+eh+" ]"),ea.length&&(et+=" ("+ea.join(", ")+")");let eu=Error(et);return eu.reason=ec,eu.code=ei,Object.keys(eo).forEach(function(et){eu[et]=eo[et]}),eu}throwError(et,ei,eo){throw this.makeError(et,ei,eo)}throwArgumentError(et,ei,eo){return this.throwError(et,T.errors.INVALID_ARGUMENT,{argument:ei,value:eo})}assert(et,ei,eo,ea){et||this.throwError(ei,eo,ea)}assertArgument(et,ei,eo,ea){et||this.throwArgumentError(ei,eo,ea)}checkNormalize(et){null==et&&(et="platform missing String.prototype.normalize"),ek&&this.throwError("platform missing String.prototype.normalize",T.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:ek})}checkSafeUint53(et,ei){"number"==typeof et&&(null==ei&&(ei="value not safe"),(et<0||et>=9007199254740991)&&this.throwError(ei,T.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:et}),et%1&&this.throwError(ei,T.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:et}))}checkArgumentCount(et,ei,eo){eo=eo?": "+eo:"",et<ei&&this.throwError("missing argument"+eo,T.errors.MISSING_ARGUMENT,{count:et,expectedCount:ei}),et>ei&&this.throwError("too many arguments"+eo,T.errors.UNEXPECTED_ARGUMENT,{count:et,expectedCount:ei})}checkNew(et,ei){et!==Object&&null!=et||this.throwError("missing new",T.errors.MISSING_NEW,{name:ei.name})}checkAbstract(et,ei){et===ei?this.throwError("cannot instantiate abstract class "+JSON.stringify(ei.name)+" directly; use a sub-class",T.errors.UNSUPPORTED_OPERATION,{name:et.name,operation:"new"}):et!==Object&&null!=et||this.throwError("missing new",T.errors.MISSING_NEW,{name:ei.name})}static globalLogger(){return eR||(eR=new T("logger/5.7.0")),eR}static setCensorship(et,ei){if(!et&&ei&&this.globalLogger().throwError("cannot permanently disable censorship",T.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),eI){if(!et)return;this.globalLogger().throwError("error censorship permanent",T.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}eT=!!et,eI=!!ei}static setLogLevel(et){let ei=ex[et.toLowerCase()];null!=ei?eC=ei:T.globalLogger().warn("invalid log level - "+et)}static from(et){return new T(et)}};T.errors=eb,T.levels=ep;let eO=new T("bytes/5.7.0");function C(et){return!!et.toHexString}function R(et){return et.slice||(et.slice=function(){let ei=Array.prototype.slice.call(arguments);return R(new Uint8Array(Array.prototype.slice.apply(et,ei)))}),et}function k(et){return"number"==typeof et&&et==et&&et%1==0}function P(et){if(null==et)return!1;if(et.constructor===Uint8Array)return!0;if("string"==typeof et||!k(et.length)||et.length<0)return!1;for(let ei=0;ei<et.length;ei++){let eo=et[ei];if(!k(eo)||eo<0||eo>=256)return!1}return!0}function O(et,ei){if(ei||(ei={}),"number"==typeof et){eO.checkSafeUint53(et,"invalid arrayify value");let ei=[];for(;et;)ei.unshift(255&et),et=parseInt(String(et/256));return 0===ei.length&&ei.push(0),R(new Uint8Array(ei))}if(ei.allowMissingPrefix&&"string"==typeof et&&"0x"!==et.substring(0,2)&&(et="0x"+et),C(et)&&(et=et.toHexString()),N(et)){let eo=et.substring(2);eo.length%2&&("left"===ei.hexPad?eo="0"+eo:"right"===ei.hexPad?eo+="0":eO.throwArgumentError("hex data is odd-length","value",et));let ea=[];for(let et=0;et<eo.length;et+=2)ea.push(parseInt(eo.substring(et,et+2),16));return R(new Uint8Array(ea))}return P(et)?R(new Uint8Array(et)):eO.throwArgumentError("invalid arrayify value","value",et)}function N(et,ei){return!("string"!=typeof et||!et.match(/^0x[0-9A-Fa-f]*$/)||ei&&et.length!==2+2*ei)}let eN="0123456789abcdef";function B(et,ei){if(ei||(ei={}),"number"==typeof et){eO.checkSafeUint53(et,"invalid hexlify value");let ei="";for(;et;)ei=eN[15&et]+ei,et=Math.floor(et/16);return ei.length?(ei.length%2&&(ei="0"+ei),"0x"+ei):"0x00"}if("bigint"==typeof et)return(et=et.toString(16)).length%2?"0x0"+et:"0x"+et;if(ei.allowMissingPrefix&&"string"==typeof et&&"0x"!==et.substring(0,2)&&(et="0x"+et),C(et))return et.toHexString();if(N(et))return et.length%2&&("left"===ei.hexPad?et="0x0"+et.substring(2):"right"===ei.hexPad?et+="0":eO.throwArgumentError("hex data is odd-length","value",et)),et.toLowerCase();if(P(et)){let ei="0x";for(let eo=0;eo<et.length;eo++){let ea=et[eo];ei+=eN[(240&ea)>>4]+eN[15&ea]}return ei}return eO.throwArgumentError("invalid hexlify value","value",et)}function L(et,ei,eo){return"string"!=typeof et?et=B(et):(!N(et)||et.length%2)&&eO.throwArgumentError("invalid hexData","value",et),ei=2+2*ei,null!=eo?"0x"+et.substring(ei,2+2*eo):"0x"+et.substring(ei)}function j(et,ei){for("string"!=typeof et?et=B(et):N(et)||eO.throwArgumentError("invalid hex string","value",et),et.length>2*ei+2&&eO.throwArgumentError("value out of range","value",arguments[1]);et.length<2*ei+2;)et="0x0"+et.substring(2);return et}function D(et){let ei={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(N(et)&&!(et.length%2)||P(et)){let eo=O(et);64===eo.length?(ei.v=27+(eo[32]>>7),eo[32]&=127,ei.r=B(eo.slice(0,32)),ei.s=B(eo.slice(32,64))):65===eo.length?(ei.r=B(eo.slice(0,32)),ei.s=B(eo.slice(32,64)),ei.v=eo[64]):eO.throwArgumentError("invalid signature string","signature",et),ei.v<27&&(0===ei.v||1===ei.v?ei.v+=27:eO.throwArgumentError("signature invalid v byte","signature",et)),ei.recoveryParam=1-ei.v%2,ei.recoveryParam&&(eo[32]|=128),ei._vs=B(eo.slice(32,64))}else{if(ei.r=et.r,ei.s=et.s,ei.v=et.v,ei.recoveryParam=et.recoveryParam,ei._vs=et._vs,null!=ei._vs){let eo=function(et,ei){(et=O(et)).length>ei&&eO.throwArgumentError("value out of range","value",arguments[0]);let eo=new Uint8Array(ei);return eo.set(et,ei-et.length),R(eo)}(O(ei._vs),32);ei._vs=B(eo);let ea=eo[0]>=128?1:0;null==ei.recoveryParam?ei.recoveryParam=ea:ei.recoveryParam!==ea&&eO.throwArgumentError("signature recoveryParam mismatch _vs","signature",et),eo[0]&=127;let ec=B(eo);null==ei.s?ei.s=ec:ei.s!==ec&&eO.throwArgumentError("signature v mismatch _vs","signature",et)}if(null==ei.recoveryParam)null==ei.v?eO.throwArgumentError("signature missing v and recoveryParam","signature",et):0===ei.v||1===ei.v?ei.recoveryParam=ei.v:ei.recoveryParam=1-ei.v%2;else if(null==ei.v)ei.v=27+ei.recoveryParam;else{let eo=0===ei.v||1===ei.v?ei.v:1-ei.v%2;ei.recoveryParam!==eo&&eO.throwArgumentError("signature recoveryParam mismatch v","signature",et)}null!=ei.r&&N(ei.r)?ei.r=j(ei.r,32):eO.throwArgumentError("signature missing or invalid r","signature",et),null!=ei.s&&N(ei.s)?ei.s=j(ei.s,32):eO.throwArgumentError("signature missing or invalid s","signature",et);let eo=O(ei.s);eo[0]>=128&&eO.throwArgumentError("signature s out of range","signature",et),ei.recoveryParam&&(eo[0]|=128);let ea=B(eo);ei._vs&&(N(ei._vs)||eO.throwArgumentError("signature invalid _vs","signature",et),ei._vs=j(ei._vs,32)),null==ei._vs?ei._vs=ea:ei._vs!==ea&&eO.throwArgumentError("signature _vs mismatch v and s","signature",et)}return ei.yParityAndS=ei._vs,ei.compact=ei.r+ei.yParityAndS.substring(2),ei}var eU=eo(9162),eB=eo.n(eU);function H(et){return"0x"+eB().keccak_256(O(et))}let eL=new T("strings/5.7.0");function K(et,ei,eo,ea,ec){if(et===em.BAD_PREFIX||et===em.UNEXPECTED_CONTINUE){let et=0;for(let ea=ei+1;ea<eo.length&&eo[ea]>>6==2;ea++)et++;return et}return et===em.OVERRUN?eo.length-ei-1:0}function G(et,ei=eg.current){ei!=eg.current&&(eL.checkNormalize(),et=et.normalize(ei));let eo=[];for(let ei=0;ei<et.length;ei++){let ea=et.charCodeAt(ei);if(ea<128)eo.push(ea);else if(ea<2048)eo.push(ea>>6|192),eo.push(63&ea|128);else if(55296==(64512&ea)){ei++;let ec=et.charCodeAt(ei);if(ei>=et.length||56320!=(64512&ec))throw Error("invalid utf-8 string");let eh=65536+((1023&ea)<<10)+(1023&ec);eo.push(eh>>18|240),eo.push(eh>>12&63|128),eo.push(eh>>6&63|128),eo.push(63&eh|128)}else eo.push(ea>>12|224),eo.push(ea>>6&63|128),eo.push(63&ea|128)}return O(eo)}function J(et){return"string"==typeof et&&(et=G(et)),H(function(et){let ei=et.map(et=>O(et)),eo=ei.reduce((et,ei)=>et+ei.length,0),ea=new Uint8Array(eo);return ei.reduce((et,ei)=>(ea.set(ei,et),et+ei.length),0),R(ea)}([G("\x19Ethereum Signed Message:\n"),G(String(et.length)),et]))}(ed=eg||(eg={})).current="",ed.NFC="NFC",ed.NFD="NFD",ed.NFKC="NFKC",ed.NFKD="NFKD",(ef=em||(em={})).UNEXPECTED_CONTINUE="unexpected continuation byte",ef.BAD_PREFIX="bad codepoint prefix",ef.OVERRUN="string overrun",ef.MISSING_CONTINUE="missing continuation byte",ef.OUT_OF_RANGE="out of UTF-8 range",ef.UTF16_SURROGATE="UTF-16 surrogate",ef.OVERLONG="overlong representation",Object.freeze({error:function(et,ei,eo,ea,ec){return eL.throwArgumentError(`invalid codepoint at offset ${ei}; ${et}`,"bytes",eo)},ignore:K,replace:function(et,ei,eo,ea,ec){return et===em.OVERLONG?(ea.push(ec),0):(ea.push(65533),K(et,ei,eo))}});var eD=eo(3900),ej=eo.n(eD),eq=ej().BN;new T("bignumber/5.7.0");let eF=new T("address/5.7.0");function ee(et){N(et,20)||eF.throwArgumentError("invalid address","address",et);let ei=(et=et.toLowerCase()).substring(2).split(""),eo=new Uint8Array(40);for(let et=0;et<40;et++)eo[et]=ei[et].charCodeAt(0);let ea=O(H(eo));for(let et=0;et<40;et+=2)ea[et>>1]>>4>=8&&(ei[et]=ei[et].toUpperCase()),(15&ea[et>>1])>=8&&(ei[et+1]=ei[et+1].toUpperCase());return"0x"+ei.join("")}let eH={};for(let et=0;et<10;et++)eH[String(et)]=String(et);for(let et=0;et<26;et++)eH[String.fromCharCode(65+et)]=String(10+et);let eV=Math.floor(Math.log10?Math.log10(9007199254740991):Math.log(9007199254740991)/Math.LN10);var ez=eo(1631),e$=eo.n(ez);function ae(et,ei,eo){return et(eo={path:ei,exports:{},require:function(et,ei){return function(){throw Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==ei&&eo.path)}},eo.exports),eo.exports}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==eo.g?eo.g:"undefined"!=typeof self&&self;var eK=he;function he(et,ei){if(!et)throw Error(ei||"Assertion failed")}he.equal=function(et,ei,eo){if(et!=ei)throw Error(eo||"Assertion failed: "+et+" != "+ei)};var eG=ae(function(et,ei){function n(et){return 1===et.length?"0"+et:et}function i(et){for(var ei="",eo=0;eo<et.length;eo++)ei+=n(et[eo].toString(16));return ei}ei.toArray=function(et,ei){if(Array.isArray(et))return et.slice();if(!et)return[];var eo=[];if("string"!=typeof et){for(var ea=0;ea<et.length;ea++)eo[ea]=0|et[ea];return eo}if("hex"===ei)for((et=et.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(et="0"+et),ea=0;ea<et.length;ea+=2)eo.push(parseInt(et[ea]+et[ea+1],16));else for(ea=0;ea<et.length;ea++){var ec=et.charCodeAt(ea),eh=ec>>8,eu=255&ec;eh?eo.push(eh,eu):eo.push(eu)}return eo},ei.zero2=n,ei.toHex=i,ei.encode=function(et,ei){return"hex"===ei?i(et):et}}),eW=ae(function(et,ei){ei.assert=eK,ei.toArray=eG.toArray,ei.zero2=eG.zero2,ei.toHex=eG.toHex,ei.encode=eG.encode,ei.getNAF=function(et,ei,eo){var ea=Array(Math.max(et.bitLength(),eo)+1);ea.fill(0);for(var ec=1<<ei+1,eh=et.clone(),eu=0;eu<ea.length;eu++){var ed,ef=eh.andln(ec-1);eh.isOdd()?(ed=ef>(ec>>1)-1?(ec>>1)-ef:ef,eh.isubn(ed)):ed=0,ea[eu]=ed,eh.iushrn(1)}return ea},ei.getJSF=function(et,ei){var eo=[[],[]];et=et.clone(),ei=ei.clone();for(var ea,ec=0,eh=0;et.cmpn(-ec)>0||ei.cmpn(-eh)>0;){var eu,ed,ef=et.andln(3)+ec&3,el=ei.andln(3)+eh&3;3===ef&&(ef=-1),3===el&&(el=-1),eu=1&ef?3!=(ea=et.andln(7)+ec&7)&&5!==ea||2!==el?ef:-ef:0,eo[0].push(eu),ed=1&el?3!=(ea=ei.andln(7)+eh&7)&&5!==ea||2!==ef?el:-el:0,eo[1].push(ed),2*ec===eu+1&&(ec=1-ec),2*eh===ed+1&&(eh=1-eh),et.iushrn(1),ei.iushrn(1)}return eo},ei.cachedProperty=function(et,ei,eo){var ea="_"+ei;et.prototype[ei]=function(){return void 0!==this[ea]?this[ea]:this[ea]=eo.call(this)}},ei.parseBytes=function(et){return"string"==typeof et?ei.toArray(et,"hex"):et},ei.intFromLE=function(et){return new(ej())(et,"hex","le")}}),eJ=eW.getNAF,eY=eW.getJSF,eX=eW.assert;function be(et,ei){this.type=et,this.p=new(ej())(ei.p,16),this.red=ei.prime?ej().red(ei.prime):ej().mont(this.p),this.zero=new(ej())(0).toRed(this.red),this.one=new(ej())(1).toRed(this.red),this.two=new(ej())(2).toRed(this.red),this.n=ei.n&&new(ej())(ei.n,16),this.g=ei.g&&this.pointFromJSON(ei.g,ei.gRed),this._wnafT1=[,,,,],this._wnafT2=[,,,,],this._wnafT3=[,,,,],this._wnafT4=[,,,,],this._bitLength=this.n?this.n.bitLength():0;var eo=this.n&&this.p.div(this.n);!eo||eo.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function me(et,ei){this.curve=et,this.type=ei,this.precomputed=null}be.prototype.point=function(){throw Error("Not implemented")},be.prototype.validate=function(){throw Error("Not implemented")},be.prototype._fixedNafMul=function(et,ei){eX(et.precomputed);var eo=et._getDoubles(),ea=eJ(ei,1,this._bitLength),ec=(1<<eo.step+1)-(eo.step%2==0?2:1);ec/=3;var eh,eu,ed=[];for(eh=0;eh<ea.length;eh+=eo.step){eu=0;for(var ef=eh+eo.step-1;ef>=eh;ef--)eu=(eu<<1)+ea[ef];ed.push(eu)}for(var el=this.jpoint(null,null,null),ep=this.jpoint(null,null,null),eb=ec;eb>0;eb--){for(eh=0;eh<ed.length;eh++)(eu=ed[eh])===eb?ep=ep.mixedAdd(eo.points[eh]):eu===-eb&&(ep=ep.mixedAdd(eo.points[eh].neg()));el=el.add(ep)}return el.toP()},be.prototype._wnafMul=function(et,ei){var eo=4,ea=et._getNAFPoints(eo);eo=ea.wnd;for(var ec=ea.points,eh=eJ(ei,eo,this._bitLength),eu=this.jpoint(null,null,null),ed=eh.length-1;ed>=0;ed--){for(var ef=0;ed>=0&&0===eh[ed];ed--)ef++;if(ed>=0&&ef++,eu=eu.dblp(ef),ed<0)break;var el=eh[ed];eX(0!==el),eu="affine"===et.type?el>0?eu.mixedAdd(ec[el-1>>1]):eu.mixedAdd(ec[-el-1>>1].neg()):el>0?eu.add(ec[el-1>>1]):eu.add(ec[-el-1>>1].neg())}return"affine"===et.type?eu.toP():eu},be.prototype._wnafMulAdd=function(et,ei,eo,ea,ec){var eh,eu,ed,ef=this._wnafT1,el=this._wnafT2,ep=this._wnafT3,eb=0;for(eh=0;eh<ea;eh++){var eg=(ed=ei[eh])._getNAFPoints(et);ef[eh]=eg.wnd,el[eh]=eg.points}for(eh=ea-1;eh>=1;eh-=2){var em=eh-1,ey=eh;if(1===ef[em]&&1===ef[ey]){var ev=[ei[em],null,null,ei[ey]];0===ei[em].y.cmp(ei[ey].y)?(ev[1]=ei[em].add(ei[ey]),ev[2]=ei[em].toJ().mixedAdd(ei[ey].neg())):0===ei[em].y.cmp(ei[ey].y.redNeg())?(ev[1]=ei[em].toJ().mixedAdd(ei[ey]),ev[2]=ei[em].add(ei[ey].neg())):(ev[1]=ei[em].toJ().mixedAdd(ei[ey]),ev[2]=ei[em].toJ().mixedAdd(ei[ey].neg()));var ew=[-3,-1,-5,-7,0,7,5,1,3],e_=eY(eo[em],eo[ey]);for(eb=Math.max(e_[0].length,eb),ep[em]=Array(eb),ep[ey]=Array(eb),eu=0;eu<eb;eu++){var eE=0|e_[0][eu],eS=0|e_[1][eu];ep[em][eu]=ew[3*(eE+1)+(eS+1)],ep[ey][eu]=0,el[em]=ev}}else ep[em]=eJ(eo[em],ef[em],this._bitLength),ep[ey]=eJ(eo[ey],ef[ey],this._bitLength),eb=Math.max(ep[em].length,eb),eb=Math.max(ep[ey].length,eb)}var eA=this.jpoint(null,null,null),eM=this._wnafT4;for(eh=eb;eh>=0;eh--){for(var eI=0;eh>=0;){var eT=!0;for(eu=0;eu<ea;eu++)eM[eu]=0|ep[eu][eh],0!==eM[eu]&&(eT=!1);if(!eT)break;eI++,eh--}if(eh>=0&&eI++,eA=eA.dblp(eI),eh<0)break;for(eu=0;eu<ea;eu++){var ex=eM[eu];0!==ex&&(ex>0?ed=el[eu][ex-1>>1]:ex<0&&(ed=el[eu][-ex-1>>1].neg()),eA="affine"===ed.type?eA.mixedAdd(ed):eA.add(ed))}}for(eh=0;eh<ea;eh++)el[eh]=null;return ec?eA:eA.toP()},be.BasePoint=me,me.prototype.eq=function(){throw Error("Not implemented")},me.prototype.validate=function(){return this.curve.validate(this)},be.prototype.decodePoint=function(et,ei){et=eW.toArray(et,ei);var eo=this.p.byteLength();if((4===et[0]||6===et[0]||7===et[0])&&et.length-1==2*eo)return 6===et[0]?eX(et[et.length-1]%2==0):7===et[0]&&eX(et[et.length-1]%2==1),this.point(et.slice(1,1+eo),et.slice(1+eo,1+2*eo));if((2===et[0]||3===et[0])&&et.length-1===eo)return this.pointFromX(et.slice(1,1+eo),3===et[0]);throw Error("Unknown point format")},me.prototype.encodeCompressed=function(et){return this.encode(et,!0)},me.prototype._encode=function(et){var ei=this.curve.p.byteLength(),eo=this.getX().toArray("be",ei);return et?[this.getY().isEven()?2:3].concat(eo):[4].concat(eo,this.getY().toArray("be",ei))},me.prototype.encode=function(et,ei){return eW.encode(this._encode(ei),et)},me.prototype.precompute=function(et){if(this.precomputed)return this;var ei={doubles:null,naf:null,beta:null};return ei.naf=this._getNAFPoints(8),ei.doubles=this._getDoubles(4,et),ei.beta=this._getBeta(),this.precomputed=ei,this},me.prototype._hasDoubles=function(et){if(!this.precomputed)return!1;var ei=this.precomputed.doubles;return!!ei&&ei.points.length>=Math.ceil((et.bitLength()+1)/ei.step)},me.prototype._getDoubles=function(et,ei){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var eo=[this],ea=this,ec=0;ec<ei;ec+=et){for(var eh=0;eh<et;eh++)ea=ea.dbl();eo.push(ea)}return{step:et,points:eo}},me.prototype._getNAFPoints=function(et){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var ei=[this],eo=(1<<et)-1,ea=1===eo?null:this.dbl(),ec=1;ec<eo;ec++)ei[ec]=ei[ec-1].add(ea);return{wnd:et,points:ei}},me.prototype._getBeta=function(){return null},me.prototype.dblp=function(et){for(var ei=this,eo=0;eo<et;eo++)ei=ei.dbl();return ei};var eZ=ae(function(et){"function"==typeof Object.create?et.exports=function(et,ei){ei&&(et.super_=ei,et.prototype=Object.create(ei.prototype,{constructor:{value:et,enumerable:!1,writable:!0,configurable:!0}}))}:et.exports=function(et,ei){if(ei){et.super_=ei;var r=function(){};r.prototype=ei.prototype,et.prototype=new r,et.prototype.constructor=et}}}),eQ=eW.assert;function we(et){be.call(this,"short",et),this.a=new(ej())(et.a,16).toRed(this.red),this.b=new(ej())(et.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(et),this._endoWnafT1=[,,,,],this._endoWnafT2=[,,,,]}function Ee(et,ei,eo,ea){be.BasePoint.call(this,et,"affine"),null===ei&&null===eo?(this.x=null,this.y=null,this.inf=!0):(this.x=new(ej())(ei,16),this.y=new(ej())(eo,16),ea&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function Se(et,ei,eo,ea){be.BasePoint.call(this,et,"jacobian"),null===ei&&null===eo&&null===ea?(this.x=this.curve.one,this.y=this.curve.one,this.z=new(ej())(0)):(this.x=new(ej())(ei,16),this.y=new(ej())(eo,16),this.z=new(ej())(ea,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}eZ(we,be),we.prototype._getEndomorphism=function(et){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var ei,eo;if(et.beta)ei=new(ej())(et.beta,16).toRed(this.red);else{var ea=this._getEndoRoots(this.p);ei=(ei=0>ea[0].cmp(ea[1])?ea[0]:ea[1]).toRed(this.red)}if(et.lambda)eo=new(ej())(et.lambda,16);else{var ec=this._getEndoRoots(this.n);0===this.g.mul(ec[0]).x.cmp(this.g.x.redMul(ei))?eo=ec[0]:(eo=ec[1],eQ(0===this.g.mul(eo).x.cmp(this.g.x.redMul(ei))))}return{beta:ei,lambda:eo,basis:et.basis?et.basis.map(function(et){return{a:new(ej())(et.a,16),b:new(ej())(et.b,16)}}):this._getEndoBasis(eo)}}},we.prototype._getEndoRoots=function(et){var ei=et===this.p?this.red:ej().mont(et),eo=new(ej())(2).toRed(ei).redInvm(),ea=eo.redNeg(),ec=new(ej())(3).toRed(ei).redNeg().redSqrt().redMul(eo);return[ea.redAdd(ec).fromRed(),ea.redSub(ec).fromRed()]},we.prototype._getEndoBasis=function(et){for(var ei,eo,ea,ec,eh,eu,ed,ef,el,ep=this.n.ushrn(Math.floor(this.n.bitLength()/2)),eb=et,eg=this.n.clone(),em=new(ej())(1),ey=new(ej())(0),ev=new(ej())(0),ew=new(ej())(1),e_=0;0!==eb.cmpn(0);){var eE=eg.div(eb);ef=eg.sub(eE.mul(eb)),el=ev.sub(eE.mul(em));var eS=ew.sub(eE.mul(ey));if(!ea&&0>ef.cmp(ep))ei=ed.neg(),eo=em,ea=ef.neg(),ec=el;else if(ea&&2==++e_)break;ed=ef,eg=eb,eb=ef,ev=em,em=el,ew=ey,ey=eS}eh=ef.neg(),eu=el;var eA=ea.sqr().add(ec.sqr());return eh.sqr().add(eu.sqr()).cmp(eA)>=0&&(eh=ei,eu=eo),ea.negative&&(ea=ea.neg(),ec=ec.neg()),eh.negative&&(eh=eh.neg(),eu=eu.neg()),[{a:ea,b:ec},{a:eh,b:eu}]},we.prototype._endoSplit=function(et){var ei=this.endo.basis,eo=ei[0],ea=ei[1],ec=ea.b.mul(et).divRound(this.n),eh=eo.b.neg().mul(et).divRound(this.n),eu=ec.mul(eo.a),ed=eh.mul(ea.a),ef=ec.mul(eo.b),el=eh.mul(ea.b);return{k1:et.sub(eu).sub(ed),k2:ef.add(el).neg()}},we.prototype.pointFromX=function(et,ei){(et=new(ej())(et,16)).red||(et=et.toRed(this.red));var eo=et.redSqr().redMul(et).redIAdd(et.redMul(this.a)).redIAdd(this.b),ea=eo.redSqrt();if(0!==ea.redSqr().redSub(eo).cmp(this.zero))throw Error("invalid point");var ec=ea.fromRed().isOdd();return(ei&&!ec||!ei&&ec)&&(ea=ea.redNeg()),this.point(et,ea)},we.prototype.validate=function(et){if(et.inf)return!0;var ei=et.x,eo=et.y,ea=this.a.redMul(ei),ec=ei.redSqr().redMul(ei).redIAdd(ea).redIAdd(this.b);return 0===eo.redSqr().redISub(ec).cmpn(0)},we.prototype._endoWnafMulAdd=function(et,ei,eo){for(var ea=this._endoWnafT1,ec=this._endoWnafT2,eh=0;eh<et.length;eh++){var eu=this._endoSplit(ei[eh]),ed=et[eh],ef=ed._getBeta();eu.k1.negative&&(eu.k1.ineg(),ed=ed.neg(!0)),eu.k2.negative&&(eu.k2.ineg(),ef=ef.neg(!0)),ea[2*eh]=ed,ea[2*eh+1]=ef,ec[2*eh]=eu.k1,ec[2*eh+1]=eu.k2}for(var el=this._wnafMulAdd(1,ea,ec,2*eh,eo),ep=0;ep<2*eh;ep++)ea[ep]=null,ec[ep]=null;return el},eZ(Ee,be.BasePoint),we.prototype.point=function(et,ei,eo){return new Ee(this,et,ei,eo)},we.prototype.pointFromJSON=function(et,ei){return Ee.fromJSON(this,et,ei)},Ee.prototype._getBeta=function(){if(this.curve.endo){var et=this.precomputed;if(et&&et.beta)return et.beta;var ei=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(et){var eo=this.curve,n=function(et){return eo.point(et.x.redMul(eo.endo.beta),et.y)};et.beta=ei,ei.precomputed={beta:null,naf:et.naf&&{wnd:et.naf.wnd,points:et.naf.points.map(n)},doubles:et.doubles&&{step:et.doubles.step,points:et.doubles.points.map(n)}}}return ei}},Ee.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},Ee.fromJSON=function(et,ei,eo){"string"==typeof ei&&(ei=JSON.parse(ei));var ea=et.point(ei[0],ei[1],eo);if(!ei[2])return ea;function i(ei){return et.point(ei[0],ei[1],eo)}var ec=ei[2];return ea.precomputed={beta:null,doubles:ec.doubles&&{step:ec.doubles.step,points:[ea].concat(ec.doubles.points.map(i))},naf:ec.naf&&{wnd:ec.naf.wnd,points:[ea].concat(ec.naf.points.map(i))}},ea},Ee.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},Ee.prototype.isInfinity=function(){return this.inf},Ee.prototype.add=function(et){if(this.inf)return et;if(et.inf)return this;if(this.eq(et))return this.dbl();if(this.neg().eq(et)||0===this.x.cmp(et.x))return this.curve.point(null,null);var ei=this.y.redSub(et.y);0!==ei.cmpn(0)&&(ei=ei.redMul(this.x.redSub(et.x).redInvm()));var eo=ei.redSqr().redISub(this.x).redISub(et.x),ea=ei.redMul(this.x.redSub(eo)).redISub(this.y);return this.curve.point(eo,ea)},Ee.prototype.dbl=function(){if(this.inf)return this;var et=this.y.redAdd(this.y);if(0===et.cmpn(0))return this.curve.point(null,null);var ei=this.curve.a,eo=this.x.redSqr(),ea=et.redInvm(),ec=eo.redAdd(eo).redIAdd(eo).redIAdd(ei).redMul(ea),eh=ec.redSqr().redISub(this.x.redAdd(this.x)),eu=ec.redMul(this.x.redSub(eh)).redISub(this.y);return this.curve.point(eh,eu)},Ee.prototype.getX=function(){return this.x.fromRed()},Ee.prototype.getY=function(){return this.y.fromRed()},Ee.prototype.mul=function(et){return et=new(ej())(et,16),this.isInfinity()?this:this._hasDoubles(et)?this.curve._fixedNafMul(this,et):this.curve.endo?this.curve._endoWnafMulAdd([this],[et]):this.curve._wnafMul(this,et)},Ee.prototype.mulAdd=function(et,ei,eo){var ea=[this,ei],ec=[et,eo];return this.curve.endo?this.curve._endoWnafMulAdd(ea,ec):this.curve._wnafMulAdd(1,ea,ec,2)},Ee.prototype.jmulAdd=function(et,ei,eo){var ea=[this,ei],ec=[et,eo];return this.curve.endo?this.curve._endoWnafMulAdd(ea,ec,!0):this.curve._wnafMulAdd(1,ea,ec,2,!0)},Ee.prototype.eq=function(et){return this===et||this.inf===et.inf&&(this.inf||0===this.x.cmp(et.x)&&0===this.y.cmp(et.y))},Ee.prototype.neg=function(et){if(this.inf)return this;var ei=this.curve.point(this.x,this.y.redNeg());if(et&&this.precomputed){var eo=this.precomputed,n=function(et){return et.neg()};ei.precomputed={naf:eo.naf&&{wnd:eo.naf.wnd,points:eo.naf.points.map(n)},doubles:eo.doubles&&{step:eo.doubles.step,points:eo.doubles.points.map(n)}}}return ei},Ee.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},eZ(Se,be.BasePoint),we.prototype.jpoint=function(et,ei,eo){return new Se(this,et,ei,eo)},Se.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var et=this.z.redInvm(),ei=et.redSqr(),eo=this.x.redMul(ei),ea=this.y.redMul(ei).redMul(et);return this.curve.point(eo,ea)},Se.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},Se.prototype.add=function(et){if(this.isInfinity())return et;if(et.isInfinity())return this;var ei=et.z.redSqr(),eo=this.z.redSqr(),ea=this.x.redMul(ei),ec=et.x.redMul(eo),eh=this.y.redMul(ei.redMul(et.z)),eu=et.y.redMul(eo.redMul(this.z)),ed=ea.redSub(ec),ef=eh.redSub(eu);if(0===ed.cmpn(0))return 0!==ef.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var el=ed.redSqr(),ep=el.redMul(ed),eb=ea.redMul(el),eg=ef.redSqr().redIAdd(ep).redISub(eb).redISub(eb),em=ef.redMul(eb.redISub(eg)).redISub(eh.redMul(ep)),ey=this.z.redMul(et.z).redMul(ed);return this.curve.jpoint(eg,em,ey)},Se.prototype.mixedAdd=function(et){if(this.isInfinity())return et.toJ();if(et.isInfinity())return this;var ei=this.z.redSqr(),eo=this.x,ea=et.x.redMul(ei),ec=this.y,eh=et.y.redMul(ei).redMul(this.z),eu=eo.redSub(ea),ed=ec.redSub(eh);if(0===eu.cmpn(0))return 0!==ed.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var ef=eu.redSqr(),el=ef.redMul(eu),ep=eo.redMul(ef),eb=ed.redSqr().redIAdd(el).redISub(ep).redISub(ep),eg=ed.redMul(ep.redISub(eb)).redISub(ec.redMul(el)),em=this.z.redMul(eu);return this.curve.jpoint(eb,eg,em)},Se.prototype.dblp=function(et){if(0===et||this.isInfinity())return this;if(!et)return this.dbl();if(this.curve.zeroA||this.curve.threeA){var ei,eo=this;for(ei=0;ei<et;ei++)eo=eo.dbl();return eo}var ea=this.curve.a,ec=this.curve.tinv,eh=this.x,eu=this.y,ed=this.z,ef=ed.redSqr().redSqr(),el=eu.redAdd(eu);for(ei=0;ei<et;ei++){var ep=eh.redSqr(),eb=el.redSqr(),eg=eb.redSqr(),em=ep.redAdd(ep).redIAdd(ep).redIAdd(ea.redMul(ef)),ey=eh.redMul(eb),ev=em.redSqr().redISub(ey.redAdd(ey)),ew=ey.redISub(ev),e_=em.redMul(ew);e_=e_.redIAdd(e_).redISub(eg);var eE=el.redMul(ed);ei+1<et&&(ef=ef.redMul(eg)),eh=ev,ed=eE,el=e_}return this.curve.jpoint(eh,el.redMul(ec),ed)},Se.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},Se.prototype._zeroDbl=function(){var et,ei,eo;if(this.zOne){var ea=this.x.redSqr(),ec=this.y.redSqr(),eh=ec.redSqr(),eu=this.x.redAdd(ec).redSqr().redISub(ea).redISub(eh);eu=eu.redIAdd(eu);var ed=ea.redAdd(ea).redIAdd(ea),ef=ed.redSqr().redISub(eu).redISub(eu),el=eh.redIAdd(eh);el=(el=el.redIAdd(el)).redIAdd(el),et=ef,ei=ed.redMul(eu.redISub(ef)).redISub(el),eo=this.y.redAdd(this.y)}else{var ep=this.x.redSqr(),eb=this.y.redSqr(),eg=eb.redSqr(),em=this.x.redAdd(eb).redSqr().redISub(ep).redISub(eg);em=em.redIAdd(em);var ey=ep.redAdd(ep).redIAdd(ep),ev=ey.redSqr(),ew=eg.redIAdd(eg);ew=(ew=ew.redIAdd(ew)).redIAdd(ew),et=ev.redISub(em).redISub(em),ei=ey.redMul(em.redISub(et)).redISub(ew),eo=(eo=this.y.redMul(this.z)).redIAdd(eo)}return this.curve.jpoint(et,ei,eo)},Se.prototype._threeDbl=function(){var et,ei,eo;if(this.zOne){var ea=this.x.redSqr(),ec=this.y.redSqr(),eh=ec.redSqr(),eu=this.x.redAdd(ec).redSqr().redISub(ea).redISub(eh);eu=eu.redIAdd(eu);var ed=ea.redAdd(ea).redIAdd(ea).redIAdd(this.curve.a),ef=ed.redSqr().redISub(eu).redISub(eu);et=ef;var el=eh.redIAdd(eh);el=(el=el.redIAdd(el)).redIAdd(el),ei=ed.redMul(eu.redISub(ef)).redISub(el),eo=this.y.redAdd(this.y)}else{var ep=this.z.redSqr(),eb=this.y.redSqr(),eg=this.x.redMul(eb),em=this.x.redSub(ep).redMul(this.x.redAdd(ep));em=em.redAdd(em).redIAdd(em);var ey=eg.redIAdd(eg),ev=(ey=ey.redIAdd(ey)).redAdd(ey);et=em.redSqr().redISub(ev),eo=this.y.redAdd(this.z).redSqr().redISub(eb).redISub(ep);var ew=eb.redSqr();ew=(ew=(ew=ew.redIAdd(ew)).redIAdd(ew)).redIAdd(ew),ei=em.redMul(ey.redISub(et)).redISub(ew)}return this.curve.jpoint(et,ei,eo)},Se.prototype._dbl=function(){var et=this.curve.a,ei=this.x,eo=this.y,ea=this.z,ec=ea.redSqr().redSqr(),eh=ei.redSqr(),eu=eo.redSqr(),ed=eh.redAdd(eh).redIAdd(eh).redIAdd(et.redMul(ec)),ef=ei.redAdd(ei),el=(ef=ef.redIAdd(ef)).redMul(eu),ep=ed.redSqr().redISub(el.redAdd(el)),eb=el.redISub(ep),eg=eu.redSqr();eg=(eg=(eg=eg.redIAdd(eg)).redIAdd(eg)).redIAdd(eg);var em=ed.redMul(eb).redISub(eg),ey=eo.redAdd(eo).redMul(ea);return this.curve.jpoint(ep,em,ey)},Se.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var et=this.x.redSqr(),ei=this.y.redSqr(),eo=this.z.redSqr(),ea=ei.redSqr(),ec=et.redAdd(et).redIAdd(et),eh=ec.redSqr(),eu=this.x.redAdd(ei).redSqr().redISub(et).redISub(ea),ed=(eu=(eu=(eu=eu.redIAdd(eu)).redAdd(eu).redIAdd(eu)).redISub(eh)).redSqr(),ef=ea.redIAdd(ea);ef=(ef=(ef=ef.redIAdd(ef)).redIAdd(ef)).redIAdd(ef);var el=ec.redIAdd(eu).redSqr().redISub(eh).redISub(ed).redISub(ef),ep=ei.redMul(el);ep=(ep=ep.redIAdd(ep)).redIAdd(ep);var eb=this.x.redMul(ed).redISub(ep);eb=(eb=eb.redIAdd(eb)).redIAdd(eb);var eg=this.y.redMul(el.redMul(ef.redISub(el)).redISub(eu.redMul(ed)));eg=(eg=(eg=eg.redIAdd(eg)).redIAdd(eg)).redIAdd(eg);var em=this.z.redAdd(eu).redSqr().redISub(eo).redISub(ed);return this.curve.jpoint(eb,eg,em)},Se.prototype.mul=function(et,ei){return et=new(ej())(et,ei),this.curve._wnafMul(this,et)},Se.prototype.eq=function(et){if("affine"===et.type)return this.eq(et.toJ());if(this===et)return!0;var ei=this.z.redSqr(),eo=et.z.redSqr();if(0!==this.x.redMul(eo).redISub(et.x.redMul(ei)).cmpn(0))return!1;var ea=ei.redMul(this.z),ec=eo.redMul(et.z);return 0===this.y.redMul(ec).redISub(et.y.redMul(ea)).cmpn(0)},Se.prototype.eqXToP=function(et){var ei=this.z.redSqr(),eo=et.toRed(this.curve.red).redMul(ei);if(0===this.x.cmp(eo))return!0;for(var ea=et.clone(),ec=this.curve.redN.redMul(ei);;){if(ea.iadd(this.curve.n),ea.cmp(this.curve.p)>=0)return!1;if(eo.redIAdd(ec),0===this.x.cmp(eo))return!0}},Se.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},Se.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};var e0=ae(function(et,ei){ei.base=be,ei.short=we,ei.mont=null,ei.edwards=null}),e1=ae(function(et,ei){var eo,ea=eW.assert;function s(et){"short"===et.type?this.curve=new e0.short(et):"edwards"===et.type?this.curve=new e0.edwards(et):this.curve=new e0.mont(et),this.g=this.curve.g,this.n=this.curve.n,this.hash=et.hash,ea(this.g.validate(),"Invalid curve"),ea(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function o(et,eo){Object.defineProperty(ei,et,{configurable:!0,enumerable:!0,get:function(){var ea=new s(eo);return Object.defineProperty(ei,et,{configurable:!0,enumerable:!0,value:ea}),ea}})}ei.PresetCurve=s,o("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:e$().sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),o("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:e$().sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),o("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:e$().sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),o("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:e$().sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),o("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:e$().sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),o("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:e$().sha256,gRed:!1,g:["9"]}),o("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:e$().sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{eo=null.crash()}catch(et){eo=void 0}o("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:e$().sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",eo]})});function Ie(et){if(!(this instanceof Ie))return new Ie(et);this.hash=et.hash,this.predResist=!!et.predResist,this.outLen=this.hash.outSize,this.minEntropy=et.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var ei=eG.toArray(et.entropy,et.entropyEnc||"hex"),eo=eG.toArray(et.nonce,et.nonceEnc||"hex"),ea=eG.toArray(et.pers,et.persEnc||"hex");eK(ei.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(ei,eo,ea)}Ie.prototype._init=function(et,ei,eo){var ea=et.concat(ei).concat(eo);this.K=Array(this.outLen/8),this.V=Array(this.outLen/8);for(var ec=0;ec<this.V.length;ec++)this.K[ec]=0,this.V[ec]=1;this._update(ea),this._reseed=1,this.reseedInterval=281474976710656},Ie.prototype._hmac=function(){return new(e$()).hmac(this.hash,this.K)},Ie.prototype._update=function(et){var ei=this._hmac().update(this.V).update([0]);et&&(ei=ei.update(et)),this.K=ei.digest(),this.V=this._hmac().update(this.V).digest(),et&&(this.K=this._hmac().update(this.V).update([1]).update(et).digest(),this.V=this._hmac().update(this.V).digest())},Ie.prototype.reseed=function(et,ei,eo,ea){"string"!=typeof ei&&(ea=eo,eo=ei,ei=null),et=eG.toArray(et,ei),eo=eG.toArray(eo,ea),eK(et.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(et.concat(eo||[])),this._reseed=1},Ie.prototype.generate=function(et,ei,eo,ea){if(this._reseed>this.reseedInterval)throw Error("Reseed is required");"string"!=typeof ei&&(ea=eo,eo=ei,ei=null),eo&&(eo=eG.toArray(eo,ea||"hex"),this._update(eo));for(var ec=[];ec.length<et;)this.V=this._hmac().update(this.V).digest(),ec=ec.concat(this.V);var eh=ec.slice(0,et);return this._update(eo),this._reseed++,eG.encode(eh,ei)};var e2=eW.assert;function Ce(et,ei){this.ec=et,this.priv=null,this.pub=null,ei.priv&&this._importPrivate(ei.priv,ei.privEnc),ei.pub&&this._importPublic(ei.pub,ei.pubEnc)}Ce.fromPublic=function(et,ei,eo){return ei instanceof Ce?ei:new Ce(et,{pub:ei,pubEnc:eo})},Ce.fromPrivate=function(et,ei,eo){return ei instanceof Ce?ei:new Ce(et,{priv:ei,privEnc:eo})},Ce.prototype.validate=function(){var et=this.getPublic();return et.isInfinity()?{result:!1,reason:"Invalid public key"}:et.validate()?et.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},Ce.prototype.getPublic=function(et,ei){return"string"==typeof et&&(ei=et,et=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),ei?this.pub.encode(ei,et):this.pub},Ce.prototype.getPrivate=function(et){return"hex"===et?this.priv.toString(16,2):this.priv},Ce.prototype._importPrivate=function(et,ei){this.priv=new(ej())(et,ei||16),this.priv=this.priv.umod(this.ec.curve.n)},Ce.prototype._importPublic=function(et,ei){if(et.x||et.y)return"mont"===this.ec.curve.type?e2(et.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||e2(et.x&&et.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(et.x,et.y));this.pub=this.ec.curve.decodePoint(et,ei)},Ce.prototype.derive=function(et){return et.validate()||e2(et.validate(),"public point not validated"),et.mul(this.priv).getX()},Ce.prototype.sign=function(et,ei,eo){return this.ec.sign(et,this,ei,eo)},Ce.prototype.verify=function(et,ei){return this.ec.verify(et,ei,this)},Ce.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var e6=eW.assert;function Pe(et,ei){if(et instanceof Pe)return et;this._importDER(et,ei)||(e6(et.r&&et.s,"Signature without r or s"),this.r=new(ej())(et.r,16),this.s=new(ej())(et.s,16),void 0===et.recoveryParam?this.recoveryParam=null:this.recoveryParam=et.recoveryParam)}function Ne(){this.place=0}function Ue(et,ei){var eo=et[ei.place++];if(!(128&eo))return eo;var ea=15&eo;if(0===ea||ea>4)return!1;for(var ec=0,eh=0,eu=ei.place;eh<ea;eh++,eu++)ec<<=8,ec|=et[eu],ec>>>=0;return!(ec<=127)&&(ei.place=eu,ec)}function Be(et){for(var ei=0,eo=et.length-1;!et[ei]&&!(128&et[ei+1])&&ei<eo;)ei++;return 0===ei?et:et.slice(ei)}function Le(et,ei){if(ei<128)et.push(ei);else{var eo=1+(Math.log(ei)/Math.LN2>>>3);for(et.push(128|eo);--eo;)et.push(ei>>>(eo<<3)&255);et.push(ei)}}Pe.prototype._importDER=function(et,ei){et=eW.toArray(et,ei);var eo=new Ne;if(48!==et[eo.place++])return!1;var ea=Ue(et,eo);if(!1===ea||ea+eo.place!==et.length||2!==et[eo.place++])return!1;var ec=Ue(et,eo);if(!1===ec)return!1;var eh=et.slice(eo.place,ec+eo.place);if(eo.place+=ec,2!==et[eo.place++])return!1;var eu=Ue(et,eo);if(!1===eu||et.length!==eu+eo.place)return!1;var ed=et.slice(eo.place,eu+eo.place);if(0===eh[0]){if(!(128&eh[1]))return!1;eh=eh.slice(1)}if(0===ed[0]){if(!(128&ed[1]))return!1;ed=ed.slice(1)}return this.r=new(ej())(eh),this.s=new(ej())(ed),this.recoveryParam=null,!0},Pe.prototype.toDER=function(et){var ei=this.r.toArray(),eo=this.s.toArray();for(128&ei[0]&&(ei=[0].concat(ei)),128&eo[0]&&(eo=[0].concat(eo)),ei=Be(ei),eo=Be(eo);!(eo[0]||128&eo[1]);)eo=eo.slice(1);var ea=[2];Le(ea,ei.length),(ea=ea.concat(ei)).push(2),Le(ea,eo.length);var ec=ea.concat(eo),eh=[48];return Le(eh,ec.length),eh=eh.concat(ec),eW.encode(eh,et)};var je=function(){throw Error("unsupported")},e5=eW.assert;function qe(et){if(!(this instanceof qe))return new qe(et);"string"==typeof et&&(e5(Object.prototype.hasOwnProperty.call(e1,et),"Unknown curve "+et),et=e1[et]),et instanceof e1.PresetCurve&&(et={curve:et}),this.curve=et.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=et.curve.g,this.g.precompute(et.curve.n.bitLength()+1),this.hash=et.hash||et.curve.hash}qe.prototype.keyPair=function(et){return new Ce(this,et)},qe.prototype.keyFromPrivate=function(et,ei){return Ce.fromPrivate(this,et,ei)},qe.prototype.keyFromPublic=function(et,ei){return Ce.fromPublic(this,et,ei)},qe.prototype.genKeyPair=function(et){et||(et={});for(var ei=new Ie({hash:this.hash,pers:et.pers,persEnc:et.persEnc||"utf8",entropy:et.entropy||je(this.hash.hmacStrength),entropyEnc:et.entropy&&et.entropyEnc||"utf8",nonce:this.n.toArray()}),eo=this.n.byteLength(),ea=this.n.sub(new(ej())(2));;){var ec=new(ej())(ei.generate(eo));if(!(ec.cmp(ea)>0))return ec.iaddn(1),this.keyFromPrivate(ec)}},qe.prototype._truncateToN=function(et,ei){var eo=8*et.byteLength()-this.n.bitLength();return eo>0&&(et=et.ushrn(eo)),!ei&&et.cmp(this.n)>=0?et.sub(this.n):et},qe.prototype.sign=function(et,ei,eo,ea){"object"==typeof eo&&(ea=eo,eo=null),ea||(ea={}),ei=this.keyFromPrivate(ei,eo),et=this._truncateToN(new(ej())(et,16));for(var ec=this.n.byteLength(),eh=ei.getPrivate().toArray("be",ec),eu=et.toArray("be",ec),ed=new Ie({hash:this.hash,entropy:eh,nonce:eu,pers:ea.pers,persEnc:ea.persEnc||"utf8"}),ef=this.n.sub(new(ej())(1)),el=0;;el++){var ep=ea.k?ea.k(el):new(ej())(ed.generate(this.n.byteLength()));if(!(0>=(ep=this._truncateToN(ep,!0)).cmpn(1)||ep.cmp(ef)>=0)){var eb=this.g.mul(ep);if(!eb.isInfinity()){var eg=eb.getX(),em=eg.umod(this.n);if(0!==em.cmpn(0)){var ey=ep.invm(this.n).mul(em.mul(ei.getPrivate()).iadd(et));if(0!==(ey=ey.umod(this.n)).cmpn(0)){var ev=(eb.getY().isOdd()?1:0)|(0!==eg.cmp(em)?2:0);return ea.canonical&&ey.cmp(this.nh)>0&&(ey=this.n.sub(ey),ev^=1),new Pe({r:em,s:ey,recoveryParam:ev})}}}}}},qe.prototype.verify=function(et,ei,eo,ea){et=this._truncateToN(new(ej())(et,16)),eo=this.keyFromPublic(eo,ea);var ec=(ei=new Pe(ei,"hex")).r,eh=ei.s;if(0>ec.cmpn(1)||ec.cmp(this.n)>=0||0>eh.cmpn(1)||eh.cmp(this.n)>=0)return!1;var eu,ed=eh.invm(this.n),ef=ed.mul(et).umod(this.n),el=ed.mul(ec).umod(this.n);return this.curve._maxwellTrick?!(eu=this.g.jmulAdd(ef,eo.getPublic(),el)).isInfinity()&&eu.eqXToP(ec):!(eu=this.g.mulAdd(ef,eo.getPublic(),el)).isInfinity()&&0===eu.getX().umod(this.n).cmp(ec)},qe.prototype.recoverPubKey=function(et,ei,eo,ea){e5((3&eo)===eo,"The recovery param is more than two bits"),ei=new Pe(ei,ea);var ec=this.n,eh=new(ej())(et),eu=ei.r,ed=ei.s,ef=1&eo,el=eo>>1;if(eu.cmp(this.curve.p.umod(this.curve.n))>=0&&el)throw Error("Unable to find sencond key candinate");eu=el?this.curve.pointFromX(eu.add(this.curve.n),ef):this.curve.pointFromX(eu,ef);var ep=ei.r.invm(ec),eb=ec.sub(eh).mul(ep).umod(ec),eg=ed.mul(ep).umod(ec);return this.g.mulAdd(eb,eu,eg)},qe.prototype.getKeyRecoveryParam=function(et,ei,eo,ea){if(null!==(ei=new Pe(ei,ea)).recoveryParam)return ei.recoveryParam;for(var ec,eh=0;eh<4;eh++){try{ec=this.recoverPubKey(et,ei,eh)}catch(et){continue}if(ec.eq(eo))return eh}throw Error("Unable to find valid recovery factor")};var e3=ae(function(et,ei){ei.version="6.5.4",ei.utils=eW,ei.rand=function(){throw Error("unsupported")},ei.curve=e0,ei.curves=e1,ei.ec=qe,ei.eddsa=null}).ec;function Ve(et,ei,eo){Object.defineProperty(et,ei,{enumerable:!0,value:eo,writable:!1})}new T("properties/5.7.0");let e8=new T("signing-key/5.7.0"),e4=null;function Ge(){return e4||(e4=new e3("secp256k1")),e4}let We=class We{constructor(et){Ve(this,"curve","secp256k1"),Ve(this,"privateKey",B(et)),32!==function(et){if("string"!=typeof et)et=B(et);else if(!N(et)||et.length%2)return null;return(et.length-2)/2}(this.privateKey)&&e8.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");let ei=Ge().keyFromPrivate(O(this.privateKey));Ve(this,"publicKey","0x"+ei.getPublic(!1,"hex")),Ve(this,"compressedPublicKey","0x"+ei.getPublic(!0,"hex")),Ve(this,"_isSigningKey",!0)}_addPoint(et){let ei=Ge().keyFromPublic(O(this.publicKey)),eo=Ge().keyFromPublic(O(et));return"0x"+ei.pub.add(eo.pub).encodeCompressed("hex")}signDigest(et){let ei=Ge().keyFromPrivate(O(this.privateKey)),eo=O(et);32!==eo.length&&e8.throwArgumentError("bad digest length","digest",et);let ea=ei.sign(eo,{canonical:!0});return D({recoveryParam:ea.recoveryParam,r:j("0x"+ea.r.toString(16),32),s:j("0x"+ea.s.toString(16),32)})}computeSharedSecret(et){let ei=Ge().keyFromPrivate(O(this.privateKey)),eo=Ge().keyFromPublic(O(Je(et)));return j("0x"+ei.derive(eo.getPublic()).toString(16),32)}static isSigningKey(et){return!(!et||!et._isSigningKey)}};function Je(et,ei){let eo=O(et);if(32===eo.length){let et=new We(eo);return ei?"0x"+Ge().keyFromPrivate(eo).getPublic(!0,"hex"):et.publicKey}return 33===eo.length?ei?B(eo):"0x"+Ge().keyFromPublic(eo).getPublic(!1,"hex"):65===eo.length?ei?"0x"+Ge().keyFromPublic(eo).getPublic(!0,"hex"):B(eo):e8.throwArgumentError("invalid public or private key","key","[REDACTED]")}new T("transactions/5.7.0"),(el=ey||(ey={}))[el.legacy=0]="legacy",el[el.eip2930=1]="eip2930",el[el.eip1559=2]="eip1559";var e7=eo(3043),e9=eo(1619),tt=eo(4734),to=eo(6247),ta=eo(2945),tc=eo(2376),th=eo(3210),tu=eo(9940);let td={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}};function at(et){let[ei,eo]=et.split(":");return{namespace:ei,reference:eo}}function ct(et){let{namespace:ei,reference:eo}=et;return[ei,eo].join(":")}function ht(et){let[ei,eo,ea]=et.split(":");return{namespace:ei,reference:eo,address:ea}}function ut(et){let{namespace:ei,reference:eo,address:ea}=et;return[ei,eo,ea].join(":")}function dt(et,ei){let eo=[];return et.forEach(et=>{let ea=ei(et);eo.includes(ea)||eo.push(ea)}),eo}function ft(et){let{address:ei}=ht(et);return ei}function lt(et){let{namespace:ei,reference:eo}=ht(et);return ct({namespace:ei,reference:eo})}function pt(et,ei){let{namespace:eo,reference:ea}=at(ei);return ut({namespace:eo,reference:ea,address:et})}function bt(et){return dt(et,ft)}function gt(et){return dt(et,lt)}function mt(et,ei=[]){let eo=[];return Object.keys(et).forEach(ea=>{if(ei.length&&!ei.includes(ea))return;let ec=et[ea];eo.push(...ec.accounts)}),eo}function yt(et,ei=[]){let eo=[];return Object.keys(et).forEach(ea=>{if(ei.length&&!ei.includes(ea))return;let ec=et[ea];eo.push(...gt(ec.accounts))}),eo}function vt(et,ei=[]){let eo=[];return Object.keys(et).forEach(ea=>{if(ei.length&&!ei.includes(ea))return;let ec=et[ea];eo.push(...wt(ea,ec))}),eo}function wt(et,ei){return et.includes(":")?[et]:ei.chains||[]}var tf=Object.defineProperty,tl=Object.getOwnPropertySymbols,tp=Object.prototype.hasOwnProperty,tb=Object.prototype.propertyIsEnumerable,Mt=(et,ei,eo)=>ei in et?tf(et,ei,{enumerable:!0,configurable:!0,writable:!0,value:eo}):et[ei]=eo,It=(et,ei)=>{for(var eo in ei||(ei={}))tp.call(ei,eo)&&Mt(et,eo,ei[eo]);if(tl)for(var eo of tl(ei))tb.call(ei,eo)&&Mt(et,eo,ei[eo]);return et};let tg="ReactNative",tm={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},ty=" ",tv=":",tw="/",t_=2,tE=1e3,tS="js";function Ut(){return"u">typeof ea&&"u">typeof ea.versions&&"u">typeof ea.versions.node}function Bt(){return!(0,eS.getDocument)()&&!!(0,eS.getNavigator)()&&navigator.product===tg}function Lt(){return!Ut()&&!!(0,eS.getNavigator)()&&!!(0,eS.getDocument)()}function jt(){return Bt()?tm.reactNative:Ut()?tm.node:Lt()?tm.browser:tm.unknown}function Dt(){var et;try{return Bt()&&"u">typeof eo.g&&"u">typeof(null==eo.g?void 0:eo.g.Application)?null==(et=eo.g.Application)?void 0:et.applicationId:void 0}catch{return}}function qt(et,ei){let eo=eM.parse(et);return eo=It(It({},eo),ei),eM.stringify(eo)}function Ft(){return(0,eA.g)()||{name:"",description:"",url:"",icons:[""]}}function Ht(et,ei){var eo;let ea=jt(),ec={protocol:et,version:ei,env:ea};return"browser"===ea&&(ec.host=(null==(eo=(0,eS.getLocation)())?void 0:eo.host)||"unknown"),ec}function zt(){var et;if(jt()===tm.reactNative&&"u">typeof eo.g&&"u">typeof(null==eo.g?void 0:eo.g.Platform)){let{OS:et,Version:ei}=eo.g.Platform;return[et,ei].join("-")}let ei=et?l(et):"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new c:"undefined"!=typeof navigator?l(navigator.userAgent):void 0!==ea&&ea.version?new s(ea.version.slice(1)):null;if(null===ei)return"unknown";let ec=ei.os?ei.os.replace(" ","").toLowerCase():"unknown";return"browser"===ei.type?[ec,ei.name,ei.version].join("-"):[ec,ei.version].join("-")}function Vt(){var et;let ei=jt();return ei===tm.browser?[ei,(null==(et=(0,eS.getLocation)())?void 0:et.host)||"unknown"].join(":"):ei}function $t(et,ei,eo){let ea=zt(),ec=Vt();return[[et,ei].join("-"),[tS,eo].join("-"),ea,ec].join("/")}function Kt({protocol:et,version:ei,relayUrl:eo,sdkVersion:ea,auth:ec,projectId:eh,useOnCloseEvent:eu,bundleId:ed}){let ef=eo.split("?"),el={auth:ec,ua:$t(et,ei,ea),projectId:eh,useOnCloseEvent:eu||void 0,origin:ed||void 0},ep=qt(ef[1]||"",el);return ef[0]+"?"+ep}function Gt(et){let ei=(et.match(/^[^:]+(?=:\/\/)/gi)||[])[0],eo="u">typeof ei?et.split("://")[1]:et;return[ei="wss"===ei?"https":"http",eo].join("://")}function Wt(et,ei,eo){if(!et[ei]||typeof et[ei]!==eo)throw Error(`Missing or invalid "${ei}" param`)}function Jt(et,ei=t_){return Zt(et.split(tw),ei)}function Yt(et){return Jt(et).join(ty)}function Xt(et,ei){return et.filter(et=>ei.includes(et)).length===et.length}function Zt(et,ei=t_){return et.slice(Math.max(et.length-ei,0))}function Qt(et){return Object.fromEntries(et.entries())}function er(et){return new Map(Object.entries(et))}function tr(et,ei){let eo={};return Object.keys(et).forEach(ea=>{eo[ea]=ei(et[ea])}),eo}let rr=et=>et;function nr(et){return et.trim().replace(/^\w/,et=>et.toUpperCase())}function ir(et){return et.split(ty).map(et=>nr(et)).join(ty)}function sr(et=eE.FIVE_MINUTES,ei){let eo,ea,ec;let eh=(0,eE.toMiliseconds)(et||eE.FIVE_MINUTES);return{resolve:et=>{ec&&eo&&(clearTimeout(ec),eo(et))},reject:et=>{ec&&ea&&(clearTimeout(ec),ea(et))},done:()=>new Promise((et,eu)=>{ec=setTimeout(()=>{eu(Error(ei))},eh),eo=et,ea=eu})}}function or(et,ei,eo){return new Promise(async(ea,ec)=>{let eh=setTimeout(()=>ec(Error(eo)),ei);try{ea(await et)}catch(et){ec(et)}clearTimeout(eh)})}function ar(et,ei){if("string"==typeof ei&&ei.startsWith(`${et}:`))return ei;if("topic"===et.toLowerCase()){if("string"!=typeof ei)throw Error('Value must be "string" for expirer target type: topic');return`topic:${ei}`}if("id"===et.toLowerCase()){if("number"!=typeof ei)throw Error('Value must be "number" for expirer target type: id');return`id:${ei}`}throw Error(`Unknown expirer target type: ${et}`)}function cr(et){return ar("topic",et)}function hr(et){return ar("id",et)}function ur(et){let[ei,eo]=et.split(":"),ea={id:void 0,topic:void 0};if("topic"===ei&&"string"==typeof eo)ea.topic=eo;else{if("id"!==ei||!Number.isInteger(Number(eo)))throw Error(`Invalid target, expected id:number or topic:string, got ${ei}:${eo}`);ea.id=Number(eo)}return ea}function dr(et,ei){return(0,eE.fromMiliseconds)((ei||Date.now())+(0,eE.toMiliseconds)(et))}function fr(et){return Date.now()>=(0,eE.toMiliseconds)(et)}function lr(et,ei){return`${et}${ei?`:${ei}`:""}`}function pr(et=[],ei=[]){return[...new Set([...et,...ei])]}async function br({id:et,topic:ei,wcDeepLink:ea}){var ec;try{if(!ea)return;let eh="string"==typeof ea?JSON.parse(ea):ea,eu=eh?.href;if("string"!=typeof eu)return;let ed=gr(eu,et,ei),ef=jt();if(ef===tm.browser){if(null==(ec=(0,eS.getDocument)())||!ec.hasFocus())return void console.warn("Document does not have focus, skipping deeplink.");ed.startsWith("https://")||ed.startsWith("http://")?window.open(ed,"_blank","noreferrer noopener"):window.open(ed,Er()?"_blank":"_self","noreferrer noopener")}else ef===tm.reactNative&&"u">typeof(null==eo.g?void 0:eo.g.Linking)&&await eo.g.Linking.openURL(ed)}catch(et){console.error(et)}}function gr(et,ei,eo){let ea=`requestId=${ei}&sessionTopic=${eo}`;et.endsWith("/")&&(et=et.slice(0,-1));let ec=`${et}`;return et.startsWith("https://t.me")?`${ec}${et.includes("?")?"&startapp=":"?startapp="}${Sr(ea,!0)}`:`${ec}/wc?${ea}`}async function mr(et,ei){let eo="";try{if(Lt()&&(eo=localStorage.getItem(ei)))return eo;eo=await et.getItem(ei)}catch(et){console.error(et)}return eo}function yr(et,ei){return et.filter(et=>ei.includes(et))}function vr(et,ei){if(!et.includes(ei))return null;let eo=et.split(/([&,?,=])/),ea=eo.indexOf(ei);return eo[ea+2]}function wr(){return"u">typeof crypto&&null!=crypto&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,et=>{let ei=16*Math.random()|0;return("x"===et?ei:3&ei|8).toString(16)})}function _r(){return"u">typeof ea&&"true"===ea.env.IS_VITEST}function Er(){return"u">typeof window&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function Sr(et,ei=!1){let eo=ec.from(et).toString("base64");return ei?eo.replace(/[=]/g,""):eo}function Ar(et){return ec.from(et,"base64").toString("utf-8")}async function Ir(et,ei,eo,ea,ec,eh){switch(eo.t){case"eip191":return Tr(et,ei,eo.s);case"eip1271":return await xr(et,ei,eo.s,ea,ec,eh);default:throw Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${eo.t}`)}}function Tr(et,ei,eo){return(function(et){var ei;let eo=null;if("string"!=typeof et&&eF.throwArgumentError("invalid address","address",et),et.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==et.substring(0,2)&&(et="0x"+et),eo=ee(et),et.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&eo!==et&&eF.throwArgumentError("bad address checksum","address",et);else if(et.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(et.substring(2,4)!==function(et){let ei=(et=(et=et.toUpperCase()).substring(4)+et.substring(0,2)+"00").split("").map(et=>eH[et]).join("");for(;ei.length>=eV;){let et=ei.substring(0,eV);ei=parseInt(et,10)%97+ei.substring(et.length)}let eo=String(98-parseInt(ei,10)%97);for(;eo.length<2;)eo="0"+eo;return eo}(et)&&eF.throwArgumentError("bad icap checksum","address",et),ei=et.substring(4),eo=new eq(ei,36).toString(16);eo.length<40;)eo="0"+eo;eo=ee("0x"+eo)}else eF.throwArgumentError("invalid address","address",et);return eo})(L(H(L(Je(function(et,ei){let eo=D(ei),ea={r:O(eo.r),s:O(eo.s)};return"0x"+Ge().recoverPubKey(O(et),ea,eo.recoveryParam).encode("hex",!1)}(O(J(ei)),eo)),1)),12)).toLowerCase()===et.toLowerCase()}async function xr(et,ei,eo,ea,ec,eh){let eu=at(ea);if(!eu.namespace||!eu.reference)throw Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${ea}`);try{let eu="0x1626ba7e",ed=eo.substring(2),ef=eu+J(ei).substring(2)+"00000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000041"+ed,el=await fetch(`${eh||"https://rpc.walletconnect.org/v1"}/?chainId=${ea}&projectId=${ec}`,{method:"POST",body:JSON.stringify({id:Date.now()+Math.floor(1e3*Math.random()),jsonrpc:"2.0",method:"eth_call",params:[{to:et,data:ef},"latest"]})}),{result:ep}=await el.json();return!!ep&&ep.slice(0,eu.length).toLowerCase()===eu.toLowerCase()}catch(et){return console.error("isValidEip1271Signature: ",et),!1}}var tA=Object.defineProperty,tM=Object.defineProperties,tI=Object.getOwnPropertyDescriptors,tT=Object.getOwnPropertySymbols,tx=Object.prototype.hasOwnProperty,tC=Object.prototype.propertyIsEnumerable,Ur=(et,ei,eo)=>ei in et?tA(et,ei,{enumerable:!0,configurable:!0,writable:!0,value:eo}):et[ei]=eo,Br=(et,ei)=>{for(var eo in ei||(ei={}))tx.call(ei,eo)&&Ur(et,eo,ei[eo]);if(tT)for(var eo of tT(ei))tC.call(ei,eo)&&Ur(et,eo,ei[eo]);return et},Lr=(et,ei)=>tM(et,tI(ei));let jr=et=>et?.split(":"),Dr=et=>{let ei=et&&jr(et);if(ei)return et.includes("did:pkh:")?ei[3]:ei[1]},qr=et=>{let ei=et&&jr(et);if(ei)return ei[2]+":"+ei[3]},Fr=et=>{let ei=et&&jr(et);if(ei)return ei.pop()};async function Hr(et){let{cacao:ei,projectId:eo}=et,{s:ea,p:ec}=ei,eh=zr(ec,ec.iss),eu=Fr(ec.iss);return await Ir(eu,eh,ea,qr(ec.iss),eo)}let zr=(et,ei)=>{let eo=`${et.domain} wants you to sign in with your Ethereum account:`,ea=Fr(ei);if(!et.aud&&!et.uri)throw Error("Either `aud` or `uri` is required to construct the message");let ec=et.statement||void 0,eh=`URI: ${et.aud||et.uri}`,eu=`Version: ${et.version}`,ed=`Chain ID: ${Dr(ei)}`,ef=`Nonce: ${et.nonce}`,el=`Issued At: ${et.iat}`,ep=et.exp?`Expiration Time: ${et.exp}`:void 0,eb=et.nbf?`Not Before: ${et.nbf}`:void 0,eg=et.requestId?`Request ID: ${et.requestId}`:void 0,em=et.resources?`Resources:${et.resources.map(et=>`
- ${et}`).join("")}`:void 0,ey=pn(et.resources);return ey&&(ec=un(ec,sn(ey))),[eo,ea,"",ec,"",eh,eu,ed,ef,el,ep,eb,eg,em].filter(et=>null!=et).join("\n")};function Vr(et,ei,eo){return eo.includes("did:pkh:")||(eo=`did:pkh:${eo}`),{h:{t:"caip122"},p:{iss:eo,domain:et.domain,aud:et.aud,version:et.version,nonce:et.nonce,iat:et.iat,statement:et.statement,requestId:et.requestId,resources:et.resources,nbf:et.nbf,exp:et.exp},s:ei}}function $r(et){var ei;let{authPayload:eo,chains:ea,methods:ec}=et,eh=eo.statement||"";if(null==ea||!ea.length)return eo;let eu=yr(eo.chains,ea);if(null==eu||!eu.length)throw Error("No supported chains");let ed=Kr(eo.resources);if(!ed)return eo;Qr(ed);let ef=Wr(ed,"eip155"),el=eo?.resources||[];if(null!=ef&&ef.length){let et=Yr(ef),ea=yr(et,ec);if(null==ea||!ea.length)throw Error(`Supported methods don't satisfy the requested: ${JSON.stringify(et)}, supported: ${JSON.stringify(ec)}`);let eh=tn(ed,"eip155",rn("request",ea,{chains:eu}));(el=(null==(ei=eo?.resources)?void 0:ei.slice(0,-1))||[]).push(nn(eh))}return Lr(Br({},eo),{statement:ln(eh,pn(el)),chains:eu,resources:null!=eo&&eo.resources||el.length>0?el:void 0})}function Kr(et){let ei=pn(et);if(ei&&an(ei))return sn(ei)}function Gr(et,ei){var eo;return null==(eo=et?.att)?void 0:eo.hasOwnProperty(ei)}function Wr(et,ei){var eo,ea;return null!=(eo=et?.att)&&eo[ei]?Object.keys(null==(ea=et?.att)?void 0:ea[ei]):[]}function Jr(et){return et?.map(et=>Object.keys(et))||[]}function Yr(et){return et?.map(et=>{var ei;return null==(ei=et.split("/"))?void 0:ei[1]})||[]}function Xr(et){return ec.from(JSON.stringify(et)).toString("base64")}function Zr(et){return JSON.parse(ec.from(et,"base64").toString("utf-8"))}function Qr(et){if(!et)throw Error("No recap provided, value is undefined");if(!et.att)throw Error("No `att` property found");let ei=Object.keys(et.att);if(null==ei||!ei.length)throw Error("No resources found in `att` property");ei.forEach(ei=>{let eo=et.att[ei];if(Array.isArray(eo)||"object"!=typeof eo)throw Error(`Resource must be an object: ${ei}`);if(!Object.keys(eo).length)throw Error(`Resource object is empty: ${ei}`);Object.keys(eo).forEach(et=>{let ei=eo[et];if(!Array.isArray(ei))throw Error(`Ability limits ${et} must be an array of objects, found: ${ei}`);if(!ei.length)throw Error(`Value of ${et} is empty array, must be an array with objects`);ei.forEach(ei=>{if("object"!=typeof ei)throw Error(`Ability limits (${et}) must be an array of objects, found: ${ei}`)})})})}function en(et,ei,eo,ea={}){return eo?.sort((et,ei)=>et.localeCompare(ei)),{att:{[et]:rn(ei,eo,ea)}}}function tn(et,ei,eo){var ea;return et.att[ei]=Br({},eo),(null==(ea=Object.keys(et.att))?void 0:ea.sort((et,ei)=>et.localeCompare(ei))).reduce((ei,eo)=>(ei.att[eo]=et.att[eo],ei),{att:{}})}function rn(et,ei,eo={}){ei=ei?.sort((et,ei)=>et.localeCompare(ei));let ea=ei.map(ei=>({[`${et}/${ei}`]:[eo]}));return Object.assign({},...ea)}function nn(et){return Qr(et),`urn:recap:${Xr(et).replace(/=/g,"")}`}function sn(et){let ei=Zr(et.replace("urn:recap:",""));return Qr(ei),ei}function on(et,ei,eo){return nn(en(et,ei,eo))}function an(et){return et&&et.includes("urn:recap:")}function cn(et,ei){return nn(hn(sn(et),sn(ei)))}function hn(et,ei){Qr(et),Qr(ei);let eo=Object.keys(et.att).concat(Object.keys(ei.att)).sort((et,ei)=>et.localeCompare(ei)),ea={att:{}};return eo.forEach(eo=>{var ec,eh;Object.keys((null==(ec=et.att)?void 0:ec[eo])||{}).concat(Object.keys((null==(eh=ei.att)?void 0:eh[eo])||{})).sort((et,ei)=>et.localeCompare(ei)).forEach(ec=>{var eh,eu;ea.att[eo]=Lr(Br({},ea.att[eo]),{[ec]:(null==(eh=et.att[eo])?void 0:eh[ec])||(null==(eu=ei.att[eo])?void 0:eu[ec])})})}),ea}function un(et="",ei){Qr(ei);let eo="I further authorize the stated URI to perform the following actions on my behalf: ";if(et.includes(eo))return et;let ea=[],ec=0;return Object.keys(ei.att).forEach(et=>{let eo=Object.keys(ei.att[et]).map(et=>({ability:et.split("/")[0],action:et.split("/")[1]}));eo.sort((et,ei)=>et.action.localeCompare(ei.action));let eh={};eo.forEach(et=>{eh[et.ability]||(eh[et.ability]=[]),eh[et.ability].push(et.action)});let eu=Object.keys(eh).map(ei=>(ec++,`(${ec}) '${ei}': '${eh[ei].join("', '")}' for '${et}'.`));ea.push(eu.join(", ").replace(".,","."))}),`${et?et+" ":""}${eo}${ea.join(" ")}`}function dn(et){var ei;let eo=sn(et);Qr(eo);let ea=null==(ei=eo.att)?void 0:ei.eip155;return ea?Object.keys(ea).map(et=>et.split("/")[1]):[]}function fn(et){let ei=sn(et);Qr(ei);let eo=[];return Object.values(ei.att).forEach(et=>{Object.values(et).forEach(et=>{var ei;null!=(ei=et?.[0])&&ei.chains&&eo.push(et[0].chains)})}),[...new Set(eo.flat())]}function ln(et,ei){if(!ei)return et;let eo=sn(ei);return Qr(eo),un(et,eo)}function pn(et){if(!et)return;let ei=et?.[et.length-1];return an(ei)?ei:void 0}let tR="base10",tk="base16",tP="base64pad",tO="base64url",tN="utf8",tU=0,tB=1,tL=2;function Tn(){let et=ta.TZ();return{privateKey:(0,tc.dI)(et.secretKey,tk),publicKey:(0,tc.dI)(et.publicKey,tk)}}function xn(){let et=(0,tt.randomBytes)(32);return(0,tc.dI)(et,tk)}function Cn(et,ei){let eo=ta.Tc((0,tc.sH)(et,tk),(0,tc.sH)(ei,tk),!0),ea=new e9.i(to.aD,eo).expand(32);return(0,tc.dI)(ea,tk)}function Rn(et){let ei=(0,to.tW)((0,tc.sH)(et,tk));return(0,tc.dI)(ei,tk)}function kn(et){let ei=(0,to.tW)((0,tc.sH)(et,tN));return(0,tc.dI)(ei,tk)}function Pn(et){return(0,tc.sH)(`${et}`,tR)}function On(et){return Number((0,tc.dI)(et,tR))}function Nn(et){let ei=Pn("u">typeof et.type?et.type:tU);if(On(ei)===tB&&typeof et.senderPublicKey>"u")throw Error("Missing sender public key for type 1 envelope");let eo="u">typeof et.senderPublicKey?(0,tc.sH)(et.senderPublicKey,tk):void 0,ea="u">typeof et.iv?(0,tc.sH)(et.iv,tk):(0,tt.randomBytes)(12);return jn({type:ei,sealed:new e7.g6((0,tc.sH)(et.symKey,tk)).seal(ea,(0,tc.sH)(et.message,tN)),iv:ea,senderPublicKey:eo,encoding:et.encoding})}function Un(et,ei){let eo=Pn(tL),ea=(0,tt.randomBytes)(12);return jn({type:eo,sealed:(0,tc.sH)(et,tN),iv:ea,encoding:ei})}function Bn(et){let ei=new e7.g6((0,tc.sH)(et.symKey,tk)),{sealed:eo,iv:ea}=Dn({encoded:et.encoded,encoding:et?.encoding}),ec=ei.open(ea,eo);if(null===ec)throw Error("Failed to decrypt");return(0,tc.dI)(ec,tN)}function Ln(et,ei){let{sealed:eo}=Dn({encoded:et,encoding:ei});return(0,tc.dI)(eo,tN)}function jn(et){let{encoding:ei=tP}=et;if(On(et.type)===tL)return(0,tc.dI)((0,tc.xW)([et.type,et.sealed]),ei);if(On(et.type)===tB){if(typeof et.senderPublicKey>"u")throw Error("Missing sender public key for type 1 envelope");return(0,tc.dI)((0,tc.xW)([et.type,et.senderPublicKey,et.iv,et.sealed]),ei)}return(0,tc.dI)((0,tc.xW)([et.type,et.iv,et.sealed]),ei)}function Dn(et){let{encoded:ei,encoding:eo=tP}=et,ea=(0,tc.sH)(ei,eo),ec=ea.slice(0,1);if(On(ec)===tB){let et=ea.slice(1,33),ei=ea.slice(33,45);return{type:ec,sealed:ea.slice(45),iv:ei,senderPublicKey:et}}if(On(ec)===tL)return{type:ec,sealed:ea.slice(1),iv:(0,tt.randomBytes)(12)};let eh=ea.slice(1,13);return{type:ec,sealed:ea.slice(13),iv:eh}}function qn(et,ei){let eo=Dn({encoded:et,encoding:ei?.encoding});return Fn({type:On(eo.type),senderPublicKey:"u">typeof eo.senderPublicKey?(0,tc.dI)(eo.senderPublicKey,tk):void 0,receiverPublicKey:ei?.receiverPublicKey})}function Fn(et){let ei=et?.type||tU;if(ei===tB){if(typeof et?.senderPublicKey>"u")throw Error("missing sender public key");if(typeof et?.receiverPublicKey>"u")throw Error("missing receiver public key")}return{type:ei,senderPublicKey:et?.senderPublicKey,receiverPublicKey:et?.receiverPublicKey}}function Hn(et){return et.type===tB&&"string"==typeof et.senderPublicKey&&"string"==typeof et.receiverPublicKey}function zn(et){return et.type===tL}function Vn(et){return new th.ec("p256").keyFromPublic({x:ec.from(et.x,"base64").toString("hex"),y:ec.from(et.y,"base64").toString("hex")},"hex")}function $n(et,ei){let[eo,ea,eh]=et.split("."),eu=ec.from(function(et){let ei=et.replace(/-/g,"+").replace(/_/g,"/"),eo=ei.length%4;return eo>0&&(ei+="=".repeat(4-eo)),ei}(eh),"base64");if(64!==eu.length)throw Error("Invalid signature length");let ed=eu.slice(0,32).toString("hex"),ef=eu.slice(32,64).toString("hex"),el=`${eo}.${ea}`,ep=(new to.aD).update(ec.from(el)).digest(),eb=Vn(ei),eg=ec.from(ep).toString("hex");if(!eb.verify(eg,{r:ed,s:ef}))throw Error("Invalid signature");return(0,tu.decodeJWT)(et).payload}let tD="irn";function Gn(et){return et?.relay||{protocol:tD}}function Wn(et){let ei=td[et];if(typeof ei>"u")throw Error(`Relay Protocol not supported: ${et}`);return ei}var tj=Object.defineProperty,tq=Object.defineProperties,tF=Object.getOwnPropertyDescriptors,tH=Object.getOwnPropertySymbols,tV=Object.prototype.hasOwnProperty,tz=Object.prototype.propertyIsEnumerable,ti=(et,ei,eo)=>ei in et?tj(et,ei,{enumerable:!0,configurable:!0,writable:!0,value:eo}):et[ei]=eo,ri=(et,ei)=>{for(var eo in ei||(ei={}))tV.call(ei,eo)&&ti(et,eo,ei[eo]);if(tH)for(var eo of tH(ei))tz.call(ei,eo)&&ti(et,eo,ei[eo]);return et},ni=(et,ei)=>tq(et,tF(ei));function ii(et,ei="-"){let eo={},ea="relay"+ei;return Object.keys(et).forEach(ei=>{if(ei.startsWith(ea)){let ec=ei.replace(ea,""),eh=et[ei];eo[ec]=eh}}),eo}function si(et){if(!et.includes("wc:")){let ei=Ar(et);null!=ei&&ei.includes("wc:")&&(et=ei)}let ei=(et=(et=et.includes("wc://")?et.replace("wc://",""):et).includes("wc:")?et.replace("wc:",""):et).indexOf(":"),eo=-1!==et.indexOf("?")?et.indexOf("?"):void 0,ea=et.substring(0,ei),ec=et.substring(ei+1,eo).split("@"),eh="u">typeof eo?et.substring(eo):"",eu=eM.parse(eh),ed="string"==typeof eu.methods?eu.methods.split(","):void 0;return{protocol:ea,topic:oi(ec[0]),version:parseInt(ec[1],10),symKey:eu.symKey,relay:ii(eu),methods:ed,expiryTimestamp:eu.expiryTimestamp?parseInt(eu.expiryTimestamp,10):void 0}}function oi(et){return et.startsWith("//")?et.substring(2):et}function ai(et,ei="-"){let eo={};return Object.keys(et).forEach(ea=>{et[ea]&&(eo["relay"+ei+ea]=et[ea])}),eo}function ci(et){return`${et.protocol}:${et.topic}@${et.version}?`+eM.stringify(ri(ni(ri({symKey:et.symKey},ai(et.relay)),{expiryTimestamp:et.expiryTimestamp}),et.methods?{methods:et.methods.join(",")}:{}))}function hi(et,ei,eo){return`${et}?wc_ev=${eo}&topic=${ei}`}var t$=Object.defineProperty,tK=Object.defineProperties,tG=Object.getOwnPropertyDescriptors,tW=Object.getOwnPropertySymbols,tJ=Object.prototype.hasOwnProperty,tY=Object.prototype.propertyIsEnumerable,gi=(et,ei,eo)=>ei in et?t$(et,ei,{enumerable:!0,configurable:!0,writable:!0,value:eo}):et[ei]=eo,mi=(et,ei)=>{for(var eo in ei||(ei={}))tJ.call(ei,eo)&&gi(et,eo,ei[eo]);if(tW)for(var eo of tW(ei))tY.call(ei,eo)&&gi(et,eo,ei[eo]);return et},yi=(et,ei)=>tK(et,tG(ei));function vi(et){let ei=[];return et.forEach(et=>{let[eo,ea]=et.split(":");ei.push(`${eo}:${ea}`)}),ei}function wi(et){let ei=[];return Object.values(et).forEach(et=>{ei.push(...vi(et.accounts))}),ei}function _i(et,ei){let eo=[];return Object.values(et).forEach(et=>{vi(et.accounts).includes(ei)&&eo.push(...et.methods)}),eo}function Ei(et,ei){let eo=[];return Object.values(et).forEach(et=>{vi(et.accounts).includes(ei)&&eo.push(...et.events)}),eo}function Si(et,ei){let eo=es(et,ei);if(eo)throw Error(eo.message);let ea={};for(let[ei,eo]of Object.entries(et))ea[ei]={methods:eo.methods,events:eo.events,chains:eo.accounts.map(et=>`${et.split(":")[0]}:${et.split(":")[1]}`)};return ea}function Ai(et){let{proposal:{requiredNamespaces:ei,optionalNamespaces:eo={}},supportedNamespaces:ea}=et,ec=Ti(ei),eh=Ti(eo),eu={};Object.keys(ea).forEach(et=>{let ei=ea[et].chains,eo=ea[et].methods,ec=ea[et].events,eh=ea[et].accounts;ei.forEach(ei=>{if(!eh.some(et=>et.includes(ei)))throw Error(`No accounts provided for chain ${ei} in namespace ${et}`)}),eu[et]={chains:ei,methods:eo,events:ec,accounts:eh}});let ed=fs(ei,eu,"approve()");if(ed)throw Error(ed.message);let ef={};return Object.keys(ei).length||Object.keys(eo).length?(Object.keys(ec).forEach(et=>{let ei=ea[et].chains.filter(ei=>{var eo,ea;return null==(ea=null==(eo=ec[et])?void 0:eo.chains)?void 0:ea.includes(ei)}),eo=ea[et].methods.filter(ei=>{var eo,ea;return null==(ea=null==(eo=ec[et])?void 0:eo.methods)?void 0:ea.includes(ei)}),eh=ea[et].events.filter(ei=>{var eo,ea;return null==(ea=null==(eo=ec[et])?void 0:eo.events)?void 0:ea.includes(ei)}),eu=ei.map(ei=>ea[et].accounts.filter(et=>et.includes(`${ei}:`))).flat();ef[et]={chains:ei,methods:eo,events:eh,accounts:eu}}),Object.keys(eh).forEach(et=>{var ei,eo,ec,eu,ed,el;if(!ea[et])return;let ep=null==(eo=null==(ei=eh[et])?void 0:ei.chains)?void 0:eo.filter(ei=>ea[et].chains.includes(ei)),eb=ea[et].methods.filter(ei=>{var eo,ea;return null==(ea=null==(eo=eh[et])?void 0:eo.methods)?void 0:ea.includes(ei)}),eg=ea[et].events.filter(ei=>{var eo,ea;return null==(ea=null==(eo=eh[et])?void 0:eo.events)?void 0:ea.includes(ei)}),em=ep?.map(ei=>ea[et].accounts.filter(et=>et.includes(`${ei}:`))).flat();ef[et]={chains:pr(null==(ec=ef[et])?void 0:ec.chains,ep),methods:pr(null==(eu=ef[et])?void 0:eu.methods,eb),events:pr(null==(ed=ef[et])?void 0:ed.events,eg),accounts:pr(null==(el=ef[et])?void 0:el.accounts,em)}}),ef):eu}function Mi(et){return et.includes(":")}function Ii(et){return Mi(et)?et.split(":")[0]:et}function Ti(et){var ei,eo,ea;let ec={};if(!Ui(et))return ec;for(let[eh,eu]of Object.entries(et)){let et=Mi(eh)?[eh]:eu.chains,ed=eu.methods||[],ef=eu.events||[],el=Ii(eh);ec[el]=yi(mi({},ec[el]),{chains:pr(et,null==(ei=ec[el])?void 0:ei.chains),methods:pr(ed,null==(eo=ec[el])?void 0:eo.methods),events:pr(ef,null==(ea=ec[el])?void 0:ea.events)})}return ec}function xi(et){let ei={};return et?.forEach(et=>{let[eo,ea]=et.split(":");ei[eo]||(ei[eo]={accounts:[],chains:[],events:[]}),ei[eo].accounts.push(et),ei[eo].chains.push(`${eo}:${ea}`)}),ei}function Ci(et,ei){let eo=xi(ei=ei.map(et=>et.replace("did:pkh:","")));for(let[ei,ea]of Object.entries(eo))ea.methods?ea.methods=pr(ea.methods,et):ea.methods=et,ea.events=["chainChanged","accountsChanged"];return eo}let tX={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},tZ={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function Pi(et,ei){let{message:eo,code:ea}=tZ[et];return{message:ei?`${eo} ${ei}`:eo,code:ea}}function Oi(et,ei){let{message:eo,code:ea}=tX[et];return{message:ei?`${eo} ${ei}`:eo,code:ea}}function Ni(et,ei){return!!Array.isArray(et)&&(!("u">typeof ei&&et.length)||et.every(ei))}function Ui(et){return Object.getPrototypeOf(et)===Object.prototype&&Object.keys(et).length}function Bi(et){return typeof et>"u"}function Li(et,ei){return!(!ei||!Bi(et))||"string"==typeof et&&!!et.trim().length}function ji(et,ei){return!(!ei||!Bi(et))||"number"==typeof et&&!isNaN(et)}function Di(et,ei){let{requiredNamespaces:eo}=ei,ea=Object.keys(et.namespaces),ec=Object.keys(eo),eh=!0;return!!Xt(ec,ea)&&(ea.forEach(ei=>{let{accounts:ea,methods:ec,events:eu}=et.namespaces[ei],ed=vi(ea),ef=eo[ei];Xt(wt(ei,ef),ed)&&Xt(ef.methods,ec)&&Xt(ef.events,eu)||(eh=!1)}),eh)}function qi(et){return!(!Li(et,!1)||!et.includes(":"))&&2===et.split(":").length}function Fi(et){if(Li(et,!1)&&et.includes(":")){let ei=et.split(":");if(3===ei.length){let et=ei[0]+":"+ei[1];return!!ei[2]&&qi(et)}}return!1}function Hi(et){function t(et){try{return"u">typeof new URL(et)}catch{return!1}}try{if(Li(et,!1))return!!t(et)||t(Ar(et))}catch{}return!1}function zi(et){var ei;return null==(ei=et?.proposer)?void 0:ei.publicKey}function Vi(et){return et?.topic}function $i(et,ei){let eo=null;return Li(et?.publicKey,!1)||(eo=Pi("MISSING_OR_INVALID",`${ei} controller public key should be a string`)),eo}function Ki(et){let ei=!0;return Ni(et)?et.length&&(ei=et.every(et=>Li(et,!1))):ei=!1,ei}function Gi(et,ei,eo){let ea=null;return Ni(ei)&&ei.length?ei.forEach(et=>{ea||qi(et)||(ea=Oi("UNSUPPORTED_CHAINS",`${eo}, chain ${et} should be a string and conform to "namespace:chainId" format`))}):qi(et)||(ea=Oi("UNSUPPORTED_CHAINS",`${eo}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),ea}function Wi(et,ei,eo){let ea=null;return Object.entries(et).forEach(([et,ec])=>{if(ea)return;let eh=Gi(et,wt(et,ec),`${ei} ${eo}`);eh&&(ea=eh)}),ea}function Ji(et,ei){let eo=null;return Ni(et)?et.forEach(et=>{eo||Fi(et)||(eo=Oi("UNSUPPORTED_ACCOUNTS",`${ei}, account ${et} should be a string and conform to "namespace:chainId:address" format`))}):eo=Oi("UNSUPPORTED_ACCOUNTS",`${ei}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),eo}function Yi(et,ei){let eo=null;return Object.values(et).forEach(et=>{if(eo)return;let ea=Ji(et?.accounts,`${ei} namespace`);ea&&(eo=ea)}),eo}function Xi(et,ei){let eo=null;return Ki(et?.methods)?Ki(et?.events)||(eo=Oi("UNSUPPORTED_EVENTS",`${ei}, events should be an array of strings or empty array for no events`)):eo=Oi("UNSUPPORTED_METHODS",`${ei}, methods should be an array of strings or empty array for no methods`),eo}function Zi(et,ei){let eo=null;return Object.values(et).forEach(et=>{if(eo)return;let ea=Xi(et,`${ei}, namespace`);ea&&(eo=ea)}),eo}function Qi(et,ei,eo){let ea=null;if(et&&Ui(et)){let ec=Zi(et,ei);ec&&(ea=ec);let eh=Wi(et,ei,eo);eh&&(ea=eh)}else ea=Pi("MISSING_OR_INVALID",`${ei}, ${eo} should be an object with data`);return ea}function es(et,ei){let eo=null;if(et&&Ui(et)){let ea=Zi(et,ei);ea&&(eo=ea);let ec=Yi(et,ei);ec&&(eo=ec)}else eo=Pi("MISSING_OR_INVALID",`${ei}, namespaces should be an object with data`);return eo}function ts(et){return Li(et.protocol,!0)}function rs(et,ei){let eo=!1;return ei&&!et?eo=!0:et&&Ni(et)&&et.length&&et.forEach(et=>{eo=ts(et)}),eo}function ns(et){return"number"==typeof et}function is(et){return"u">typeof et}function ss(et){return!!(et&&"object"==typeof et&&et.code&&ji(et.code,!1)&&et.message&&Li(et.message,!1))}function os(et){return!(Bi(et)||!Li(et.method,!1))}function as(et){return!(Bi(et)||Bi(et.result)&&Bi(et.error)||!ji(et.id,!1)||!Li(et.jsonrpc,!1))}function cs(et){return!(Bi(et)||!Li(et.name,!1))}function hs(et,ei){return!(!qi(ei)||!wi(et).includes(ei))}function us(et,ei,eo){return!!Li(eo,!1)&&_i(et,ei).includes(eo)}function ds(et,ei,eo){return!!Li(eo,!1)&&Ei(et,ei).includes(eo)}function fs(et,ei,eo){let ea=null,ec=function(et){let ei={};return Object.keys(et).forEach(eo=>{var ea;eo.includes(":")?ei[eo]=et[eo]:null==(ea=et[eo].chains)||ea.forEach(ea=>{ei[ea]={methods:et[eo].methods,events:et[eo].events}})}),ei}(et),eh=function(et){let ei={};return Object.keys(et).forEach(eo=>{if(eo.includes(":"))ei[eo]=et[eo];else{let ea=vi(et[eo].accounts);ea?.forEach(ea=>{ei[ea]={accounts:et[eo].accounts.filter(et=>et.includes(`${ea}:`)),methods:et[eo].methods,events:et[eo].events}})}}),ei}(ei),eu=Object.keys(ec),ed=Object.keys(eh),ef=ls(Object.keys(et)),el=ls(Object.keys(ei)),ep=ef.filter(et=>!el.includes(et));return ep.length&&(ea=Pi("NON_CONFORMING_NAMESPACES",`${eo} namespaces keys don't satisfy requiredNamespaces.
      Required: ${ep.toString()}
      Received: ${Object.keys(ei).toString()}`)),Xt(eu,ed)||(ea=Pi("NON_CONFORMING_NAMESPACES",`${eo} namespaces chains don't satisfy required namespaces.
      Required: ${eu.toString()}
      Approved: ${ed.toString()}`)),Object.keys(ei).forEach(et=>{if(!et.includes(":")||ea)return;let ec=vi(ei[et].accounts);ec.includes(et)||(ea=Pi("NON_CONFORMING_NAMESPACES",`${eo} namespaces accounts don't satisfy namespace accounts for ${et}
        Required: ${et}
        Approved: ${ec.toString()}`))}),eu.forEach(et=>{ea||(Xt(ec[et].methods,eh[et].methods)?Xt(ec[et].events,eh[et].events)||(ea=Pi("NON_CONFORMING_NAMESPACES",`${eo} namespaces events don't satisfy namespace events for ${et}`)):ea=Pi("NON_CONFORMING_NAMESPACES",`${eo} namespaces methods don't satisfy namespace methods for ${et}`))}),ea}function ls(et){return[...new Set(et.map(et=>et.includes(":")?et.split(":")[0]:et))]}function ps(et,ei){return ji(et,!1)&&et<=ei.max&&et>=ei.min}function bs(){let et=jt();return new Promise(ei=>{switch(et){case tm.browser:ei(gs());break;case tm.reactNative:ei(ms());break;case tm.node:default:ei(!0)}})}function gs(){return Lt()&&navigator?.onLine}async function ms(){if(Bt()&&"u">typeof eo.g&&null!=eo.g&&eo.g.NetInfo){let et=await (null==eo.g?void 0:eo.g.NetInfo.fetch());return et?.isConnected}return!0}function ys(){return!0}function vs(et){switch(jt()){case tm.browser:ws(et);break;case tm.reactNative:_s(et);case tm.node:}}function ws(et){!Bt()&&Lt()&&(window.addEventListener("online",()=>et(!0)),window.addEventListener("offline",()=>et(!1)))}function _s(et){Bt()&&"u">typeof eo.g&&null!=eo.g&&eo.g.NetInfo&&eo.g?.NetInfo.addEventListener(ei=>et(ei?.isConnected))}let tQ={};let Ss=class Ss{static get(et){return tQ[et]}static set(et,ei){tQ[et]=ei}static delete(et){delete tQ[et]}}},5280:(et,ei)=>{"use strict";function r(et){let ei;return"undefined"!=typeof window&&void 0!==window[et]&&(ei=window[et]),ei}function n(et){let ei=r(et);if(!ei)throw Error(`${et} is not defined in Window`);return ei}Object.defineProperty(ei,"__esModule",{value:!0}),ei.getLocalStorage=ei.getLocalStorageOrThrow=ei.getCrypto=ei.getCryptoOrThrow=ei.getLocation=ei.getLocationOrThrow=ei.getNavigator=ei.getNavigatorOrThrow=ei.getDocument=ei.getDocumentOrThrow=ei.getFromWindowOrThrow=ei.getFromWindow=void 0,ei.getFromWindow=r,ei.getFromWindowOrThrow=n,ei.getDocumentOrThrow=function(){return n("document")},ei.getDocument=function(){return r("document")},ei.getNavigatorOrThrow=function(){return n("navigator")},ei.getNavigator=function(){return r("navigator")},ei.getLocationOrThrow=function(){return n("location")},ei.getLocation=function(){return r("location")},ei.getCryptoOrThrow=function(){return n("crypto")},ei.getCrypto=function(){return r("crypto")},ei.getLocalStorageOrThrow=function(){return n("localStorage")},ei.getLocalStorage=function(){return r("localStorage")}},5206:(et,ei,eo)=>{"use strict";ei.g=void 0;let ea=eo(5280);ei.g=function(){let et,ei,eo;try{et=ea.getDocumentOrThrow(),ei=ea.getLocationOrThrow()}catch(et){return null}function r(...ei){let eo=et.getElementsByTagName("meta");for(let et=0;et<eo.length;et++){let ea=eo[et],ec=["itemprop","property","name"].map(et=>ea.getAttribute(et)).filter(et=>!!et&&ei.includes(et));if(ec.length&&ec){let et=ea.getAttribute("content");if(et)return et}}return""}let ec=((eo=r("name","og:site_name","og:title","twitter:title"))||(eo=et.title),eo);return{description:r("description","og:description","twitter:description","keywords"),url:ei.origin,icons:function(){let eo=et.getElementsByTagName("link"),ea=[];for(let et=0;et<eo.length;et++){let ec=eo[et],eh=ec.getAttribute("rel");if(eh&&eh.toLowerCase().indexOf("icon")>-1){let et=ec.getAttribute("href");if(et){if(-1===et.toLowerCase().indexOf("https:")&&-1===et.toLowerCase().indexOf("http:")&&0!==et.indexOf("//")){let eo=ei.protocol+"//"+ei.host;if(0===et.indexOf("/"))eo+=et;else{let ea=ei.pathname.split("/");ea.pop(),eo+=ea.join("/")+"/"+et}ea.push(eo)}else if(0===et.indexOf("//")){let eo=ei.protocol+et;ea.push(eo)}else ea.push(et)}}}return ea}(),name:ec}}},9423:function(et,ei,eo){"use strict";var ea=this&&this.__importDefault||function(et){return et&&et.__esModule?et:{default:et}};Object.defineProperty(ei,"__esModule",{value:!0}),ei.RateLimit=ei.Sema=void 0;let ec=ea(eo(381));function s(et){var ei;return ei=(Math.min(Math.max(16,et),1073741824)>>>0)-1,ei|=ei>>1,ei|=ei>>2,ei|=ei>>4,1+((ei|=ei>>8)|ei>>16)}let o=class o{constructor(et){this._capacity=s(et),this._length=0,this._front=0,this.arr=[]}push(et){let ei=this._length;this.checkCapacity(ei+1);let eo=this._front+ei&this._capacity-1;return this.arr[eo]=et,this._length=ei+1,ei+1}pop(){let et=this._length;if(0===et)return;let ei=this._front+et-1&this._capacity-1,eo=this.arr[ei];return this.arr[ei]=void 0,this._length=et-1,eo}shift(){let et=this._length;if(0===et)return;let ei=this._front,eo=this.arr[ei];return this.arr[ei]=void 0,this._front=ei+1&this._capacity-1,this._length=et-1,eo}get length(){return this._length}checkCapacity(et){this._capacity<et&&this.resizeTo(s(1.5*this._capacity+16))}resizeTo(et){let ei=this._capacity;this._capacity=et;let eo=this._front,ea=this._length;if(eo+ea>ei){let et=eo+ea&ei-1;!function(et,ei,eo,ea,ec){for(let ei=0;ei<ec;++ei)eo[ei+ea]=et[ei+0],et[ei+0]=void 0}(this.arr,0,this.arr,ei,et)}}};let a=class a extends ec.default{};function c(et){return"function"==typeof et}function h(){return"1"}let u=class u{constructor(et,{initFn:ei=h,pauseFn:eo,resumeFn:ea,capacity:ec=10}={}){if(c(eo)!==c(ea))throw Error("pauseFn and resumeFn must be both set for pausing");this.nrTokens=et,this.free=new o(et),this.waiting=new o(ec),this.releaseEmitter=new a,this.noTokens=ei===h,this.pauseFn=eo,this.resumeFn=ea,this.paused=!1,this.releaseEmitter.on("release",et=>{let ei=this.waiting.shift();ei?ei.resolve(et):(this.resumeFn&&this.paused&&(this.paused=!1,this.resumeFn()),this.free.push(et))});for(let eo=0;eo<et;eo++)this.free.push(ei())}tryAcquire(){return this.free.pop()}async acquire(){let et=this.tryAcquire();return void 0!==et?et:new Promise((et,ei)=>{this.pauseFn&&!this.paused&&(this.paused=!0,this.pauseFn()),this.waiting.push({resolve:et,reject:ei})})}release(et){this.releaseEmitter.emit("release",this.noTokens?"1":et)}drain(){let et=Array(this.nrTokens);for(let ei=0;ei<this.nrTokens;ei++)et[ei]=this.acquire();return Promise.all(et)}nrWaiting(){return this.waiting.length}};ei.Sema=u,ei.RateLimit=function(et,{timeUnit:ei=1e3,uniformDistribution:eo=!1}={}){let ea=new u(eo?1:et),ec=eo?ei/et:ei;return async function(){await ea.acquire(),setTimeout(()=>ea.release(),ec)}}},4619:function(et,ei,eo){!function(et,ei){"use strict";function n(et,ei){if(!et)throw Error(ei||"Assertion failed")}function i(et,ei){et.super_=ei;var r=function(){};r.prototype=ei.prototype,et.prototype=new r,et.prototype.constructor=et}function s(et,ei,eo){if(s.isBN(et))return et;this.negative=0,this.words=null,this.length=0,this.red=null,null!==et&&("le"!==ei&&"be"!==ei||(eo=ei,ei=10),this._init(et||0,ei||10,eo||"be"))}"object"==typeof et?et.exports=s:ei.BN=s,s.BN=s,s.wordSize=26;try{ea="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:eo(7175).Buffer}catch(et){}function a(et,ei){var eo=et.charCodeAt(ei);return eo>=65&&eo<=70?eo-55:eo>=97&&eo<=102?eo-87:eo-48&15}function c(et,ei,eo){var ea=a(et,eo);return eo-1>=ei&&(ea|=a(et,eo-1)<<4),ea}function h(et,ei,eo,ea){for(var ec=0,eh=Math.min(et.length,eo),eu=ei;eu<eh;eu++){var ed=et.charCodeAt(eu)-48;ec*=ea,ec+=ed>=49?ed-49+10:ed>=17?ed-17+10:ed}return ec}s.isBN=function(et){return et instanceof s||null!==et&&"object"==typeof et&&et.constructor.wordSize===s.wordSize&&Array.isArray(et.words)},s.max=function(et,ei){return et.cmp(ei)>0?et:ei},s.min=function(et,ei){return 0>et.cmp(ei)?et:ei},s.prototype._init=function(et,ei,eo){if("number"==typeof et)return this._initNumber(et,ei,eo);if("object"==typeof et)return this._initArray(et,ei,eo);"hex"===ei&&(ei=16),n(ei===(0|ei)&&ei>=2&&ei<=36);var ea=0;"-"===(et=et.toString().replace(/\s+/g,""))[0]&&(ea++,this.negative=1),ea<et.length&&(16===ei?this._parseHex(et,ea,eo):(this._parseBase(et,ei,ea),"le"===eo&&this._initArray(this.toArray(),ei,eo)))},s.prototype._initNumber=function(et,ei,eo){et<0&&(this.negative=1,et=-et),et<67108864?(this.words=[67108863&et],this.length=1):et<4503599627370496?(this.words=[67108863&et,et/67108864&67108863],this.length=2):(n(et<9007199254740992),this.words=[67108863&et,et/67108864&67108863,1],this.length=3),"le"===eo&&this._initArray(this.toArray(),ei,eo)},s.prototype._initArray=function(et,ei,eo){if(n("number"==typeof et.length),et.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(et.length/3),this.words=Array(this.length);for(var ea=0;ea<this.length;ea++)this.words[ea]=0;var ec,eh,eu=0;if("be"===eo)for(ea=et.length-1,ec=0;ea>=0;ea-=3)eh=et[ea]|et[ea-1]<<8|et[ea-2]<<16,this.words[ec]|=eh<<eu&67108863,this.words[ec+1]=eh>>>26-eu&67108863,(eu+=24)>=26&&(eu-=26,ec++);else if("le"===eo)for(ea=0,ec=0;ea<et.length;ea+=3)eh=et[ea]|et[ea+1]<<8|et[ea+2]<<16,this.words[ec]|=eh<<eu&67108863,this.words[ec+1]=eh>>>26-eu&67108863,(eu+=24)>=26&&(eu-=26,ec++);return this.strip()},s.prototype._parseHex=function(et,ei,eo){this.length=Math.ceil((et.length-ei)/6),this.words=Array(this.length);for(var ea=0;ea<this.length;ea++)this.words[ea]=0;var ec,eh=0,eu=0;if("be"===eo)for(ea=et.length-1;ea>=ei;ea-=2)ec=c(et,ei,ea)<<eh,this.words[eu]|=67108863&ec,eh>=18?(eh-=18,eu+=1,this.words[eu]|=ec>>>26):eh+=8;else for(ea=(et.length-ei)%2==0?ei+1:ei;ea<et.length;ea+=2)ec=c(et,ei,ea)<<eh,this.words[eu]|=67108863&ec,eh>=18?(eh-=18,eu+=1,this.words[eu]|=ec>>>26):eh+=8;this.strip()},s.prototype._parseBase=function(et,ei,eo){this.words=[0],this.length=1;for(var ea=0,ec=1;ec<=67108863;ec*=ei)ea++;ea--,ec=ec/ei|0;for(var eh=et.length-eo,eu=eh%ea,ed=Math.min(eh,eh-eu)+eo,ef=0,el=eo;el<ed;el+=ea)ef=h(et,el,el+ea,ei),this.imuln(ec),this.words[0]+ef<67108864?this.words[0]+=ef:this._iaddn(ef);if(0!==eu){var ep=1;for(ef=h(et,el,et.length,ei),el=0;el<eu;el++)ep*=ei;this.imuln(ep),this.words[0]+ef<67108864?this.words[0]+=ef:this._iaddn(ef)}this.strip()},s.prototype.copy=function(et){et.words=Array(this.length);for(var ei=0;ei<this.length;ei++)et.words[ei]=this.words[ei];et.length=this.length,et.negative=this.negative,et.red=this.red},s.prototype.clone=function(){var et=new s(null);return this.copy(et),et},s.prototype._expand=function(et){for(;this.length<et;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var ea,ec=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],eh=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],eu=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function l(et,ei,eo){eo.negative=ei.negative^et.negative;var ea=et.length+ei.length|0;eo.length=ea,ea=ea-1|0;var ec=0|et.words[0],eh=0|ei.words[0],eu=ec*eh,ed=67108863&eu,ef=eu/67108864|0;eo.words[0]=ed;for(var el=1;el<ea;el++){for(var ep=ef>>>26,eb=67108863&ef,eg=Math.min(el,ei.length-1),em=Math.max(0,el-et.length+1);em<=eg;em++){var ey=el-em|0;ep+=(eu=(ec=0|et.words[ey])*(eh=0|ei.words[em])+eb)/67108864|0,eb=67108863&eu}eo.words[el]=0|eb,ef=0|ep}return 0!==ef?eo.words[el]=0|ef:eo.length--,eo.strip()}s.prototype.toString=function(et,ei){var eo;if(ei=0|ei||1,16===(et=et||10)||"hex"===et){eo="";for(var ea=0,ed=0,ef=0;ef<this.length;ef++){var el=this.words[ef],ep=(16777215&(el<<ea|ed)).toString(16);eo=0!=(ed=el>>>24-ea&16777215)||ef!==this.length-1?ec[6-ep.length]+ep+eo:ep+eo,(ea+=2)>=26&&(ea-=26,ef--)}for(0!==ed&&(eo=ed.toString(16)+eo);eo.length%ei!=0;)eo="0"+eo;return 0!==this.negative&&(eo="-"+eo),eo}if(et===(0|et)&&et>=2&&et<=36){var eb=eh[et],eg=eu[et];eo="";var em=this.clone();for(em.negative=0;!em.isZero();){var ey=em.modn(eg).toString(et);eo=(em=em.idivn(eg)).isZero()?ey+eo:ec[eb-ey.length]+ey+eo}for(this.isZero()&&(eo="0"+eo);eo.length%ei!=0;)eo="0"+eo;return 0!==this.negative&&(eo="-"+eo),eo}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var et=this.words[0];return 2===this.length?et+=67108864*this.words[1]:3===this.length&&1===this.words[2]?et+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-et:et},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(et,ei){return n(void 0!==ea),this.toArrayLike(ea,et,ei)},s.prototype.toArray=function(et,ei){return this.toArrayLike(Array,et,ei)},s.prototype.toArrayLike=function(et,ei,eo){var ea=this.byteLength(),ec=eo||Math.max(1,ea);n(ea<=ec,"byte array longer than desired length"),n(ec>0,"Requested array length <= 0"),this.strip();var eh,eu,ed=new et(ec),ef=this.clone();if("le"===ei){for(eu=0;!ef.isZero();eu++)eh=ef.andln(255),ef.iushrn(8),ed[eu]=eh;for(;eu<ec;eu++)ed[eu]=0}else{for(eu=0;eu<ec-ea;eu++)ed[eu]=0;for(eu=0;!ef.isZero();eu++)eh=ef.andln(255),ef.iushrn(8),ed[ec-eu-1]=eh}return ed},Math.clz32?s.prototype._countBits=function(et){return 32-Math.clz32(et)}:s.prototype._countBits=function(et){var ei=et,eo=0;return ei>=4096&&(eo+=13,ei>>>=13),ei>=64&&(eo+=7,ei>>>=7),ei>=8&&(eo+=4,ei>>>=4),ei>=2&&(eo+=2,ei>>>=2),eo+ei},s.prototype._zeroBits=function(et){if(0===et)return 26;var ei=et,eo=0;return 8191&ei||(eo+=13,ei>>>=13),127&ei||(eo+=7,ei>>>=7),15&ei||(eo+=4,ei>>>=4),3&ei||(eo+=2,ei>>>=2),1&ei||eo++,eo},s.prototype.bitLength=function(){var et=this.words[this.length-1],ei=this._countBits(et);return 26*(this.length-1)+ei},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var et=0,ei=0;ei<this.length;ei++){var eo=this._zeroBits(this.words[ei]);if(et+=eo,26!==eo)break}return et},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(et){return 0!==this.negative?this.abs().inotn(et).iaddn(1):this.clone()},s.prototype.fromTwos=function(et){return this.testn(et-1)?this.notn(et).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(et){for(;this.length<et.length;)this.words[this.length++]=0;for(var ei=0;ei<et.length;ei++)this.words[ei]=this.words[ei]|et.words[ei];return this.strip()},s.prototype.ior=function(et){return n(!(this.negative|et.negative)),this.iuor(et)},s.prototype.or=function(et){return this.length>et.length?this.clone().ior(et):et.clone().ior(this)},s.prototype.uor=function(et){return this.length>et.length?this.clone().iuor(et):et.clone().iuor(this)},s.prototype.iuand=function(et){var ei;ei=this.length>et.length?et:this;for(var eo=0;eo<ei.length;eo++)this.words[eo]=this.words[eo]&et.words[eo];return this.length=ei.length,this.strip()},s.prototype.iand=function(et){return n(!(this.negative|et.negative)),this.iuand(et)},s.prototype.and=function(et){return this.length>et.length?this.clone().iand(et):et.clone().iand(this)},s.prototype.uand=function(et){return this.length>et.length?this.clone().iuand(et):et.clone().iuand(this)},s.prototype.iuxor=function(et){var ei,eo;this.length>et.length?(ei=this,eo=et):(ei=et,eo=this);for(var ea=0;ea<eo.length;ea++)this.words[ea]=ei.words[ea]^eo.words[ea];if(this!==ei)for(;ea<ei.length;ea++)this.words[ea]=ei.words[ea];return this.length=ei.length,this.strip()},s.prototype.ixor=function(et){return n(!(this.negative|et.negative)),this.iuxor(et)},s.prototype.xor=function(et){return this.length>et.length?this.clone().ixor(et):et.clone().ixor(this)},s.prototype.uxor=function(et){return this.length>et.length?this.clone().iuxor(et):et.clone().iuxor(this)},s.prototype.inotn=function(et){n("number"==typeof et&&et>=0);var ei=0|Math.ceil(et/26),eo=et%26;this._expand(ei),eo>0&&ei--;for(var ea=0;ea<ei;ea++)this.words[ea]=67108863&~this.words[ea];return eo>0&&(this.words[ea]=~this.words[ea]&67108863>>26-eo),this.strip()},s.prototype.notn=function(et){return this.clone().inotn(et)},s.prototype.setn=function(et,ei){n("number"==typeof et&&et>=0);var eo=et/26|0,ea=et%26;return this._expand(eo+1),this.words[eo]=ei?this.words[eo]|1<<ea:this.words[eo]&~(1<<ea),this.strip()},s.prototype.iadd=function(et){var ei,eo,ea;if(0!==this.negative&&0===et.negative)return this.negative=0,ei=this.isub(et),this.negative^=1,this._normSign();if(0===this.negative&&0!==et.negative)return et.negative=0,ei=this.isub(et),et.negative=1,ei._normSign();this.length>et.length?(eo=this,ea=et):(eo=et,ea=this);for(var ec=0,eh=0;eh<ea.length;eh++)ei=(0|eo.words[eh])+(0|ea.words[eh])+ec,this.words[eh]=67108863&ei,ec=ei>>>26;for(;0!==ec&&eh<eo.length;eh++)ei=(0|eo.words[eh])+ec,this.words[eh]=67108863&ei,ec=ei>>>26;if(this.length=eo.length,0!==ec)this.words[this.length]=ec,this.length++;else if(eo!==this)for(;eh<eo.length;eh++)this.words[eh]=eo.words[eh];return this},s.prototype.add=function(et){var ei;return 0!==et.negative&&0===this.negative?(et.negative=0,ei=this.sub(et),et.negative^=1,ei):0===et.negative&&0!==this.negative?(this.negative=0,ei=et.sub(this),this.negative=1,ei):this.length>et.length?this.clone().iadd(et):et.clone().iadd(this)},s.prototype.isub=function(et){if(0!==et.negative){et.negative=0;var ei=this.iadd(et);return et.negative=1,ei._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(et),this.negative=1,this._normSign();var eo,ea,ec=this.cmp(et);if(0===ec)return this.negative=0,this.length=1,this.words[0]=0,this;ec>0?(eo=this,ea=et):(eo=et,ea=this);for(var eh=0,eu=0;eu<ea.length;eu++)eh=(ei=(0|eo.words[eu])-(0|ea.words[eu])+eh)>>26,this.words[eu]=67108863&ei;for(;0!==eh&&eu<eo.length;eu++)eh=(ei=(0|eo.words[eu])+eh)>>26,this.words[eu]=67108863&ei;if(0===eh&&eu<eo.length&&eo!==this)for(;eu<eo.length;eu++)this.words[eu]=eo.words[eu];return this.length=Math.max(this.length,eu),eo!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(et){return this.clone().isub(et)};var p=function(et,ei,eo){var ea,ec,eh,eu=et.words,ed=ei.words,ef=eo.words,el=0,ep=0|eu[0],eb=8191&ep,eg=ep>>>13,em=0|eu[1],ey=8191&em,ev=em>>>13,ew=0|eu[2],e_=8191&ew,eE=ew>>>13,eS=0|eu[3],eA=8191&eS,eM=eS>>>13,eI=0|eu[4],eT=8191&eI,ex=eI>>>13,eC=0|eu[5],eR=8191&eC,ek=eC>>>13,eP=0|eu[6],eO=8191&eP,eN=eP>>>13,eU=0|eu[7],eB=8191&eU,eL=eU>>>13,eD=0|eu[8],ej=8191&eD,eq=eD>>>13,eF=0|eu[9],eH=8191&eF,eV=eF>>>13,ez=0|ed[0],e$=8191&ez,eK=ez>>>13,eG=0|ed[1],eW=8191&eG,eJ=eG>>>13,eY=0|ed[2],eX=8191&eY,eZ=eY>>>13,eQ=0|ed[3],e0=8191&eQ,e1=eQ>>>13,e2=0|ed[4],e6=8191&e2,e5=e2>>>13,e3=0|ed[5],e8=8191&e3,e4=e3>>>13,e7=0|ed[6],e9=8191&e7,tt=e7>>>13,to=0|ed[7],ta=8191&to,tc=to>>>13,th=0|ed[8],tu=8191&th,td=th>>>13,tf=0|ed[9],tl=8191&tf,tp=tf>>>13;eo.negative=et.negative^ei.negative,eo.length=19;var tb=(el+(ea=Math.imul(eb,e$))|0)+((8191&(ec=(ec=Math.imul(eb,eK))+Math.imul(eg,e$)|0))<<13)|0;el=((eh=Math.imul(eg,eK))+(ec>>>13)|0)+(tb>>>26)|0,tb&=67108863,ea=Math.imul(ey,e$),ec=(ec=Math.imul(ey,eK))+Math.imul(ev,e$)|0,eh=Math.imul(ev,eK);var tg=(el+(ea=ea+Math.imul(eb,eW)|0)|0)+((8191&(ec=(ec=ec+Math.imul(eb,eJ)|0)+Math.imul(eg,eW)|0))<<13)|0;el=((eh=eh+Math.imul(eg,eJ)|0)+(ec>>>13)|0)+(tg>>>26)|0,tg&=67108863,ea=Math.imul(e_,e$),ec=(ec=Math.imul(e_,eK))+Math.imul(eE,e$)|0,eh=Math.imul(eE,eK),ea=ea+Math.imul(ey,eW)|0,ec=(ec=ec+Math.imul(ey,eJ)|0)+Math.imul(ev,eW)|0,eh=eh+Math.imul(ev,eJ)|0;var tm=(el+(ea=ea+Math.imul(eb,eX)|0)|0)+((8191&(ec=(ec=ec+Math.imul(eb,eZ)|0)+Math.imul(eg,eX)|0))<<13)|0;el=((eh=eh+Math.imul(eg,eZ)|0)+(ec>>>13)|0)+(tm>>>26)|0,tm&=67108863,ea=Math.imul(eA,e$),ec=(ec=Math.imul(eA,eK))+Math.imul(eM,e$)|0,eh=Math.imul(eM,eK),ea=ea+Math.imul(e_,eW)|0,ec=(ec=ec+Math.imul(e_,eJ)|0)+Math.imul(eE,eW)|0,eh=eh+Math.imul(eE,eJ)|0,ea=ea+Math.imul(ey,eX)|0,ec=(ec=ec+Math.imul(ey,eZ)|0)+Math.imul(ev,eX)|0,eh=eh+Math.imul(ev,eZ)|0;var ty=(el+(ea=ea+Math.imul(eb,e0)|0)|0)+((8191&(ec=(ec=ec+Math.imul(eb,e1)|0)+Math.imul(eg,e0)|0))<<13)|0;el=((eh=eh+Math.imul(eg,e1)|0)+(ec>>>13)|0)+(ty>>>26)|0,ty&=67108863,ea=Math.imul(eT,e$),ec=(ec=Math.imul(eT,eK))+Math.imul(ex,e$)|0,eh=Math.imul(ex,eK),ea=ea+Math.imul(eA,eW)|0,ec=(ec=ec+Math.imul(eA,eJ)|0)+Math.imul(eM,eW)|0,eh=eh+Math.imul(eM,eJ)|0,ea=ea+Math.imul(e_,eX)|0,ec=(ec=ec+Math.imul(e_,eZ)|0)+Math.imul(eE,eX)|0,eh=eh+Math.imul(eE,eZ)|0,ea=ea+Math.imul(ey,e0)|0,ec=(ec=ec+Math.imul(ey,e1)|0)+Math.imul(ev,e0)|0,eh=eh+Math.imul(ev,e1)|0;var tv=(el+(ea=ea+Math.imul(eb,e6)|0)|0)+((8191&(ec=(ec=ec+Math.imul(eb,e5)|0)+Math.imul(eg,e6)|0))<<13)|0;el=((eh=eh+Math.imul(eg,e5)|0)+(ec>>>13)|0)+(tv>>>26)|0,tv&=67108863,ea=Math.imul(eR,e$),ec=(ec=Math.imul(eR,eK))+Math.imul(ek,e$)|0,eh=Math.imul(ek,eK),ea=ea+Math.imul(eT,eW)|0,ec=(ec=ec+Math.imul(eT,eJ)|0)+Math.imul(ex,eW)|0,eh=eh+Math.imul(ex,eJ)|0,ea=ea+Math.imul(eA,eX)|0,ec=(ec=ec+Math.imul(eA,eZ)|0)+Math.imul(eM,eX)|0,eh=eh+Math.imul(eM,eZ)|0,ea=ea+Math.imul(e_,e0)|0,ec=(ec=ec+Math.imul(e_,e1)|0)+Math.imul(eE,e0)|0,eh=eh+Math.imul(eE,e1)|0,ea=ea+Math.imul(ey,e6)|0,ec=(ec=ec+Math.imul(ey,e5)|0)+Math.imul(ev,e6)|0,eh=eh+Math.imul(ev,e5)|0;var tw=(el+(ea=ea+Math.imul(eb,e8)|0)|0)+((8191&(ec=(ec=ec+Math.imul(eb,e4)|0)+Math.imul(eg,e8)|0))<<13)|0;el=((eh=eh+Math.imul(eg,e4)|0)+(ec>>>13)|0)+(tw>>>26)|0,tw&=67108863,ea=Math.imul(eO,e$),ec=(ec=Math.imul(eO,eK))+Math.imul(eN,e$)|0,eh=Math.imul(eN,eK),ea=ea+Math.imul(eR,eW)|0,ec=(ec=ec+Math.imul(eR,eJ)|0)+Math.imul(ek,eW)|0,eh=eh+Math.imul(ek,eJ)|0,ea=ea+Math.imul(eT,eX)|0,ec=(ec=ec+Math.imul(eT,eZ)|0)+Math.imul(ex,eX)|0,eh=eh+Math.imul(ex,eZ)|0,ea=ea+Math.imul(eA,e0)|0,ec=(ec=ec+Math.imul(eA,e1)|0)+Math.imul(eM,e0)|0,eh=eh+Math.imul(eM,e1)|0,ea=ea+Math.imul(e_,e6)|0,ec=(ec=ec+Math.imul(e_,e5)|0)+Math.imul(eE,e6)|0,eh=eh+Math.imul(eE,e5)|0,ea=ea+Math.imul(ey,e8)|0,ec=(ec=ec+Math.imul(ey,e4)|0)+Math.imul(ev,e8)|0,eh=eh+Math.imul(ev,e4)|0;var t_=(el+(ea=ea+Math.imul(eb,e9)|0)|0)+((8191&(ec=(ec=ec+Math.imul(eb,tt)|0)+Math.imul(eg,e9)|0))<<13)|0;el=((eh=eh+Math.imul(eg,tt)|0)+(ec>>>13)|0)+(t_>>>26)|0,t_&=67108863,ea=Math.imul(eB,e$),ec=(ec=Math.imul(eB,eK))+Math.imul(eL,e$)|0,eh=Math.imul(eL,eK),ea=ea+Math.imul(eO,eW)|0,ec=(ec=ec+Math.imul(eO,eJ)|0)+Math.imul(eN,eW)|0,eh=eh+Math.imul(eN,eJ)|0,ea=ea+Math.imul(eR,eX)|0,ec=(ec=ec+Math.imul(eR,eZ)|0)+Math.imul(ek,eX)|0,eh=eh+Math.imul(ek,eZ)|0,ea=ea+Math.imul(eT,e0)|0,ec=(ec=ec+Math.imul(eT,e1)|0)+Math.imul(ex,e0)|0,eh=eh+Math.imul(ex,e1)|0,ea=ea+Math.imul(eA,e6)|0,ec=(ec=ec+Math.imul(eA,e5)|0)+Math.imul(eM,e6)|0,eh=eh+Math.imul(eM,e5)|0,ea=ea+Math.imul(e_,e8)|0,ec=(ec=ec+Math.imul(e_,e4)|0)+Math.imul(eE,e8)|0,eh=eh+Math.imul(eE,e4)|0,ea=ea+Math.imul(ey,e9)|0,ec=(ec=ec+Math.imul(ey,tt)|0)+Math.imul(ev,e9)|0,eh=eh+Math.imul(ev,tt)|0;var tE=(el+(ea=ea+Math.imul(eb,ta)|0)|0)+((8191&(ec=(ec=ec+Math.imul(eb,tc)|0)+Math.imul(eg,ta)|0))<<13)|0;el=((eh=eh+Math.imul(eg,tc)|0)+(ec>>>13)|0)+(tE>>>26)|0,tE&=67108863,ea=Math.imul(ej,e$),ec=(ec=Math.imul(ej,eK))+Math.imul(eq,e$)|0,eh=Math.imul(eq,eK),ea=ea+Math.imul(eB,eW)|0,ec=(ec=ec+Math.imul(eB,eJ)|0)+Math.imul(eL,eW)|0,eh=eh+Math.imul(eL,eJ)|0,ea=ea+Math.imul(eO,eX)|0,ec=(ec=ec+Math.imul(eO,eZ)|0)+Math.imul(eN,eX)|0,eh=eh+Math.imul(eN,eZ)|0,ea=ea+Math.imul(eR,e0)|0,ec=(ec=ec+Math.imul(eR,e1)|0)+Math.imul(ek,e0)|0,eh=eh+Math.imul(ek,e1)|0,ea=ea+Math.imul(eT,e6)|0,ec=(ec=ec+Math.imul(eT,e5)|0)+Math.imul(ex,e6)|0,eh=eh+Math.imul(ex,e5)|0,ea=ea+Math.imul(eA,e8)|0,ec=(ec=ec+Math.imul(eA,e4)|0)+Math.imul(eM,e8)|0,eh=eh+Math.imul(eM,e4)|0,ea=ea+Math.imul(e_,e9)|0,ec=(ec=ec+Math.imul(e_,tt)|0)+Math.imul(eE,e9)|0,eh=eh+Math.imul(eE,tt)|0,ea=ea+Math.imul(ey,ta)|0,ec=(ec=ec+Math.imul(ey,tc)|0)+Math.imul(ev,ta)|0,eh=eh+Math.imul(ev,tc)|0;var tS=(el+(ea=ea+Math.imul(eb,tu)|0)|0)+((8191&(ec=(ec=ec+Math.imul(eb,td)|0)+Math.imul(eg,tu)|0))<<13)|0;el=((eh=eh+Math.imul(eg,td)|0)+(ec>>>13)|0)+(tS>>>26)|0,tS&=67108863,ea=Math.imul(eH,e$),ec=(ec=Math.imul(eH,eK))+Math.imul(eV,e$)|0,eh=Math.imul(eV,eK),ea=ea+Math.imul(ej,eW)|0,ec=(ec=ec+Math.imul(ej,eJ)|0)+Math.imul(eq,eW)|0,eh=eh+Math.imul(eq,eJ)|0,ea=ea+Math.imul(eB,eX)|0,ec=(ec=ec+Math.imul(eB,eZ)|0)+Math.imul(eL,eX)|0,eh=eh+Math.imul(eL,eZ)|0,ea=ea+Math.imul(eO,e0)|0,ec=(ec=ec+Math.imul(eO,e1)|0)+Math.imul(eN,e0)|0,eh=eh+Math.imul(eN,e1)|0,ea=ea+Math.imul(eR,e6)|0,ec=(ec=ec+Math.imul(eR,e5)|0)+Math.imul(ek,e6)|0,eh=eh+Math.imul(ek,e5)|0,ea=ea+Math.imul(eT,e8)|0,ec=(ec=ec+Math.imul(eT,e4)|0)+Math.imul(ex,e8)|0,eh=eh+Math.imul(ex,e4)|0,ea=ea+Math.imul(eA,e9)|0,ec=(ec=ec+Math.imul(eA,tt)|0)+Math.imul(eM,e9)|0,eh=eh+Math.imul(eM,tt)|0,ea=ea+Math.imul(e_,ta)|0,ec=(ec=ec+Math.imul(e_,tc)|0)+Math.imul(eE,ta)|0,eh=eh+Math.imul(eE,tc)|0,ea=ea+Math.imul(ey,tu)|0,ec=(ec=ec+Math.imul(ey,td)|0)+Math.imul(ev,tu)|0,eh=eh+Math.imul(ev,td)|0;var tA=(el+(ea=ea+Math.imul(eb,tl)|0)|0)+((8191&(ec=(ec=ec+Math.imul(eb,tp)|0)+Math.imul(eg,tl)|0))<<13)|0;el=((eh=eh+Math.imul(eg,tp)|0)+(ec>>>13)|0)+(tA>>>26)|0,tA&=67108863,ea=Math.imul(eH,eW),ec=(ec=Math.imul(eH,eJ))+Math.imul(eV,eW)|0,eh=Math.imul(eV,eJ),ea=ea+Math.imul(ej,eX)|0,ec=(ec=ec+Math.imul(ej,eZ)|0)+Math.imul(eq,eX)|0,eh=eh+Math.imul(eq,eZ)|0,ea=ea+Math.imul(eB,e0)|0,ec=(ec=ec+Math.imul(eB,e1)|0)+Math.imul(eL,e0)|0,eh=eh+Math.imul(eL,e1)|0,ea=ea+Math.imul(eO,e6)|0,ec=(ec=ec+Math.imul(eO,e5)|0)+Math.imul(eN,e6)|0,eh=eh+Math.imul(eN,e5)|0,ea=ea+Math.imul(eR,e8)|0,ec=(ec=ec+Math.imul(eR,e4)|0)+Math.imul(ek,e8)|0,eh=eh+Math.imul(ek,e4)|0,ea=ea+Math.imul(eT,e9)|0,ec=(ec=ec+Math.imul(eT,tt)|0)+Math.imul(ex,e9)|0,eh=eh+Math.imul(ex,tt)|0,ea=ea+Math.imul(eA,ta)|0,ec=(ec=ec+Math.imul(eA,tc)|0)+Math.imul(eM,ta)|0,eh=eh+Math.imul(eM,tc)|0,ea=ea+Math.imul(e_,tu)|0,ec=(ec=ec+Math.imul(e_,td)|0)+Math.imul(eE,tu)|0,eh=eh+Math.imul(eE,td)|0;var tM=(el+(ea=ea+Math.imul(ey,tl)|0)|0)+((8191&(ec=(ec=ec+Math.imul(ey,tp)|0)+Math.imul(ev,tl)|0))<<13)|0;el=((eh=eh+Math.imul(ev,tp)|0)+(ec>>>13)|0)+(tM>>>26)|0,tM&=67108863,ea=Math.imul(eH,eX),ec=(ec=Math.imul(eH,eZ))+Math.imul(eV,eX)|0,eh=Math.imul(eV,eZ),ea=ea+Math.imul(ej,e0)|0,ec=(ec=ec+Math.imul(ej,e1)|0)+Math.imul(eq,e0)|0,eh=eh+Math.imul(eq,e1)|0,ea=ea+Math.imul(eB,e6)|0,ec=(ec=ec+Math.imul(eB,e5)|0)+Math.imul(eL,e6)|0,eh=eh+Math.imul(eL,e5)|0,ea=ea+Math.imul(eO,e8)|0,ec=(ec=ec+Math.imul(eO,e4)|0)+Math.imul(eN,e8)|0,eh=eh+Math.imul(eN,e4)|0,ea=ea+Math.imul(eR,e9)|0,ec=(ec=ec+Math.imul(eR,tt)|0)+Math.imul(ek,e9)|0,eh=eh+Math.imul(ek,tt)|0,ea=ea+Math.imul(eT,ta)|0,ec=(ec=ec+Math.imul(eT,tc)|0)+Math.imul(ex,ta)|0,eh=eh+Math.imul(ex,tc)|0,ea=ea+Math.imul(eA,tu)|0,ec=(ec=ec+Math.imul(eA,td)|0)+Math.imul(eM,tu)|0,eh=eh+Math.imul(eM,td)|0;var tI=(el+(ea=ea+Math.imul(e_,tl)|0)|0)+((8191&(ec=(ec=ec+Math.imul(e_,tp)|0)+Math.imul(eE,tl)|0))<<13)|0;el=((eh=eh+Math.imul(eE,tp)|0)+(ec>>>13)|0)+(tI>>>26)|0,tI&=67108863,ea=Math.imul(eH,e0),ec=(ec=Math.imul(eH,e1))+Math.imul(eV,e0)|0,eh=Math.imul(eV,e1),ea=ea+Math.imul(ej,e6)|0,ec=(ec=ec+Math.imul(ej,e5)|0)+Math.imul(eq,e6)|0,eh=eh+Math.imul(eq,e5)|0,ea=ea+Math.imul(eB,e8)|0,ec=(ec=ec+Math.imul(eB,e4)|0)+Math.imul(eL,e8)|0,eh=eh+Math.imul(eL,e4)|0,ea=ea+Math.imul(eO,e9)|0,ec=(ec=ec+Math.imul(eO,tt)|0)+Math.imul(eN,e9)|0,eh=eh+Math.imul(eN,tt)|0,ea=ea+Math.imul(eR,ta)|0,ec=(ec=ec+Math.imul(eR,tc)|0)+Math.imul(ek,ta)|0,eh=eh+Math.imul(ek,tc)|0,ea=ea+Math.imul(eT,tu)|0,ec=(ec=ec+Math.imul(eT,td)|0)+Math.imul(ex,tu)|0,eh=eh+Math.imul(ex,td)|0;var tT=(el+(ea=ea+Math.imul(eA,tl)|0)|0)+((8191&(ec=(ec=ec+Math.imul(eA,tp)|0)+Math.imul(eM,tl)|0))<<13)|0;el=((eh=eh+Math.imul(eM,tp)|0)+(ec>>>13)|0)+(tT>>>26)|0,tT&=67108863,ea=Math.imul(eH,e6),ec=(ec=Math.imul(eH,e5))+Math.imul(eV,e6)|0,eh=Math.imul(eV,e5),ea=ea+Math.imul(ej,e8)|0,ec=(ec=ec+Math.imul(ej,e4)|0)+Math.imul(eq,e8)|0,eh=eh+Math.imul(eq,e4)|0,ea=ea+Math.imul(eB,e9)|0,ec=(ec=ec+Math.imul(eB,tt)|0)+Math.imul(eL,e9)|0,eh=eh+Math.imul(eL,tt)|0,ea=ea+Math.imul(eO,ta)|0,ec=(ec=ec+Math.imul(eO,tc)|0)+Math.imul(eN,ta)|0,eh=eh+Math.imul(eN,tc)|0,ea=ea+Math.imul(eR,tu)|0,ec=(ec=ec+Math.imul(eR,td)|0)+Math.imul(ek,tu)|0,eh=eh+Math.imul(ek,td)|0;var tx=(el+(ea=ea+Math.imul(eT,tl)|0)|0)+((8191&(ec=(ec=ec+Math.imul(eT,tp)|0)+Math.imul(ex,tl)|0))<<13)|0;el=((eh=eh+Math.imul(ex,tp)|0)+(ec>>>13)|0)+(tx>>>26)|0,tx&=67108863,ea=Math.imul(eH,e8),ec=(ec=Math.imul(eH,e4))+Math.imul(eV,e8)|0,eh=Math.imul(eV,e4),ea=ea+Math.imul(ej,e9)|0,ec=(ec=ec+Math.imul(ej,tt)|0)+Math.imul(eq,e9)|0,eh=eh+Math.imul(eq,tt)|0,ea=ea+Math.imul(eB,ta)|0,ec=(ec=ec+Math.imul(eB,tc)|0)+Math.imul(eL,ta)|0,eh=eh+Math.imul(eL,tc)|0,ea=ea+Math.imul(eO,tu)|0,ec=(ec=ec+Math.imul(eO,td)|0)+Math.imul(eN,tu)|0,eh=eh+Math.imul(eN,td)|0;var tC=(el+(ea=ea+Math.imul(eR,tl)|0)|0)+((8191&(ec=(ec=ec+Math.imul(eR,tp)|0)+Math.imul(ek,tl)|0))<<13)|0;el=((eh=eh+Math.imul(ek,tp)|0)+(ec>>>13)|0)+(tC>>>26)|0,tC&=67108863,ea=Math.imul(eH,e9),ec=(ec=Math.imul(eH,tt))+Math.imul(eV,e9)|0,eh=Math.imul(eV,tt),ea=ea+Math.imul(ej,ta)|0,ec=(ec=ec+Math.imul(ej,tc)|0)+Math.imul(eq,ta)|0,eh=eh+Math.imul(eq,tc)|0,ea=ea+Math.imul(eB,tu)|0,ec=(ec=ec+Math.imul(eB,td)|0)+Math.imul(eL,tu)|0,eh=eh+Math.imul(eL,td)|0;var tR=(el+(ea=ea+Math.imul(eO,tl)|0)|0)+((8191&(ec=(ec=ec+Math.imul(eO,tp)|0)+Math.imul(eN,tl)|0))<<13)|0;el=((eh=eh+Math.imul(eN,tp)|0)+(ec>>>13)|0)+(tR>>>26)|0,tR&=67108863,ea=Math.imul(eH,ta),ec=(ec=Math.imul(eH,tc))+Math.imul(eV,ta)|0,eh=Math.imul(eV,tc),ea=ea+Math.imul(ej,tu)|0,ec=(ec=ec+Math.imul(ej,td)|0)+Math.imul(eq,tu)|0,eh=eh+Math.imul(eq,td)|0;var tk=(el+(ea=ea+Math.imul(eB,tl)|0)|0)+((8191&(ec=(ec=ec+Math.imul(eB,tp)|0)+Math.imul(eL,tl)|0))<<13)|0;el=((eh=eh+Math.imul(eL,tp)|0)+(ec>>>13)|0)+(tk>>>26)|0,tk&=67108863,ea=Math.imul(eH,tu),ec=(ec=Math.imul(eH,td))+Math.imul(eV,tu)|0,eh=Math.imul(eV,td);var tP=(el+(ea=ea+Math.imul(ej,tl)|0)|0)+((8191&(ec=(ec=ec+Math.imul(ej,tp)|0)+Math.imul(eq,tl)|0))<<13)|0;el=((eh=eh+Math.imul(eq,tp)|0)+(ec>>>13)|0)+(tP>>>26)|0,tP&=67108863;var tO=(el+(ea=Math.imul(eH,tl))|0)+((8191&(ec=(ec=Math.imul(eH,tp))+Math.imul(eV,tl)|0))<<13)|0;return el=((eh=Math.imul(eV,tp))+(ec>>>13)|0)+(tO>>>26)|0,tO&=67108863,ef[0]=tb,ef[1]=tg,ef[2]=tm,ef[3]=ty,ef[4]=tv,ef[5]=tw,ef[6]=t_,ef[7]=tE,ef[8]=tS,ef[9]=tA,ef[10]=tM,ef[11]=tI,ef[12]=tT,ef[13]=tx,ef[14]=tC,ef[15]=tR,ef[16]=tk,ef[17]=tP,ef[18]=tO,0!==el&&(ef[19]=el,eo.length++),eo};function b(et,ei,eo){return(new g).mulp(et,ei,eo)}function g(et,ei){this.x=et,this.y=ei}Math.imul||(p=l),s.prototype.mulTo=function(et,ei){var eo=this.length+et.length;return 10===this.length&&10===et.length?p(this,et,ei):eo<63?l(this,et,ei):eo<1024?function(et,ei,eo){eo.negative=ei.negative^et.negative,eo.length=et.length+ei.length;for(var ea=0,ec=0,eh=0;eh<eo.length-1;eh++){var eu=ec;ec=0;for(var ed=67108863&ea,ef=Math.min(eh,ei.length-1),el=Math.max(0,eh-et.length+1);el<=ef;el++){var ep=eh-el,eb=(0|et.words[ep])*(0|ei.words[el]),eg=67108863&eb;ed=67108863&(eg=eg+ed|0),ec+=(eu=(eu=eu+(eb/67108864|0)|0)+(eg>>>26)|0)>>>26,eu&=67108863}eo.words[eh]=ed,ea=eu,eu=ec}return 0!==ea?eo.words[eh]=ea:eo.length--,eo.strip()}(this,et,ei):b(this,et,ei)},g.prototype.makeRBT=function(et){for(var ei=Array(et),eo=s.prototype._countBits(et)-1,ea=0;ea<et;ea++)ei[ea]=this.revBin(ea,eo,et);return ei},g.prototype.revBin=function(et,ei,eo){if(0===et||et===eo-1)return et;for(var ea=0,ec=0;ec<ei;ec++)ea|=(1&et)<<ei-ec-1,et>>=1;return ea},g.prototype.permute=function(et,ei,eo,ea,ec,eh){for(var eu=0;eu<eh;eu++)ea[eu]=ei[et[eu]],ec[eu]=eo[et[eu]]},g.prototype.transform=function(et,ei,eo,ea,ec,eh){this.permute(eh,et,ei,eo,ea,ec);for(var eu=1;eu<ec;eu<<=1)for(var ed=eu<<1,ef=Math.cos(2*Math.PI/ed),el=Math.sin(2*Math.PI/ed),ep=0;ep<ec;ep+=ed)for(var eb=ef,eg=el,em=0;em<eu;em++){var ey=eo[ep+em],ev=ea[ep+em],ew=eo[ep+em+eu],e_=ea[ep+em+eu],eE=eb*ew-eg*e_;e_=eb*e_+eg*ew,ew=eE,eo[ep+em]=ey+ew,ea[ep+em]=ev+e_,eo[ep+em+eu]=ey-ew,ea[ep+em+eu]=ev-e_,em!==ed&&(eE=ef*eb-el*eg,eg=ef*eg+el*eb,eb=eE)}},g.prototype.guessLen13b=function(et,ei){var eo=1|Math.max(ei,et),ea=1&eo,ec=0;for(eo=eo/2|0;eo;eo>>>=1)ec++;return 1<<ec+1+ea},g.prototype.conjugate=function(et,ei,eo){if(!(eo<=1))for(var ea=0;ea<eo/2;ea++){var ec=et[ea];et[ea]=et[eo-ea-1],et[eo-ea-1]=ec,ec=ei[ea],ei[ea]=-ei[eo-ea-1],ei[eo-ea-1]=-ec}},g.prototype.normalize13b=function(et,ei){for(var eo=0,ea=0;ea<ei/2;ea++){var ec=8192*Math.round(et[2*ea+1]/ei)+Math.round(et[2*ea]/ei)+eo;et[ea]=67108863&ec,eo=ec<67108864?0:ec/67108864|0}return et},g.prototype.convert13b=function(et,ei,eo,ea){for(var ec=0,eh=0;eh<ei;eh++)ec+=0|et[eh],eo[2*eh]=8191&ec,ec>>>=13,eo[2*eh+1]=8191&ec,ec>>>=13;for(eh=2*ei;eh<ea;++eh)eo[eh]=0;n(0===ec),n(!(-8192&ec))},g.prototype.stub=function(et){for(var ei=Array(et),eo=0;eo<et;eo++)ei[eo]=0;return ei},g.prototype.mulp=function(et,ei,eo){var ea=2*this.guessLen13b(et.length,ei.length),ec=this.makeRBT(ea),eh=this.stub(ea),eu=Array(ea),ed=Array(ea),ef=Array(ea),el=Array(ea),ep=Array(ea),eb=Array(ea),eg=eo.words;eg.length=ea,this.convert13b(et.words,et.length,eu,ea),this.convert13b(ei.words,ei.length,el,ea),this.transform(eu,eh,ed,ef,ea,ec),this.transform(el,eh,ep,eb,ea,ec);for(var em=0;em<ea;em++){var ey=ed[em]*ep[em]-ef[em]*eb[em];ef[em]=ed[em]*eb[em]+ef[em]*ep[em],ed[em]=ey}return this.conjugate(ed,ef,ea),this.transform(ed,ef,eg,eh,ea,ec),this.conjugate(eg,eh,ea),this.normalize13b(eg,ea),eo.negative=et.negative^ei.negative,eo.length=et.length+ei.length,eo.strip()},s.prototype.mul=function(et){var ei=new s(null);return ei.words=Array(this.length+et.length),this.mulTo(et,ei)},s.prototype.mulf=function(et){var ei=new s(null);return ei.words=Array(this.length+et.length),b(this,et,ei)},s.prototype.imul=function(et){return this.clone().mulTo(et,this)},s.prototype.imuln=function(et){n("number"==typeof et),n(et<67108864);for(var ei=0,eo=0;eo<this.length;eo++){var ea=(0|this.words[eo])*et,ec=(67108863&ea)+(67108863&ei);ei>>=26,ei+=(ea/67108864|0)+(ec>>>26),this.words[eo]=67108863&ec}return 0!==ei&&(this.words[eo]=ei,this.length++),this},s.prototype.muln=function(et){return this.clone().imuln(et)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(et){var ei=function(et){for(var ei=Array(et.bitLength()),eo=0;eo<ei.length;eo++){var ea=eo/26|0,ec=eo%26;ei[eo]=(et.words[ea]&1<<ec)>>>ec}return ei}(et);if(0===ei.length)return new s(1);for(var eo=this,ea=0;ea<ei.length&&0===ei[ea];ea++,eo=eo.sqr());if(++ea<ei.length)for(var ec=eo.sqr();ea<ei.length;ea++,ec=ec.sqr())0!==ei[ea]&&(eo=eo.mul(ec));return eo},s.prototype.iushln=function(et){n("number"==typeof et&&et>=0);var ei,eo=et%26,ea=(et-eo)/26,ec=67108863>>>26-eo<<26-eo;if(0!==eo){var eh=0;for(ei=0;ei<this.length;ei++){var eu=this.words[ei]&ec,ed=(0|this.words[ei])-eu<<eo;this.words[ei]=ed|eh,eh=eu>>>26-eo}eh&&(this.words[ei]=eh,this.length++)}if(0!==ea){for(ei=this.length-1;ei>=0;ei--)this.words[ei+ea]=this.words[ei];for(ei=0;ei<ea;ei++)this.words[ei]=0;this.length+=ea}return this.strip()},s.prototype.ishln=function(et){return n(0===this.negative),this.iushln(et)},s.prototype.iushrn=function(et,ei,eo){n("number"==typeof et&&et>=0),ea=ei?(ei-ei%26)/26:0;var ea,ec=et%26,eh=Math.min((et-ec)/26,this.length),eu=67108863^67108863>>>ec<<ec;if(ea-=eh,ea=Math.max(0,ea),eo){for(var ed=0;ed<eh;ed++)eo.words[ed]=this.words[ed];eo.length=eh}if(0===eh);else if(this.length>eh)for(this.length-=eh,ed=0;ed<this.length;ed++)this.words[ed]=this.words[ed+eh];else this.words[0]=0,this.length=1;var ef=0;for(ed=this.length-1;ed>=0&&(0!==ef||ed>=ea);ed--){var el=0|this.words[ed];this.words[ed]=ef<<26-ec|el>>>ec,ef=el&eu}return eo&&0!==ef&&(eo.words[eo.length++]=ef),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(et,ei,eo){return n(0===this.negative),this.iushrn(et,ei,eo)},s.prototype.shln=function(et){return this.clone().ishln(et)},s.prototype.ushln=function(et){return this.clone().iushln(et)},s.prototype.shrn=function(et){return this.clone().ishrn(et)},s.prototype.ushrn=function(et){return this.clone().iushrn(et)},s.prototype.testn=function(et){n("number"==typeof et&&et>=0);var ei=et%26,eo=(et-ei)/26;return!(this.length<=eo||!(this.words[eo]&1<<ei))},s.prototype.imaskn=function(et){n("number"==typeof et&&et>=0);var ei=et%26,eo=(et-ei)/26;return(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=eo)?this:(0!==ei&&eo++,this.length=Math.min(eo,this.length),0!==ei&&(this.words[this.length-1]&=67108863^67108863>>>ei<<ei),this.strip())},s.prototype.maskn=function(et){return this.clone().imaskn(et)},s.prototype.iaddn=function(et){return n("number"==typeof et),n(et<67108864),et<0?this.isubn(-et):0!==this.negative?(1===this.length&&(0|this.words[0])<et?(this.words[0]=et-(0|this.words[0]),this.negative=0):(this.negative=0,this.isubn(et),this.negative=1),this):this._iaddn(et)},s.prototype._iaddn=function(et){this.words[0]+=et;for(var ei=0;ei<this.length&&this.words[ei]>=67108864;ei++)this.words[ei]-=67108864,ei===this.length-1?this.words[ei+1]=1:this.words[ei+1]++;return this.length=Math.max(this.length,ei+1),this},s.prototype.isubn=function(et){if(n("number"==typeof et),n(et<67108864),et<0)return this.iaddn(-et);if(0!==this.negative)return this.negative=0,this.iaddn(et),this.negative=1,this;if(this.words[0]-=et,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var ei=0;ei<this.length&&this.words[ei]<0;ei++)this.words[ei]+=67108864,this.words[ei+1]-=1;return this.strip()},s.prototype.addn=function(et){return this.clone().iaddn(et)},s.prototype.subn=function(et){return this.clone().isubn(et)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(et,ei,eo){var ea,ec,eh=et.length+eo;this._expand(eh);var eu=0;for(ea=0;ea<et.length;ea++){ec=(0|this.words[ea+eo])+eu;var ed=(0|et.words[ea])*ei;eu=((ec-=67108863&ed)>>26)-(ed/67108864|0),this.words[ea+eo]=67108863&ec}for(;ea<this.length-eo;ea++)eu=(ec=(0|this.words[ea+eo])+eu)>>26,this.words[ea+eo]=67108863&ec;if(0===eu)return this.strip();for(n(-1===eu),eu=0,ea=0;ea<this.length;ea++)eu=(ec=-(0|this.words[ea])+eu)>>26,this.words[ea]=67108863&ec;return this.negative=1,this.strip()},s.prototype._wordDiv=function(et,ei){var eo=(this.length,et.length),ea=this.clone(),ec=et,eh=0|ec.words[ec.length-1];0!=(eo=26-this._countBits(eh))&&(ec=ec.ushln(eo),ea.iushln(eo),eh=0|ec.words[ec.length-1]);var eu,ed=ea.length-ec.length;if("mod"!==ei){(eu=new s(null)).length=ed+1,eu.words=Array(eu.length);for(var ef=0;ef<eu.length;ef++)eu.words[ef]=0}var el=ea.clone()._ishlnsubmul(ec,1,ed);0===el.negative&&(ea=el,eu&&(eu.words[ed]=1));for(var ep=ed-1;ep>=0;ep--){var eb=67108864*(0|ea.words[ec.length+ep])+(0|ea.words[ec.length+ep-1]);for(eb=Math.min(eb/eh|0,67108863),ea._ishlnsubmul(ec,eb,ep);0!==ea.negative;)eb--,ea.negative=0,ea._ishlnsubmul(ec,1,ep),ea.isZero()||(ea.negative^=1);eu&&(eu.words[ep]=eb)}return eu&&eu.strip(),ea.strip(),"div"!==ei&&0!==eo&&ea.iushrn(eo),{div:eu||null,mod:ea}},s.prototype.divmod=function(et,ei,eo){var ea,ec,eh;return n(!et.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===et.negative?(eh=this.neg().divmod(et,ei),"mod"!==ei&&(ea=eh.div.neg()),"div"!==ei&&(ec=eh.mod.neg(),eo&&0!==ec.negative&&ec.iadd(et)),{div:ea,mod:ec}):0===this.negative&&0!==et.negative?(eh=this.divmod(et.neg(),ei),"mod"!==ei&&(ea=eh.div.neg()),{div:ea,mod:eh.mod}):this.negative&et.negative?(eh=this.neg().divmod(et.neg(),ei),"div"!==ei&&(ec=eh.mod.neg(),eo&&0!==ec.negative&&ec.isub(et)),{div:eh.div,mod:ec}):et.length>this.length||0>this.cmp(et)?{div:new s(0),mod:this}:1===et.length?"div"===ei?{div:this.divn(et.words[0]),mod:null}:"mod"===ei?{div:null,mod:new s(this.modn(et.words[0]))}:{div:this.divn(et.words[0]),mod:new s(this.modn(et.words[0]))}:this._wordDiv(et,ei)},s.prototype.div=function(et){return this.divmod(et,"div",!1).div},s.prototype.mod=function(et){return this.divmod(et,"mod",!1).mod},s.prototype.umod=function(et){return this.divmod(et,"mod",!0).mod},s.prototype.divRound=function(et){var ei=this.divmod(et);if(ei.mod.isZero())return ei.div;var eo=0!==ei.div.negative?ei.mod.isub(et):ei.mod,ea=et.ushrn(1),ec=et.andln(1),eh=eo.cmp(ea);return eh<0||1===ec&&0===eh?ei.div:0!==ei.div.negative?ei.div.isubn(1):ei.div.iaddn(1)},s.prototype.modn=function(et){n(et<=67108863);for(var ei=67108864%et,eo=0,ea=this.length-1;ea>=0;ea--)eo=(ei*eo+(0|this.words[ea]))%et;return eo},s.prototype.idivn=function(et){n(et<=67108863);for(var ei=0,eo=this.length-1;eo>=0;eo--){var ea=(0|this.words[eo])+67108864*ei;this.words[eo]=ea/et|0,ei=ea%et}return this.strip()},s.prototype.divn=function(et){return this.clone().idivn(et)},s.prototype.egcd=function(et){n(0===et.negative),n(!et.isZero());var ei=this,eo=et.clone();ei=0!==ei.negative?ei.umod(et):ei.clone();for(var ea=new s(1),ec=new s(0),eh=new s(0),eu=new s(1),ed=0;ei.isEven()&&eo.isEven();)ei.iushrn(1),eo.iushrn(1),++ed;for(var ef=eo.clone(),el=ei.clone();!ei.isZero();){for(var ep=0,eb=1;!(ei.words[0]&eb)&&ep<26;++ep,eb<<=1);if(ep>0)for(ei.iushrn(ep);ep-- >0;)(ea.isOdd()||ec.isOdd())&&(ea.iadd(ef),ec.isub(el)),ea.iushrn(1),ec.iushrn(1);for(var eg=0,em=1;!(eo.words[0]&em)&&eg<26;++eg,em<<=1);if(eg>0)for(eo.iushrn(eg);eg-- >0;)(eh.isOdd()||eu.isOdd())&&(eh.iadd(ef),eu.isub(el)),eh.iushrn(1),eu.iushrn(1);ei.cmp(eo)>=0?(ei.isub(eo),ea.isub(eh),ec.isub(eu)):(eo.isub(ei),eh.isub(ea),eu.isub(ec))}return{a:eh,b:eu,gcd:eo.iushln(ed)}},s.prototype._invmp=function(et){n(0===et.negative),n(!et.isZero());var ei=this,eo=et.clone();ei=0!==ei.negative?ei.umod(et):ei.clone();for(var ea,ec=new s(1),eh=new s(0),eu=eo.clone();ei.cmpn(1)>0&&eo.cmpn(1)>0;){for(var ed=0,ef=1;!(ei.words[0]&ef)&&ed<26;++ed,ef<<=1);if(ed>0)for(ei.iushrn(ed);ed-- >0;)ec.isOdd()&&ec.iadd(eu),ec.iushrn(1);for(var el=0,ep=1;!(eo.words[0]&ep)&&el<26;++el,ep<<=1);if(el>0)for(eo.iushrn(el);el-- >0;)eh.isOdd()&&eh.iadd(eu),eh.iushrn(1);ei.cmp(eo)>=0?(ei.isub(eo),ec.isub(eh)):(eo.isub(ei),eh.isub(ec))}return 0>(ea=0===ei.cmpn(1)?ec:eh).cmpn(0)&&ea.iadd(et),ea},s.prototype.gcd=function(et){if(this.isZero())return et.abs();if(et.isZero())return this.abs();var ei=this.clone(),eo=et.clone();ei.negative=0,eo.negative=0;for(var ea=0;ei.isEven()&&eo.isEven();ea++)ei.iushrn(1),eo.iushrn(1);for(;;){for(;ei.isEven();)ei.iushrn(1);for(;eo.isEven();)eo.iushrn(1);var ec=ei.cmp(eo);if(ec<0){var eh=ei;ei=eo,eo=eh}else if(0===ec||0===eo.cmpn(1))break;ei.isub(eo)}return eo.iushln(ea)},s.prototype.invm=function(et){return this.egcd(et).a.umod(et)},s.prototype.isEven=function(){return!(1&this.words[0])},s.prototype.isOdd=function(){return!(1&~this.words[0])},s.prototype.andln=function(et){return this.words[0]&et},s.prototype.bincn=function(et){n("number"==typeof et);var ei=et%26,eo=(et-ei)/26,ea=1<<ei;if(this.length<=eo)return this._expand(eo+1),this.words[eo]|=ea,this;for(var ec=ea,eh=eo;0!==ec&&eh<this.length;eh++){var eu=0|this.words[eh];ec=(eu+=ec)>>>26,eu&=67108863,this.words[eh]=eu}return 0!==ec&&(this.words[eh]=ec,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(et){var ei,eo=et<0;if(0!==this.negative&&!eo)return -1;if(0===this.negative&&eo)return 1;if(this.strip(),this.length>1)ei=1;else{eo&&(et=-et),n(et<=67108863,"Number is too big");var ea=0|this.words[0];ei=ea===et?0:ea<et?-1:1}return 0!==this.negative?0|-ei:ei},s.prototype.cmp=function(et){if(0!==this.negative&&0===et.negative)return -1;if(0===this.negative&&0!==et.negative)return 1;var ei=this.ucmp(et);return 0!==this.negative?0|-ei:ei},s.prototype.ucmp=function(et){if(this.length>et.length)return 1;if(this.length<et.length)return -1;for(var ei=0,eo=this.length-1;eo>=0;eo--){var ea=0|this.words[eo],ec=0|et.words[eo];if(ea!==ec){ea<ec?ei=-1:ea>ec&&(ei=1);break}}return ei},s.prototype.gtn=function(et){return 1===this.cmpn(et)},s.prototype.gt=function(et){return 1===this.cmp(et)},s.prototype.gten=function(et){return this.cmpn(et)>=0},s.prototype.gte=function(et){return this.cmp(et)>=0},s.prototype.ltn=function(et){return -1===this.cmpn(et)},s.prototype.lt=function(et){return -1===this.cmp(et)},s.prototype.lten=function(et){return 0>=this.cmpn(et)},s.prototype.lte=function(et){return 0>=this.cmp(et)},s.prototype.eqn=function(et){return 0===this.cmpn(et)},s.prototype.eq=function(et){return 0===this.cmp(et)},s.red=function(et){return new S(et)},s.prototype.toRed=function(et){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),et.convertTo(this)._forceRed(et)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(et){return this.red=et,this},s.prototype.forceRed=function(et){return n(!this.red,"Already a number in reduction context"),this._forceRed(et)},s.prototype.redAdd=function(et){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,et)},s.prototype.redIAdd=function(et){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,et)},s.prototype.redSub=function(et){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,et)},s.prototype.redISub=function(et){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,et)},s.prototype.redShl=function(et){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,et)},s.prototype.redMul=function(et){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,et),this.red.mul(this,et)},s.prototype.redIMul=function(et){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,et),this.red.imul(this,et)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(et){return n(this.red&&!et.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,et)};var ed={k256:null,p224:null,p192:null,p25519:null};function y(et,ei){this.name=et,this.p=new s(ei,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function v(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function E(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(et){if("string"==typeof et){var ei=s._prime(et);this.m=ei.p,this.prime=ei}else n(et.gtn(1),"modulus must be greater than 1"),this.m=et,this.prime=null}function A(et){S.call(this,et),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var et=new s(null);return et.words=Array(Math.ceil(this.n/13)),et},y.prototype.ireduce=function(et){var ei,eo=et;do this.split(eo,this.tmp),ei=(eo=(eo=this.imulK(eo)).iadd(this.tmp)).bitLength();while(ei>this.n);var ea=ei<this.n?-1:eo.ucmp(this.p);return 0===ea?(eo.words[0]=0,eo.length=1):ea>0?eo.isub(this.p):void 0!==eo.strip?eo.strip():eo._strip(),eo},y.prototype.split=function(et,ei){et.iushrn(this.n,0,ei)},y.prototype.imulK=function(et){return et.imul(this.k)},i(v,y),v.prototype.split=function(et,ei){for(var eo=Math.min(et.length,9),ea=0;ea<eo;ea++)ei.words[ea]=et.words[ea];if(ei.length=eo,et.length<=9)return et.words[0]=0,void(et.length=1);var ec=et.words[9];for(ei.words[ei.length++]=4194303&ec,ea=10;ea<et.length;ea++){var eh=0|et.words[ea];et.words[ea-10]=(4194303&eh)<<4|ec>>>22,ec=eh}ec>>>=22,et.words[ea-10]=ec,0===ec&&et.length>10?et.length-=10:et.length-=9},v.prototype.imulK=function(et){et.words[et.length]=0,et.words[et.length+1]=0,et.length+=2;for(var ei=0,eo=0;eo<et.length;eo++){var ea=0|et.words[eo];ei+=977*ea,et.words[eo]=67108863&ei,ei=64*ea+(ei/67108864|0)}return 0===et.words[et.length-1]&&(et.length--,0===et.words[et.length-1]&&et.length--),et},i(w,y),i(_,y),i(E,y),E.prototype.imulK=function(et){for(var ei=0,eo=0;eo<et.length;eo++){var ea=19*(0|et.words[eo])+ei,ec=67108863&ea;ea>>>=26,et.words[eo]=ec,ei=ea}return 0!==ei&&(et.words[et.length++]=ei),et},s._prime=function(et){var ei;if(ed[et])return ed[et];if("k256"===et)ei=new v;else if("p224"===et)ei=new w;else if("p192"===et)ei=new _;else{if("p25519"!==et)throw Error("Unknown prime "+et);ei=new E}return ed[et]=ei,ei},S.prototype._verify1=function(et){n(0===et.negative,"red works only with positives"),n(et.red,"red works only with red numbers")},S.prototype._verify2=function(et,ei){n(!(et.negative|ei.negative),"red works only with positives"),n(et.red&&et.red===ei.red,"red works only with red numbers")},S.prototype.imod=function(et){return this.prime?this.prime.ireduce(et)._forceRed(this):et.umod(this.m)._forceRed(this)},S.prototype.neg=function(et){return et.isZero()?et.clone():this.m.sub(et)._forceRed(this)},S.prototype.add=function(et,ei){this._verify2(et,ei);var eo=et.add(ei);return eo.cmp(this.m)>=0&&eo.isub(this.m),eo._forceRed(this)},S.prototype.iadd=function(et,ei){this._verify2(et,ei);var eo=et.iadd(ei);return eo.cmp(this.m)>=0&&eo.isub(this.m),eo},S.prototype.sub=function(et,ei){this._verify2(et,ei);var eo=et.sub(ei);return 0>eo.cmpn(0)&&eo.iadd(this.m),eo._forceRed(this)},S.prototype.isub=function(et,ei){this._verify2(et,ei);var eo=et.isub(ei);return 0>eo.cmpn(0)&&eo.iadd(this.m),eo},S.prototype.shl=function(et,ei){return this._verify1(et),this.imod(et.ushln(ei))},S.prototype.imul=function(et,ei){return this._verify2(et,ei),this.imod(et.imul(ei))},S.prototype.mul=function(et,ei){return this._verify2(et,ei),this.imod(et.mul(ei))},S.prototype.isqr=function(et){return this.imul(et,et.clone())},S.prototype.sqr=function(et){return this.mul(et,et)},S.prototype.sqrt=function(et){if(et.isZero())return et.clone();var ei=this.m.andln(3);if(n(ei%2==1),3===ei){var eo=this.m.add(new s(1)).iushrn(2);return this.pow(et,eo)}for(var ea=this.m.subn(1),ec=0;!ea.isZero()&&0===ea.andln(1);)ec++,ea.iushrn(1);n(!ea.isZero());var eh=new s(1).toRed(this),eu=eh.redNeg(),ed=this.m.subn(1).iushrn(1),ef=this.m.bitLength();for(ef=new s(2*ef*ef).toRed(this);0!==this.pow(ef,ed).cmp(eu);)ef.redIAdd(eu);for(var el=this.pow(ef,ea),ep=this.pow(et,ea.addn(1).iushrn(1)),eb=this.pow(et,ea),eg=ec;0!==eb.cmp(eh);){for(var em=eb,ey=0;0!==em.cmp(eh);ey++)em=em.redSqr();n(ey<eg);var ev=this.pow(el,new s(1).iushln(eg-ey-1));ep=ep.redMul(ev),el=ev.redSqr(),eb=eb.redMul(el),eg=ey}return ep},S.prototype.invm=function(et){var ei=et._invmp(this.m);return 0!==ei.negative?(ei.negative=0,this.imod(ei).redNeg()):this.imod(ei)},S.prototype.pow=function(et,ei){if(ei.isZero())return new s(1).toRed(this);if(0===ei.cmpn(1))return et.clone();var eo=Array(16);eo[0]=new s(1).toRed(this),eo[1]=et;for(var ea=2;ea<eo.length;ea++)eo[ea]=this.mul(eo[ea-1],et);var ec=eo[0],eh=0,eu=0,ed=ei.bitLength()%26;for(0===ed&&(ed=26),ea=ei.length-1;ea>=0;ea--){for(var ef=ei.words[ea],el=ed-1;el>=0;el--){var ep=ef>>el&1;ec!==eo[0]&&(ec=this.sqr(ec)),0!==ep||0!==eh?(eh<<=1,eh|=ep,(4==++eu||0===ea&&0===el)&&(ec=this.mul(ec,eo[eh]),eu=0,eh=0)):eu=0}ed=26}return ec},S.prototype.convertTo=function(et){var ei=et.umod(this.m);return ei===et?ei.clone():ei},S.prototype.convertFrom=function(et){var ei=et.clone();return ei.red=null,ei},s.mont=function(et){return new A(et)},i(A,S),A.prototype.convertTo=function(et){return this.imod(et.ushln(this.shift))},A.prototype.convertFrom=function(et){var ei=this.imod(et.mul(this.rinv));return ei.red=null,ei},A.prototype.imul=function(et,ei){if(et.isZero()||ei.isZero())return et.words[0]=0,et.length=1,et;var eo=et.imul(ei),ea=eo.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ec=eo.isub(ea).iushrn(this.shift),eh=ec;return ec.cmp(this.m)>=0?eh=ec.isub(this.m):0>ec.cmpn(0)&&(eh=ec.iadd(this.m)),eh._forceRed(this)},A.prototype.mul=function(et,ei){if(et.isZero()||ei.isZero())return new s(0)._forceRed(this);var eo=et.mul(ei),ea=eo.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ec=eo.isub(ea).iushrn(this.shift),eh=ec;return ec.cmp(this.m)>=0?eh=ec.isub(this.m):0>ec.cmpn(0)&&(eh=ec.iadd(this.m)),eh._forceRed(this)},A.prototype.invm=function(et){return this.imod(et._invmp(this.m).mul(this.r2))._forceRed(this)}}(et=eo.nmd(et),this)},3900:function(et,ei,eo){!function(et,ei){"use strict";function n(et,ei){if(!et)throw Error(ei||"Assertion failed")}function i(et,ei){et.super_=ei;var r=function(){};r.prototype=ei.prototype,et.prototype=new r,et.prototype.constructor=et}function s(et,ei,eo){if(s.isBN(et))return et;this.negative=0,this.words=null,this.length=0,this.red=null,null!==et&&("le"!==ei&&"be"!==ei||(eo=ei,ei=10),this._init(et||0,ei||10,eo||"be"))}"object"==typeof et?et.exports=s:ei.BN=s,s.BN=s,s.wordSize=26;try{ea="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:eo(9322).Buffer}catch(et){}function a(et,ei){var eo=et.charCodeAt(ei);return eo>=48&&eo<=57?eo-48:eo>=65&&eo<=70?eo-55:eo>=97&&eo<=102?eo-87:void n(!1,"Invalid character in "+et)}function c(et,ei,eo){var ea=a(et,eo);return eo-1>=ei&&(ea|=a(et,eo-1)<<4),ea}function h(et,ei,eo,ea){for(var ec=0,eh=0,eu=Math.min(et.length,eo),ed=ei;ed<eu;ed++){var ef=et.charCodeAt(ed)-48;ec*=ea,eh=ef>=49?ef-49+10:ef>=17?ef-17+10:ef,n(ef>=0&&eh<ea,"Invalid character"),ec+=eh}return ec}function u(et,ei){et.words=ei.words,et.length=ei.length,et.negative=ei.negative,et.red=ei.red}if(s.isBN=function(et){return et instanceof s||null!==et&&"object"==typeof et&&et.constructor.wordSize===s.wordSize&&Array.isArray(et.words)},s.max=function(et,ei){return et.cmp(ei)>0?et:ei},s.min=function(et,ei){return 0>et.cmp(ei)?et:ei},s.prototype._init=function(et,ei,eo){if("number"==typeof et)return this._initNumber(et,ei,eo);if("object"==typeof et)return this._initArray(et,ei,eo);"hex"===ei&&(ei=16),n(ei===(0|ei)&&ei>=2&&ei<=36);var ea=0;"-"===(et=et.toString().replace(/\s+/g,""))[0]&&(ea++,this.negative=1),ea<et.length&&(16===ei?this._parseHex(et,ea,eo):(this._parseBase(et,ei,ea),"le"===eo&&this._initArray(this.toArray(),ei,eo)))},s.prototype._initNumber=function(et,ei,eo){et<0&&(this.negative=1,et=-et),et<67108864?(this.words=[67108863&et],this.length=1):et<4503599627370496?(this.words=[67108863&et,et/67108864&67108863],this.length=2):(n(et<9007199254740992),this.words=[67108863&et,et/67108864&67108863,1],this.length=3),"le"===eo&&this._initArray(this.toArray(),ei,eo)},s.prototype._initArray=function(et,ei,eo){if(n("number"==typeof et.length),et.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(et.length/3),this.words=Array(this.length);for(var ea=0;ea<this.length;ea++)this.words[ea]=0;var ec,eh,eu=0;if("be"===eo)for(ea=et.length-1,ec=0;ea>=0;ea-=3)eh=et[ea]|et[ea-1]<<8|et[ea-2]<<16,this.words[ec]|=eh<<eu&67108863,this.words[ec+1]=eh>>>26-eu&67108863,(eu+=24)>=26&&(eu-=26,ec++);else if("le"===eo)for(ea=0,ec=0;ea<et.length;ea+=3)eh=et[ea]|et[ea+1]<<8|et[ea+2]<<16,this.words[ec]|=eh<<eu&67108863,this.words[ec+1]=eh>>>26-eu&67108863,(eu+=24)>=26&&(eu-=26,ec++);return this._strip()},s.prototype._parseHex=function(et,ei,eo){this.length=Math.ceil((et.length-ei)/6),this.words=Array(this.length);for(var ea=0;ea<this.length;ea++)this.words[ea]=0;var ec,eh=0,eu=0;if("be"===eo)for(ea=et.length-1;ea>=ei;ea-=2)ec=c(et,ei,ea)<<eh,this.words[eu]|=67108863&ec,eh>=18?(eh-=18,eu+=1,this.words[eu]|=ec>>>26):eh+=8;else for(ea=(et.length-ei)%2==0?ei+1:ei;ea<et.length;ea+=2)ec=c(et,ei,ea)<<eh,this.words[eu]|=67108863&ec,eh>=18?(eh-=18,eu+=1,this.words[eu]|=ec>>>26):eh+=8;this._strip()},s.prototype._parseBase=function(et,ei,eo){this.words=[0],this.length=1;for(var ea=0,ec=1;ec<=67108863;ec*=ei)ea++;ea--,ec=ec/ei|0;for(var eh=et.length-eo,eu=eh%ea,ed=Math.min(eh,eh-eu)+eo,ef=0,el=eo;el<ed;el+=ea)ef=h(et,el,el+ea,ei),this.imuln(ec),this.words[0]+ef<67108864?this.words[0]+=ef:this._iaddn(ef);if(0!==eu){var ep=1;for(ef=h(et,el,et.length,ei),el=0;el<eu;el++)ep*=ei;this.imuln(ep),this.words[0]+ef<67108864?this.words[0]+=ef:this._iaddn(ef)}this._strip()},s.prototype.copy=function(et){et.words=Array(this.length);for(var ei=0;ei<this.length;ei++)et.words[ei]=this.words[ei];et.length=this.length,et.negative=this.negative,et.red=this.red},s.prototype._move=function(et){u(et,this)},s.prototype.clone=function(){var et=new s(null);return this.copy(et),et},s.prototype._expand=function(et){for(;this.length<et;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=d}catch(et){s.prototype.inspect=d}else s.prototype.inspect=d;function d(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var ea,ec=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],eh=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],eu=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function b(et,ei,eo){eo.negative=ei.negative^et.negative;var ea=et.length+ei.length|0;eo.length=ea,ea=ea-1|0;var ec=0|et.words[0],eh=0|ei.words[0],eu=ec*eh,ed=67108863&eu,ef=eu/67108864|0;eo.words[0]=ed;for(var el=1;el<ea;el++){for(var ep=ef>>>26,eb=67108863&ef,eg=Math.min(el,ei.length-1),em=Math.max(0,el-et.length+1);em<=eg;em++){var ey=el-em|0;ep+=(eu=(ec=0|et.words[ey])*(eh=0|ei.words[em])+eb)/67108864|0,eb=67108863&eu}eo.words[el]=0|eb,ef=0|ep}return 0!==ef?eo.words[el]=0|ef:eo.length--,eo._strip()}s.prototype.toString=function(et,ei){var eo;if(ei=0|ei||1,16===(et=et||10)||"hex"===et){eo="";for(var ea=0,ed=0,ef=0;ef<this.length;ef++){var el=this.words[ef],ep=(16777215&(el<<ea|ed)).toString(16);ed=el>>>24-ea&16777215,(ea+=2)>=26&&(ea-=26,ef--),eo=0!==ed||ef!==this.length-1?ec[6-ep.length]+ep+eo:ep+eo}for(0!==ed&&(eo=ed.toString(16)+eo);eo.length%ei!=0;)eo="0"+eo;return 0!==this.negative&&(eo="-"+eo),eo}if(et===(0|et)&&et>=2&&et<=36){var eb=eh[et],eg=eu[et];eo="";var em=this.clone();for(em.negative=0;!em.isZero();){var ey=em.modrn(eg).toString(et);eo=(em=em.idivn(eg)).isZero()?ey+eo:ec[eb-ey.length]+ey+eo}for(this.isZero()&&(eo="0"+eo);eo.length%ei!=0;)eo="0"+eo;return 0!==this.negative&&(eo="-"+eo),eo}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var et=this.words[0];return 2===this.length?et+=67108864*this.words[1]:3===this.length&&1===this.words[2]?et+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-et:et},s.prototype.toJSON=function(){return this.toString(16,2)},ea&&(s.prototype.toBuffer=function(et,ei){return this.toArrayLike(ea,et,ei)}),s.prototype.toArray=function(et,ei){return this.toArrayLike(Array,et,ei)},s.prototype.toArrayLike=function(et,ei,eo){this._strip();var ea=this.byteLength(),ec=eo||Math.max(1,ea);n(ea<=ec,"byte array longer than desired length"),n(ec>0,"Requested array length <= 0");var eh=et.allocUnsafe?et.allocUnsafe(ec):new et(ec);return this["_toArrayLike"+("le"===ei?"LE":"BE")](eh,ea),eh},s.prototype._toArrayLikeLE=function(et,ei){for(var eo=0,ea=0,ec=0,eh=0;ec<this.length;ec++){var eu=this.words[ec]<<eh|ea;et[eo++]=255&eu,eo<et.length&&(et[eo++]=eu>>8&255),eo<et.length&&(et[eo++]=eu>>16&255),6===eh?(eo<et.length&&(et[eo++]=eu>>24&255),ea=0,eh=0):(ea=eu>>>24,eh+=2)}if(eo<et.length)for(et[eo++]=ea;eo<et.length;)et[eo++]=0},s.prototype._toArrayLikeBE=function(et,ei){for(var eo=et.length-1,ea=0,ec=0,eh=0;ec<this.length;ec++){var eu=this.words[ec]<<eh|ea;et[eo--]=255&eu,eo>=0&&(et[eo--]=eu>>8&255),eo>=0&&(et[eo--]=eu>>16&255),6===eh?(eo>=0&&(et[eo--]=eu>>24&255),ea=0,eh=0):(ea=eu>>>24,eh+=2)}if(eo>=0)for(et[eo--]=ea;eo>=0;)et[eo--]=0},Math.clz32?s.prototype._countBits=function(et){return 32-Math.clz32(et)}:s.prototype._countBits=function(et){var ei=et,eo=0;return ei>=4096&&(eo+=13,ei>>>=13),ei>=64&&(eo+=7,ei>>>=7),ei>=8&&(eo+=4,ei>>>=4),ei>=2&&(eo+=2,ei>>>=2),eo+ei},s.prototype._zeroBits=function(et){if(0===et)return 26;var ei=et,eo=0;return 8191&ei||(eo+=13,ei>>>=13),127&ei||(eo+=7,ei>>>=7),15&ei||(eo+=4,ei>>>=4),3&ei||(eo+=2,ei>>>=2),1&ei||eo++,eo},s.prototype.bitLength=function(){var et=this.words[this.length-1],ei=this._countBits(et);return 26*(this.length-1)+ei},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var et=0,ei=0;ei<this.length;ei++){var eo=this._zeroBits(this.words[ei]);if(et+=eo,26!==eo)break}return et},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(et){return 0!==this.negative?this.abs().inotn(et).iaddn(1):this.clone()},s.prototype.fromTwos=function(et){return this.testn(et-1)?this.notn(et).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(et){for(;this.length<et.length;)this.words[this.length++]=0;for(var ei=0;ei<et.length;ei++)this.words[ei]=this.words[ei]|et.words[ei];return this._strip()},s.prototype.ior=function(et){return n(!(this.negative|et.negative)),this.iuor(et)},s.prototype.or=function(et){return this.length>et.length?this.clone().ior(et):et.clone().ior(this)},s.prototype.uor=function(et){return this.length>et.length?this.clone().iuor(et):et.clone().iuor(this)},s.prototype.iuand=function(et){var ei;ei=this.length>et.length?et:this;for(var eo=0;eo<ei.length;eo++)this.words[eo]=this.words[eo]&et.words[eo];return this.length=ei.length,this._strip()},s.prototype.iand=function(et){return n(!(this.negative|et.negative)),this.iuand(et)},s.prototype.and=function(et){return this.length>et.length?this.clone().iand(et):et.clone().iand(this)},s.prototype.uand=function(et){return this.length>et.length?this.clone().iuand(et):et.clone().iuand(this)},s.prototype.iuxor=function(et){var ei,eo;this.length>et.length?(ei=this,eo=et):(ei=et,eo=this);for(var ea=0;ea<eo.length;ea++)this.words[ea]=ei.words[ea]^eo.words[ea];if(this!==ei)for(;ea<ei.length;ea++)this.words[ea]=ei.words[ea];return this.length=ei.length,this._strip()},s.prototype.ixor=function(et){return n(!(this.negative|et.negative)),this.iuxor(et)},s.prototype.xor=function(et){return this.length>et.length?this.clone().ixor(et):et.clone().ixor(this)},s.prototype.uxor=function(et){return this.length>et.length?this.clone().iuxor(et):et.clone().iuxor(this)},s.prototype.inotn=function(et){n("number"==typeof et&&et>=0);var ei=0|Math.ceil(et/26),eo=et%26;this._expand(ei),eo>0&&ei--;for(var ea=0;ea<ei;ea++)this.words[ea]=67108863&~this.words[ea];return eo>0&&(this.words[ea]=~this.words[ea]&67108863>>26-eo),this._strip()},s.prototype.notn=function(et){return this.clone().inotn(et)},s.prototype.setn=function(et,ei){n("number"==typeof et&&et>=0);var eo=et/26|0,ea=et%26;return this._expand(eo+1),this.words[eo]=ei?this.words[eo]|1<<ea:this.words[eo]&~(1<<ea),this._strip()},s.prototype.iadd=function(et){var ei,eo,ea;if(0!==this.negative&&0===et.negative)return this.negative=0,ei=this.isub(et),this.negative^=1,this._normSign();if(0===this.negative&&0!==et.negative)return et.negative=0,ei=this.isub(et),et.negative=1,ei._normSign();this.length>et.length?(eo=this,ea=et):(eo=et,ea=this);for(var ec=0,eh=0;eh<ea.length;eh++)ei=(0|eo.words[eh])+(0|ea.words[eh])+ec,this.words[eh]=67108863&ei,ec=ei>>>26;for(;0!==ec&&eh<eo.length;eh++)ei=(0|eo.words[eh])+ec,this.words[eh]=67108863&ei,ec=ei>>>26;if(this.length=eo.length,0!==ec)this.words[this.length]=ec,this.length++;else if(eo!==this)for(;eh<eo.length;eh++)this.words[eh]=eo.words[eh];return this},s.prototype.add=function(et){var ei;return 0!==et.negative&&0===this.negative?(et.negative=0,ei=this.sub(et),et.negative^=1,ei):0===et.negative&&0!==this.negative?(this.negative=0,ei=et.sub(this),this.negative=1,ei):this.length>et.length?this.clone().iadd(et):et.clone().iadd(this)},s.prototype.isub=function(et){if(0!==et.negative){et.negative=0;var ei=this.iadd(et);return et.negative=1,ei._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(et),this.negative=1,this._normSign();var eo,ea,ec=this.cmp(et);if(0===ec)return this.negative=0,this.length=1,this.words[0]=0,this;ec>0?(eo=this,ea=et):(eo=et,ea=this);for(var eh=0,eu=0;eu<ea.length;eu++)eh=(ei=(0|eo.words[eu])-(0|ea.words[eu])+eh)>>26,this.words[eu]=67108863&ei;for(;0!==eh&&eu<eo.length;eu++)eh=(ei=(0|eo.words[eu])+eh)>>26,this.words[eu]=67108863&ei;if(0===eh&&eu<eo.length&&eo!==this)for(;eu<eo.length;eu++)this.words[eu]=eo.words[eu];return this.length=Math.max(this.length,eu),eo!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(et){return this.clone().isub(et)};var g=function(et,ei,eo){var ea,ec,eh,eu=et.words,ed=ei.words,ef=eo.words,el=0,ep=0|eu[0],eb=8191&ep,eg=ep>>>13,em=0|eu[1],ey=8191&em,ev=em>>>13,ew=0|eu[2],e_=8191&ew,eE=ew>>>13,eS=0|eu[3],eA=8191&eS,eM=eS>>>13,eI=0|eu[4],eT=8191&eI,ex=eI>>>13,eC=0|eu[5],eR=8191&eC,ek=eC>>>13,eP=0|eu[6],eO=8191&eP,eN=eP>>>13,eU=0|eu[7],eB=8191&eU,eL=eU>>>13,eD=0|eu[8],ej=8191&eD,eq=eD>>>13,eF=0|eu[9],eH=8191&eF,eV=eF>>>13,ez=0|ed[0],e$=8191&ez,eK=ez>>>13,eG=0|ed[1],eW=8191&eG,eJ=eG>>>13,eY=0|ed[2],eX=8191&eY,eZ=eY>>>13,eQ=0|ed[3],e0=8191&eQ,e1=eQ>>>13,e2=0|ed[4],e6=8191&e2,e5=e2>>>13,e3=0|ed[5],e8=8191&e3,e4=e3>>>13,e7=0|ed[6],e9=8191&e7,tt=e7>>>13,to=0|ed[7],ta=8191&to,tc=to>>>13,th=0|ed[8],tu=8191&th,td=th>>>13,tf=0|ed[9],tl=8191&tf,tp=tf>>>13;eo.negative=et.negative^ei.negative,eo.length=19;var tb=(el+(ea=Math.imul(eb,e$))|0)+((8191&(ec=(ec=Math.imul(eb,eK))+Math.imul(eg,e$)|0))<<13)|0;el=((eh=Math.imul(eg,eK))+(ec>>>13)|0)+(tb>>>26)|0,tb&=67108863,ea=Math.imul(ey,e$),ec=(ec=Math.imul(ey,eK))+Math.imul(ev,e$)|0,eh=Math.imul(ev,eK);var tg=(el+(ea=ea+Math.imul(eb,eW)|0)|0)+((8191&(ec=(ec=ec+Math.imul(eb,eJ)|0)+Math.imul(eg,eW)|0))<<13)|0;el=((eh=eh+Math.imul(eg,eJ)|0)+(ec>>>13)|0)+(tg>>>26)|0,tg&=67108863,ea=Math.imul(e_,e$),ec=(ec=Math.imul(e_,eK))+Math.imul(eE,e$)|0,eh=Math.imul(eE,eK),ea=ea+Math.imul(ey,eW)|0,ec=(ec=ec+Math.imul(ey,eJ)|0)+Math.imul(ev,eW)|0,eh=eh+Math.imul(ev,eJ)|0;var tm=(el+(ea=ea+Math.imul(eb,eX)|0)|0)+((8191&(ec=(ec=ec+Math.imul(eb,eZ)|0)+Math.imul(eg,eX)|0))<<13)|0;el=((eh=eh+Math.imul(eg,eZ)|0)+(ec>>>13)|0)+(tm>>>26)|0,tm&=67108863,ea=Math.imul(eA,e$),ec=(ec=Math.imul(eA,eK))+Math.imul(eM,e$)|0,eh=Math.imul(eM,eK),ea=ea+Math.imul(e_,eW)|0,ec=(ec=ec+Math.imul(e_,eJ)|0)+Math.imul(eE,eW)|0,eh=eh+Math.imul(eE,eJ)|0,ea=ea+Math.imul(ey,eX)|0,ec=(ec=ec+Math.imul(ey,eZ)|0)+Math.imul(ev,eX)|0,eh=eh+Math.imul(ev,eZ)|0;var ty=(el+(ea=ea+Math.imul(eb,e0)|0)|0)+((8191&(ec=(ec=ec+Math.imul(eb,e1)|0)+Math.imul(eg,e0)|0))<<13)|0;el=((eh=eh+Math.imul(eg,e1)|0)+(ec>>>13)|0)+(ty>>>26)|0,ty&=67108863,ea=Math.imul(eT,e$),ec=(ec=Math.imul(eT,eK))+Math.imul(ex,e$)|0,eh=Math.imul(ex,eK),ea=ea+Math.imul(eA,eW)|0,ec=(ec=ec+Math.imul(eA,eJ)|0)+Math.imul(eM,eW)|0,eh=eh+Math.imul(eM,eJ)|0,ea=ea+Math.imul(e_,eX)|0,ec=(ec=ec+Math.imul(e_,eZ)|0)+Math.imul(eE,eX)|0,eh=eh+Math.imul(eE,eZ)|0,ea=ea+Math.imul(ey,e0)|0,ec=(ec=ec+Math.imul(ey,e1)|0)+Math.imul(ev,e0)|0,eh=eh+Math.imul(ev,e1)|0;var tv=(el+(ea=ea+Math.imul(eb,e6)|0)|0)+((8191&(ec=(ec=ec+Math.imul(eb,e5)|0)+Math.imul(eg,e6)|0))<<13)|0;el=((eh=eh+Math.imul(eg,e5)|0)+(ec>>>13)|0)+(tv>>>26)|0,tv&=67108863,ea=Math.imul(eR,e$),ec=(ec=Math.imul(eR,eK))+Math.imul(ek,e$)|0,eh=Math.imul(ek,eK),ea=ea+Math.imul(eT,eW)|0,ec=(ec=ec+Math.imul(eT,eJ)|0)+Math.imul(ex,eW)|0,eh=eh+Math.imul(ex,eJ)|0,ea=ea+Math.imul(eA,eX)|0,ec=(ec=ec+Math.imul(eA,eZ)|0)+Math.imul(eM,eX)|0,eh=eh+Math.imul(eM,eZ)|0,ea=ea+Math.imul(e_,e0)|0,ec=(ec=ec+Math.imul(e_,e1)|0)+Math.imul(eE,e0)|0,eh=eh+Math.imul(eE,e1)|0,ea=ea+Math.imul(ey,e6)|0,ec=(ec=ec+Math.imul(ey,e5)|0)+Math.imul(ev,e6)|0,eh=eh+Math.imul(ev,e5)|0;var tw=(el+(ea=ea+Math.imul(eb,e8)|0)|0)+((8191&(ec=(ec=ec+Math.imul(eb,e4)|0)+Math.imul(eg,e8)|0))<<13)|0;el=((eh=eh+Math.imul(eg,e4)|0)+(ec>>>13)|0)+(tw>>>26)|0,tw&=67108863,ea=Math.imul(eO,e$),ec=(ec=Math.imul(eO,eK))+Math.imul(eN,e$)|0,eh=Math.imul(eN,eK),ea=ea+Math.imul(eR,eW)|0,ec=(ec=ec+Math.imul(eR,eJ)|0)+Math.imul(ek,eW)|0,eh=eh+Math.imul(ek,eJ)|0,ea=ea+Math.imul(eT,eX)|0,ec=(ec=ec+Math.imul(eT,eZ)|0)+Math.imul(ex,eX)|0,eh=eh+Math.imul(ex,eZ)|0,ea=ea+Math.imul(eA,e0)|0,ec=(ec=ec+Math.imul(eA,e1)|0)+Math.imul(eM,e0)|0,eh=eh+Math.imul(eM,e1)|0,ea=ea+Math.imul(e_,e6)|0,ec=(ec=ec+Math.imul(e_,e5)|0)+Math.imul(eE,e6)|0,eh=eh+Math.imul(eE,e5)|0,ea=ea+Math.imul(ey,e8)|0,ec=(ec=ec+Math.imul(ey,e4)|0)+Math.imul(ev,e8)|0,eh=eh+Math.imul(ev,e4)|0;var t_=(el+(ea=ea+Math.imul(eb,e9)|0)|0)+((8191&(ec=(ec=ec+Math.imul(eb,tt)|0)+Math.imul(eg,e9)|0))<<13)|0;el=((eh=eh+Math.imul(eg,tt)|0)+(ec>>>13)|0)+(t_>>>26)|0,t_&=67108863,ea=Math.imul(eB,e$),ec=(ec=Math.imul(eB,eK))+Math.imul(eL,e$)|0,eh=Math.imul(eL,eK),ea=ea+Math.imul(eO,eW)|0,ec=(ec=ec+Math.imul(eO,eJ)|0)+Math.imul(eN,eW)|0,eh=eh+Math.imul(eN,eJ)|0,ea=ea+Math.imul(eR,eX)|0,ec=(ec=ec+Math.imul(eR,eZ)|0)+Math.imul(ek,eX)|0,eh=eh+Math.imul(ek,eZ)|0,ea=ea+Math.imul(eT,e0)|0,ec=(ec=ec+Math.imul(eT,e1)|0)+Math.imul(ex,e0)|0,eh=eh+Math.imul(ex,e1)|0,ea=ea+Math.imul(eA,e6)|0,ec=(ec=ec+Math.imul(eA,e5)|0)+Math.imul(eM,e6)|0,eh=eh+Math.imul(eM,e5)|0,ea=ea+Math.imul(e_,e8)|0,ec=(ec=ec+Math.imul(e_,e4)|0)+Math.imul(eE,e8)|0,eh=eh+Math.imul(eE,e4)|0,ea=ea+Math.imul(ey,e9)|0,ec=(ec=ec+Math.imul(ey,tt)|0)+Math.imul(ev,e9)|0,eh=eh+Math.imul(ev,tt)|0;var tE=(el+(ea=ea+Math.imul(eb,ta)|0)|0)+((8191&(ec=(ec=ec+Math.imul(eb,tc)|0)+Math.imul(eg,ta)|0))<<13)|0;el=((eh=eh+Math.imul(eg,tc)|0)+(ec>>>13)|0)+(tE>>>26)|0,tE&=67108863,ea=Math.imul(ej,e$),ec=(ec=Math.imul(ej,eK))+Math.imul(eq,e$)|0,eh=Math.imul(eq,eK),ea=ea+Math.imul(eB,eW)|0,ec=(ec=ec+Math.imul(eB,eJ)|0)+Math.imul(eL,eW)|0,eh=eh+Math.imul(eL,eJ)|0,ea=ea+Math.imul(eO,eX)|0,ec=(ec=ec+Math.imul(eO,eZ)|0)+Math.imul(eN,eX)|0,eh=eh+Math.imul(eN,eZ)|0,ea=ea+Math.imul(eR,e0)|0,ec=(ec=ec+Math.imul(eR,e1)|0)+Math.imul(ek,e0)|0,eh=eh+Math.imul(ek,e1)|0,ea=ea+Math.imul(eT,e6)|0,ec=(ec=ec+Math.imul(eT,e5)|0)+Math.imul(ex,e6)|0,eh=eh+Math.imul(ex,e5)|0,ea=ea+Math.imul(eA,e8)|0,ec=(ec=ec+Math.imul(eA,e4)|0)+Math.imul(eM,e8)|0,eh=eh+Math.imul(eM,e4)|0,ea=ea+Math.imul(e_,e9)|0,ec=(ec=ec+Math.imul(e_,tt)|0)+Math.imul(eE,e9)|0,eh=eh+Math.imul(eE,tt)|0,ea=ea+Math.imul(ey,ta)|0,ec=(ec=ec+Math.imul(ey,tc)|0)+Math.imul(ev,ta)|0,eh=eh+Math.imul(ev,tc)|0;var tS=(el+(ea=ea+Math.imul(eb,tu)|0)|0)+((8191&(ec=(ec=ec+Math.imul(eb,td)|0)+Math.imul(eg,tu)|0))<<13)|0;el=((eh=eh+Math.imul(eg,td)|0)+(ec>>>13)|0)+(tS>>>26)|0,tS&=67108863,ea=Math.imul(eH,e$),ec=(ec=Math.imul(eH,eK))+Math.imul(eV,e$)|0,eh=Math.imul(eV,eK),ea=ea+Math.imul(ej,eW)|0,ec=(ec=ec+Math.imul(ej,eJ)|0)+Math.imul(eq,eW)|0,eh=eh+Math.imul(eq,eJ)|0,ea=ea+Math.imul(eB,eX)|0,ec=(ec=ec+Math.imul(eB,eZ)|0)+Math.imul(eL,eX)|0,eh=eh+Math.imul(eL,eZ)|0,ea=ea+Math.imul(eO,e0)|0,ec=(ec=ec+Math.imul(eO,e1)|0)+Math.imul(eN,e0)|0,eh=eh+Math.imul(eN,e1)|0,ea=ea+Math.imul(eR,e6)|0,ec=(ec=ec+Math.imul(eR,e5)|0)+Math.imul(ek,e6)|0,eh=eh+Math.imul(ek,e5)|0,ea=ea+Math.imul(eT,e8)|0,ec=(ec=ec+Math.imul(eT,e4)|0)+Math.imul(ex,e8)|0,eh=eh+Math.imul(ex,e4)|0,ea=ea+Math.imul(eA,e9)|0,ec=(ec=ec+Math.imul(eA,tt)|0)+Math.imul(eM,e9)|0,eh=eh+Math.imul(eM,tt)|0,ea=ea+Math.imul(e_,ta)|0,ec=(ec=ec+Math.imul(e_,tc)|0)+Math.imul(eE,ta)|0,eh=eh+Math.imul(eE,tc)|0,ea=ea+Math.imul(ey,tu)|0,ec=(ec=ec+Math.imul(ey,td)|0)+Math.imul(ev,tu)|0,eh=eh+Math.imul(ev,td)|0;var tA=(el+(ea=ea+Math.imul(eb,tl)|0)|0)+((8191&(ec=(ec=ec+Math.imul(eb,tp)|0)+Math.imul(eg,tl)|0))<<13)|0;el=((eh=eh+Math.imul(eg,tp)|0)+(ec>>>13)|0)+(tA>>>26)|0,tA&=67108863,ea=Math.imul(eH,eW),ec=(ec=Math.imul(eH,eJ))+Math.imul(eV,eW)|0,eh=Math.imul(eV,eJ),ea=ea+Math.imul(ej,eX)|0,ec=(ec=ec+Math.imul(ej,eZ)|0)+Math.imul(eq,eX)|0,eh=eh+Math.imul(eq,eZ)|0,ea=ea+Math.imul(eB,e0)|0,ec=(ec=ec+Math.imul(eB,e1)|0)+Math.imul(eL,e0)|0,eh=eh+Math.imul(eL,e1)|0,ea=ea+Math.imul(eO,e6)|0,ec=(ec=ec+Math.imul(eO,e5)|0)+Math.imul(eN,e6)|0,eh=eh+Math.imul(eN,e5)|0,ea=ea+Math.imul(eR,e8)|0,ec=(ec=ec+Math.imul(eR,e4)|0)+Math.imul(ek,e8)|0,eh=eh+Math.imul(ek,e4)|0,ea=ea+Math.imul(eT,e9)|0,ec=(ec=ec+Math.imul(eT,tt)|0)+Math.imul(ex,e9)|0,eh=eh+Math.imul(ex,tt)|0,ea=ea+Math.imul(eA,ta)|0,ec=(ec=ec+Math.imul(eA,tc)|0)+Math.imul(eM,ta)|0,eh=eh+Math.imul(eM,tc)|0,ea=ea+Math.imul(e_,tu)|0,ec=(ec=ec+Math.imul(e_,td)|0)+Math.imul(eE,tu)|0,eh=eh+Math.imul(eE,td)|0;var tM=(el+(ea=ea+Math.imul(ey,tl)|0)|0)+((8191&(ec=(ec=ec+Math.imul(ey,tp)|0)+Math.imul(ev,tl)|0))<<13)|0;el=((eh=eh+Math.imul(ev,tp)|0)+(ec>>>13)|0)+(tM>>>26)|0,tM&=67108863,ea=Math.imul(eH,eX),ec=(ec=Math.imul(eH,eZ))+Math.imul(eV,eX)|0,eh=Math.imul(eV,eZ),ea=ea+Math.imul(ej,e0)|0,ec=(ec=ec+Math.imul(ej,e1)|0)+Math.imul(eq,e0)|0,eh=eh+Math.imul(eq,e1)|0,ea=ea+Math.imul(eB,e6)|0,ec=(ec=ec+Math.imul(eB,e5)|0)+Math.imul(eL,e6)|0,eh=eh+Math.imul(eL,e5)|0,ea=ea+Math.imul(eO,e8)|0,ec=(ec=ec+Math.imul(eO,e4)|0)+Math.imul(eN,e8)|0,eh=eh+Math.imul(eN,e4)|0,ea=ea+Math.imul(eR,e9)|0,ec=(ec=ec+Math.imul(eR,tt)|0)+Math.imul(ek,e9)|0,eh=eh+Math.imul(ek,tt)|0,ea=ea+Math.imul(eT,ta)|0,ec=(ec=ec+Math.imul(eT,tc)|0)+Math.imul(ex,ta)|0,eh=eh+Math.imul(ex,tc)|0,ea=ea+Math.imul(eA,tu)|0,ec=(ec=ec+Math.imul(eA,td)|0)+Math.imul(eM,tu)|0,eh=eh+Math.imul(eM,td)|0;var tI=(el+(ea=ea+Math.imul(e_,tl)|0)|0)+((8191&(ec=(ec=ec+Math.imul(e_,tp)|0)+Math.imul(eE,tl)|0))<<13)|0;el=((eh=eh+Math.imul(eE,tp)|0)+(ec>>>13)|0)+(tI>>>26)|0,tI&=67108863,ea=Math.imul(eH,e0),ec=(ec=Math.imul(eH,e1))+Math.imul(eV,e0)|0,eh=Math.imul(eV,e1),ea=ea+Math.imul(ej,e6)|0,ec=(ec=ec+Math.imul(ej,e5)|0)+Math.imul(eq,e6)|0,eh=eh+Math.imul(eq,e5)|0,ea=ea+Math.imul(eB,e8)|0,ec=(ec=ec+Math.imul(eB,e4)|0)+Math.imul(eL,e8)|0,eh=eh+Math.imul(eL,e4)|0,ea=ea+Math.imul(eO,e9)|0,ec=(ec=ec+Math.imul(eO,tt)|0)+Math.imul(eN,e9)|0,eh=eh+Math.imul(eN,tt)|0,ea=ea+Math.imul(eR,ta)|0,ec=(ec=ec+Math.imul(eR,tc)|0)+Math.imul(ek,ta)|0,eh=eh+Math.imul(ek,tc)|0,ea=ea+Math.imul(eT,tu)|0,ec=(ec=ec+Math.imul(eT,td)|0)+Math.imul(ex,tu)|0,eh=eh+Math.imul(ex,td)|0;var tT=(el+(ea=ea+Math.imul(eA,tl)|0)|0)+((8191&(ec=(ec=ec+Math.imul(eA,tp)|0)+Math.imul(eM,tl)|0))<<13)|0;el=((eh=eh+Math.imul(eM,tp)|0)+(ec>>>13)|0)+(tT>>>26)|0,tT&=67108863,ea=Math.imul(eH,e6),ec=(ec=Math.imul(eH,e5))+Math.imul(eV,e6)|0,eh=Math.imul(eV,e5),ea=ea+Math.imul(ej,e8)|0,ec=(ec=ec+Math.imul(ej,e4)|0)+Math.imul(eq,e8)|0,eh=eh+Math.imul(eq,e4)|0,ea=ea+Math.imul(eB,e9)|0,ec=(ec=ec+Math.imul(eB,tt)|0)+Math.imul(eL,e9)|0,eh=eh+Math.imul(eL,tt)|0,ea=ea+Math.imul(eO,ta)|0,ec=(ec=ec+Math.imul(eO,tc)|0)+Math.imul(eN,ta)|0,eh=eh+Math.imul(eN,tc)|0,ea=ea+Math.imul(eR,tu)|0,ec=(ec=ec+Math.imul(eR,td)|0)+Math.imul(ek,tu)|0,eh=eh+Math.imul(ek,td)|0;var tx=(el+(ea=ea+Math.imul(eT,tl)|0)|0)+((8191&(ec=(ec=ec+Math.imul(eT,tp)|0)+Math.imul(ex,tl)|0))<<13)|0;el=((eh=eh+Math.imul(ex,tp)|0)+(ec>>>13)|0)+(tx>>>26)|0,tx&=67108863,ea=Math.imul(eH,e8),ec=(ec=Math.imul(eH,e4))+Math.imul(eV,e8)|0,eh=Math.imul(eV,e4),ea=ea+Math.imul(ej,e9)|0,ec=(ec=ec+Math.imul(ej,tt)|0)+Math.imul(eq,e9)|0,eh=eh+Math.imul(eq,tt)|0,ea=ea+Math.imul(eB,ta)|0,ec=(ec=ec+Math.imul(eB,tc)|0)+Math.imul(eL,ta)|0,eh=eh+Math.imul(eL,tc)|0,ea=ea+Math.imul(eO,tu)|0,ec=(ec=ec+Math.imul(eO,td)|0)+Math.imul(eN,tu)|0,eh=eh+Math.imul(eN,td)|0;var tC=(el+(ea=ea+Math.imul(eR,tl)|0)|0)+((8191&(ec=(ec=ec+Math.imul(eR,tp)|0)+Math.imul(ek,tl)|0))<<13)|0;el=((eh=eh+Math.imul(ek,tp)|0)+(ec>>>13)|0)+(tC>>>26)|0,tC&=67108863,ea=Math.imul(eH,e9),ec=(ec=Math.imul(eH,tt))+Math.imul(eV,e9)|0,eh=Math.imul(eV,tt),ea=ea+Math.imul(ej,ta)|0,ec=(ec=ec+Math.imul(ej,tc)|0)+Math.imul(eq,ta)|0,eh=eh+Math.imul(eq,tc)|0,ea=ea+Math.imul(eB,tu)|0,ec=(ec=ec+Math.imul(eB,td)|0)+Math.imul(eL,tu)|0,eh=eh+Math.imul(eL,td)|0;var tR=(el+(ea=ea+Math.imul(eO,tl)|0)|0)+((8191&(ec=(ec=ec+Math.imul(eO,tp)|0)+Math.imul(eN,tl)|0))<<13)|0;el=((eh=eh+Math.imul(eN,tp)|0)+(ec>>>13)|0)+(tR>>>26)|0,tR&=67108863,ea=Math.imul(eH,ta),ec=(ec=Math.imul(eH,tc))+Math.imul(eV,ta)|0,eh=Math.imul(eV,tc),ea=ea+Math.imul(ej,tu)|0,ec=(ec=ec+Math.imul(ej,td)|0)+Math.imul(eq,tu)|0,eh=eh+Math.imul(eq,td)|0;var tk=(el+(ea=ea+Math.imul(eB,tl)|0)|0)+((8191&(ec=(ec=ec+Math.imul(eB,tp)|0)+Math.imul(eL,tl)|0))<<13)|0;el=((eh=eh+Math.imul(eL,tp)|0)+(ec>>>13)|0)+(tk>>>26)|0,tk&=67108863,ea=Math.imul(eH,tu),ec=(ec=Math.imul(eH,td))+Math.imul(eV,tu)|0,eh=Math.imul(eV,td);var tP=(el+(ea=ea+Math.imul(ej,tl)|0)|0)+((8191&(ec=(ec=ec+Math.imul(ej,tp)|0)+Math.imul(eq,tl)|0))<<13)|0;el=((eh=eh+Math.imul(eq,tp)|0)+(ec>>>13)|0)+(tP>>>26)|0,tP&=67108863;var tO=(el+(ea=Math.imul(eH,tl))|0)+((8191&(ec=(ec=Math.imul(eH,tp))+Math.imul(eV,tl)|0))<<13)|0;return el=((eh=Math.imul(eV,tp))+(ec>>>13)|0)+(tO>>>26)|0,tO&=67108863,ef[0]=tb,ef[1]=tg,ef[2]=tm,ef[3]=ty,ef[4]=tv,ef[5]=tw,ef[6]=t_,ef[7]=tE,ef[8]=tS,ef[9]=tA,ef[10]=tM,ef[11]=tI,ef[12]=tT,ef[13]=tx,ef[14]=tC,ef[15]=tR,ef[16]=tk,ef[17]=tP,ef[18]=tO,0!==el&&(ef[19]=el,eo.length++),eo};function m(et,ei,eo){eo.negative=ei.negative^et.negative,eo.length=et.length+ei.length;for(var ea=0,ec=0,eh=0;eh<eo.length-1;eh++){var eu=ec;ec=0;for(var ed=67108863&ea,ef=Math.min(eh,ei.length-1),el=Math.max(0,eh-et.length+1);el<=ef;el++){var ep=eh-el,eb=(0|et.words[ep])*(0|ei.words[el]),eg=67108863&eb;ed=67108863&(eg=eg+ed|0),ec+=(eu=(eu=eu+(eb/67108864|0)|0)+(eg>>>26)|0)>>>26,eu&=67108863}eo.words[eh]=ed,ea=eu,eu=ec}return 0!==ea?eo.words[eh]=ea:eo.length--,eo._strip()}function v(et,ei){this.x=et,this.y=ei}Math.imul||(g=b),s.prototype.mulTo=function(et,ei){var eo=this.length+et.length;return 10===this.length&&10===et.length?g(this,et,ei):eo<63?b(this,et,ei):m(this,et,ei)},v.prototype.makeRBT=function(et){for(var ei=Array(et),eo=s.prototype._countBits(et)-1,ea=0;ea<et;ea++)ei[ea]=this.revBin(ea,eo,et);return ei},v.prototype.revBin=function(et,ei,eo){if(0===et||et===eo-1)return et;for(var ea=0,ec=0;ec<ei;ec++)ea|=(1&et)<<ei-ec-1,et>>=1;return ea},v.prototype.permute=function(et,ei,eo,ea,ec,eh){for(var eu=0;eu<eh;eu++)ea[eu]=ei[et[eu]],ec[eu]=eo[et[eu]]},v.prototype.transform=function(et,ei,eo,ea,ec,eh){this.permute(eh,et,ei,eo,ea,ec);for(var eu=1;eu<ec;eu<<=1)for(var ed=eu<<1,ef=Math.cos(2*Math.PI/ed),el=Math.sin(2*Math.PI/ed),ep=0;ep<ec;ep+=ed)for(var eb=ef,eg=el,em=0;em<eu;em++){var ey=eo[ep+em],ev=ea[ep+em],ew=eo[ep+em+eu],e_=ea[ep+em+eu],eE=eb*ew-eg*e_;e_=eb*e_+eg*ew,ew=eE,eo[ep+em]=ey+ew,ea[ep+em]=ev+e_,eo[ep+em+eu]=ey-ew,ea[ep+em+eu]=ev-e_,em!==ed&&(eE=ef*eb-el*eg,eg=ef*eg+el*eb,eb=eE)}},v.prototype.guessLen13b=function(et,ei){var eo=1|Math.max(ei,et),ea=1&eo,ec=0;for(eo=eo/2|0;eo;eo>>>=1)ec++;return 1<<ec+1+ea},v.prototype.conjugate=function(et,ei,eo){if(!(eo<=1))for(var ea=0;ea<eo/2;ea++){var ec=et[ea];et[ea]=et[eo-ea-1],et[eo-ea-1]=ec,ec=ei[ea],ei[ea]=-ei[eo-ea-1],ei[eo-ea-1]=-ec}},v.prototype.normalize13b=function(et,ei){for(var eo=0,ea=0;ea<ei/2;ea++){var ec=8192*Math.round(et[2*ea+1]/ei)+Math.round(et[2*ea]/ei)+eo;et[ea]=67108863&ec,eo=ec<67108864?0:ec/67108864|0}return et},v.prototype.convert13b=function(et,ei,eo,ea){for(var ec=0,eh=0;eh<ei;eh++)ec+=0|et[eh],eo[2*eh]=8191&ec,ec>>>=13,eo[2*eh+1]=8191&ec,ec>>>=13;for(eh=2*ei;eh<ea;++eh)eo[eh]=0;n(0===ec),n(!(-8192&ec))},v.prototype.stub=function(et){for(var ei=Array(et),eo=0;eo<et;eo++)ei[eo]=0;return ei},v.prototype.mulp=function(et,ei,eo){var ea=2*this.guessLen13b(et.length,ei.length),ec=this.makeRBT(ea),eh=this.stub(ea),eu=Array(ea),ed=Array(ea),ef=Array(ea),el=Array(ea),ep=Array(ea),eb=Array(ea),eg=eo.words;eg.length=ea,this.convert13b(et.words,et.length,eu,ea),this.convert13b(ei.words,ei.length,el,ea),this.transform(eu,eh,ed,ef,ea,ec),this.transform(el,eh,ep,eb,ea,ec);for(var em=0;em<ea;em++){var ey=ed[em]*ep[em]-ef[em]*eb[em];ef[em]=ed[em]*eb[em]+ef[em]*ep[em],ed[em]=ey}return this.conjugate(ed,ef,ea),this.transform(ed,ef,eg,eh,ea,ec),this.conjugate(eg,eh,ea),this.normalize13b(eg,ea),eo.negative=et.negative^ei.negative,eo.length=et.length+ei.length,eo._strip()},s.prototype.mul=function(et){var ei=new s(null);return ei.words=Array(this.length+et.length),this.mulTo(et,ei)},s.prototype.mulf=function(et){var ei=new s(null);return ei.words=Array(this.length+et.length),m(this,et,ei)},s.prototype.imul=function(et){return this.clone().mulTo(et,this)},s.prototype.imuln=function(et){var ei=et<0;ei&&(et=-et),n("number"==typeof et),n(et<67108864);for(var eo=0,ea=0;ea<this.length;ea++){var ec=(0|this.words[ea])*et,eh=(67108863&ec)+(67108863&eo);eo>>=26,eo+=(ec/67108864|0)+(eh>>>26),this.words[ea]=67108863&eh}return 0!==eo&&(this.words[ea]=eo,this.length++),ei?this.ineg():this},s.prototype.muln=function(et){return this.clone().imuln(et)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(et){var ei=function(et){for(var ei=Array(et.bitLength()),eo=0;eo<ei.length;eo++){var ea=eo/26|0,ec=eo%26;ei[eo]=et.words[ea]>>>ec&1}return ei}(et);if(0===ei.length)return new s(1);for(var eo=this,ea=0;ea<ei.length&&0===ei[ea];ea++,eo=eo.sqr());if(++ea<ei.length)for(var ec=eo.sqr();ea<ei.length;ea++,ec=ec.sqr())0!==ei[ea]&&(eo=eo.mul(ec));return eo},s.prototype.iushln=function(et){n("number"==typeof et&&et>=0);var ei,eo=et%26,ea=(et-eo)/26,ec=67108863>>>26-eo<<26-eo;if(0!==eo){var eh=0;for(ei=0;ei<this.length;ei++){var eu=this.words[ei]&ec,ed=(0|this.words[ei])-eu<<eo;this.words[ei]=ed|eh,eh=eu>>>26-eo}eh&&(this.words[ei]=eh,this.length++)}if(0!==ea){for(ei=this.length-1;ei>=0;ei--)this.words[ei+ea]=this.words[ei];for(ei=0;ei<ea;ei++)this.words[ei]=0;this.length+=ea}return this._strip()},s.prototype.ishln=function(et){return n(0===this.negative),this.iushln(et)},s.prototype.iushrn=function(et,ei,eo){n("number"==typeof et&&et>=0),ea=ei?(ei-ei%26)/26:0;var ea,ec=et%26,eh=Math.min((et-ec)/26,this.length),eu=67108863^67108863>>>ec<<ec;if(ea-=eh,ea=Math.max(0,ea),eo){for(var ed=0;ed<eh;ed++)eo.words[ed]=this.words[ed];eo.length=eh}if(0===eh);else if(this.length>eh)for(this.length-=eh,ed=0;ed<this.length;ed++)this.words[ed]=this.words[ed+eh];else this.words[0]=0,this.length=1;var ef=0;for(ed=this.length-1;ed>=0&&(0!==ef||ed>=ea);ed--){var el=0|this.words[ed];this.words[ed]=ef<<26-ec|el>>>ec,ef=el&eu}return eo&&0!==ef&&(eo.words[eo.length++]=ef),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(et,ei,eo){return n(0===this.negative),this.iushrn(et,ei,eo)},s.prototype.shln=function(et){return this.clone().ishln(et)},s.prototype.ushln=function(et){return this.clone().iushln(et)},s.prototype.shrn=function(et){return this.clone().ishrn(et)},s.prototype.ushrn=function(et){return this.clone().iushrn(et)},s.prototype.testn=function(et){n("number"==typeof et&&et>=0);var ei=et%26,eo=(et-ei)/26;return!(this.length<=eo||!(this.words[eo]&1<<ei))},s.prototype.imaskn=function(et){n("number"==typeof et&&et>=0);var ei=et%26,eo=(et-ei)/26;return(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=eo)?this:(0!==ei&&eo++,this.length=Math.min(eo,this.length),0!==ei&&(this.words[this.length-1]&=67108863^67108863>>>ei<<ei),this._strip())},s.prototype.maskn=function(et){return this.clone().imaskn(et)},s.prototype.iaddn=function(et){return n("number"==typeof et),n(et<67108864),et<0?this.isubn(-et):0!==this.negative?(1===this.length&&(0|this.words[0])<=et?(this.words[0]=et-(0|this.words[0]),this.negative=0):(this.negative=0,this.isubn(et),this.negative=1),this):this._iaddn(et)},s.prototype._iaddn=function(et){this.words[0]+=et;for(var ei=0;ei<this.length&&this.words[ei]>=67108864;ei++)this.words[ei]-=67108864,ei===this.length-1?this.words[ei+1]=1:this.words[ei+1]++;return this.length=Math.max(this.length,ei+1),this},s.prototype.isubn=function(et){if(n("number"==typeof et),n(et<67108864),et<0)return this.iaddn(-et);if(0!==this.negative)return this.negative=0,this.iaddn(et),this.negative=1,this;if(this.words[0]-=et,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var ei=0;ei<this.length&&this.words[ei]<0;ei++)this.words[ei]+=67108864,this.words[ei+1]-=1;return this._strip()},s.prototype.addn=function(et){return this.clone().iaddn(et)},s.prototype.subn=function(et){return this.clone().isubn(et)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(et,ei,eo){var ea,ec,eh=et.length+eo;this._expand(eh);var eu=0;for(ea=0;ea<et.length;ea++){ec=(0|this.words[ea+eo])+eu;var ed=(0|et.words[ea])*ei;eu=((ec-=67108863&ed)>>26)-(ed/67108864|0),this.words[ea+eo]=67108863&ec}for(;ea<this.length-eo;ea++)eu=(ec=(0|this.words[ea+eo])+eu)>>26,this.words[ea+eo]=67108863&ec;if(0===eu)return this._strip();for(n(-1===eu),eu=0,ea=0;ea<this.length;ea++)eu=(ec=-(0|this.words[ea])+eu)>>26,this.words[ea]=67108863&ec;return this.negative=1,this._strip()},s.prototype._wordDiv=function(et,ei){var eo=(this.length,et.length),ea=this.clone(),ec=et,eh=0|ec.words[ec.length-1];0!=(eo=26-this._countBits(eh))&&(ec=ec.ushln(eo),ea.iushln(eo),eh=0|ec.words[ec.length-1]);var eu,ed=ea.length-ec.length;if("mod"!==ei){(eu=new s(null)).length=ed+1,eu.words=Array(eu.length);for(var ef=0;ef<eu.length;ef++)eu.words[ef]=0}var el=ea.clone()._ishlnsubmul(ec,1,ed);0===el.negative&&(ea=el,eu&&(eu.words[ed]=1));for(var ep=ed-1;ep>=0;ep--){var eb=67108864*(0|ea.words[ec.length+ep])+(0|ea.words[ec.length+ep-1]);for(eb=Math.min(eb/eh|0,67108863),ea._ishlnsubmul(ec,eb,ep);0!==ea.negative;)eb--,ea.negative=0,ea._ishlnsubmul(ec,1,ep),ea.isZero()||(ea.negative^=1);eu&&(eu.words[ep]=eb)}return eu&&eu._strip(),ea._strip(),"div"!==ei&&0!==eo&&ea.iushrn(eo),{div:eu||null,mod:ea}},s.prototype.divmod=function(et,ei,eo){var ea,ec,eh;return n(!et.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===et.negative?(eh=this.neg().divmod(et,ei),"mod"!==ei&&(ea=eh.div.neg()),"div"!==ei&&(ec=eh.mod.neg(),eo&&0!==ec.negative&&ec.iadd(et)),{div:ea,mod:ec}):0===this.negative&&0!==et.negative?(eh=this.divmod(et.neg(),ei),"mod"!==ei&&(ea=eh.div.neg()),{div:ea,mod:eh.mod}):this.negative&et.negative?(eh=this.neg().divmod(et.neg(),ei),"div"!==ei&&(ec=eh.mod.neg(),eo&&0!==ec.negative&&ec.isub(et)),{div:eh.div,mod:ec}):et.length>this.length||0>this.cmp(et)?{div:new s(0),mod:this}:1===et.length?"div"===ei?{div:this.divn(et.words[0]),mod:null}:"mod"===ei?{div:null,mod:new s(this.modrn(et.words[0]))}:{div:this.divn(et.words[0]),mod:new s(this.modrn(et.words[0]))}:this._wordDiv(et,ei)},s.prototype.div=function(et){return this.divmod(et,"div",!1).div},s.prototype.mod=function(et){return this.divmod(et,"mod",!1).mod},s.prototype.umod=function(et){return this.divmod(et,"mod",!0).mod},s.prototype.divRound=function(et){var ei=this.divmod(et);if(ei.mod.isZero())return ei.div;var eo=0!==ei.div.negative?ei.mod.isub(et):ei.mod,ea=et.ushrn(1),ec=et.andln(1),eh=eo.cmp(ea);return eh<0||1===ec&&0===eh?ei.div:0!==ei.div.negative?ei.div.isubn(1):ei.div.iaddn(1)},s.prototype.modrn=function(et){var ei=et<0;ei&&(et=-et),n(et<=67108863);for(var eo=67108864%et,ea=0,ec=this.length-1;ec>=0;ec--)ea=(eo*ea+(0|this.words[ec]))%et;return ei?-ea:ea},s.prototype.modn=function(et){return this.modrn(et)},s.prototype.idivn=function(et){var ei=et<0;ei&&(et=-et),n(et<=67108863);for(var eo=0,ea=this.length-1;ea>=0;ea--){var ec=(0|this.words[ea])+67108864*eo;this.words[ea]=ec/et|0,eo=ec%et}return this._strip(),ei?this.ineg():this},s.prototype.divn=function(et){return this.clone().idivn(et)},s.prototype.egcd=function(et){n(0===et.negative),n(!et.isZero());var ei=this,eo=et.clone();ei=0!==ei.negative?ei.umod(et):ei.clone();for(var ea=new s(1),ec=new s(0),eh=new s(0),eu=new s(1),ed=0;ei.isEven()&&eo.isEven();)ei.iushrn(1),eo.iushrn(1),++ed;for(var ef=eo.clone(),el=ei.clone();!ei.isZero();){for(var ep=0,eb=1;!(ei.words[0]&eb)&&ep<26;++ep,eb<<=1);if(ep>0)for(ei.iushrn(ep);ep-- >0;)(ea.isOdd()||ec.isOdd())&&(ea.iadd(ef),ec.isub(el)),ea.iushrn(1),ec.iushrn(1);for(var eg=0,em=1;!(eo.words[0]&em)&&eg<26;++eg,em<<=1);if(eg>0)for(eo.iushrn(eg);eg-- >0;)(eh.isOdd()||eu.isOdd())&&(eh.iadd(ef),eu.isub(el)),eh.iushrn(1),eu.iushrn(1);ei.cmp(eo)>=0?(ei.isub(eo),ea.isub(eh),ec.isub(eu)):(eo.isub(ei),eh.isub(ea),eu.isub(ec))}return{a:eh,b:eu,gcd:eo.iushln(ed)}},s.prototype._invmp=function(et){n(0===et.negative),n(!et.isZero());var ei=this,eo=et.clone();ei=0!==ei.negative?ei.umod(et):ei.clone();for(var ea,ec=new s(1),eh=new s(0),eu=eo.clone();ei.cmpn(1)>0&&eo.cmpn(1)>0;){for(var ed=0,ef=1;!(ei.words[0]&ef)&&ed<26;++ed,ef<<=1);if(ed>0)for(ei.iushrn(ed);ed-- >0;)ec.isOdd()&&ec.iadd(eu),ec.iushrn(1);for(var el=0,ep=1;!(eo.words[0]&ep)&&el<26;++el,ep<<=1);if(el>0)for(eo.iushrn(el);el-- >0;)eh.isOdd()&&eh.iadd(eu),eh.iushrn(1);ei.cmp(eo)>=0?(ei.isub(eo),ec.isub(eh)):(eo.isub(ei),eh.isub(ec))}return 0>(ea=0===ei.cmpn(1)?ec:eh).cmpn(0)&&ea.iadd(et),ea},s.prototype.gcd=function(et){if(this.isZero())return et.abs();if(et.isZero())return this.abs();var ei=this.clone(),eo=et.clone();ei.negative=0,eo.negative=0;for(var ea=0;ei.isEven()&&eo.isEven();ea++)ei.iushrn(1),eo.iushrn(1);for(;;){for(;ei.isEven();)ei.iushrn(1);for(;eo.isEven();)eo.iushrn(1);var ec=ei.cmp(eo);if(ec<0){var eh=ei;ei=eo,eo=eh}else if(0===ec||0===eo.cmpn(1))break;ei.isub(eo)}return eo.iushln(ea)},s.prototype.invm=function(et){return this.egcd(et).a.umod(et)},s.prototype.isEven=function(){return!(1&this.words[0])},s.prototype.isOdd=function(){return!(1&~this.words[0])},s.prototype.andln=function(et){return this.words[0]&et},s.prototype.bincn=function(et){n("number"==typeof et);var ei=et%26,eo=(et-ei)/26,ea=1<<ei;if(this.length<=eo)return this._expand(eo+1),this.words[eo]|=ea,this;for(var ec=ea,eh=eo;0!==ec&&eh<this.length;eh++){var eu=0|this.words[eh];ec=(eu+=ec)>>>26,eu&=67108863,this.words[eh]=eu}return 0!==ec&&(this.words[eh]=ec,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(et){var ei,eo=et<0;if(0!==this.negative&&!eo)return -1;if(0===this.negative&&eo)return 1;if(this._strip(),this.length>1)ei=1;else{eo&&(et=-et),n(et<=67108863,"Number is too big");var ea=0|this.words[0];ei=ea===et?0:ea<et?-1:1}return 0!==this.negative?0|-ei:ei},s.prototype.cmp=function(et){if(0!==this.negative&&0===et.negative)return -1;if(0===this.negative&&0!==et.negative)return 1;var ei=this.ucmp(et);return 0!==this.negative?0|-ei:ei},s.prototype.ucmp=function(et){if(this.length>et.length)return 1;if(this.length<et.length)return -1;for(var ei=0,eo=this.length-1;eo>=0;eo--){var ea=0|this.words[eo],ec=0|et.words[eo];if(ea!==ec){ea<ec?ei=-1:ea>ec&&(ei=1);break}}return ei},s.prototype.gtn=function(et){return 1===this.cmpn(et)},s.prototype.gt=function(et){return 1===this.cmp(et)},s.prototype.gten=function(et){return this.cmpn(et)>=0},s.prototype.gte=function(et){return this.cmp(et)>=0},s.prototype.ltn=function(et){return -1===this.cmpn(et)},s.prototype.lt=function(et){return -1===this.cmp(et)},s.prototype.lten=function(et){return 0>=this.cmpn(et)},s.prototype.lte=function(et){return 0>=this.cmp(et)},s.prototype.eqn=function(et){return 0===this.cmpn(et)},s.prototype.eq=function(et){return 0===this.cmp(et)},s.red=function(et){return new I(et)},s.prototype.toRed=function(et){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),et.convertTo(this)._forceRed(et)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(et){return this.red=et,this},s.prototype.forceRed=function(et){return n(!this.red,"Already a number in reduction context"),this._forceRed(et)},s.prototype.redAdd=function(et){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,et)},s.prototype.redIAdd=function(et){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,et)},s.prototype.redSub=function(et){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,et)},s.prototype.redISub=function(et){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,et)},s.prototype.redShl=function(et){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,et)},s.prototype.redMul=function(et){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,et),this.red.mul(this,et)},s.prototype.redIMul=function(et){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,et),this.red.imul(this,et)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(et){return n(this.red&&!et.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,et)};var ed={k256:null,p224:null,p192:null,p25519:null};function _(et,ei){this.name=et,this.p=new s(ei,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function E(){_.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function S(){_.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function A(){_.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function M(){_.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function I(et){if("string"==typeof et){var ei=s._prime(et);this.m=ei.p,this.prime=ei}else n(et.gtn(1),"modulus must be greater than 1"),this.m=et,this.prime=null}function T(et){I.call(this,et),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}_.prototype._tmp=function(){var et=new s(null);return et.words=Array(Math.ceil(this.n/13)),et},_.prototype.ireduce=function(et){var ei,eo=et;do this.split(eo,this.tmp),ei=(eo=(eo=this.imulK(eo)).iadd(this.tmp)).bitLength();while(ei>this.n);var ea=ei<this.n?-1:eo.ucmp(this.p);return 0===ea?(eo.words[0]=0,eo.length=1):ea>0?eo.isub(this.p):void 0!==eo.strip?eo.strip():eo._strip(),eo},_.prototype.split=function(et,ei){et.iushrn(this.n,0,ei)},_.prototype.imulK=function(et){return et.imul(this.k)},i(E,_),E.prototype.split=function(et,ei){for(var eo=Math.min(et.length,9),ea=0;ea<eo;ea++)ei.words[ea]=et.words[ea];if(ei.length=eo,et.length<=9)return et.words[0]=0,void(et.length=1);var ec=et.words[9];for(ei.words[ei.length++]=4194303&ec,ea=10;ea<et.length;ea++){var eh=0|et.words[ea];et.words[ea-10]=(4194303&eh)<<4|ec>>>22,ec=eh}ec>>>=22,et.words[ea-10]=ec,0===ec&&et.length>10?et.length-=10:et.length-=9},E.prototype.imulK=function(et){et.words[et.length]=0,et.words[et.length+1]=0,et.length+=2;for(var ei=0,eo=0;eo<et.length;eo++){var ea=0|et.words[eo];ei+=977*ea,et.words[eo]=67108863&ei,ei=64*ea+(ei/67108864|0)}return 0===et.words[et.length-1]&&(et.length--,0===et.words[et.length-1]&&et.length--),et},i(S,_),i(A,_),i(M,_),M.prototype.imulK=function(et){for(var ei=0,eo=0;eo<et.length;eo++){var ea=19*(0|et.words[eo])+ei,ec=67108863&ea;ea>>>=26,et.words[eo]=ec,ei=ea}return 0!==ei&&(et.words[et.length++]=ei),et},s._prime=function(et){var ei;if(ed[et])return ed[et];if("k256"===et)ei=new E;else if("p224"===et)ei=new S;else if("p192"===et)ei=new A;else{if("p25519"!==et)throw Error("Unknown prime "+et);ei=new M}return ed[et]=ei,ei},I.prototype._verify1=function(et){n(0===et.negative,"red works only with positives"),n(et.red,"red works only with red numbers")},I.prototype._verify2=function(et,ei){n(!(et.negative|ei.negative),"red works only with positives"),n(et.red&&et.red===ei.red,"red works only with red numbers")},I.prototype.imod=function(et){return this.prime?this.prime.ireduce(et)._forceRed(this):(u(et,et.umod(this.m)._forceRed(this)),et)},I.prototype.neg=function(et){return et.isZero()?et.clone():this.m.sub(et)._forceRed(this)},I.prototype.add=function(et,ei){this._verify2(et,ei);var eo=et.add(ei);return eo.cmp(this.m)>=0&&eo.isub(this.m),eo._forceRed(this)},I.prototype.iadd=function(et,ei){this._verify2(et,ei);var eo=et.iadd(ei);return eo.cmp(this.m)>=0&&eo.isub(this.m),eo},I.prototype.sub=function(et,ei){this._verify2(et,ei);var eo=et.sub(ei);return 0>eo.cmpn(0)&&eo.iadd(this.m),eo._forceRed(this)},I.prototype.isub=function(et,ei){this._verify2(et,ei);var eo=et.isub(ei);return 0>eo.cmpn(0)&&eo.iadd(this.m),eo},I.prototype.shl=function(et,ei){return this._verify1(et),this.imod(et.ushln(ei))},I.prototype.imul=function(et,ei){return this._verify2(et,ei),this.imod(et.imul(ei))},I.prototype.mul=function(et,ei){return this._verify2(et,ei),this.imod(et.mul(ei))},I.prototype.isqr=function(et){return this.imul(et,et.clone())},I.prototype.sqr=function(et){return this.mul(et,et)},I.prototype.sqrt=function(et){if(et.isZero())return et.clone();var ei=this.m.andln(3);if(n(ei%2==1),3===ei){var eo=this.m.add(new s(1)).iushrn(2);return this.pow(et,eo)}for(var ea=this.m.subn(1),ec=0;!ea.isZero()&&0===ea.andln(1);)ec++,ea.iushrn(1);n(!ea.isZero());var eh=new s(1).toRed(this),eu=eh.redNeg(),ed=this.m.subn(1).iushrn(1),ef=this.m.bitLength();for(ef=new s(2*ef*ef).toRed(this);0!==this.pow(ef,ed).cmp(eu);)ef.redIAdd(eu);for(var el=this.pow(ef,ea),ep=this.pow(et,ea.addn(1).iushrn(1)),eb=this.pow(et,ea),eg=ec;0!==eb.cmp(eh);){for(var em=eb,ey=0;0!==em.cmp(eh);ey++)em=em.redSqr();n(ey<eg);var ev=this.pow(el,new s(1).iushln(eg-ey-1));ep=ep.redMul(ev),el=ev.redSqr(),eb=eb.redMul(el),eg=ey}return ep},I.prototype.invm=function(et){var ei=et._invmp(this.m);return 0!==ei.negative?(ei.negative=0,this.imod(ei).redNeg()):this.imod(ei)},I.prototype.pow=function(et,ei){if(ei.isZero())return new s(1).toRed(this);if(0===ei.cmpn(1))return et.clone();var eo=Array(16);eo[0]=new s(1).toRed(this),eo[1]=et;for(var ea=2;ea<eo.length;ea++)eo[ea]=this.mul(eo[ea-1],et);var ec=eo[0],eh=0,eu=0,ed=ei.bitLength()%26;for(0===ed&&(ed=26),ea=ei.length-1;ea>=0;ea--){for(var ef=ei.words[ea],el=ed-1;el>=0;el--){var ep=ef>>el&1;ec!==eo[0]&&(ec=this.sqr(ec)),0!==ep||0!==eh?(eh<<=1,eh|=ep,(4==++eu||0===ea&&0===el)&&(ec=this.mul(ec,eo[eh]),eu=0,eh=0)):eu=0}ed=26}return ec},I.prototype.convertTo=function(et){var ei=et.umod(this.m);return ei===et?ei.clone():ei},I.prototype.convertFrom=function(et){var ei=et.clone();return ei.red=null,ei},s.mont=function(et){return new T(et)},i(T,I),T.prototype.convertTo=function(et){return this.imod(et.ushln(this.shift))},T.prototype.convertFrom=function(et){var ei=this.imod(et.mul(this.rinv));return ei.red=null,ei},T.prototype.imul=function(et,ei){if(et.isZero()||ei.isZero())return et.words[0]=0,et.length=1,et;var eo=et.imul(ei),ea=eo.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ec=eo.isub(ea).iushrn(this.shift),eh=ec;return ec.cmp(this.m)>=0?eh=ec.isub(this.m):0>ec.cmpn(0)&&(eh=ec.iadd(this.m)),eh._forceRed(this)},T.prototype.mul=function(et,ei){if(et.isZero()||ei.isZero())return new s(0)._forceRed(this);var eo=et.mul(ei),ea=eo.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ec=eo.isub(ea).iushrn(this.shift),eh=ec;return ec.cmp(this.m)>=0?eh=ec.isub(this.m):0>ec.cmpn(0)&&(eh=ec.iadd(this.m)),eh._forceRed(this)},T.prototype.invm=function(et){return this.imod(et._invmp(this.m).mul(this.r2))._forceRed(this)}}(et=eo.nmd(et),this)},5442:(et,ei,eo)=>{var ea;function i(et){this.rand=et}if(et.exports=function(et){return ea||(ea=new i(null)),ea.generate(et)},et.exports.Rand=i,i.prototype.generate=function(et){return this._rand(et)},i.prototype._rand=function(et){if(this.rand.getBytes)return this.rand.getBytes(et);for(var ei=new Uint8Array(et),eo=0;eo<ei.length;eo++)ei[eo]=this.rand.getByte();return ei},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?i.prototype._rand=function(et){var ei=new Uint8Array(et);return self.crypto.getRandomValues(ei),ei}:self.msCrypto&&self.msCrypto.getRandomValues?i.prototype._rand=function(et){var ei=new Uint8Array(et);return self.msCrypto.getRandomValues(ei),ei}:"object"==typeof window&&(i.prototype._rand=function(){throw Error("Not implemented yet")});else try{var ec=eo(4507);if("function"!=typeof ec.randomBytes)throw Error("Not supported");i.prototype._rand=function(et){return ec.randomBytes(et)}}catch(et){}},2858:et=>{"use strict";var ei="%[a-f0-9]{2}",eo=RegExp("("+ei+")|([^%]+?)","gi"),ea=RegExp("("+ei+")+","gi");et.exports=function(et){if("string"!=typeof et)throw TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof et+"`");try{return et=et.replace(/\+/g," "),decodeURIComponent(et)}catch(ei){return function(et){for(var ei={"%FE%FF":"��","%FF%FE":"��"},ec=ea.exec(et);ec;){try{ei[ec[0]]=decodeURIComponent(ec[0])}catch(et){var eh=function(et){try{return decodeURIComponent(et)}catch(ec){for(var ei=et.match(eo)||[],ea=1;ea<ei.length;ea++)ei=(et=(function i(et,ei){try{return[decodeURIComponent(et.join(""))]}catch(et){}if(1===et.length)return et;ei=ei||1;var eo=et.slice(0,ei),ea=et.slice(ei);return Array.prototype.concat.call([],i(eo),i(ea))})(ei,ea).join("")).match(eo)||[];return et}}(ec[0]);eh!==ec[0]&&(ei[ec[0]]=eh)}ec=ea.exec(et)}ei["%C2"]="�";for(var eu=Object.keys(ei),ed=0;ed<eu.length;ed++){var ef=eu[ed];et=et.replace(RegExp(ef,"g"),ei[ef])}return et}(et)}}},3210:(et,ei,eo)=>{"use strict";ei.version=eo(117).rE,ei.utils=eo(932),ei.rand=eo(5442),ei.curve=eo(7053),ei.curves=eo(85),ei.ec=eo(5774),ei.eddsa=eo(4905)},1288:(et,ei,eo)=>{"use strict";var ea=eo(4619),ec=eo(932),eh=ec.getNAF,eu=ec.getJSF,ed=ec.assert;function c(et,ei){this.type=et,this.p=new ea(ei.p,16),this.red=ei.prime?ea.red(ei.prime):ea.mont(this.p),this.zero=new ea(0).toRed(this.red),this.one=new ea(1).toRed(this.red),this.two=new ea(2).toRed(this.red),this.n=ei.n&&new ea(ei.n,16),this.g=ei.g&&this.pointFromJSON(ei.g,ei.gRed),this._wnafT1=[,,,,],this._wnafT2=[,,,,],this._wnafT3=[,,,,],this._wnafT4=[,,,,],this._bitLength=this.n?this.n.bitLength():0;var eo=this.n&&this.p.div(this.n);!eo||eo.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function h(et,ei){this.curve=et,this.type=ei,this.precomputed=null}et.exports=c,c.prototype.point=function(){throw Error("Not implemented")},c.prototype.validate=function(){throw Error("Not implemented")},c.prototype._fixedNafMul=function(et,ei){ed(et.precomputed);var eo=et._getDoubles(),ea=eh(ei,1,this._bitLength),ec=(1<<eo.step+1)-(eo.step%2==0?2:1);ec/=3;var eu,ef,el=[];for(eu=0;eu<ea.length;eu+=eo.step){ef=0;for(var ep=eu+eo.step-1;ep>=eu;ep--)ef=(ef<<1)+ea[ep];el.push(ef)}for(var eb=this.jpoint(null,null,null),eg=this.jpoint(null,null,null),em=ec;em>0;em--){for(eu=0;eu<el.length;eu++)(ef=el[eu])===em?eg=eg.mixedAdd(eo.points[eu]):ef===-em&&(eg=eg.mixedAdd(eo.points[eu].neg()));eb=eb.add(eg)}return eb.toP()},c.prototype._wnafMul=function(et,ei){var eo=4,ea=et._getNAFPoints(eo);eo=ea.wnd;for(var ec=ea.points,eu=eh(ei,eo,this._bitLength),ef=this.jpoint(null,null,null),el=eu.length-1;el>=0;el--){for(var ep=0;el>=0&&0===eu[el];el--)ep++;if(el>=0&&ep++,ef=ef.dblp(ep),el<0)break;var eb=eu[el];ed(0!==eb),ef="affine"===et.type?eb>0?ef.mixedAdd(ec[eb-1>>1]):ef.mixedAdd(ec[-eb-1>>1].neg()):eb>0?ef.add(ec[eb-1>>1]):ef.add(ec[-eb-1>>1].neg())}return"affine"===et.type?ef.toP():ef},c.prototype._wnafMulAdd=function(et,ei,eo,ea,ec){var ed,ef,el,ep=this._wnafT1,eb=this._wnafT2,eg=this._wnafT3,em=0;for(ed=0;ed<ea;ed++){var ey=(el=ei[ed])._getNAFPoints(et);ep[ed]=ey.wnd,eb[ed]=ey.points}for(ed=ea-1;ed>=1;ed-=2){var ev=ed-1,ew=ed;if(1===ep[ev]&&1===ep[ew]){var e_=[ei[ev],null,null,ei[ew]];0===ei[ev].y.cmp(ei[ew].y)?(e_[1]=ei[ev].add(ei[ew]),e_[2]=ei[ev].toJ().mixedAdd(ei[ew].neg())):0===ei[ev].y.cmp(ei[ew].y.redNeg())?(e_[1]=ei[ev].toJ().mixedAdd(ei[ew]),e_[2]=ei[ev].add(ei[ew].neg())):(e_[1]=ei[ev].toJ().mixedAdd(ei[ew]),e_[2]=ei[ev].toJ().mixedAdd(ei[ew].neg()));var eE=[-3,-1,-5,-7,0,7,5,1,3],eS=eu(eo[ev],eo[ew]);for(em=Math.max(eS[0].length,em),eg[ev]=Array(em),eg[ew]=Array(em),ef=0;ef<em;ef++){var eA=0|eS[0][ef],eM=0|eS[1][ef];eg[ev][ef]=eE[3*(eA+1)+(eM+1)],eg[ew][ef]=0,eb[ev]=e_}}else eg[ev]=eh(eo[ev],ep[ev],this._bitLength),eg[ew]=eh(eo[ew],ep[ew],this._bitLength),em=Math.max(eg[ev].length,em),em=Math.max(eg[ew].length,em)}var eI=this.jpoint(null,null,null),eT=this._wnafT4;for(ed=em;ed>=0;ed--){for(var ex=0;ed>=0;){var eC=!0;for(ef=0;ef<ea;ef++)eT[ef]=0|eg[ef][ed],0!==eT[ef]&&(eC=!1);if(!eC)break;ex++,ed--}if(ed>=0&&ex++,eI=eI.dblp(ex),ed<0)break;for(ef=0;ef<ea;ef++){var eR=eT[ef];0!==eR&&(eR>0?el=eb[ef][eR-1>>1]:eR<0&&(el=eb[ef][-eR-1>>1].neg()),eI="affine"===el.type?eI.mixedAdd(el):eI.add(el))}}for(ed=0;ed<ea;ed++)eb[ed]=null;return ec?eI:eI.toP()},c.BasePoint=h,h.prototype.eq=function(){throw Error("Not implemented")},h.prototype.validate=function(){return this.curve.validate(this)},c.prototype.decodePoint=function(et,ei){et=ec.toArray(et,ei);var eo=this.p.byteLength();if((4===et[0]||6===et[0]||7===et[0])&&et.length-1==2*eo)return 6===et[0]?ed(et[et.length-1]%2==0):7===et[0]&&ed(et[et.length-1]%2==1),this.point(et.slice(1,1+eo),et.slice(1+eo,1+2*eo));if((2===et[0]||3===et[0])&&et.length-1===eo)return this.pointFromX(et.slice(1,1+eo),3===et[0]);throw Error("Unknown point format")},h.prototype.encodeCompressed=function(et){return this.encode(et,!0)},h.prototype._encode=function(et){var ei=this.curve.p.byteLength(),eo=this.getX().toArray("be",ei);return et?[this.getY().isEven()?2:3].concat(eo):[4].concat(eo,this.getY().toArray("be",ei))},h.prototype.encode=function(et,ei){return ec.encode(this._encode(ei),et)},h.prototype.precompute=function(et){if(this.precomputed)return this;var ei={doubles:null,naf:null,beta:null};return ei.naf=this._getNAFPoints(8),ei.doubles=this._getDoubles(4,et),ei.beta=this._getBeta(),this.precomputed=ei,this},h.prototype._hasDoubles=function(et){if(!this.precomputed)return!1;var ei=this.precomputed.doubles;return!!ei&&ei.points.length>=Math.ceil((et.bitLength()+1)/ei.step)},h.prototype._getDoubles=function(et,ei){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var eo=[this],ea=this,ec=0;ec<ei;ec+=et){for(var eh=0;eh<et;eh++)ea=ea.dbl();eo.push(ea)}return{step:et,points:eo}},h.prototype._getNAFPoints=function(et){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var ei=[this],eo=(1<<et)-1,ea=1===eo?null:this.dbl(),ec=1;ec<eo;ec++)ei[ec]=ei[ec-1].add(ea);return{wnd:et,points:ei}},h.prototype._getBeta=function(){return null},h.prototype.dblp=function(et){for(var ei=this,eo=0;eo<et;eo++)ei=ei.dbl();return ei}},493:(et,ei,eo)=>{"use strict";var ea=eo(932),ec=eo(4619),eh=eo(1193),eu=eo(1288),ed=ea.assert;function c(et){this.twisted=1!=(0|et.a),this.mOneA=this.twisted&&-1==(0|et.a),this.extended=this.mOneA,eu.call(this,"edwards",et),this.a=new ec(et.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new ec(et.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new ec(et.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),ed(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|et.c)}function h(et,ei,eo,ea,eh){eu.BasePoint.call(this,et,"projective"),null===ei&&null===eo&&null===ea?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new ec(ei,16),this.y=new ec(eo,16),this.z=ea?new ec(ea,16):this.curve.one,this.t=eh&&new ec(eh,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}eh(c,eu),et.exports=c,c.prototype._mulA=function(et){return this.mOneA?et.redNeg():this.a.redMul(et)},c.prototype._mulC=function(et){return this.oneC?et:this.c.redMul(et)},c.prototype.jpoint=function(et,ei,eo,ea){return this.point(et,ei,eo,ea)},c.prototype.pointFromX=function(et,ei){(et=new ec(et,16)).red||(et=et.toRed(this.red));var eo=et.redSqr(),ea=this.c2.redSub(this.a.redMul(eo)),eh=this.one.redSub(this.c2.redMul(this.d).redMul(eo)),eu=ea.redMul(eh.redInvm()),ed=eu.redSqrt();if(0!==ed.redSqr().redSub(eu).cmp(this.zero))throw Error("invalid point");var ef=ed.fromRed().isOdd();return(ei&&!ef||!ei&&ef)&&(ed=ed.redNeg()),this.point(et,ed)},c.prototype.pointFromY=function(et,ei){(et=new ec(et,16)).red||(et=et.toRed(this.red));var eo=et.redSqr(),ea=eo.redSub(this.c2),eh=eo.redMul(this.d).redMul(this.c2).redSub(this.a),eu=ea.redMul(eh.redInvm());if(0===eu.cmp(this.zero)){if(ei)throw Error("invalid point");return this.point(this.zero,et)}var ed=eu.redSqrt();if(0!==ed.redSqr().redSub(eu).cmp(this.zero))throw Error("invalid point");return ed.fromRed().isOdd()!==ei&&(ed=ed.redNeg()),this.point(ed,et)},c.prototype.validate=function(et){if(et.isInfinity())return!0;et.normalize();var ei=et.x.redSqr(),eo=et.y.redSqr(),ea=ei.redMul(this.a).redAdd(eo),ec=this.c2.redMul(this.one.redAdd(this.d.redMul(ei).redMul(eo)));return 0===ea.cmp(ec)},eh(h,eu.BasePoint),c.prototype.pointFromJSON=function(et){return h.fromJSON(this,et)},c.prototype.point=function(et,ei,eo,ea){return new h(this,et,ei,eo,ea)},h.fromJSON=function(et,ei){return new h(et,ei[0],ei[1],ei[2])},h.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},h.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},h.prototype._extDbl=function(){var et=this.x.redSqr(),ei=this.y.redSqr(),eo=this.z.redSqr();eo=eo.redIAdd(eo);var ea=this.curve._mulA(et),ec=this.x.redAdd(this.y).redSqr().redISub(et).redISub(ei),eh=ea.redAdd(ei),eu=eh.redSub(eo),ed=ea.redSub(ei),ef=ec.redMul(eu),el=eh.redMul(ed),ep=ec.redMul(ed),eb=eu.redMul(eh);return this.curve.point(ef,el,eb,ep)},h.prototype._projDbl=function(){var et,ei,eo,ea,ec,eh,eu=this.x.redAdd(this.y).redSqr(),ed=this.x.redSqr(),ef=this.y.redSqr();if(this.curve.twisted){var el=(ea=this.curve._mulA(ed)).redAdd(ef);this.zOne?(et=eu.redSub(ed).redSub(ef).redMul(el.redSub(this.curve.two)),ei=el.redMul(ea.redSub(ef)),eo=el.redSqr().redSub(el).redSub(el)):(ec=this.z.redSqr(),eh=el.redSub(ec).redISub(ec),et=eu.redSub(ed).redISub(ef).redMul(eh),ei=el.redMul(ea.redSub(ef)),eo=el.redMul(eh))}else ea=ed.redAdd(ef),ec=this.curve._mulC(this.z).redSqr(),eh=ea.redSub(ec).redSub(ec),et=this.curve._mulC(eu.redISub(ea)).redMul(eh),ei=this.curve._mulC(ea).redMul(ed.redISub(ef)),eo=ea.redMul(eh);return this.curve.point(et,ei,eo)},h.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},h.prototype._extAdd=function(et){var ei=this.y.redSub(this.x).redMul(et.y.redSub(et.x)),eo=this.y.redAdd(this.x).redMul(et.y.redAdd(et.x)),ea=this.t.redMul(this.curve.dd).redMul(et.t),ec=this.z.redMul(et.z.redAdd(et.z)),eh=eo.redSub(ei),eu=ec.redSub(ea),ed=ec.redAdd(ea),ef=eo.redAdd(ei),el=eh.redMul(eu),ep=ed.redMul(ef),eb=eh.redMul(ef),eg=eu.redMul(ed);return this.curve.point(el,ep,eg,eb)},h.prototype._projAdd=function(et){var ei,eo,ea=this.z.redMul(et.z),ec=ea.redSqr(),eh=this.x.redMul(et.x),eu=this.y.redMul(et.y),ed=this.curve.d.redMul(eh).redMul(eu),ef=ec.redSub(ed),el=ec.redAdd(ed),ep=this.x.redAdd(this.y).redMul(et.x.redAdd(et.y)).redISub(eh).redISub(eu),eb=ea.redMul(ef).redMul(ep);return this.curve.twisted?(ei=ea.redMul(el).redMul(eu.redSub(this.curve._mulA(eh))),eo=ef.redMul(el)):(ei=ea.redMul(el).redMul(eu.redSub(eh)),eo=this.curve._mulC(ef).redMul(el)),this.curve.point(eb,ei,eo)},h.prototype.add=function(et){return this.isInfinity()?et:et.isInfinity()?this:this.curve.extended?this._extAdd(et):this._projAdd(et)},h.prototype.mul=function(et){return this._hasDoubles(et)?this.curve._fixedNafMul(this,et):this.curve._wnafMul(this,et)},h.prototype.mulAdd=function(et,ei,eo){return this.curve._wnafMulAdd(1,[this,ei],[et,eo],2,!1)},h.prototype.jmulAdd=function(et,ei,eo){return this.curve._wnafMulAdd(1,[this,ei],[et,eo],2,!0)},h.prototype.normalize=function(){if(this.zOne)return this;var et=this.z.redInvm();return this.x=this.x.redMul(et),this.y=this.y.redMul(et),this.t&&(this.t=this.t.redMul(et)),this.z=this.curve.one,this.zOne=!0,this},h.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},h.prototype.getX=function(){return this.normalize(),this.x.fromRed()},h.prototype.getY=function(){return this.normalize(),this.y.fromRed()},h.prototype.eq=function(et){return this===et||0===this.getX().cmp(et.getX())&&0===this.getY().cmp(et.getY())},h.prototype.eqXToP=function(et){var ei=et.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(ei))return!0;for(var eo=et.clone(),ea=this.curve.redN.redMul(this.z);;){if(eo.iadd(this.curve.n),eo.cmp(this.curve.p)>=0)return!1;if(ei.redIAdd(ea),0===this.x.cmp(ei))return!0}},h.prototype.toP=h.prototype.normalize,h.prototype.mixedAdd=h.prototype.add},7053:(et,ei,eo)=>{"use strict";ei.base=eo(1288),ei.short=eo(8855),ei.mont=eo(2535),ei.edwards=eo(493)},2535:(et,ei,eo)=>{"use strict";var ea=eo(4619),ec=eo(1193),eh=eo(1288),eu=eo(932);function a(et){eh.call(this,"mont",et),this.a=new ea(et.a,16).toRed(this.red),this.b=new ea(et.b,16).toRed(this.red),this.i4=new ea(4).toRed(this.red).redInvm(),this.two=new ea(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function c(et,ei,eo){eh.BasePoint.call(this,et,"projective"),null===ei&&null===eo?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new ea(ei,16),this.z=new ea(eo,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}ec(a,eh),et.exports=a,a.prototype.validate=function(et){var ei=et.normalize().x,eo=ei.redSqr(),ea=eo.redMul(ei).redAdd(eo.redMul(this.a)).redAdd(ei);return 0===ea.redSqrt().redSqr().cmp(ea)},ec(c,eh.BasePoint),a.prototype.decodePoint=function(et,ei){return this.point(eu.toArray(et,ei),1)},a.prototype.point=function(et,ei){return new c(this,et,ei)},a.prototype.pointFromJSON=function(et){return c.fromJSON(this,et)},c.prototype.precompute=function(){},c.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},c.fromJSON=function(et,ei){return new c(et,ei[0],ei[1]||et.one)},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},c.prototype.dbl=function(){var et=this.x.redAdd(this.z).redSqr(),ei=this.x.redSub(this.z).redSqr(),eo=et.redSub(ei),ea=et.redMul(ei),ec=eo.redMul(ei.redAdd(this.curve.a24.redMul(eo)));return this.curve.point(ea,ec)},c.prototype.add=function(){throw Error("Not supported on Montgomery curve")},c.prototype.diffAdd=function(et,ei){var eo=this.x.redAdd(this.z),ea=this.x.redSub(this.z),ec=et.x.redAdd(et.z),eh=et.x.redSub(et.z).redMul(eo),eu=ec.redMul(ea),ed=ei.z.redMul(eh.redAdd(eu).redSqr()),ef=ei.x.redMul(eh.redISub(eu).redSqr());return this.curve.point(ed,ef)},c.prototype.mul=function(et){for(var ei=et.clone(),eo=this,ea=this.curve.point(null,null),ec=[];0!==ei.cmpn(0);ei.iushrn(1))ec.push(ei.andln(1));for(var eh=ec.length-1;eh>=0;eh--)0===ec[eh]?(eo=eo.diffAdd(ea,this),ea=ea.dbl()):(ea=eo.diffAdd(ea,this),eo=eo.dbl());return ea},c.prototype.mulAdd=function(){throw Error("Not supported on Montgomery curve")},c.prototype.jumlAdd=function(){throw Error("Not supported on Montgomery curve")},c.prototype.eq=function(et){return 0===this.getX().cmp(et.getX())},c.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},8855:(et,ei,eo)=>{"use strict";var ea=eo(932),ec=eo(4619),eh=eo(1193),eu=eo(1288),ed=ea.assert;function c(et){eu.call(this,"short",et),this.a=new ec(et.a,16).toRed(this.red),this.b=new ec(et.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(et),this._endoWnafT1=[,,,,],this._endoWnafT2=[,,,,]}function h(et,ei,eo,ea){eu.BasePoint.call(this,et,"affine"),null===ei&&null===eo?(this.x=null,this.y=null,this.inf=!0):(this.x=new ec(ei,16),this.y=new ec(eo,16),ea&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function u(et,ei,eo,ea){eu.BasePoint.call(this,et,"jacobian"),null===ei&&null===eo&&null===ea?(this.x=this.curve.one,this.y=this.curve.one,this.z=new ec(0)):(this.x=new ec(ei,16),this.y=new ec(eo,16),this.z=new ec(ea,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}eh(c,eu),et.exports=c,c.prototype._getEndomorphism=function(et){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var ei,eo;if(et.beta)ei=new ec(et.beta,16).toRed(this.red);else{var ea=this._getEndoRoots(this.p);ei=(ei=0>ea[0].cmp(ea[1])?ea[0]:ea[1]).toRed(this.red)}if(et.lambda)eo=new ec(et.lambda,16);else{var eh=this._getEndoRoots(this.n);0===this.g.mul(eh[0]).x.cmp(this.g.x.redMul(ei))?eo=eh[0]:(eo=eh[1],ed(0===this.g.mul(eo).x.cmp(this.g.x.redMul(ei))))}return{beta:ei,lambda:eo,basis:et.basis?et.basis.map(function(et){return{a:new ec(et.a,16),b:new ec(et.b,16)}}):this._getEndoBasis(eo)}}},c.prototype._getEndoRoots=function(et){var ei=et===this.p?this.red:ec.mont(et),eo=new ec(2).toRed(ei).redInvm(),ea=eo.redNeg(),eh=new ec(3).toRed(ei).redNeg().redSqrt().redMul(eo);return[ea.redAdd(eh).fromRed(),ea.redSub(eh).fromRed()]},c.prototype._getEndoBasis=function(et){for(var ei,eo,ea,eh,eu,ed,ef,el,ep,eb=this.n.ushrn(Math.floor(this.n.bitLength()/2)),eg=et,em=this.n.clone(),ey=new ec(1),ev=new ec(0),ew=new ec(0),e_=new ec(1),eE=0;0!==eg.cmpn(0);){var eS=em.div(eg);el=em.sub(eS.mul(eg)),ep=ew.sub(eS.mul(ey));var eA=e_.sub(eS.mul(ev));if(!ea&&0>el.cmp(eb))ei=ef.neg(),eo=ey,ea=el.neg(),eh=ep;else if(ea&&2==++eE)break;ef=el,em=eg,eg=el,ew=ey,ey=ep,e_=ev,ev=eA}eu=el.neg(),ed=ep;var eM=ea.sqr().add(eh.sqr());return eu.sqr().add(ed.sqr()).cmp(eM)>=0&&(eu=ei,ed=eo),ea.negative&&(ea=ea.neg(),eh=eh.neg()),eu.negative&&(eu=eu.neg(),ed=ed.neg()),[{a:ea,b:eh},{a:eu,b:ed}]},c.prototype._endoSplit=function(et){var ei=this.endo.basis,eo=ei[0],ea=ei[1],ec=ea.b.mul(et).divRound(this.n),eh=eo.b.neg().mul(et).divRound(this.n),eu=ec.mul(eo.a),ed=eh.mul(ea.a),ef=ec.mul(eo.b),el=eh.mul(ea.b);return{k1:et.sub(eu).sub(ed),k2:ef.add(el).neg()}},c.prototype.pointFromX=function(et,ei){(et=new ec(et,16)).red||(et=et.toRed(this.red));var eo=et.redSqr().redMul(et).redIAdd(et.redMul(this.a)).redIAdd(this.b),ea=eo.redSqrt();if(0!==ea.redSqr().redSub(eo).cmp(this.zero))throw Error("invalid point");var eh=ea.fromRed().isOdd();return(ei&&!eh||!ei&&eh)&&(ea=ea.redNeg()),this.point(et,ea)},c.prototype.validate=function(et){if(et.inf)return!0;var ei=et.x,eo=et.y,ea=this.a.redMul(ei),ec=ei.redSqr().redMul(ei).redIAdd(ea).redIAdd(this.b);return 0===eo.redSqr().redISub(ec).cmpn(0)},c.prototype._endoWnafMulAdd=function(et,ei,eo){for(var ea=this._endoWnafT1,ec=this._endoWnafT2,eh=0;eh<et.length;eh++){var eu=this._endoSplit(ei[eh]),ed=et[eh],ef=ed._getBeta();eu.k1.negative&&(eu.k1.ineg(),ed=ed.neg(!0)),eu.k2.negative&&(eu.k2.ineg(),ef=ef.neg(!0)),ea[2*eh]=ed,ea[2*eh+1]=ef,ec[2*eh]=eu.k1,ec[2*eh+1]=eu.k2}for(var el=this._wnafMulAdd(1,ea,ec,2*eh,eo),ep=0;ep<2*eh;ep++)ea[ep]=null,ec[ep]=null;return el},eh(h,eu.BasePoint),c.prototype.point=function(et,ei,eo){return new h(this,et,ei,eo)},c.prototype.pointFromJSON=function(et,ei){return h.fromJSON(this,et,ei)},h.prototype._getBeta=function(){if(this.curve.endo){var et=this.precomputed;if(et&&et.beta)return et.beta;var ei=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(et){var eo=this.curve,n=function(et){return eo.point(et.x.redMul(eo.endo.beta),et.y)};et.beta=ei,ei.precomputed={beta:null,naf:et.naf&&{wnd:et.naf.wnd,points:et.naf.points.map(n)},doubles:et.doubles&&{step:et.doubles.step,points:et.doubles.points.map(n)}}}return ei}},h.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},h.fromJSON=function(et,ei,eo){"string"==typeof ei&&(ei=JSON.parse(ei));var ea=et.point(ei[0],ei[1],eo);if(!ei[2])return ea;function i(ei){return et.point(ei[0],ei[1],eo)}var ec=ei[2];return ea.precomputed={beta:null,doubles:ec.doubles&&{step:ec.doubles.step,points:[ea].concat(ec.doubles.points.map(i))},naf:ec.naf&&{wnd:ec.naf.wnd,points:[ea].concat(ec.naf.points.map(i))}},ea},h.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},h.prototype.isInfinity=function(){return this.inf},h.prototype.add=function(et){if(this.inf)return et;if(et.inf)return this;if(this.eq(et))return this.dbl();if(this.neg().eq(et)||0===this.x.cmp(et.x))return this.curve.point(null,null);var ei=this.y.redSub(et.y);0!==ei.cmpn(0)&&(ei=ei.redMul(this.x.redSub(et.x).redInvm()));var eo=ei.redSqr().redISub(this.x).redISub(et.x),ea=ei.redMul(this.x.redSub(eo)).redISub(this.y);return this.curve.point(eo,ea)},h.prototype.dbl=function(){if(this.inf)return this;var et=this.y.redAdd(this.y);if(0===et.cmpn(0))return this.curve.point(null,null);var ei=this.curve.a,eo=this.x.redSqr(),ea=et.redInvm(),ec=eo.redAdd(eo).redIAdd(eo).redIAdd(ei).redMul(ea),eh=ec.redSqr().redISub(this.x.redAdd(this.x)),eu=ec.redMul(this.x.redSub(eh)).redISub(this.y);return this.curve.point(eh,eu)},h.prototype.getX=function(){return this.x.fromRed()},h.prototype.getY=function(){return this.y.fromRed()},h.prototype.mul=function(et){return et=new ec(et,16),this.isInfinity()?this:this._hasDoubles(et)?this.curve._fixedNafMul(this,et):this.curve.endo?this.curve._endoWnafMulAdd([this],[et]):this.curve._wnafMul(this,et)},h.prototype.mulAdd=function(et,ei,eo){var ea=[this,ei],ec=[et,eo];return this.curve.endo?this.curve._endoWnafMulAdd(ea,ec):this.curve._wnafMulAdd(1,ea,ec,2)},h.prototype.jmulAdd=function(et,ei,eo){var ea=[this,ei],ec=[et,eo];return this.curve.endo?this.curve._endoWnafMulAdd(ea,ec,!0):this.curve._wnafMulAdd(1,ea,ec,2,!0)},h.prototype.eq=function(et){return this===et||this.inf===et.inf&&(this.inf||0===this.x.cmp(et.x)&&0===this.y.cmp(et.y))},h.prototype.neg=function(et){if(this.inf)return this;var ei=this.curve.point(this.x,this.y.redNeg());if(et&&this.precomputed){var eo=this.precomputed,n=function(et){return et.neg()};ei.precomputed={naf:eo.naf&&{wnd:eo.naf.wnd,points:eo.naf.points.map(n)},doubles:eo.doubles&&{step:eo.doubles.step,points:eo.doubles.points.map(n)}}}return ei},h.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},eh(u,eu.BasePoint),c.prototype.jpoint=function(et,ei,eo){return new u(this,et,ei,eo)},u.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var et=this.z.redInvm(),ei=et.redSqr(),eo=this.x.redMul(ei),ea=this.y.redMul(ei).redMul(et);return this.curve.point(eo,ea)},u.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},u.prototype.add=function(et){if(this.isInfinity())return et;if(et.isInfinity())return this;var ei=et.z.redSqr(),eo=this.z.redSqr(),ea=this.x.redMul(ei),ec=et.x.redMul(eo),eh=this.y.redMul(ei.redMul(et.z)),eu=et.y.redMul(eo.redMul(this.z)),ed=ea.redSub(ec),ef=eh.redSub(eu);if(0===ed.cmpn(0))return 0!==ef.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var el=ed.redSqr(),ep=el.redMul(ed),eb=ea.redMul(el),eg=ef.redSqr().redIAdd(ep).redISub(eb).redISub(eb),em=ef.redMul(eb.redISub(eg)).redISub(eh.redMul(ep)),ey=this.z.redMul(et.z).redMul(ed);return this.curve.jpoint(eg,em,ey)},u.prototype.mixedAdd=function(et){if(this.isInfinity())return et.toJ();if(et.isInfinity())return this;var ei=this.z.redSqr(),eo=this.x,ea=et.x.redMul(ei),ec=this.y,eh=et.y.redMul(ei).redMul(this.z),eu=eo.redSub(ea),ed=ec.redSub(eh);if(0===eu.cmpn(0))return 0!==ed.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var ef=eu.redSqr(),el=ef.redMul(eu),ep=eo.redMul(ef),eb=ed.redSqr().redIAdd(el).redISub(ep).redISub(ep),eg=ed.redMul(ep.redISub(eb)).redISub(ec.redMul(el)),em=this.z.redMul(eu);return this.curve.jpoint(eb,eg,em)},u.prototype.dblp=function(et){if(0===et||this.isInfinity())return this;if(!et)return this.dbl();if(this.curve.zeroA||this.curve.threeA){var ei,eo=this;for(ei=0;ei<et;ei++)eo=eo.dbl();return eo}var ea=this.curve.a,ec=this.curve.tinv,eh=this.x,eu=this.y,ed=this.z,ef=ed.redSqr().redSqr(),el=eu.redAdd(eu);for(ei=0;ei<et;ei++){var ep=eh.redSqr(),eb=el.redSqr(),eg=eb.redSqr(),em=ep.redAdd(ep).redIAdd(ep).redIAdd(ea.redMul(ef)),ey=eh.redMul(eb),ev=em.redSqr().redISub(ey.redAdd(ey)),ew=ey.redISub(ev),e_=em.redMul(ew);e_=e_.redIAdd(e_).redISub(eg);var eE=el.redMul(ed);ei+1<et&&(ef=ef.redMul(eg)),eh=ev,ed=eE,el=e_}return this.curve.jpoint(eh,el.redMul(ec),ed)},u.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},u.prototype._zeroDbl=function(){var et,ei,eo;if(this.zOne){var ea=this.x.redSqr(),ec=this.y.redSqr(),eh=ec.redSqr(),eu=this.x.redAdd(ec).redSqr().redISub(ea).redISub(eh);eu=eu.redIAdd(eu);var ed=ea.redAdd(ea).redIAdd(ea),ef=ed.redSqr().redISub(eu).redISub(eu),el=eh.redIAdd(eh);el=(el=el.redIAdd(el)).redIAdd(el),et=ef,ei=ed.redMul(eu.redISub(ef)).redISub(el),eo=this.y.redAdd(this.y)}else{var ep=this.x.redSqr(),eb=this.y.redSqr(),eg=eb.redSqr(),em=this.x.redAdd(eb).redSqr().redISub(ep).redISub(eg);em=em.redIAdd(em);var ey=ep.redAdd(ep).redIAdd(ep),ev=ey.redSqr(),ew=eg.redIAdd(eg);ew=(ew=ew.redIAdd(ew)).redIAdd(ew),et=ev.redISub(em).redISub(em),ei=ey.redMul(em.redISub(et)).redISub(ew),eo=(eo=this.y.redMul(this.z)).redIAdd(eo)}return this.curve.jpoint(et,ei,eo)},u.prototype._threeDbl=function(){var et,ei,eo;if(this.zOne){var ea=this.x.redSqr(),ec=this.y.redSqr(),eh=ec.redSqr(),eu=this.x.redAdd(ec).redSqr().redISub(ea).redISub(eh);eu=eu.redIAdd(eu);var ed=ea.redAdd(ea).redIAdd(ea).redIAdd(this.curve.a),ef=ed.redSqr().redISub(eu).redISub(eu);et=ef;var el=eh.redIAdd(eh);el=(el=el.redIAdd(el)).redIAdd(el),ei=ed.redMul(eu.redISub(ef)).redISub(el),eo=this.y.redAdd(this.y)}else{var ep=this.z.redSqr(),eb=this.y.redSqr(),eg=this.x.redMul(eb),em=this.x.redSub(ep).redMul(this.x.redAdd(ep));em=em.redAdd(em).redIAdd(em);var ey=eg.redIAdd(eg),ev=(ey=ey.redIAdd(ey)).redAdd(ey);et=em.redSqr().redISub(ev),eo=this.y.redAdd(this.z).redSqr().redISub(eb).redISub(ep);var ew=eb.redSqr();ew=(ew=(ew=ew.redIAdd(ew)).redIAdd(ew)).redIAdd(ew),ei=em.redMul(ey.redISub(et)).redISub(ew)}return this.curve.jpoint(et,ei,eo)},u.prototype._dbl=function(){var et=this.curve.a,ei=this.x,eo=this.y,ea=this.z,ec=ea.redSqr().redSqr(),eh=ei.redSqr(),eu=eo.redSqr(),ed=eh.redAdd(eh).redIAdd(eh).redIAdd(et.redMul(ec)),ef=ei.redAdd(ei),el=(ef=ef.redIAdd(ef)).redMul(eu),ep=ed.redSqr().redISub(el.redAdd(el)),eb=el.redISub(ep),eg=eu.redSqr();eg=(eg=(eg=eg.redIAdd(eg)).redIAdd(eg)).redIAdd(eg);var em=ed.redMul(eb).redISub(eg),ey=eo.redAdd(eo).redMul(ea);return this.curve.jpoint(ep,em,ey)},u.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var et=this.x.redSqr(),ei=this.y.redSqr(),eo=this.z.redSqr(),ea=ei.redSqr(),ec=et.redAdd(et).redIAdd(et),eh=ec.redSqr(),eu=this.x.redAdd(ei).redSqr().redISub(et).redISub(ea),ed=(eu=(eu=(eu=eu.redIAdd(eu)).redAdd(eu).redIAdd(eu)).redISub(eh)).redSqr(),ef=ea.redIAdd(ea);ef=(ef=(ef=ef.redIAdd(ef)).redIAdd(ef)).redIAdd(ef);var el=ec.redIAdd(eu).redSqr().redISub(eh).redISub(ed).redISub(ef),ep=ei.redMul(el);ep=(ep=ep.redIAdd(ep)).redIAdd(ep);var eb=this.x.redMul(ed).redISub(ep);eb=(eb=eb.redIAdd(eb)).redIAdd(eb);var eg=this.y.redMul(el.redMul(ef.redISub(el)).redISub(eu.redMul(ed)));eg=(eg=(eg=eg.redIAdd(eg)).redIAdd(eg)).redIAdd(eg);var em=this.z.redAdd(eu).redSqr().redISub(eo).redISub(ed);return this.curve.jpoint(eb,eg,em)},u.prototype.mul=function(et,ei){return et=new ec(et,ei),this.curve._wnafMul(this,et)},u.prototype.eq=function(et){if("affine"===et.type)return this.eq(et.toJ());if(this===et)return!0;var ei=this.z.redSqr(),eo=et.z.redSqr();if(0!==this.x.redMul(eo).redISub(et.x.redMul(ei)).cmpn(0))return!1;var ea=ei.redMul(this.z),ec=eo.redMul(et.z);return 0===this.y.redMul(ec).redISub(et.y.redMul(ea)).cmpn(0)},u.prototype.eqXToP=function(et){var ei=this.z.redSqr(),eo=et.toRed(this.curve.red).redMul(ei);if(0===this.x.cmp(eo))return!0;for(var ea=et.clone(),ec=this.curve.redN.redMul(ei);;){if(ea.iadd(this.curve.n),ea.cmp(this.curve.p)>=0)return!1;if(eo.redIAdd(ec),0===this.x.cmp(eo))return!0}},u.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},u.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},85:(et,ei,eo)=>{"use strict";var ea,ec=eo(1631),eh=eo(7053),eu=eo(932).assert;function c(et){"short"===et.type?this.curve=new eh.short(et):"edwards"===et.type?this.curve=new eh.edwards(et):this.curve=new eh.mont(et),this.g=this.curve.g,this.n=this.curve.n,this.hash=et.hash,eu(this.g.validate(),"Invalid curve"),eu(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function h(et,eo){Object.defineProperty(ei,et,{configurable:!0,enumerable:!0,get:function(){var ea=new c(eo);return Object.defineProperty(ei,et,{configurable:!0,enumerable:!0,value:ea}),ea}})}ei.PresetCurve=c,h("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:ec.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),h("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:ec.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),h("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:ec.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),h("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:ec.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),h("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:ec.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),h("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:ec.sha256,gRed:!1,g:["9"]}),h("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:ec.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{ea=eo(748)}catch(et){ea=void 0}h("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:ec.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",ea]})},5774:(et,ei,eo)=>{"use strict";var ea=eo(4619),ec=eo(2519),eh=eo(932),eu=eo(85),ed=eo(5442),ef=eh.assert,el=eo(9801),ep=eo(480);function d(et){if(!(this instanceof d))return new d(et);"string"==typeof et&&(ef(Object.prototype.hasOwnProperty.call(eu,et),"Unknown curve "+et),et=eu[et]),et instanceof eu.PresetCurve&&(et={curve:et}),this.curve=et.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=et.curve.g,this.g.precompute(et.curve.n.bitLength()+1),this.hash=et.hash||et.curve.hash}et.exports=d,d.prototype.keyPair=function(et){return new el(this,et)},d.prototype.keyFromPrivate=function(et,ei){return el.fromPrivate(this,et,ei)},d.prototype.keyFromPublic=function(et,ei){return el.fromPublic(this,et,ei)},d.prototype.genKeyPair=function(et){et||(et={});for(var ei=new ec({hash:this.hash,pers:et.pers,persEnc:et.persEnc||"utf8",entropy:et.entropy||ed(this.hash.hmacStrength),entropyEnc:et.entropy&&et.entropyEnc||"utf8",nonce:this.n.toArray()}),eo=this.n.byteLength(),eh=this.n.sub(new ea(2));;){var eu=new ea(ei.generate(eo));if(!(eu.cmp(eh)>0))return eu.iaddn(1),this.keyFromPrivate(eu)}},d.prototype._truncateToN=function(et,ei,eo){if(ea.isBN(et)||"number"==typeof et)ec=(et=new ea(et,16)).byteLength();else if("object"==typeof et)ec=et.length,et=new ea(et,16);else{var ec,eh=et.toString();ec=eh.length+1>>>1,et=new ea(eh,16)}"number"!=typeof eo&&(eo=8*ec);var eu=eo-this.n.bitLength();return eu>0&&(et=et.ushrn(eu)),!ei&&et.cmp(this.n)>=0?et.sub(this.n):et},d.prototype.sign=function(et,ei,eo,eh){"object"==typeof eo&&(eh=eo,eo=null),eh||(eh={}),ei=this.keyFromPrivate(ei,eo),et=this._truncateToN(et,!1,eh.msgBitLength);for(var eu=this.n.byteLength(),ed=ei.getPrivate().toArray("be",eu),ef=et.toArray("be",eu),el=new ec({hash:this.hash,entropy:ed,nonce:ef,pers:eh.pers,persEnc:eh.persEnc||"utf8"}),eb=this.n.sub(new ea(1)),eg=0;;eg++){var em=eh.k?eh.k(eg):new ea(el.generate(this.n.byteLength()));if(!(0>=(em=this._truncateToN(em,!0)).cmpn(1)||em.cmp(eb)>=0)){var ey=this.g.mul(em);if(!ey.isInfinity()){var ev=ey.getX(),ew=ev.umod(this.n);if(0!==ew.cmpn(0)){var e_=em.invm(this.n).mul(ew.mul(ei.getPrivate()).iadd(et));if(0!==(e_=e_.umod(this.n)).cmpn(0)){var eE=(ey.getY().isOdd()?1:0)|(0!==ev.cmp(ew)?2:0);return eh.canonical&&e_.cmp(this.nh)>0&&(e_=this.n.sub(e_),eE^=1),new ep({r:ew,s:e_,recoveryParam:eE})}}}}}},d.prototype.verify=function(et,ei,eo,ea,ec){ec||(ec={}),et=this._truncateToN(et,!1,ec.msgBitLength),eo=this.keyFromPublic(eo,ea);var eh=(ei=new ep(ei,"hex")).r,eu=ei.s;if(0>eh.cmpn(1)||eh.cmp(this.n)>=0||0>eu.cmpn(1)||eu.cmp(this.n)>=0)return!1;var ed,ef=eu.invm(this.n),el=ef.mul(et).umod(this.n),eb=ef.mul(eh).umod(this.n);return this.curve._maxwellTrick?!(ed=this.g.jmulAdd(el,eo.getPublic(),eb)).isInfinity()&&ed.eqXToP(eh):!(ed=this.g.mulAdd(el,eo.getPublic(),eb)).isInfinity()&&0===ed.getX().umod(this.n).cmp(eh)},d.prototype.recoverPubKey=function(et,ei,eo,ec){ef((3&eo)===eo,"The recovery param is more than two bits"),ei=new ep(ei,ec);var eh=this.n,eu=new ea(et),ed=ei.r,el=ei.s,eb=1&eo,eg=eo>>1;if(ed.cmp(this.curve.p.umod(this.curve.n))>=0&&eg)throw Error("Unable to find sencond key candinate");ed=eg?this.curve.pointFromX(ed.add(this.curve.n),eb):this.curve.pointFromX(ed,eb);var em=ei.r.invm(eh),ey=eh.sub(eu).mul(em).umod(eh),ev=el.mul(em).umod(eh);return this.g.mulAdd(ey,ed,ev)},d.prototype.getKeyRecoveryParam=function(et,ei,eo,ea){if(null!==(ei=new ep(ei,ea)).recoveryParam)return ei.recoveryParam;for(var ec,eh=0;eh<4;eh++){try{ec=this.recoverPubKey(et,ei,eh)}catch(et){continue}if(ec.eq(eo))return eh}throw Error("Unable to find valid recovery factor")}},9801:(et,ei,eo)=>{"use strict";var ea=eo(4619),ec=eo(932).assert;function s(et,ei){this.ec=et,this.priv=null,this.pub=null,ei.priv&&this._importPrivate(ei.priv,ei.privEnc),ei.pub&&this._importPublic(ei.pub,ei.pubEnc)}et.exports=s,s.fromPublic=function(et,ei,eo){return ei instanceof s?ei:new s(et,{pub:ei,pubEnc:eo})},s.fromPrivate=function(et,ei,eo){return ei instanceof s?ei:new s(et,{priv:ei,privEnc:eo})},s.prototype.validate=function(){var et=this.getPublic();return et.isInfinity()?{result:!1,reason:"Invalid public key"}:et.validate()?et.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},s.prototype.getPublic=function(et,ei){return"string"==typeof et&&(ei=et,et=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),ei?this.pub.encode(ei,et):this.pub},s.prototype.getPrivate=function(et){return"hex"===et?this.priv.toString(16,2):this.priv},s.prototype._importPrivate=function(et,ei){this.priv=new ea(et,ei||16),this.priv=this.priv.umod(this.ec.curve.n)},s.prototype._importPublic=function(et,ei){if(et.x||et.y)return"mont"===this.ec.curve.type?ec(et.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||ec(et.x&&et.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(et.x,et.y));this.pub=this.ec.curve.decodePoint(et,ei)},s.prototype.derive=function(et){return et.validate()||ec(et.validate(),"public point not validated"),et.mul(this.priv).getX()},s.prototype.sign=function(et,ei,eo){return this.ec.sign(et,this,ei,eo)},s.prototype.verify=function(et,ei,eo){return this.ec.verify(et,ei,this,void 0,eo)},s.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},480:(et,ei,eo)=>{"use strict";var ea=eo(4619),ec=eo(932),eh=ec.assert;function o(et,ei){if(et instanceof o)return et;this._importDER(et,ei)||(eh(et.r&&et.s,"Signature without r or s"),this.r=new ea(et.r,16),this.s=new ea(et.s,16),void 0===et.recoveryParam?this.recoveryParam=null:this.recoveryParam=et.recoveryParam)}function a(){this.place=0}function c(et,ei){var eo=et[ei.place++];if(!(128&eo))return eo;var ea=15&eo;if(0===ea||ea>4||0===et[ei.place])return!1;for(var ec=0,eh=0,eu=ei.place;eh<ea;eh++,eu++)ec<<=8,ec|=et[eu],ec>>>=0;return!(ec<=127)&&(ei.place=eu,ec)}function h(et){for(var ei=0,eo=et.length-1;!et[ei]&&!(128&et[ei+1])&&ei<eo;)ei++;return 0===ei?et:et.slice(ei)}function u(et,ei){if(ei<128)et.push(ei);else{var eo=1+(Math.log(ei)/Math.LN2>>>3);for(et.push(128|eo);--eo;)et.push(ei>>>(eo<<3)&255);et.push(ei)}}et.exports=o,o.prototype._importDER=function(et,ei){et=ec.toArray(et,ei);var eo=new a;if(48!==et[eo.place++])return!1;var eh=c(et,eo);if(!1===eh||eh+eo.place!==et.length||2!==et[eo.place++])return!1;var eu=c(et,eo);if(!1===eu||128&et[eo.place])return!1;var ed=et.slice(eo.place,eu+eo.place);if(eo.place+=eu,2!==et[eo.place++])return!1;var ef=c(et,eo);if(!1===ef||et.length!==ef+eo.place||128&et[eo.place])return!1;var el=et.slice(eo.place,ef+eo.place);if(0===ed[0]){if(!(128&ed[1]))return!1;ed=ed.slice(1)}if(0===el[0]){if(!(128&el[1]))return!1;el=el.slice(1)}return this.r=new ea(ed),this.s=new ea(el),this.recoveryParam=null,!0},o.prototype.toDER=function(et){var ei=this.r.toArray(),eo=this.s.toArray();for(128&ei[0]&&(ei=[0].concat(ei)),128&eo[0]&&(eo=[0].concat(eo)),ei=h(ei),eo=h(eo);!(eo[0]||128&eo[1]);)eo=eo.slice(1);var ea=[2];u(ea,ei.length),(ea=ea.concat(ei)).push(2),u(ea,eo.length);var eh=ea.concat(eo),eu=[48];return u(eu,eh.length),eu=eu.concat(eh),ec.encode(eu,et)}},4905:(et,ei,eo)=>{"use strict";var ea=eo(1631),ec=eo(85),eh=eo(932),eu=eh.assert,ed=eh.parseBytes,ef=eo(1242),el=eo(6335);function u(et){if(eu("ed25519"===et,"only tested with ed25519 so far"),!(this instanceof u))return new u(et);et=ec[et].curve,this.curve=et,this.g=et.g,this.g.precompute(et.n.bitLength()+1),this.pointClass=et.point().constructor,this.encodingLength=Math.ceil(et.n.bitLength()/8),this.hash=ea.sha512}et.exports=u,u.prototype.sign=function(et,ei){et=ed(et);var eo=this.keyFromSecret(ei),ea=this.hashInt(eo.messagePrefix(),et),ec=this.g.mul(ea),eh=this.encodePoint(ec),eu=this.hashInt(eh,eo.pubBytes(),et).mul(eo.priv()),ef=ea.add(eu).umod(this.curve.n);return this.makeSignature({R:ec,S:ef,Rencoded:eh})},u.prototype.verify=function(et,ei,eo){if(et=ed(et),(ei=this.makeSignature(ei)).S().gte(ei.eddsa.curve.n)||ei.S().isNeg())return!1;var ea=this.keyFromPublic(eo),ec=this.hashInt(ei.Rencoded(),ea.pubBytes(),et),eh=this.g.mul(ei.S());return ei.R().add(ea.pub().mul(ec)).eq(eh)},u.prototype.hashInt=function(){for(var et=this.hash(),ei=0;ei<arguments.length;ei++)et.update(arguments[ei]);return eh.intFromLE(et.digest()).umod(this.curve.n)},u.prototype.keyFromPublic=function(et){return ef.fromPublic(this,et)},u.prototype.keyFromSecret=function(et){return ef.fromSecret(this,et)},u.prototype.makeSignature=function(et){return et instanceof el?et:new el(this,et)},u.prototype.encodePoint=function(et){var ei=et.getY().toArray("le",this.encodingLength);return ei[this.encodingLength-1]|=et.getX().isOdd()?128:0,ei},u.prototype.decodePoint=function(et){var ei=(et=eh.parseBytes(et)).length-1,eo=et.slice(0,ei).concat(-129&et[ei]),ea=!!(128&et[ei]),ec=eh.intFromLE(eo);return this.curve.pointFromY(ec,ea)},u.prototype.encodeInt=function(et){return et.toArray("le",this.encodingLength)},u.prototype.decodeInt=function(et){return eh.intFromLE(et)},u.prototype.isPoint=function(et){return et instanceof this.pointClass}},1242:(et,ei,eo)=>{"use strict";var ea=eo(932),ec=ea.assert,eh=ea.parseBytes,eu=ea.cachedProperty;function a(et,ei){this.eddsa=et,this._secret=eh(ei.secret),et.isPoint(ei.pub)?this._pub=ei.pub:this._pubBytes=eh(ei.pub)}a.fromPublic=function(et,ei){return ei instanceof a?ei:new a(et,{pub:ei})},a.fromSecret=function(et,ei){return ei instanceof a?ei:new a(et,{secret:ei})},a.prototype.secret=function(){return this._secret},eu(a,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),eu(a,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),eu(a,"privBytes",function(){var et=this.eddsa,ei=this.hash(),eo=et.encodingLength-1,ea=ei.slice(0,et.encodingLength);return ea[0]&=248,ea[eo]&=127,ea[eo]|=64,ea}),eu(a,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),eu(a,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),eu(a,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),a.prototype.sign=function(et){return ec(this._secret,"KeyPair can only verify"),this.eddsa.sign(et,this)},a.prototype.verify=function(et,ei){return this.eddsa.verify(et,ei,this)},a.prototype.getSecret=function(et){return ec(this._secret,"KeyPair is public only"),ea.encode(this.secret(),et)},a.prototype.getPublic=function(et){return ea.encode(this.pubBytes(),et)},et.exports=a},6335:(et,ei,eo)=>{"use strict";var ea=eo(4619),ec=eo(932),eh=ec.assert,eu=ec.cachedProperty,ed=ec.parseBytes;function c(et,ei){this.eddsa=et,"object"!=typeof ei&&(ei=ed(ei)),Array.isArray(ei)&&(eh(ei.length===2*et.encodingLength,"Signature has invalid size"),ei={R:ei.slice(0,et.encodingLength),S:ei.slice(et.encodingLength)}),eh(ei.R&&ei.S,"Signature without R or S"),et.isPoint(ei.R)&&(this._R=ei.R),ei.S instanceof ea&&(this._S=ei.S),this._Rencoded=Array.isArray(ei.R)?ei.R:ei.Rencoded,this._Sencoded=Array.isArray(ei.S)?ei.S:ei.Sencoded}eu(c,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),eu(c,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),eu(c,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),eu(c,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),c.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},c.prototype.toHex=function(){return ec.encode(this.toBytes(),"hex").toUpperCase()},et.exports=c},748:et=>{et.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},932:(et,ei,eo)=>{"use strict";var ea=eo(4619),ec=eo(5578),eh=eo(4209);ei.assert=ec,ei.toArray=eh.toArray,ei.zero2=eh.zero2,ei.toHex=eh.toHex,ei.encode=eh.encode,ei.getNAF=function(et,ei,eo){var ea,ec=Array(Math.max(et.bitLength(),eo)+1);for(ea=0;ea<ec.length;ea+=1)ec[ea]=0;var eh=1<<ei+1,eu=et.clone();for(ea=0;ea<ec.length;ea++){var ed,ef=eu.andln(eh-1);eu.isOdd()?(ed=ef>(eh>>1)-1?(eh>>1)-ef:ef,eu.isubn(ed)):ed=0,ec[ea]=ed,eu.iushrn(1)}return ec},ei.getJSF=function(et,ei){var eo=[[],[]];et=et.clone(),ei=ei.clone();for(var ea,ec=0,eh=0;et.cmpn(-ec)>0||ei.cmpn(-eh)>0;){var eu,ed,ef=et.andln(3)+ec&3,el=ei.andln(3)+eh&3;3===ef&&(ef=-1),3===el&&(el=-1),eu=1&ef?3!=(ea=et.andln(7)+ec&7)&&5!==ea||2!==el?ef:-ef:0,eo[0].push(eu),ed=1&el?3!=(ea=ei.andln(7)+eh&7)&&5!==ea||2!==ef?el:-el:0,eo[1].push(ed),2*ec===eu+1&&(ec=1-ec),2*eh===ed+1&&(eh=1-eh),et.iushrn(1),ei.iushrn(1)}return eo},ei.cachedProperty=function(et,ei,eo){var ea="_"+ei;et.prototype[ei]=function(){return void 0!==this[ea]?this[ea]:this[ea]=eo.call(this)}},ei.parseBytes=function(et){return"string"==typeof et?ei.toArray(et,"hex"):et},ei.intFromLE=function(et){return new ea(et,"hex","le")}},2579:et=>{"use strict";var ei=Object.prototype.hasOwnProperty,eo="~";function n(){}function i(et,ei,eo){this.fn=et,this.context=ei,this.once=eo||!1}function s(et,ei,ea,ec,eh){if("function"!=typeof ea)throw TypeError("The listener must be a function");var eu=new i(ea,ec||et,eh),ed=eo?eo+ei:ei;return et._events[ed]?et._events[ed].fn?et._events[ed]=[et._events[ed],eu]:et._events[ed].push(eu):(et._events[ed]=eu,et._eventsCount++),et}function o(et,ei){0==--et._eventsCount?et._events=new n:delete et._events[ei]}function a(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(eo=!1)),a.prototype.eventNames=function(){var et,ea,ec=[];if(0===this._eventsCount)return ec;for(ea in et=this._events)ei.call(et,ea)&&ec.push(eo?ea.slice(1):ea);return Object.getOwnPropertySymbols?ec.concat(Object.getOwnPropertySymbols(et)):ec},a.prototype.listeners=function(et){var ei=eo?eo+et:et,ea=this._events[ei];if(!ea)return[];if(ea.fn)return[ea.fn];for(var ec=0,eh=ea.length,eu=Array(eh);ec<eh;ec++)eu[ec]=ea[ec].fn;return eu},a.prototype.listenerCount=function(et){var ei=eo?eo+et:et,ea=this._events[ei];return ea?ea.fn?1:ea.length:0},a.prototype.emit=function(et,ei,ea,ec,eh,eu){var ed=eo?eo+et:et;if(!this._events[ed])return!1;var ef,el,ep=this._events[ed],eb=arguments.length;if(ep.fn){switch(ep.once&&this.removeListener(et,ep.fn,void 0,!0),eb){case 1:return ep.fn.call(ep.context),!0;case 2:return ep.fn.call(ep.context,ei),!0;case 3:return ep.fn.call(ep.context,ei,ea),!0;case 4:return ep.fn.call(ep.context,ei,ea,ec),!0;case 5:return ep.fn.call(ep.context,ei,ea,ec,eh),!0;case 6:return ep.fn.call(ep.context,ei,ea,ec,eh,eu),!0}for(el=1,ef=Array(eb-1);el<eb;el++)ef[el-1]=arguments[el];ep.fn.apply(ep.context,ef)}else{var eg,em=ep.length;for(el=0;el<em;el++)switch(ep[el].once&&this.removeListener(et,ep[el].fn,void 0,!0),eb){case 1:ep[el].fn.call(ep[el].context);break;case 2:ep[el].fn.call(ep[el].context,ei);break;case 3:ep[el].fn.call(ep[el].context,ei,ea);break;case 4:ep[el].fn.call(ep[el].context,ei,ea,ec);break;default:if(!ef)for(eg=1,ef=Array(eb-1);eg<eb;eg++)ef[eg-1]=arguments[eg];ep[el].fn.apply(ep[el].context,ef)}}return!0},a.prototype.on=function(et,ei,eo){return s(this,et,ei,eo,!1)},a.prototype.once=function(et,ei,eo){return s(this,et,ei,eo,!0)},a.prototype.removeListener=function(et,ei,ea,ec){var eh=eo?eo+et:et;if(!this._events[eh])return this;if(!ei)return o(this,eh),this;var eu=this._events[eh];if(eu.fn)eu.fn!==ei||ec&&!eu.once||ea&&eu.context!==ea||o(this,eh);else{for(var ed=0,ef=[],el=eu.length;ed<el;ed++)(eu[ed].fn!==ei||ec&&!eu[ed].once||ea&&eu[ed].context!==ea)&&ef.push(eu[ed]);ef.length?this._events[eh]=1===ef.length?ef[0]:ef:o(this,eh)}return this},a.prototype.removeAllListeners=function(et){var ei;return et?(ei=eo?eo+et:et,this._events[ei]&&o(this,ei)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=eo,a.EventEmitter=a,et.exports=a},381:et=>{"use strict";var ei,eo="object"==typeof Reflect?Reflect:null,ea=eo&&"function"==typeof eo.apply?eo.apply:function(et,ei,eo){return Function.prototype.apply.call(et,ei,eo)};ei=eo&&"function"==typeof eo.ownKeys?eo.ownKeys:Object.getOwnPropertySymbols?function(et){return Object.getOwnPropertyNames(et).concat(Object.getOwnPropertySymbols(et))}:function(et){return Object.getOwnPropertyNames(et)};var ec=Number.isNaN||function(et){return et!=et};function s(){s.init.call(this)}et.exports=s,et.exports.once=function(et,ei){return new Promise(function(eo,ea){function i(eo){et.removeListener(ei,s),ea(eo)}function s(){"function"==typeof et.removeListener&&et.removeListener("error",i),eo([].slice.call(arguments))}b(et,ei,s,{once:!0}),"error"!==ei&&"function"==typeof et.on&&b(et,"error",i,{once:!0})})},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var eh=10;function a(et){if("function"!=typeof et)throw TypeError('The "listener" argument must be of type Function. Received type '+typeof et)}function c(et){return void 0===et._maxListeners?s.defaultMaxListeners:et._maxListeners}function h(et,ei,eo,ea){var ec,eh,eu;if(a(eo),void 0===(eh=et._events)?(eh=et._events=Object.create(null),et._eventsCount=0):(void 0!==eh.newListener&&(et.emit("newListener",ei,eo.listener?eo.listener:eo),eh=et._events),eu=eh[ei]),void 0===eu)eu=eh[ei]=eo,++et._eventsCount;else if("function"==typeof eu?eu=eh[ei]=ea?[eo,eu]:[eu,eo]:ea?eu.unshift(eo):eu.push(eo),(ec=c(et))>0&&eu.length>ec&&!eu.warned){eu.warned=!0;var ed=Error("Possible EventEmitter memory leak detected. "+eu.length+" "+String(ei)+" listeners added. Use emitter.setMaxListeners() to increase limit");ed.name="MaxListenersExceededWarning",ed.emitter=et,ed.type=ei,ed.count=eu.length,console&&console.warn&&console.warn(ed)}return et}function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0==arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(et,ei,eo){var ea={fired:!1,wrapFn:void 0,target:et,type:ei,listener:eo},ec=u.bind(ea);return ec.listener=eo,ea.wrapFn=ec,ec}function f(et,ei,eo){var ea=et._events;if(void 0===ea)return[];var ec=ea[ei];return void 0===ec?[]:"function"==typeof ec?eo?[ec.listener||ec]:[ec]:eo?function(et){for(var ei=Array(et.length),eo=0;eo<ei.length;++eo)ei[eo]=et[eo].listener||et[eo];return ei}(ec):p(ec,ec.length)}function l(et){var ei=this._events;if(void 0!==ei){var eo=ei[et];if("function"==typeof eo)return 1;if(void 0!==eo)return eo.length}return 0}function p(et,ei){for(var eo=Array(ei),ea=0;ea<ei;++ea)eo[ea]=et[ea];return eo}function b(et,ei,eo,ea){if("function"==typeof et.on)ea.once?et.once(ei,eo):et.on(ei,eo);else{if("function"!=typeof et.addEventListener)throw TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof et);et.addEventListener(ei,function i(ec){ea.once&&et.removeEventListener(ei,i),eo(ec)})}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return eh},set:function(et){if("number"!=typeof et||et<0||ec(et))throw RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+et+".");eh=et}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(et){if("number"!=typeof et||et<0||ec(et))throw RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+et+".");return this._maxListeners=et,this},s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(et){for(var ei=[],eo=1;eo<arguments.length;eo++)ei.push(arguments[eo]);var ec="error"===et,eh=this._events;if(void 0!==eh)ec=ec&&void 0===eh.error;else if(!ec)return!1;if(ec){if(ei.length>0&&(eu=ei[0]),eu instanceof Error)throw eu;var eu,ed=Error("Unhandled error."+(eu?" ("+eu.message+")":""));throw ed.context=eu,ed}var ef=eh[et];if(void 0===ef)return!1;if("function"==typeof ef)ea(ef,this,ei);else{var el=ef.length,ep=p(ef,el);for(eo=0;eo<el;++eo)ea(ep[eo],this,ei)}return!0},s.prototype.addListener=function(et,ei){return h(this,et,ei,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(et,ei){return h(this,et,ei,!0)},s.prototype.once=function(et,ei){return a(ei),this.on(et,d(this,et,ei)),this},s.prototype.prependOnceListener=function(et,ei){return a(ei),this.prependListener(et,d(this,et,ei)),this},s.prototype.removeListener=function(et,ei){var eo,ea,ec,eh,eu;if(a(ei),void 0===(ea=this._events)||void 0===(eo=ea[et]))return this;if(eo===ei||eo.listener===ei)0==--this._eventsCount?this._events=Object.create(null):(delete ea[et],ea.removeListener&&this.emit("removeListener",et,eo.listener||ei));else if("function"!=typeof eo){for(ec=-1,eh=eo.length-1;eh>=0;eh--)if(eo[eh]===ei||eo[eh].listener===ei){eu=eo[eh].listener,ec=eh;break}if(ec<0)return this;0===ec?eo.shift():function(et,ei){for(;ei+1<et.length;ei++)et[ei]=et[ei+1];et.pop()}(eo,ec),1===eo.length&&(ea[et]=eo[0]),void 0!==ea.removeListener&&this.emit("removeListener",et,eu||ei)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(et){var ei,eo,ea;if(void 0===(eo=this._events))return this;if(void 0===eo.removeListener)return 0==arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==eo[et]&&(0==--this._eventsCount?this._events=Object.create(null):delete eo[et]),this;if(0==arguments.length){var ec,eh=Object.keys(eo);for(ea=0;ea<eh.length;++ea)"removeListener"!==(ec=eh[ea])&&this.removeAllListeners(ec);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(ei=eo[et]))this.removeListener(et,ei);else if(void 0!==ei)for(ea=ei.length-1;ea>=0;ea--)this.removeListener(et,ei[ea]);return this},s.prototype.listeners=function(et){return f(this,et,!0)},s.prototype.rawListeners=function(et){return f(this,et,!1)},s.listenerCount=function(et,ei){return"function"==typeof et.listenerCount?et.listenerCount(ei):l.call(et,ei)},s.prototype.listenerCount=l,s.prototype.eventNames=function(){return this._eventsCount>0?ei(this._events):[]}},1702:et=>{"use strict";et.exports=function(et,ei){for(var eo={},ea=Object.keys(et),ec=Array.isArray(ei),eh=0;eh<ea.length;eh++){var eu=ea[eh],ed=et[eu];(ec?-1!==ei.indexOf(eu):ei(eu,ed,et))&&(eo[eu]=ed)}return eo}},1631:(et,ei,eo)=>{ei.utils=eo(7905),ei.common=eo(4427),ei.sha=eo(1822),ei.ripemd=eo(7317),ei.hmac=eo(7309),ei.sha1=ei.sha.sha1,ei.sha256=ei.sha.sha256,ei.sha224=ei.sha.sha224,ei.sha384=ei.sha.sha384,ei.sha512=ei.sha.sha512,ei.ripemd160=ei.ripemd.ripemd160},4427:(et,ei,eo)=>{"use strict";var ea=eo(7905),ec=eo(5578);function s(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}ei.BlockHash=s,s.prototype.update=function(et,ei){if(et=ea.toArray(et,ei),this.pending?this.pending=this.pending.concat(et):this.pending=et,this.pendingTotal+=et.length,this.pending.length>=this._delta8){var eo=(et=this.pending).length%this._delta8;this.pending=et.slice(et.length-eo,et.length),0===this.pending.length&&(this.pending=null),et=ea.join32(et,0,et.length-eo,this.endian);for(var ec=0;ec<et.length;ec+=this._delta32)this._update(et,ec,ec+this._delta32)}return this},s.prototype.digest=function(et){return this.update(this._pad()),ec(null===this.pending),this._digest(et)},s.prototype._pad=function(){var et=this.pendingTotal,ei=this._delta8,eo=ei-(et+this.padLength)%ei,ea=Array(eo+this.padLength);ea[0]=128;for(var ec=1;ec<eo;ec++)ea[ec]=0;if(et<<=3,"big"===this.endian){for(var eh=8;eh<this.padLength;eh++)ea[ec++]=0;ea[ec++]=0,ea[ec++]=0,ea[ec++]=0,ea[ec++]=0,ea[ec++]=et>>>24&255,ea[ec++]=et>>>16&255,ea[ec++]=et>>>8&255,ea[ec++]=255&et}else for(ea[ec++]=255&et,ea[ec++]=et>>>8&255,ea[ec++]=et>>>16&255,ea[ec++]=et>>>24&255,ea[ec++]=0,ea[ec++]=0,ea[ec++]=0,ea[ec++]=0,eh=8;eh<this.padLength;eh++)ea[ec++]=0;return ea}},7309:(et,ei,eo)=>{"use strict";var ea=eo(7905),ec=eo(5578);function s(et,ei,eo){if(!(this instanceof s))return new s(et,ei,eo);this.Hash=et,this.blockSize=et.blockSize/8,this.outSize=et.outSize/8,this.inner=null,this.outer=null,this._init(ea.toArray(ei,eo))}et.exports=s,s.prototype._init=function(et){et.length>this.blockSize&&(et=(new this.Hash).update(et).digest()),ec(et.length<=this.blockSize);for(var ei=et.length;ei<this.blockSize;ei++)et.push(0);for(ei=0;ei<et.length;ei++)et[ei]^=54;for(this.inner=(new this.Hash).update(et),ei=0;ei<et.length;ei++)et[ei]^=106;this.outer=(new this.Hash).update(et)},s.prototype.update=function(et,ei){return this.inner.update(et,ei),this},s.prototype.digest=function(et){return this.outer.update(this.inner.digest()),this.outer.digest(et)}},7317:(et,ei,eo)=>{"use strict";var ea=eo(7905),ec=eo(4427),eh=ea.rotl32,eu=ea.sum32,ed=ea.sum32_3,ef=ea.sum32_4,el=ec.BlockHash;function u(){if(!(this instanceof u))return new u;el.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function d(et,ei,eo,ea){return et<=15?ei^eo^ea:et<=31?ei&eo|~ei&ea:et<=47?(ei|~eo)^ea:et<=63?ei&ea|eo&~ea:ei^(eo|~ea)}ea.inherits(u,el),ei.ripemd160=u,u.blockSize=512,u.outSize=160,u.hmacStrength=192,u.padLength=64,u.prototype._update=function(et,ei){for(var eo=this.h[0],ea=this.h[1],ec=this.h[2],el=this.h[3],ey=this.h[4],ev=eo,ew=ea,e_=ec,eE=el,eS=ey,eA=0;eA<80;eA++){var eM,eI,eT=eu(eh(ef(eo,d(eA,ea,ec,el),et[ep[eA]+ei],(eM=eA)<=15?0:eM<=31?1518500249:eM<=47?1859775393:eM<=63?2400959708:2840853838),eg[eA]),ey);eo=ey,ey=el,el=eh(ec,10),ec=ea,ea=eT,eT=eu(eh(ef(ev,d(79-eA,ew,e_,eE),et[eb[eA]+ei],(eI=eA)<=15?1352829926:eI<=31?1548603684:eI<=47?1836072691:eI<=63?2053994217:0),em[eA]),eS),ev=eS,eS=eE,eE=eh(e_,10),e_=ew,ew=eT}eT=ed(this.h[1],ec,eE),this.h[1]=ed(this.h[2],el,eS),this.h[2]=ed(this.h[3],ey,ev),this.h[3]=ed(this.h[4],eo,ew),this.h[4]=ed(this.h[0],ea,e_),this.h[0]=eT},u.prototype._digest=function(et){return"hex"===et?ea.toHex32(this.h,"little"):ea.split32(this.h,"little")};var ep=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],eb=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],eg=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],em=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},1822:(et,ei,eo)=>{"use strict";ei.sha1=eo(2750),ei.sha224=eo(7485),ei.sha256=eo(7292),ei.sha384=eo(696),ei.sha512=eo(8889)},2750:(et,ei,eo)=>{"use strict";var ea=eo(7905),ec=eo(4427),eh=eo(5660),eu=ea.rotl32,ed=ea.sum32,ef=ea.sum32_5,el=eh.ft_1,ep=ec.BlockHash,eb=[1518500249,1859775393,2400959708,3395469782];function f(){if(!(this instanceof f))return new f;ep.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=Array(80)}ea.inherits(f,ep),et.exports=f,f.blockSize=512,f.outSize=160,f.hmacStrength=80,f.padLength=64,f.prototype._update=function(et,ei){for(var eo=this.W,ea=0;ea<16;ea++)eo[ea]=et[ei+ea];for(;ea<eo.length;ea++)eo[ea]=eu(eo[ea-3]^eo[ea-8]^eo[ea-14]^eo[ea-16],1);var ec=this.h[0],eh=this.h[1],ep=this.h[2],eg=this.h[3],em=this.h[4];for(ea=0;ea<eo.length;ea++){var ey=~~(ea/20),ev=ef(eu(ec,5),el(ey,eh,ep,eg),em,eo[ea],eb[ey]);em=eg,eg=ep,ep=eu(eh,30),eh=ec,ec=ev}this.h[0]=ed(this.h[0],ec),this.h[1]=ed(this.h[1],eh),this.h[2]=ed(this.h[2],ep),this.h[3]=ed(this.h[3],eg),this.h[4]=ed(this.h[4],em)},f.prototype._digest=function(et){return"hex"===et?ea.toHex32(this.h,"big"):ea.split32(this.h,"big")}},7485:(et,ei,eo)=>{"use strict";var ea=eo(7905),ec=eo(7292);function s(){if(!(this instanceof s))return new s;ec.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}ea.inherits(s,ec),et.exports=s,s.blockSize=512,s.outSize=224,s.hmacStrength=192,s.padLength=64,s.prototype._digest=function(et){return"hex"===et?ea.toHex32(this.h.slice(0,7),"big"):ea.split32(this.h.slice(0,7),"big")}},7292:(et,ei,eo)=>{"use strict";var ea=eo(7905),ec=eo(4427),eh=eo(5660),eu=eo(5578),ed=ea.sum32,ef=ea.sum32_4,el=ea.sum32_5,ep=eh.ch32,eb=eh.maj32,eg=eh.s0_256,em=eh.s1_256,ey=eh.g0_256,ev=eh.g1_256,ew=ec.BlockHash,e_=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function y(){if(!(this instanceof y))return new y;ew.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=e_,this.W=Array(64)}ea.inherits(y,ew),et.exports=y,y.blockSize=512,y.outSize=256,y.hmacStrength=192,y.padLength=64,y.prototype._update=function(et,ei){for(var eo=this.W,ea=0;ea<16;ea++)eo[ea]=et[ei+ea];for(;ea<eo.length;ea++)eo[ea]=ef(ev(eo[ea-2]),eo[ea-7],ey(eo[ea-15]),eo[ea-16]);var ec=this.h[0],eh=this.h[1],ew=this.h[2],e_=this.h[3],eE=this.h[4],eS=this.h[5],eA=this.h[6],eM=this.h[7];for(eu(this.k.length===eo.length),ea=0;ea<eo.length;ea++){var eI=el(eM,em(eE),ep(eE,eS,eA),this.k[ea],eo[ea]),eT=ed(eg(ec),eb(ec,eh,ew));eM=eA,eA=eS,eS=eE,eE=ed(e_,eI),e_=ew,ew=eh,eh=ec,ec=ed(eI,eT)}this.h[0]=ed(this.h[0],ec),this.h[1]=ed(this.h[1],eh),this.h[2]=ed(this.h[2],ew),this.h[3]=ed(this.h[3],e_),this.h[4]=ed(this.h[4],eE),this.h[5]=ed(this.h[5],eS),this.h[6]=ed(this.h[6],eA),this.h[7]=ed(this.h[7],eM)},y.prototype._digest=function(et){return"hex"===et?ea.toHex32(this.h,"big"):ea.split32(this.h,"big")}},696:(et,ei,eo)=>{"use strict";var ea=eo(7905),ec=eo(8889);function s(){if(!(this instanceof s))return new s;ec.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}ea.inherits(s,ec),et.exports=s,s.blockSize=1024,s.outSize=384,s.hmacStrength=192,s.padLength=128,s.prototype._digest=function(et){return"hex"===et?ea.toHex32(this.h.slice(0,12),"big"):ea.split32(this.h.slice(0,12),"big")}},8889:(et,ei,eo)=>{"use strict";var ea=eo(7905),ec=eo(4427),eh=eo(5578),eu=ea.rotr64_hi,ed=ea.rotr64_lo,ef=ea.shr64_hi,el=ea.shr64_lo,ep=ea.sum64,eb=ea.sum64_hi,eg=ea.sum64_lo,em=ea.sum64_4_hi,ey=ea.sum64_4_lo,ev=ea.sum64_5_hi,ew=ea.sum64_5_lo,e_=ec.BlockHash,eE=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function v(){if(!(this instanceof v))return new v;e_.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=eE,this.W=Array(160)}ea.inherits(v,e_),et.exports=v,v.blockSize=1024,v.outSize=512,v.hmacStrength=192,v.padLength=128,v.prototype._prepareBlock=function(et,ei){for(var eo,ea,ec,eh=this.W,ep=0;ep<32;ep++)eh[ep]=et[ei+ep];for(;ep<eh.length;ep+=2){var eb=(eo=eh[ep-4],ea=eh[ep-3],ec=void 0,(ec=eu(eo,ea,19)^eu(ea,eo,29)^ef(eo,ea,6))<0&&(ec+=4294967296),ec),eg=function(et,ei){var eo=ed(et,ei,19)^ed(ei,et,29)^el(et,ei,6);return eo<0&&(eo+=4294967296),eo}(eh[ep-4],eh[ep-3]),ev=eh[ep-14],ew=eh[ep-13],e_=function(et,ei){var eo=eu(et,ei,1)^eu(et,ei,8)^ef(et,ei,7);return eo<0&&(eo+=4294967296),eo}(eh[ep-30],eh[ep-29]),eE=function(et,ei){var eo=ed(et,ei,1)^ed(et,ei,8)^el(et,ei,7);return eo<0&&(eo+=4294967296),eo}(eh[ep-30],eh[ep-29]),eS=eh[ep-32],eA=eh[ep-31];eh[ep]=em(eb,eg,ev,ew,e_,eE,eS,eA),eh[ep+1]=ey(eb,eg,ev,ew,e_,eE,eS,eA)}},v.prototype._update=function(et,ei){this._prepareBlock(et,ei);var eo,ea,ec,ef=this.W,el=this.h[0],em=this.h[1],ey=this.h[2],e_=this.h[3],eE=this.h[4],eS=this.h[5],eA=this.h[6],eM=this.h[7],eI=this.h[8],eT=this.h[9],ex=this.h[10],eC=this.h[11],eR=this.h[12],ek=this.h[13],eP=this.h[14],eO=this.h[15];eh(this.k.length===ef.length);for(var eN=0;eN<ef.length;eN+=2){var eU=eP,eB=eO,eL=(ec=void 0,(ec=eu(eo=eI,ea=eT,14)^eu(eo,ea,18)^eu(ea,eo,9))<0&&(ec+=4294967296),ec),eD=function(et,ei){var eo=ed(et,ei,14)^ed(et,ei,18)^ed(ei,et,9);return eo<0&&(eo+=4294967296),eo}(eI,eT),ej=function(et,ei,eo,ea,ec){var eh=et&eo^~et&ec;return eh<0&&(eh+=4294967296),eh}(eI,0,ex,0,eR),eq=function(et,ei,eo,ea,ec,eh){var eu=ei&ea^~ei&eh;return eu<0&&(eu+=4294967296),eu}(0,eT,0,eC,0,ek),eF=this.k[eN],eH=this.k[eN+1],eV=ef[eN],ez=ef[eN+1],e$=ev(eU,eB,eL,eD,ej,eq,eF,eH,eV,ez),eK=ew(eU,eB,eL,eD,ej,eq,eF,eH,eV,ez),eG=eb(eU=function(et,ei){var eo=eu(et,ei,28)^eu(ei,et,2)^eu(ei,et,7);return eo<0&&(eo+=4294967296),eo}(el,em),eB=function(et,ei){var eo=ed(et,ei,28)^ed(ei,et,2)^ed(ei,et,7);return eo<0&&(eo+=4294967296),eo}(el,em),eL=function(et,ei,eo,ea,ec){var eh=et&eo^et&ec^eo&ec;return eh<0&&(eh+=4294967296),eh}(el,0,ey,0,eE),eD=function(et,ei,eo,ea,ec,eh){var eu=ei&ea^ei&eh^ea&eh;return eu<0&&(eu+=4294967296),eu}(0,em,0,e_,0,eS)),eW=eg(eU,eB,eL,eD);eP=eR,eO=ek,eR=ex,ek=eC,ex=eI,eC=eT,eI=eb(eA,eM,e$,eK),eT=eg(eM,eM,e$,eK),eA=eE,eM=eS,eE=ey,eS=e_,ey=el,e_=em,el=eb(e$,eK,eG,eW),em=eg(e$,eK,eG,eW)}ep(this.h,0,el,em),ep(this.h,2,ey,e_),ep(this.h,4,eE,eS),ep(this.h,6,eA,eM),ep(this.h,8,eI,eT),ep(this.h,10,ex,eC),ep(this.h,12,eR,ek),ep(this.h,14,eP,eO)},v.prototype._digest=function(et){return"hex"===et?ea.toHex32(this.h,"big"):ea.split32(this.h,"big")}},5660:(et,ei,eo)=>{"use strict";var ea=eo(7905).rotr32;function s(et,ei,eo){return et&ei^et&eo^ei&eo}ei.ft_1=function(et,ei,eo,ea){return 0===et?ei&eo^~ei&ea:1===et||3===et?ei^eo^ea:2===et?s(ei,eo,ea):void 0},ei.ch32=function(et,ei,eo){return et&ei^~et&eo},ei.maj32=s,ei.p32=function(et,ei,eo){return et^ei^eo},ei.s0_256=function(et){return ea(et,2)^ea(et,13)^ea(et,22)},ei.s1_256=function(et){return ea(et,6)^ea(et,11)^ea(et,25)},ei.g0_256=function(et){return ea(et,7)^ea(et,18)^et>>>3},ei.g1_256=function(et){return ea(et,17)^ea(et,19)^et>>>10}},7905:(et,ei,eo)=>{"use strict";var ea=eo(5578),ec=eo(1193);function o(et){return(et>>>24|et>>>8&65280|et<<8&16711680|(255&et)<<24)>>>0}function a(et){return 1===et.length?"0"+et:et}function c(et){return 7===et.length?"0"+et:6===et.length?"00"+et:5===et.length?"000"+et:4===et.length?"0000"+et:3===et.length?"00000"+et:2===et.length?"000000"+et:1===et.length?"0000000"+et:et}ei.inherits=ec,ei.toArray=function(et,ei){if(Array.isArray(et))return et.slice();if(!et)return[];var eo=[];if("string"==typeof et){if(ei){if("hex"===ei)for((et=et.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(et="0"+et),ec=0;ec<et.length;ec+=2)eo.push(parseInt(et[ec]+et[ec+1],16))}else for(var ea=0,ec=0;ec<et.length;ec++){var eh,eu,ed=et.charCodeAt(ec);ed<128?eo[ea++]=ed:(ed<2048?eo[ea++]=ed>>6|192:((eh=et,eu=ec,55296!=(64512&eh.charCodeAt(eu))||eu<0||eu+1>=eh.length||56320!=(64512&eh.charCodeAt(eu+1)))?eo[ea++]=ed>>12|224:(ed=65536+((1023&ed)<<10)+(1023&et.charCodeAt(++ec)),eo[ea++]=ed>>18|240,eo[ea++]=ed>>12&63|128),eo[ea++]=ed>>6&63|128),eo[ea++]=63&ed|128)}}else for(ec=0;ec<et.length;ec++)eo[ec]=0|et[ec];return eo},ei.toHex=function(et){for(var ei="",eo=0;eo<et.length;eo++)ei+=a(et[eo].toString(16));return ei},ei.htonl=o,ei.toHex32=function(et,ei){for(var eo="",ea=0;ea<et.length;ea++){var ec=et[ea];"little"===ei&&(ec=o(ec)),eo+=c(ec.toString(16))}return eo},ei.zero2=a,ei.zero8=c,ei.join32=function(et,ei,eo,ec){var eh,eu=eo-ei;ea(eu%4==0);for(var ed=Array(eu/4),ef=0,el=ei;ef<ed.length;ef++,el+=4)eh="big"===ec?et[el]<<24|et[el+1]<<16|et[el+2]<<8|et[el+3]:et[el+3]<<24|et[el+2]<<16|et[el+1]<<8|et[el],ed[ef]=eh>>>0;return ed},ei.split32=function(et,ei){for(var eo=Array(4*et.length),ea=0,ec=0;ea<et.length;ea++,ec+=4){var eh=et[ea];"big"===ei?(eo[ec]=eh>>>24,eo[ec+1]=eh>>>16&255,eo[ec+2]=eh>>>8&255,eo[ec+3]=255&eh):(eo[ec+3]=eh>>>24,eo[ec+2]=eh>>>16&255,eo[ec+1]=eh>>>8&255,eo[ec]=255&eh)}return eo},ei.rotr32=function(et,ei){return et>>>ei|et<<32-ei},ei.rotl32=function(et,ei){return et<<ei|et>>>32-ei},ei.sum32=function(et,ei){return et+ei>>>0},ei.sum32_3=function(et,ei,eo){return et+ei+eo>>>0},ei.sum32_4=function(et,ei,eo,ea){return et+ei+eo+ea>>>0},ei.sum32_5=function(et,ei,eo,ea,ec){return et+ei+eo+ea+ec>>>0},ei.sum64=function(et,ei,eo,ea){var ec=et[ei],eh=ea+et[ei+1]>>>0;et[ei]=(eh<ea?1:0)+eo+ec>>>0,et[ei+1]=eh},ei.sum64_hi=function(et,ei,eo,ea){return(ei+ea>>>0<ei?1:0)+et+eo>>>0},ei.sum64_lo=function(et,ei,eo,ea){return ei+ea>>>0},ei.sum64_4_hi=function(et,ei,eo,ea,ec,eh,eu,ed){var ef=ei;return et+eo+ec+eu+(0+(((ef=ef+ea>>>0)<ei?1:0)+((ef=ef+eh>>>0)<eh?1:0)+((ef=ef+ed>>>0)<ed?1:0)))>>>0},ei.sum64_4_lo=function(et,ei,eo,ea,ec,eh,eu,ed){return ei+ea+eh+ed>>>0},ei.sum64_5_hi=function(et,ei,eo,ea,ec,eh,eu,ed,ef,el){var ep=ei;return et+eo+ec+eu+ef+(0+(((ep=ep+ea>>>0)<ei?1:0)+((ep=ep+eh>>>0)<eh?1:0)+((ep=ep+ed>>>0)<ed?1:0)+((ep=ep+el>>>0)<el?1:0)))>>>0},ei.sum64_5_lo=function(et,ei,eo,ea,ec,eh,eu,ed,ef,el){return ei+ea+eh+ed+el>>>0},ei.rotr64_hi=function(et,ei,eo){return(ei<<32-eo|et>>>eo)>>>0},ei.rotr64_lo=function(et,ei,eo){return(et<<32-eo|ei>>>eo)>>>0},ei.shr64_hi=function(et,ei,eo){return et>>>eo},ei.shr64_lo=function(et,ei,eo){return(et<<32-eo|ei>>>eo)>>>0}},2519:(et,ei,eo)=>{"use strict";var ea=eo(1631),ec=eo(4209),eh=eo(5578);function o(et){if(!(this instanceof o))return new o(et);this.hash=et.hash,this.predResist=!!et.predResist,this.outLen=this.hash.outSize,this.minEntropy=et.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var ei=ec.toArray(et.entropy,et.entropyEnc||"hex"),eo=ec.toArray(et.nonce,et.nonceEnc||"hex"),ea=ec.toArray(et.pers,et.persEnc||"hex");eh(ei.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(ei,eo,ea)}et.exports=o,o.prototype._init=function(et,ei,eo){var ea=et.concat(ei).concat(eo);this.K=Array(this.outLen/8),this.V=Array(this.outLen/8);for(var ec=0;ec<this.V.length;ec++)this.K[ec]=0,this.V[ec]=1;this._update(ea),this._reseed=1,this.reseedInterval=281474976710656},o.prototype._hmac=function(){return new ea.hmac(this.hash,this.K)},o.prototype._update=function(et){var ei=this._hmac().update(this.V).update([0]);et&&(ei=ei.update(et)),this.K=ei.digest(),this.V=this._hmac().update(this.V).digest(),et&&(this.K=this._hmac().update(this.V).update([1]).update(et).digest(),this.V=this._hmac().update(this.V).digest())},o.prototype.reseed=function(et,ei,eo,ea){"string"!=typeof ei&&(ea=eo,eo=ei,ei=null),et=ec.toArray(et,ei),eo=ec.toArray(eo,ea),eh(et.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(et.concat(eo||[])),this._reseed=1},o.prototype.generate=function(et,ei,eo,ea){if(this._reseed>this.reseedInterval)throw Error("Reseed is required");"string"!=typeof ei&&(ea=eo,eo=ei,ei=null),eo&&(eo=ec.toArray(eo,ea||"hex"),this._update(eo));for(var eh=[];eh.length<et;)this.V=this._hmac().update(this.V).digest(),eh=eh.concat(this.V);var eu=eh.slice(0,et);return this._update(eo),this._reseed++,ec.encode(eu,ei)}},1193:et=>{"function"==typeof Object.create?et.exports=function(et,ei){ei&&(et.super_=ei,et.prototype=Object.create(ei.prototype,{constructor:{value:et,enumerable:!1,writable:!0,configurable:!0}}))}:et.exports=function(et,ei){if(ei){et.super_=ei;var r=function(){};r.prototype=ei.prototype,et.prototype=new r,et.prototype.constructor=et}}},9162:(et,ei,eo)=>{var ec;!function(){"use strict";var eh="input is invalid type",eu="object"==typeof window,ed=eu?window:{};ed.JS_SHA3_NO_WINDOW&&(eu=!1);var ef=!eu&&"object"==typeof self;!ed.JS_SHA3_NO_NODE_JS&&"object"==typeof ea&&ea.versions&&ea.versions.node?ed=eo.g:ef&&(ed=self);var el=!ed.JS_SHA3_NO_COMMON_JS&&et.exports,ep=eo.amdO,eb=!ed.JS_SHA3_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,eg="0123456789abcdef".split(""),em=[4,1024,262144,67108864],ey=[0,8,16,24],ev=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],ew=[224,256,384,512],e_=[128,256],eE=["hex","buffer","arrayBuffer","array","digest"],eS={128:168,256:136};!ed.JS_SHA3_NO_NODE_JS&&Array.isArray||(Array.isArray=function(et){return"[object Array]"===Object.prototype.toString.call(et)}),eb&&(ed.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(et){return"object"==typeof et&&et.buffer&&et.buffer.constructor===ArrayBuffer});for(var v=function(et,ei,eo){return function(ea){return new N(et,ei,et).update(ea)[eo]()}},w=function(et,ei,eo){return function(ea,ec){return new N(et,ei,ec).update(ea)[eo]()}},_=function(et,ei,eo){return function(ei,ea,ec,eh){return eM["cshake"+et].update(ei,ea,ec,eh)[eo]()}},E=function(et,ei,eo){return function(ei,ea,ec,eh){return eM["kmac"+et].update(ei,ea,ec,eh)[eo]()}},S=function(et,ei,eo,ea){for(var ec=0;ec<eE.length;++ec){var eh=eE[ec];et[eh]=ei(eo,ea,eh)}return et},A=function(et,ei){var eo=v(et,ei,"hex");return eo.create=function(){return new N(et,ei,et)},eo.update=function(et){return eo.create().update(et)},S(eo,v,et,ei)},eA=[{name:"keccak",padding:[1,256,65536,16777216],bits:ew,createMethod:A},{name:"sha3",padding:[6,1536,393216,100663296],bits:ew,createMethod:A},{name:"shake",padding:[31,7936,2031616,520093696],bits:e_,createMethod:function(et,ei){var eo=w(et,ei,"hex");return eo.create=function(eo){return new N(et,ei,eo)},eo.update=function(et,ei){return eo.create(ei).update(et)},S(eo,w,et,ei)}},{name:"cshake",padding:em,bits:e_,createMethod:function(et,ei){var eo=eS[et],ea=_(et,0,"hex");return ea.create=function(ea,ec,eh){return ec||eh?new N(et,ei,ea).bytepad([ec,eh],eo):eM["shake"+et].create(ea)},ea.update=function(et,ei,eo,ec){return ea.create(ei,eo,ec).update(et)},S(ea,_,et,ei)}},{name:"kmac",padding:em,bits:e_,createMethod:function(et,ei){var eo=eS[et],ea=E(et,0,"hex");return ea.create=function(ea,ec,eh){return new U(et,ei,ec).bytepad(["KMAC",eh],eo).bytepad([ea],eo)},ea.update=function(et,ei,eo,ec){return ea.create(et,eo,ec).update(ei)},S(ea,E,et,ei)}}],eM={},eI=[],eT=0;eT<eA.length;++eT)for(var ex=eA[eT],eC=ex.bits,eR=0;eR<eC.length;++eR){var ek=ex.name+"_"+eC[eR];if(eI.push(ek),eM[ek]=ex.createMethod(eC[eR],ex.padding),"sha3"!==ex.name){var eP=ex.name+eC[eR];eI.push(eP),eM[eP]=eM[ek]}}function N(et,ei,eo){this.blocks=[],this.s=[],this.padding=ei,this.outputBits=eo,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(et<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=eo>>5,this.extraBytes=(31&eo)>>3;for(var ea=0;ea<50;++ea)this.s[ea]=0}function U(et,ei,eo){N.call(this,et,ei,eo)}N.prototype.update=function(et){if(this.finalized)throw Error("finalize already called");var ei,eo=typeof et;if("string"!==eo){if("object"!==eo||null===et)throw Error(eh);if(eb&&et.constructor===ArrayBuffer)et=new Uint8Array(et);else if(!(Array.isArray(et)||eb&&ArrayBuffer.isView(et)))throw Error(eh);ei=!0}for(var ea,ec,eu=this.blocks,ed=this.byteCount,ef=et.length,el=this.blockCount,ep=0,eg=this.s;ep<ef;){if(this.reset)for(this.reset=!1,eu[0]=this.block,ea=1;ea<el+1;++ea)eu[ea]=0;if(ei)for(ea=this.start;ep<ef&&ea<ed;++ep)eu[ea>>2]|=et[ep]<<ey[3&ea++];else for(ea=this.start;ep<ef&&ea<ed;++ep)(ec=et.charCodeAt(ep))<128?eu[ea>>2]|=ec<<ey[3&ea++]:(ec<2048?eu[ea>>2]|=(192|ec>>6)<<ey[3&ea++]:(ec<55296||ec>=57344?eu[ea>>2]|=(224|ec>>12)<<ey[3&ea++]:(ec=65536+((1023&ec)<<10|1023&et.charCodeAt(++ep)),eu[ea>>2]|=(240|ec>>18)<<ey[3&ea++],eu[ea>>2]|=(128|ec>>12&63)<<ey[3&ea++]),eu[ea>>2]|=(128|ec>>6&63)<<ey[3&ea++]),eu[ea>>2]|=(128|63&ec)<<ey[3&ea++]);if(this.lastByteIndex=ea,ea>=ed){for(this.start=ea-ed,this.block=eu[el],ea=0;ea<el;++ea)eg[ea]^=eu[ea];B(eg),this.reset=!0}else this.start=ea}return this},N.prototype.encode=function(et,ei){var eo=255&et,ea=1,ec=[eo];for(eo=255&(et>>=8);eo>0;)ec.unshift(eo),eo=255&(et>>=8),++ea;return ei?ec.push(ea):ec.unshift(ea),this.update(ec),ec.length},N.prototype.encodeString=function(et){var ei,eo=typeof et;if("string"!==eo){if("object"!==eo||null===et)throw Error(eh);if(eb&&et.constructor===ArrayBuffer)et=new Uint8Array(et);else if(!(Array.isArray(et)||eb&&ArrayBuffer.isView(et)))throw Error(eh);ei=!0}var ea=0,ec=et.length;if(ei)ea=ec;else for(var eu=0;eu<et.length;++eu){var ed=et.charCodeAt(eu);ed<128?ea+=1:ed<2048?ea+=2:ed<55296||ed>=57344?ea+=3:(ed=65536+((1023&ed)<<10|1023&et.charCodeAt(++eu)),ea+=4)}return ea+=this.encode(8*ea),this.update(et),ea},N.prototype.bytepad=function(et,ei){for(var eo=this.encode(ei),ea=0;ea<et.length;++ea)eo+=this.encodeString(et[ea]);var ec=ei-eo%ei,eh=[];return eh.length=ec,this.update(eh),this},N.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var et=this.blocks,ei=this.lastByteIndex,eo=this.blockCount,ea=this.s;if(et[ei>>2]|=this.padding[3&ei],this.lastByteIndex===this.byteCount)for(et[0]=et[eo],ei=1;ei<eo+1;++ei)et[ei]=0;for(et[eo-1]|=2147483648,ei=0;ei<eo;++ei)ea[ei]^=et[ei];B(ea)}},N.prototype.toString=N.prototype.hex=function(){this.finalize();for(var et,ei=this.blockCount,eo=this.s,ea=this.outputBlocks,ec=this.extraBytes,eh=0,eu=0,ed="";eu<ea;){for(eh=0;eh<ei&&eu<ea;++eh,++eu)ed+=eg[(et=eo[eh])>>4&15]+eg[15&et]+eg[et>>12&15]+eg[et>>8&15]+eg[et>>20&15]+eg[et>>16&15]+eg[et>>28&15]+eg[et>>24&15];eu%ei==0&&(B(eo),eh=0)}return ec&&(ed+=eg[(et=eo[eh])>>4&15]+eg[15&et],ec>1&&(ed+=eg[et>>12&15]+eg[et>>8&15]),ec>2&&(ed+=eg[et>>20&15]+eg[et>>16&15])),ed},N.prototype.arrayBuffer=function(){this.finalize();var et,ei=this.blockCount,eo=this.s,ea=this.outputBlocks,ec=this.extraBytes,eh=0,eu=0,ed=this.outputBits>>3;et=new ArrayBuffer(ec?ea+1<<2:ed);for(var ef=new Uint32Array(et);eu<ea;){for(eh=0;eh<ei&&eu<ea;++eh,++eu)ef[eu]=eo[eh];eu%ei==0&&B(eo)}return ec&&(ef[eh]=eo[eh],et=et.slice(0,ed)),et},N.prototype.buffer=N.prototype.arrayBuffer,N.prototype.digest=N.prototype.array=function(){this.finalize();for(var et,ei,eo=this.blockCount,ea=this.s,ec=this.outputBlocks,eh=this.extraBytes,eu=0,ed=0,ef=[];ed<ec;){for(eu=0;eu<eo&&ed<ec;++eu,++ed)et=ed<<2,ei=ea[eu],ef[et]=255&ei,ef[et+1]=ei>>8&255,ef[et+2]=ei>>16&255,ef[et+3]=ei>>24&255;ed%eo==0&&B(ea)}return eh&&(et=ed<<2,ei=ea[eu],ef[et]=255&ei,eh>1&&(ef[et+1]=ei>>8&255),eh>2&&(ef[et+2]=ei>>16&255)),ef},U.prototype=new N,U.prototype.finalize=function(){return this.encode(this.outputBits,!0),N.prototype.finalize.call(this)};var B=function(et){var ei,eo,ea,ec,eh,eu,ed,ef,el,ep,eb,eg,em,ey,ew,e_,eE,eS,eA,eM,eI,eT,ex,eC,eR,ek,eP,eO,eN,eU,eB,eL,eD,ej,eq,eF,eH,eV,ez,e$,eK,eG,eW,eJ,eY,eX,eZ,eQ,e0,e1,e2,e6,e5,e3,e8,e4,e7,e9,tt,to,ta,tc,th;for(ea=0;ea<48;ea+=2)ec=et[0]^et[10]^et[20]^et[30]^et[40],eh=et[1]^et[11]^et[21]^et[31]^et[41],eu=et[2]^et[12]^et[22]^et[32]^et[42],ed=et[3]^et[13]^et[23]^et[33]^et[43],ef=et[4]^et[14]^et[24]^et[34]^et[44],el=et[5]^et[15]^et[25]^et[35]^et[45],ep=et[6]^et[16]^et[26]^et[36]^et[46],eb=et[7]^et[17]^et[27]^et[37]^et[47],ei=(eg=et[8]^et[18]^et[28]^et[38]^et[48])^(eu<<1|ed>>>31),eo=(em=et[9]^et[19]^et[29]^et[39]^et[49])^(ed<<1|eu>>>31),et[0]^=ei,et[1]^=eo,et[10]^=ei,et[11]^=eo,et[20]^=ei,et[21]^=eo,et[30]^=ei,et[31]^=eo,et[40]^=ei,et[41]^=eo,ei=ec^(ef<<1|el>>>31),eo=eh^(el<<1|ef>>>31),et[2]^=ei,et[3]^=eo,et[12]^=ei,et[13]^=eo,et[22]^=ei,et[23]^=eo,et[32]^=ei,et[33]^=eo,et[42]^=ei,et[43]^=eo,ei=eu^(ep<<1|eb>>>31),eo=ed^(eb<<1|ep>>>31),et[4]^=ei,et[5]^=eo,et[14]^=ei,et[15]^=eo,et[24]^=ei,et[25]^=eo,et[34]^=ei,et[35]^=eo,et[44]^=ei,et[45]^=eo,ei=ef^(eg<<1|em>>>31),eo=el^(em<<1|eg>>>31),et[6]^=ei,et[7]^=eo,et[16]^=ei,et[17]^=eo,et[26]^=ei,et[27]^=eo,et[36]^=ei,et[37]^=eo,et[46]^=ei,et[47]^=eo,ei=ep^(ec<<1|eh>>>31),eo=eb^(eh<<1|ec>>>31),et[8]^=ei,et[9]^=eo,et[18]^=ei,et[19]^=eo,et[28]^=ei,et[29]^=eo,et[38]^=ei,et[39]^=eo,et[48]^=ei,et[49]^=eo,ey=et[0],ew=et[1],eX=et[11]<<4|et[10]>>>28,eZ=et[10]<<4|et[11]>>>28,eO=et[20]<<3|et[21]>>>29,eN=et[21]<<3|et[20]>>>29,to=et[31]<<9|et[30]>>>23,ta=et[30]<<9|et[31]>>>23,eG=et[40]<<18|et[41]>>>14,eW=et[41]<<18|et[40]>>>14,ej=et[2]<<1|et[3]>>>31,eq=et[3]<<1|et[2]>>>31,e_=et[13]<<12|et[12]>>>20,eE=et[12]<<12|et[13]>>>20,eQ=et[22]<<10|et[23]>>>22,e0=et[23]<<10|et[22]>>>22,eU=et[33]<<13|et[32]>>>19,eB=et[32]<<13|et[33]>>>19,tc=et[42]<<2|et[43]>>>30,th=et[43]<<2|et[42]>>>30,e3=et[5]<<30|et[4]>>>2,e8=et[4]<<30|et[5]>>>2,eF=et[14]<<6|et[15]>>>26,eH=et[15]<<6|et[14]>>>26,eS=et[25]<<11|et[24]>>>21,eA=et[24]<<11|et[25]>>>21,e1=et[34]<<15|et[35]>>>17,e2=et[35]<<15|et[34]>>>17,eL=et[45]<<29|et[44]>>>3,eD=et[44]<<29|et[45]>>>3,eC=et[6]<<28|et[7]>>>4,eR=et[7]<<28|et[6]>>>4,e4=et[17]<<23|et[16]>>>9,e7=et[16]<<23|et[17]>>>9,eV=et[26]<<25|et[27]>>>7,ez=et[27]<<25|et[26]>>>7,eM=et[36]<<21|et[37]>>>11,eI=et[37]<<21|et[36]>>>11,e6=et[47]<<24|et[46]>>>8,e5=et[46]<<24|et[47]>>>8,eJ=et[8]<<27|et[9]>>>5,eY=et[9]<<27|et[8]>>>5,ek=et[18]<<20|et[19]>>>12,eP=et[19]<<20|et[18]>>>12,e9=et[29]<<7|et[28]>>>25,tt=et[28]<<7|et[29]>>>25,e$=et[38]<<8|et[39]>>>24,eK=et[39]<<8|et[38]>>>24,eT=et[48]<<14|et[49]>>>18,ex=et[49]<<14|et[48]>>>18,et[0]=ey^~e_&eS,et[1]=ew^~eE&eA,et[10]=eC^~ek&eO,et[11]=eR^~eP&eN,et[20]=ej^~eF&eV,et[21]=eq^~eH&ez,et[30]=eJ^~eX&eQ,et[31]=eY^~eZ&e0,et[40]=e3^~e4&e9,et[41]=e8^~e7&tt,et[2]=e_^~eS&eM,et[3]=eE^~eA&eI,et[12]=ek^~eO&eU,et[13]=eP^~eN&eB,et[22]=eF^~eV&e$,et[23]=eH^~ez&eK,et[32]=eX^~eQ&e1,et[33]=eZ^~e0&e2,et[42]=e4^~e9&to,et[43]=e7^~tt&ta,et[4]=eS^~eM&eT,et[5]=eA^~eI&ex,et[14]=eO^~eU&eL,et[15]=eN^~eB&eD,et[24]=eV^~e$&eG,et[25]=ez^~eK&eW,et[34]=eQ^~e1&e6,et[35]=e0^~e2&e5,et[44]=e9^~to&tc,et[45]=tt^~ta&th,et[6]=eM^~eT&ey,et[7]=eI^~ex&ew,et[16]=eU^~eL&eC,et[17]=eB^~eD&eR,et[26]=e$^~eG&ej,et[27]=eK^~eW&eq,et[36]=e1^~e6&eJ,et[37]=e2^~e5&eY,et[46]=to^~tc&e3,et[47]=ta^~th&e8,et[8]=eT^~ey&e_,et[9]=ex^~ew&eE,et[18]=eL^~eC&ek,et[19]=eD^~eR&eP,et[28]=eG^~ej&eF,et[29]=eW^~eq&eH,et[38]=e6^~eJ&eX,et[39]=e5^~eY&eZ,et[48]=tc^~e3&e4,et[49]=th^~e8&e7,et[0]^=ev[ea],et[1]^=ev[ea+1]};if(el)et.exports=eM;else{for(eT=0;eT<eI.length;++eT)ed[eI[eT]]=eM[eI[eT]];ep&&(void 0===(ec=(function(){return eM}).call(ei,eo,ei,et))||(et.exports=ec))}}()},3497:(et,ei,eo)=>{et=eo.nmd(et);var ea="__lodash_hash_undefined__",ec="[object Arguments]",eh="[object Array]",eu="[object Boolean]",ed="[object Date]",ef="[object Error]",el="[object Function]",ep="[object Map]",eb="[object Number]",eg="[object Object]",em="[object Promise]",ey="[object RegExp]",ev="[object Set]",ew="[object String]",e_="[object WeakMap]",eE="[object ArrayBuffer]",eS="[object DataView]",eA=/^\[object .+?Constructor\]$/,eM=/^(?:0|[1-9]\d*)$/,eI={};eI["[object Float32Array]"]=eI["[object Float64Array]"]=eI["[object Int8Array]"]=eI["[object Int16Array]"]=eI["[object Int32Array]"]=eI["[object Uint8Array]"]=eI["[object Uint8ClampedArray]"]=eI["[object Uint16Array]"]=eI["[object Uint32Array]"]=!0,eI[ec]=eI[eh]=eI[eE]=eI[eu]=eI[eS]=eI[ed]=eI[ef]=eI[el]=eI[ep]=eI[eb]=eI[eg]=eI[ey]=eI[ev]=eI[ew]=eI[e_]=!1;var eT="object"==typeof eo.g&&eo.g&&eo.g.Object===Object&&eo.g,ex="object"==typeof self&&self&&self.Object===Object&&self,eC=eT||ex||Function("return this")(),eR=ei&&!ei.nodeType&&ei,ek=eR&&et&&!et.nodeType&&et,eP=ek&&ek.exports===eR,eO=eP&&eT.process,eN=function(){try{return eO&&eO.binding&&eO.binding("util")}catch(et){}}(),eU=eN&&eN.isTypedArray;function F(et){var ei=-1,eo=Array(et.size);return et.forEach(function(et,ea){eo[++ei]=[ea,et]}),eo}function H(et){var ei=-1,eo=Array(et.size);return et.forEach(function(et){eo[++ei]=et}),eo}var eB,eL,eD,ej=Array.prototype,eq=Function.prototype,eF=Object.prototype,eH=eC["__core-js_shared__"],eV=eq.toString,ez=eF.hasOwnProperty,e$=(eB=/[^.]+$/.exec(eH&&eH.keys&&eH.keys.IE_PROTO||""))?"Symbol(src)_1."+eB:"",eK=eF.toString,eG=RegExp("^"+eV.call(ez).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),eW=eP?eC.Buffer:void 0,eJ=eC.Symbol,eY=eC.Uint8Array,eX=eF.propertyIsEnumerable,eZ=ej.splice,eQ=eJ?eJ.toStringTag:void 0,e0=Object.getOwnPropertySymbols,e1=eW?eW.isBuffer:void 0,e2=(eL=Object.keys,eD=Object,function(et){return eL(eD(et))}),e6=Ue(eC,"DataView"),e5=Ue(eC,"Map"),e3=Ue(eC,"Promise"),e8=Ue(eC,"Set"),e4=Ue(eC,"WeakMap"),e7=Ue(Object,"create"),e9=De(e6),tt=De(e5),to=De(e3),ta=De(e8),tc=De(e4),th=eJ?eJ.prototype:void 0,tu=th?th.valueOf:void 0;function Se(et){var ei=-1,eo=null==et?0:et.length;for(this.clear();++ei<eo;){var ea=et[ei];this.set(ea[0],ea[1])}}function Ae(et){var ei=-1,eo=null==et?0:et.length;for(this.clear();++ei<eo;){var ea=et[ei];this.set(ea[0],ea[1])}}function Me(et){var ei=-1,eo=null==et?0:et.length;for(this.clear();++ei<eo;){var ea=et[ei];this.set(ea[0],ea[1])}}function Ie(et){var ei=-1,eo=null==et?0:et.length;for(this.__data__=new Me;++ei<eo;)this.add(et[ei])}function Te(et){var ei=this.__data__=new Ae(et);this.size=ei.size}function xe(et,ei){for(var eo=et.length;eo--;)if(qe(et[eo][0],ei))return eo;return -1}function Ce(et){return null==et?void 0===et?"[object Undefined]":"[object Null]":eQ&&eQ in Object(et)?function(et){var ei=ez.call(et,eQ),eo=et[eQ];try{et[eQ]=void 0;var ea=!0}catch(et){}var ec=eK.call(et);return ea&&(ei?et[eQ]=eo:delete et[eQ]),ec}(et):eK.call(et)}function Re(et){return Ge(et)&&Ce(et)==ec}function Pe(et,ei,eo,ea,ec,eh){var eu=1&eo,ed=et.length,ef=ei.length;if(ed!=ef&&!(eu&&ef>ed))return!1;var el=eh.get(et);if(el&&eh.get(ei))return el==ei;var ep=-1,eb=!0,eg=2&eo?new Ie:void 0;for(eh.set(et,ei),eh.set(ei,et);++ep<ed;){var em=et[ep],ey=ei[ep];if(ea)var ev=eu?ea(ey,em,ep,ei,et,eh):ea(em,ey,ep,et,ei,eh);if(void 0!==ev){if(ev)continue;eb=!1;break}if(eg){if(!function(et,ei){for(var eo=-1,ea=null==et?0:et.length;++eo<ea;)if(ei(et[eo],eo,et))return!0;return!1}(ei,function(et,ei){if(!eg.has(ei)&&(em===et||ec(em,et,eo,ea,eh)))return eg.push(ei)})){eb=!1;break}}else if(em!==ey&&!ec(em,ey,eo,ea,eh)){eb=!1;break}}return eh.delete(et),eh.delete(ei),eb}function Oe(et){var ei;return ei=function(et){return null!=et&&$e(et.length)&&!Ve(et)?function(et,ei){var eo,ea=tp(et),ec=!ea&&tl(et),eh=!ea&&!ec&&tb(et),eu=!ea&&!ec&&!eh&&tg(et),ed=ea||ec||eh||eu,ef=ed?function(et,ei){for(var eo=-1,ea=Array(et);++eo<et;)ea[eo]=ei(eo);return ea}(et.length,String):[],el=ef.length;for(var ep in et)!ez.call(et,ep)||ed&&("length"==ep||eh&&("offset"==ep||"parent"==ep)||eu&&("buffer"==ep||"byteLength"==ep||"byteOffset"==ep)||(eo=null==(eo=el)?9007199254740991:eo)&&("number"==typeof ep||eM.test(ep))&&ep>-1&&ep%1==0&&ep<eo)||ef.push(ep);return ef}(et):function(et){if(ei=et&&et.constructor,et!==("function"==typeof ei&&ei.prototype||eF))return e2(et);var ei,eo=[];for(var ea in Object(et))ez.call(et,ea)&&"constructor"!=ea&&eo.push(ea);return eo}(et)}(et),tp(et)?ei:function(et,ei){for(var eo=-1,ea=ei.length,ec=et.length;++eo<ea;)et[ec+eo]=ei[eo];return et}(ei,td(et))}function Ne(et,ei){var eo,ea=et.__data__;return("string"==(eo=typeof ei)||"number"==eo||"symbol"==eo||"boolean"==eo?"__proto__"!==ei:null===ei)?ea["string"==typeof ei?"string":"hash"]:ea.map}function Ue(et,ei){var eo=null==et?void 0:et[ei];return!(!Ke(eo)||e$&&e$ in eo)&&(Ve(eo)?eG:eA).test(De(eo))?eo:void 0}Se.prototype.clear=function(){this.__data__=e7?e7(null):{},this.size=0},Se.prototype.delete=function(et){var ei=this.has(et)&&delete this.__data__[et];return this.size-=ei?1:0,ei},Se.prototype.get=function(et){var ei=this.__data__;if(e7){var eo=ei[et];return eo===ea?void 0:eo}return ez.call(ei,et)?ei[et]:void 0},Se.prototype.has=function(et){var ei=this.__data__;return e7?void 0!==ei[et]:ez.call(ei,et)},Se.prototype.set=function(et,ei){var eo=this.__data__;return this.size+=this.has(et)?0:1,eo[et]=e7&&void 0===ei?ea:ei,this},Ae.prototype.clear=function(){this.__data__=[],this.size=0},Ae.prototype.delete=function(et){var ei=this.__data__,eo=xe(ei,et);return!(eo<0||(eo==ei.length-1?ei.pop():eZ.call(ei,eo,1),--this.size,0))},Ae.prototype.get=function(et){var ei=this.__data__,eo=xe(ei,et);return eo<0?void 0:ei[eo][1]},Ae.prototype.has=function(et){return xe(this.__data__,et)>-1},Ae.prototype.set=function(et,ei){var eo=this.__data__,ea=xe(eo,et);return ea<0?(++this.size,eo.push([et,ei])):eo[ea][1]=ei,this},Me.prototype.clear=function(){this.size=0,this.__data__={hash:new Se,map:new(e5||Ae),string:new Se}},Me.prototype.delete=function(et){var ei=Ne(this,et).delete(et);return this.size-=ei?1:0,ei},Me.prototype.get=function(et){return Ne(this,et).get(et)},Me.prototype.has=function(et){return Ne(this,et).has(et)},Me.prototype.set=function(et,ei){var eo=Ne(this,et),ea=eo.size;return eo.set(et,ei),this.size+=eo.size==ea?0:1,this},Ie.prototype.add=Ie.prototype.push=function(et){return this.__data__.set(et,ea),this},Ie.prototype.has=function(et){return this.__data__.has(et)},Te.prototype.clear=function(){this.__data__=new Ae,this.size=0},Te.prototype.delete=function(et){var ei=this.__data__,eo=ei.delete(et);return this.size=ei.size,eo},Te.prototype.get=function(et){return this.__data__.get(et)},Te.prototype.has=function(et){return this.__data__.has(et)},Te.prototype.set=function(et,ei){var eo=this.__data__;if(eo instanceof Ae){var ea=eo.__data__;if(!e5||ea.length<199)return ea.push([et,ei]),this.size=++eo.size,this;eo=this.__data__=new Me(ea)}return eo.set(et,ei),this.size=eo.size,this};var td=e0?function(et){return null==et?[]:function(ei){for(var eo=-1,ea=null==ei?0:ei.length,ec=0,eh=[];++eo<ea;){var eu=ei[eo];eX.call(et,eu)&&(eh[ec++]=eu)}return eh}(e0(et=Object(et)))}:function(){return[]},tf=Ce;function De(et){if(null!=et){try{return eV.call(et)}catch(et){}try{return et+""}catch(et){}}return""}function qe(et,ei){return et===ei||et!=et&&ei!=ei}(e6&&tf(new e6(new ArrayBuffer(1)))!=eS||e5&&tf(new e5)!=ep||e3&&tf(e3.resolve())!=em||e8&&tf(new e8)!=ev||e4&&tf(new e4)!=e_)&&(tf=function(et){var ei=Ce(et),eo=ei==eg?et.constructor:void 0,ea=eo?De(eo):"";if(ea)switch(ea){case e9:return eS;case tt:return ep;case to:return em;case ta:return ev;case tc:return e_}return ei});var tl=Re(function(){return arguments}())?Re:function(et){return Ge(et)&&ez.call(et,"callee")&&!eX.call(et,"callee")},tp=Array.isArray,tb=e1||function(){return!1};function Ve(et){if(!Ke(et))return!1;var ei=Ce(et);return ei==el||"[object GeneratorFunction]"==ei||"[object AsyncFunction]"==ei||"[object Proxy]"==ei}function $e(et){return"number"==typeof et&&et>-1&&et%1==0&&et<=9007199254740991}function Ke(et){var ei=typeof et;return null!=et&&("object"==ei||"function"==ei)}function Ge(et){return null!=et&&"object"==typeof et}var tg=eU?function(et){return eU(et)}:function(et){return Ge(et)&&$e(et.length)&&!!eI[Ce(et)]};et.exports=function(et,ei){return function ke(et,ei,eo,ea,el){return et===ei||(null!=et&&null!=ei&&(Ge(et)||Ge(ei))?function(et,ei,eo,ea,el,em){var e_=tp(et),eA=tp(ei),eM=e_?eh:tf(et),eI=eA?eh:tf(ei),eT=(eM=eM==ec?eg:eM)==eg,ex=(eI=eI==ec?eg:eI)==eg,eC=eM==eI;if(eC&&tb(et)){if(!tb(ei))return!1;e_=!0,eT=!1}if(eC&&!eT)return em||(em=new Te),e_||tg(et)?Pe(et,ei,eo,ea,el,em):function(et,ei,eo,ea,ec,eh,el){switch(eo){case eS:if(et.byteLength!=ei.byteLength||et.byteOffset!=ei.byteOffset)break;et=et.buffer,ei=ei.buffer;case eE:return!(et.byteLength!=ei.byteLength||!eh(new eY(et),new eY(ei)));case eu:case ed:case eb:return qe(+et,+ei);case ef:return et.name==ei.name&&et.message==ei.message;case ey:case ew:return et==ei+"";case ep:var eg=F;case ev:var em=1&ea;if(eg||(eg=H),et.size!=ei.size&&!em)break;var e_=el.get(et);if(e_)return e_==ei;ea|=2,el.set(et,ei);var eA=Pe(eg(et),eg(ei),ea,ec,eh,el);return el.delete(et),eA;case"[object Symbol]":if(tu)return tu.call(et)==tu.call(ei)}return!1}(et,ei,eM,eo,ea,el,em);if(!(1&eo)){var eR=eT&&ez.call(et,"__wrapped__"),ek=ex&&ez.call(ei,"__wrapped__");if(eR||ek){var eP=eR?et.value():et,eO=ek?ei.value():ei;return em||(em=new Te),el(eP,eO,eo,ea,em)}}return!!eC&&(em||(em=new Te),function(et,ei,eo,ea,ec,eh){var eu=1&eo,ed=Oe(et),ef=ed.length;if(ef!=Oe(ei).length&&!eu)return!1;for(var el=ef;el--;){var ep=ed[el];if(!(eu?ep in ei:ez.call(ei,ep)))return!1}var eb=eh.get(et);if(eb&&eh.get(ei))return eb==ei;var eg=!0;eh.set(et,ei),eh.set(ei,et);for(var em=eu;++el<ef;){var ey=et[ep=ed[el]],ev=ei[ep];if(ea)var ew=eu?ea(ev,ey,ep,ei,et,eh):ea(ey,ev,ep,et,ei,eh);if(!(void 0===ew?ey===ev||ec(ey,ev,eo,ea,eh):ew)){eg=!1;break}em||(em="constructor"==ep)}if(eg&&!em){var e_=et.constructor,eE=ei.constructor;e_==eE||!("constructor"in et)||!("constructor"in ei)||"function"==typeof e_&&e_ instanceof e_&&"function"==typeof eE&&eE instanceof eE||(eg=!1)}return eh.delete(et),eh.delete(ei),eg}(et,ei,eo,ea,el,em))}(et,ei,eo,ea,ke,el):et!=et&&ei!=ei)}(et,ei)}},5578:et=>{function t(et,ei){if(!et)throw Error(ei||"Assertion failed")}et.exports=t,t.equal=function(et,ei,eo){if(et!=ei)throw Error(eo||"Assertion failed: "+et+" != "+ei)}},4209:(et,ei)=>{"use strict";function n(et){return 1===et.length?"0"+et:et}function i(et){for(var ei="",eo=0;eo<et.length;eo++)ei+=n(et[eo].toString(16));return ei}ei.toArray=function(et,ei){if(Array.isArray(et))return et.slice();if(!et)return[];var eo=[];if("string"!=typeof et){for(var ea=0;ea<et.length;ea++)eo[ea]=0|et[ea];return eo}if("hex"===ei)for((et=et.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(et="0"+et),ea=0;ea<et.length;ea+=2)eo.push(parseInt(et[ea]+et[ea+1],16));else for(ea=0;ea<et.length;ea++){var ec=et.charCodeAt(ea),eh=ec>>8,eu=255&ec;eh?eo.push(eh,eu):eo.push(eu)}return eo},ei.zero2=n,ei.toHex=i,ei.encode=function(et,ei){return"hex"===ei?i(et):et}},8605:(et,ei,eo)=>{"use strict";let ea=eo(5006),ec=eo(2858),eh=eo(9178),eu=eo(1702),ed=Symbol("encodeFragmentIdentifier");function c(et){if("string"!=typeof et||1!==et.length)throw TypeError("arrayFormatSeparator must be single character string")}function h(et,ei){return ei.encode?ei.strict?ea(et):encodeURIComponent(et):et}function u(et,ei){return ei.decode?ec(et):et}function f(et){let ei=et.indexOf("#");return -1!==ei&&(et=et.slice(0,ei)),et}function l(et){let ei=(et=f(et)).indexOf("?");return -1===ei?"":et.slice(ei+1)}function p(et,ei){return ei.parseNumbers&&!Number.isNaN(Number(et))&&"string"==typeof et&&""!==et.trim()?et=Number(et):ei.parseBooleans&&null!==et&&("true"===et.toLowerCase()||"false"===et.toLowerCase())&&(et="true"===et.toLowerCase()),et}function b(et,ei){c((ei=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},ei)).arrayFormatSeparator);let eo=function(et){let ei;switch(et.arrayFormat){case"index":return(et,eo,ea)=>{ei=/\[(\d*)\]$/.exec(et),et=et.replace(/\[\d*\]$/,""),ei?(void 0===ea[et]&&(ea[et]={}),ea[et][ei[1]]=eo):ea[et]=eo};case"bracket":return(et,eo,ea)=>{ei=/(\[\])$/.exec(et),et=et.replace(/\[\]$/,""),ei?void 0!==ea[et]?ea[et]=[].concat(ea[et],eo):ea[et]=[eo]:ea[et]=eo};case"colon-list-separator":return(et,eo,ea)=>{ei=/(:list)$/.exec(et),et=et.replace(/:list$/,""),ei?void 0!==ea[et]?ea[et]=[].concat(ea[et],eo):ea[et]=[eo]:ea[et]=eo};case"comma":case"separator":return(ei,eo,ea)=>{let ec="string"==typeof eo&&eo.includes(et.arrayFormatSeparator),eh="string"==typeof eo&&!ec&&u(eo,et).includes(et.arrayFormatSeparator);eo=eh?u(eo,et):eo;let eu=ec||eh?eo.split(et.arrayFormatSeparator).map(ei=>u(ei,et)):null===eo?eo:u(eo,et);ea[ei]=eu};case"bracket-separator":return(ei,eo,ea)=>{let ec=/(\[\])$/.test(ei);if(ei=ei.replace(/\[\]$/,""),!ec)return void(ea[ei]=eo?u(eo,et):eo);let eh=null===eo?[]:eo.split(et.arrayFormatSeparator).map(ei=>u(ei,et));void 0!==ea[ei]?ea[ei]=[].concat(ea[ei],eh):ea[ei]=eh};default:return(et,ei,eo)=>{void 0!==eo[et]?eo[et]=[].concat(eo[et],ei):eo[et]=ei}}}(ei),ea=Object.create(null);if("string"!=typeof et||!(et=et.trim().replace(/^[?#&]/,"")))return ea;for(let ec of et.split("&")){if(""===ec)continue;let[et,eu]=eh(ei.decode?ec.replace(/\+/g," "):ec,"=");eu=void 0===eu?null:["comma","separator","bracket-separator"].includes(ei.arrayFormat)?eu:u(eu,ei),eo(u(et,ei),eu,ea)}for(let et of Object.keys(ea)){let eo=ea[et];if("object"==typeof eo&&null!==eo)for(let et of Object.keys(eo))eo[et]=p(eo[et],ei);else ea[et]=p(eo,ei)}return!1===ei.sort?ea:(!0===ei.sort?Object.keys(ea).sort():Object.keys(ea).sort(ei.sort)).reduce((et,ei)=>{let eo=ea[ei];return eo&&"object"==typeof eo&&!Array.isArray(eo)?et[ei]=function d(et){return Array.isArray(et)?et.sort():"object"==typeof et?d(Object.keys(et)).sort((et,ei)=>Number(et)-Number(ei)).map(ei=>et[ei]):et}(eo):et[ei]=eo,et},Object.create(null))}ei.extract=l,ei.parse=b,ei.stringify=(et,ei)=>{if(!et)return"";c((ei=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},ei)).arrayFormatSeparator);let r=eo=>ei.skipNull&&null==et[eo]||ei.skipEmptyString&&""===et[eo],eo=function(et){switch(et.arrayFormat){case"index":return ei=>(eo,ea)=>{let ec=eo.length;return void 0===ea||et.skipNull&&null===ea||et.skipEmptyString&&""===ea?eo:null===ea?[...eo,[h(ei,et),"[",ec,"]"].join("")]:[...eo,[h(ei,et),"[",h(ec,et),"]=",h(ea,et)].join("")]};case"bracket":return ei=>(eo,ea)=>void 0===ea||et.skipNull&&null===ea||et.skipEmptyString&&""===ea?eo:null===ea?[...eo,[h(ei,et),"[]"].join("")]:[...eo,[h(ei,et),"[]=",h(ea,et)].join("")];case"colon-list-separator":return ei=>(eo,ea)=>void 0===ea||et.skipNull&&null===ea||et.skipEmptyString&&""===ea?eo:null===ea?[...eo,[h(ei,et),":list="].join("")]:[...eo,[h(ei,et),":list=",h(ea,et)].join("")];case"comma":case"separator":case"bracket-separator":{let ei="bracket-separator"===et.arrayFormat?"[]=":"=";return eo=>(ea,ec)=>void 0===ec||et.skipNull&&null===ec||et.skipEmptyString&&""===ec?ea:(ec=null===ec?"":ec,0===ea.length?[[h(eo,et),ei,h(ec,et)].join("")]:[[ea,h(ec,et)].join(et.arrayFormatSeparator)])}default:return ei=>(eo,ea)=>void 0===ea||et.skipNull&&null===ea||et.skipEmptyString&&""===ea?eo:null===ea?[...eo,h(ei,et)]:[...eo,[h(ei,et),"=",h(ea,et)].join("")]}}(ei),ea={};for(let ei of Object.keys(et))r(ei)||(ea[ei]=et[ei]);let ec=Object.keys(ea);return!1!==ei.sort&&ec.sort(ei.sort),ec.map(ea=>{let ec=et[ea];return void 0===ec?"":null===ec?h(ea,ei):Array.isArray(ec)?0===ec.length&&"bracket-separator"===ei.arrayFormat?h(ea,ei)+"[]":ec.reduce(eo(ea),[]).join("&"):h(ea,ei)+"="+h(ec,ei)}).filter(et=>et.length>0).join("&")},ei.parseUrl=(et,ei)=>{ei=Object.assign({decode:!0},ei);let[eo,ea]=eh(et,"#");return Object.assign({url:eo.split("?")[0]||"",query:b(l(et),ei)},ei&&ei.parseFragmentIdentifier&&ea?{fragmentIdentifier:u(ea,ei)}:{})},ei.stringifyUrl=(et,eo)=>{eo=Object.assign({encode:!0,strict:!0,[ed]:!0},eo);let ea=f(et.url).split("?")[0]||"",ec=ei.extract(et.url),eh=ei.parse(ec,{sort:!1}),eu=Object.assign(eh,et.query),ef=ei.stringify(eu,eo);ef&&(ef=`?${ef}`);let el=function(et){let ei="",eo=et.indexOf("#");return -1!==eo&&(ei=et.slice(eo)),ei}(et.url);return et.fragmentIdentifier&&(el=`#${eo[ed]?h(et.fragmentIdentifier,eo):et.fragmentIdentifier}`),`${ea}${ef}${el}`},ei.pick=(et,eo,ea)=>{ea=Object.assign({parseFragmentIdentifier:!0,[ed]:!1},ea);let{url:ec,query:eh,fragmentIdentifier:ef}=ei.parseUrl(et,ea);return ei.stringifyUrl({url:ec,query:eu(eh,eo),fragmentIdentifier:ef},ea)},ei.exclude=(et,eo,ea)=>{let ec=Array.isArray(eo)?et=>!eo.includes(et):(et,ei)=>!eo(et,ei);return ei.pick(et,ec,ea)}},782:et=>{"use strict";function t(et){try{return JSON.stringify(et)}catch(et){return'"[Circular]"'}}et.exports=function(et,ei,eo){var ea=eo&&eo.stringify||t;if("object"==typeof et&&null!==et){var ec=ei.length+1;if(1===ec)return et;var eh=Array(ec);eh[0]=ea(et);for(var eu=1;eu<ec;eu++)eh[eu]=ea(ei[eu]);return eh.join(" ")}if("string"!=typeof et)return et;var ed=ei.length;if(0===ed)return et;for(var ef="",el=0,ep=-1,eb=et&&et.length||0,eg=0;eg<eb;){if(37===et.charCodeAt(eg)&&eg+1<eb){switch(ep=ep>-1?ep:0,et.charCodeAt(eg+1)){case 100:case 102:if(el>=ed||null==ei[el])break;ep<eg&&(ef+=et.slice(ep,eg)),ef+=Number(ei[el]),ep=eg+2,eg++;break;case 105:if(el>=ed||null==ei[el])break;ep<eg&&(ef+=et.slice(ep,eg)),ef+=Math.floor(Number(ei[el])),ep=eg+2,eg++;break;case 79:case 111:case 106:if(el>=ed||void 0===ei[el])break;ep<eg&&(ef+=et.slice(ep,eg));var em=typeof ei[el];if("string"===em){ef+="'"+ei[el]+"'",ep=eg+2,eg++;break}if("function"===em){ef+=ei[el].name||"<anonymous>",ep=eg+2,eg++;break}ef+=ea(ei[el]),ep=eg+2,eg++;break;case 115:if(el>=ed)break;ep<eg&&(ef+=et.slice(ep,eg)),ef+=String(ei[el]),ep=eg+2,eg++;break;case 37:ep<eg&&(ef+=et.slice(ep,eg)),ef+="%",ep=eg+2,eg++,el--}++el}++eg}return -1===ep?et:(ep<eb&&(ef+=et.slice(ep)),ef)}},9178:et=>{"use strict";et.exports=(et,ei)=>{if("string"!=typeof et||"string"!=typeof ei)throw TypeError("Expected the arguments to be of type `string`");if(""===ei)return[et];let eo=et.indexOf(ei);return -1===eo?[et]:[et.slice(0,eo),et.slice(eo+ei.length)]}},5006:et=>{"use strict";et.exports=et=>encodeURIComponent(et).replace(/[!'()*]/g,et=>`%${et.charCodeAt(0).toString(16).toUpperCase()}`)},5927:(et,ei,eo)=>{"use strict";eo.r(ei),eo.d(ei,{__assign:()=>s,__asyncDelegator:()=>w,__asyncGenerator:()=>v,__asyncValues:()=>_,__await:()=>y,__awaiter:()=>u,__classPrivateFieldGet:()=>M,__classPrivateFieldSet:()=>I,__createBinding:()=>f,__decorate:()=>a,__exportStar:()=>l,__extends:()=>i,__generator:()=>d,__importDefault:()=>A,__importStar:()=>S,__makeTemplateObject:()=>E,__metadata:()=>h,__param:()=>c,__read:()=>b,__rest:()=>o,__spread:()=>g,__spreadArrays:()=>m,__values:()=>p});var n=function(et,ei){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(et,ei){et.__proto__=ei}||function(et,ei){for(var eo in ei)ei.hasOwnProperty(eo)&&(et[eo]=ei[eo])})(et,ei)};function i(et,ei){function r(){this.constructor=et}n(et,ei),et.prototype=null===ei?Object.create(ei):(r.prototype=ei.prototype,new r)}var s=function(){return(s=Object.assign||function(et){for(var ei,eo=1,ea=arguments.length;eo<ea;eo++)for(var ec in ei=arguments[eo])Object.prototype.hasOwnProperty.call(ei,ec)&&(et[ec]=ei[ec]);return et}).apply(this,arguments)};function o(et,ei){var eo={};for(var ea in et)Object.prototype.hasOwnProperty.call(et,ea)&&0>ei.indexOf(ea)&&(eo[ea]=et[ea]);if(null!=et&&"function"==typeof Object.getOwnPropertySymbols){var ec=0;for(ea=Object.getOwnPropertySymbols(et);ec<ea.length;ec++)0>ei.indexOf(ea[ec])&&Object.prototype.propertyIsEnumerable.call(et,ea[ec])&&(eo[ea[ec]]=et[ea[ec]])}return eo}function a(et,ei,eo,ea){var ec,eh=arguments.length,eu=eh<3?ei:null===ea?ea=Object.getOwnPropertyDescriptor(ei,eo):ea;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)eu=Reflect.decorate(et,ei,eo,ea);else for(var ed=et.length-1;ed>=0;ed--)(ec=et[ed])&&(eu=(eh<3?ec(eu):eh>3?ec(ei,eo,eu):ec(ei,eo))||eu);return eh>3&&eu&&Object.defineProperty(ei,eo,eu),eu}function c(et,ei){return function(eo,ea){ei(eo,ea,et)}}function h(et,ei){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(et,ei)}function u(et,ei,eo,ea){return new(eo||(eo=Promise))(function(ec,eh){function o(et){try{c(ea.next(et))}catch(et){eh(et)}}function a(et){try{c(ea.throw(et))}catch(et){eh(et)}}function c(et){var ei;et.done?ec(et.value):((ei=et.value)instanceof eo?ei:new eo(function(et){et(ei)})).then(o,a)}c((ea=ea.apply(et,ei||[])).next())})}function d(et,ei){var eo,ea,ec,eh,eu={label:0,sent:function(){if(1&ec[0])throw ec[1];return ec[1]},trys:[],ops:[]};return eh={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(eh[Symbol.iterator]=function(){return this}),eh;function a(eh){return function(ed){return function(eh){if(eo)throw TypeError("Generator is already executing.");for(;eu;)try{if(eo=1,ea&&(ec=2&eh[0]?ea.return:eh[0]?ea.throw||((ec=ea.return)&&ec.call(ea),0):ea.next)&&!(ec=ec.call(ea,eh[1])).done)return ec;switch(ea=0,ec&&(eh=[2&eh[0],ec.value]),eh[0]){case 0:case 1:ec=eh;break;case 4:return eu.label++,{value:eh[1],done:!1};case 5:eu.label++,ea=eh[1],eh=[0];continue;case 7:eh=eu.ops.pop(),eu.trys.pop();continue;default:if(!((ec=(ec=eu.trys).length>0&&ec[ec.length-1])||6!==eh[0]&&2!==eh[0])){eu=0;continue}if(3===eh[0]&&(!ec||eh[1]>ec[0]&&eh[1]<ec[3])){eu.label=eh[1];break}if(6===eh[0]&&eu.label<ec[1]){eu.label=ec[1],ec=eh;break}if(ec&&eu.label<ec[2]){eu.label=ec[2],eu.ops.push(eh);break}ec[2]&&eu.ops.pop(),eu.trys.pop();continue}eh=ei.call(et,eu)}catch(et){eh=[6,et],ea=0}finally{eo=ec=0}if(5&eh[0])throw eh[1];return{value:eh[0]?eh[1]:void 0,done:!0}}([eh,ed])}}}function f(et,ei,eo,ea){void 0===ea&&(ea=eo),et[ea]=ei[eo]}function l(et,ei){for(var eo in et)"default"===eo||ei.hasOwnProperty(eo)||(ei[eo]=et[eo])}function p(et){var ei="function"==typeof Symbol&&Symbol.iterator,eo=ei&&et[ei],ea=0;if(eo)return eo.call(et);if(et&&"number"==typeof et.length)return{next:function(){return et&&ea>=et.length&&(et=void 0),{value:et&&et[ea++],done:!et}}};throw TypeError(ei?"Object is not iterable.":"Symbol.iterator is not defined.")}function b(et,ei){var eo="function"==typeof Symbol&&et[Symbol.iterator];if(!eo)return et;var ea,ec,eh=eo.call(et),eu=[];try{for(;(void 0===ei||ei-- >0)&&!(ea=eh.next()).done;)eu.push(ea.value)}catch(et){ec={error:et}}finally{try{ea&&!ea.done&&(eo=eh.return)&&eo.call(eh)}finally{if(ec)throw ec.error}}return eu}function g(){for(var et=[],ei=0;ei<arguments.length;ei++)et=et.concat(b(arguments[ei]));return et}function m(){for(var et=0,ei=0,eo=arguments.length;ei<eo;ei++)et+=arguments[ei].length;var ea=Array(et),ec=0;for(ei=0;ei<eo;ei++)for(var eh=arguments[ei],eu=0,ed=eh.length;eu<ed;eu++,ec++)ea[ec]=eh[eu];return ea}function y(et){return this instanceof y?(this.v=et,this):new y(et)}function v(et,ei,eo){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var ea,ec=eo.apply(et,ei||[]),eh=[];return ea={},o("next"),o("throw"),o("return"),ea[Symbol.asyncIterator]=function(){return this},ea;function o(et){ec[et]&&(ea[et]=function(ei){return new Promise(function(eo,ea){eh.push([et,ei,eo,ea])>1||a(et,ei)})})}function a(et,ei){var eo;try{(eo=ec[et](ei)).value instanceof y?Promise.resolve(eo.value.v).then(c,h):u(eh[0][2],eo)}catch(et){u(eh[0][3],et)}}function c(et){a("next",et)}function h(et){a("throw",et)}function u(et,ei){et(ei),eh.shift(),eh.length&&a(eh[0][0],eh[0][1])}}function w(et){var ei,eo;return ei={},n("next"),n("throw",function(et){throw et}),n("return"),ei[Symbol.iterator]=function(){return this},ei;function n(ea,ec){ei[ea]=et[ea]?function(ei){return(eo=!eo)?{value:y(et[ea](ei)),done:"return"===ea}:ec?ec(ei):ei}:ec}}function _(et){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var ei,eo=et[Symbol.asyncIterator];return eo?eo.call(et):(et=p(et),ei={},n("next"),n("throw"),n("return"),ei[Symbol.asyncIterator]=function(){return this},ei);function n(eo){ei[eo]=et[eo]&&function(ei){return new Promise(function(ea,ec){!function(et,ei,eo,ea){Promise.resolve(ea).then(function(ei){et({value:ei,done:eo})},ei)}(ea,ec,(ei=et[eo](ei)).done,ei.value)})}}}function E(et,ei){return Object.defineProperty?Object.defineProperty(et,"raw",{value:ei}):et.raw=ei,et}function S(et){if(et&&et.__esModule)return et;var ei={};if(null!=et)for(var eo in et)Object.hasOwnProperty.call(et,eo)&&(ei[eo]=et[eo]);return ei.default=et,ei}function A(et){return et&&et.__esModule?et:{default:et}}function M(et,ei){if(!ei.has(et))throw TypeError("attempted to get private field on non-instance");return ei.get(et)}function I(et,ei,eo){if(!ei.has(et))throw TypeError("attempted to set private field on non-instance");return ei.set(et,eo),eo}},9661:(et,ei,eo)=>{"use strict";eo.r(ei),eo.d(ei,{__assign:()=>s,__asyncDelegator:()=>M,__asyncGenerator:()=>A,__asyncValues:()=>I,__await:()=>S,__awaiter:()=>p,__classPrivateFieldGet:()=>k,__classPrivateFieldIn:()=>O,__classPrivateFieldSet:()=>P,__createBinding:()=>ea,__decorate:()=>a,__esDecorate:()=>h,__exportStar:()=>m,__extends:()=>i,__generator:()=>b,__importDefault:()=>R,__importStar:()=>C,__makeTemplateObject:()=>T,__metadata:()=>l,__param:()=>c,__propKey:()=>d,__read:()=>v,__rest:()=>o,__runInitializers:()=>u,__setFunctionName:()=>f,__spread:()=>w,__spreadArray:()=>E,__spreadArrays:()=>_,__values:()=>y});var n=function(et,ei){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(et,ei){et.__proto__=ei}||function(et,ei){for(var eo in ei)Object.prototype.hasOwnProperty.call(ei,eo)&&(et[eo]=ei[eo])})(et,ei)};function i(et,ei){if("function"!=typeof ei&&null!==ei)throw TypeError("Class extends value "+String(ei)+" is not a constructor or null");function r(){this.constructor=et}n(et,ei),et.prototype=null===ei?Object.create(ei):(r.prototype=ei.prototype,new r)}var s=function(){return(s=Object.assign||function(et){for(var ei,eo=1,ea=arguments.length;eo<ea;eo++)for(var ec in ei=arguments[eo])Object.prototype.hasOwnProperty.call(ei,ec)&&(et[ec]=ei[ec]);return et}).apply(this,arguments)};function o(et,ei){var eo={};for(var ea in et)Object.prototype.hasOwnProperty.call(et,ea)&&0>ei.indexOf(ea)&&(eo[ea]=et[ea]);if(null!=et&&"function"==typeof Object.getOwnPropertySymbols){var ec=0;for(ea=Object.getOwnPropertySymbols(et);ec<ea.length;ec++)0>ei.indexOf(ea[ec])&&Object.prototype.propertyIsEnumerable.call(et,ea[ec])&&(eo[ea[ec]]=et[ea[ec]])}return eo}function a(et,ei,eo,ea){var ec,eh=arguments.length,eu=eh<3?ei:null===ea?ea=Object.getOwnPropertyDescriptor(ei,eo):ea;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)eu=Reflect.decorate(et,ei,eo,ea);else for(var ed=et.length-1;ed>=0;ed--)(ec=et[ed])&&(eu=(eh<3?ec(eu):eh>3?ec(ei,eo,eu):ec(ei,eo))||eu);return eh>3&&eu&&Object.defineProperty(ei,eo,eu),eu}function c(et,ei){return function(eo,ea){ei(eo,ea,et)}}function h(et,ei,eo,ea,ec,eh){function o(et){if(void 0!==et&&"function"!=typeof et)throw TypeError("Function expected");return et}for(var eu,ed=ea.kind,ef="getter"===ed?"get":"setter"===ed?"set":"value",el=!ei&&et?ea.static?et:et.prototype:null,ep=ei||(el?Object.getOwnPropertyDescriptor(el,ea.name):{}),eb=!1,eg=eo.length-1;eg>=0;eg--){var em={};for(var ey in ea)em[ey]="access"===ey?{}:ea[ey];for(var ey in ea.access)em.access[ey]=ea.access[ey];em.addInitializer=function(et){if(eb)throw TypeError("Cannot add initializers after decoration has completed");eh.push(o(et||null))};var ev=(0,eo[eg])("accessor"===ed?{get:ep.get,set:ep.set}:ep[ef],em);if("accessor"===ed){if(void 0===ev)continue;if(null===ev||"object"!=typeof ev)throw TypeError("Object expected");(eu=o(ev.get))&&(ep.get=eu),(eu=o(ev.set))&&(ep.set=eu),(eu=o(ev.init))&&ec.push(eu)}else(eu=o(ev))&&("field"===ed?ec.push(eu):ep[ef]=eu)}el&&Object.defineProperty(el,ea.name,ep),eb=!0}function u(et,ei,eo){for(var ea=arguments.length>2,ec=0;ec<ei.length;ec++)eo=ea?ei[ec].call(et,eo):ei[ec].call(et);return ea?eo:void 0}function d(et){return"symbol"==typeof et?et:"".concat(et)}function f(et,ei,eo){return"symbol"==typeof ei&&(ei=ei.description?"[".concat(ei.description,"]"):""),Object.defineProperty(et,"name",{configurable:!0,value:eo?"".concat(eo," ",ei):ei})}function l(et,ei){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(et,ei)}function p(et,ei,eo,ea){return new(eo||(eo=Promise))(function(ec,eh){function o(et){try{c(ea.next(et))}catch(et){eh(et)}}function a(et){try{c(ea.throw(et))}catch(et){eh(et)}}function c(et){var ei;et.done?ec(et.value):((ei=et.value)instanceof eo?ei:new eo(function(et){et(ei)})).then(o,a)}c((ea=ea.apply(et,ei||[])).next())})}function b(et,ei){var eo,ea,ec,eh,eu={label:0,sent:function(){if(1&ec[0])throw ec[1];return ec[1]},trys:[],ops:[]};return eh={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(eh[Symbol.iterator]=function(){return this}),eh;function a(ed){return function(ef){return function(ed){if(eo)throw TypeError("Generator is already executing.");for(;eh&&(eh=0,ed[0]&&(eu=0)),eu;)try{if(eo=1,ea&&(ec=2&ed[0]?ea.return:ed[0]?ea.throw||((ec=ea.return)&&ec.call(ea),0):ea.next)&&!(ec=ec.call(ea,ed[1])).done)return ec;switch(ea=0,ec&&(ed=[2&ed[0],ec.value]),ed[0]){case 0:case 1:ec=ed;break;case 4:return eu.label++,{value:ed[1],done:!1};case 5:eu.label++,ea=ed[1],ed=[0];continue;case 7:ed=eu.ops.pop(),eu.trys.pop();continue;default:if(!((ec=(ec=eu.trys).length>0&&ec[ec.length-1])||6!==ed[0]&&2!==ed[0])){eu=0;continue}if(3===ed[0]&&(!ec||ed[1]>ec[0]&&ed[1]<ec[3])){eu.label=ed[1];break}if(6===ed[0]&&eu.label<ec[1]){eu.label=ec[1],ec=ed;break}if(ec&&eu.label<ec[2]){eu.label=ec[2],eu.ops.push(ed);break}ec[2]&&eu.ops.pop(),eu.trys.pop();continue}ed=ei.call(et,eu)}catch(et){ed=[6,et],ea=0}finally{eo=ec=0}if(5&ed[0])throw ed[1];return{value:ed[0]?ed[1]:void 0,done:!0}}([ed,ef])}}}var ea=Object.create?function(et,ei,eo,ea){void 0===ea&&(ea=eo);var ec=Object.getOwnPropertyDescriptor(ei,eo);ec&&!("get"in ec?!ei.__esModule:ec.writable||ec.configurable)||(ec={enumerable:!0,get:function(){return ei[eo]}}),Object.defineProperty(et,ea,ec)}:function(et,ei,eo,ea){void 0===ea&&(ea=eo),et[ea]=ei[eo]};function m(et,ei){for(var eo in et)"default"===eo||Object.prototype.hasOwnProperty.call(ei,eo)||ea(ei,et,eo)}function y(et){var ei="function"==typeof Symbol&&Symbol.iterator,eo=ei&&et[ei],ea=0;if(eo)return eo.call(et);if(et&&"number"==typeof et.length)return{next:function(){return et&&ea>=et.length&&(et=void 0),{value:et&&et[ea++],done:!et}}};throw TypeError(ei?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(et,ei){var eo="function"==typeof Symbol&&et[Symbol.iterator];if(!eo)return et;var ea,ec,eh=eo.call(et),eu=[];try{for(;(void 0===ei||ei-- >0)&&!(ea=eh.next()).done;)eu.push(ea.value)}catch(et){ec={error:et}}finally{try{ea&&!ea.done&&(eo=eh.return)&&eo.call(eh)}finally{if(ec)throw ec.error}}return eu}function w(){for(var et=[],ei=0;ei<arguments.length;ei++)et=et.concat(v(arguments[ei]));return et}function _(){for(var et=0,ei=0,eo=arguments.length;ei<eo;ei++)et+=arguments[ei].length;var ea=Array(et),ec=0;for(ei=0;ei<eo;ei++)for(var eh=arguments[ei],eu=0,ed=eh.length;eu<ed;eu++,ec++)ea[ec]=eh[eu];return ea}function E(et,ei,eo){if(eo||2==arguments.length)for(var ea,ec=0,eh=ei.length;ec<eh;ec++)!ea&&ec in ei||(ea||(ea=Array.prototype.slice.call(ei,0,ec)),ea[ec]=ei[ec]);return et.concat(ea||Array.prototype.slice.call(ei))}function S(et){return this instanceof S?(this.v=et,this):new S(et)}function A(et,ei,eo){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var ea,ec=eo.apply(et,ei||[]),eh=[];return ea={},o("next"),o("throw"),o("return"),ea[Symbol.asyncIterator]=function(){return this},ea;function o(et){ec[et]&&(ea[et]=function(ei){return new Promise(function(eo,ea){eh.push([et,ei,eo,ea])>1||a(et,ei)})})}function a(et,ei){var eo;try{(eo=ec[et](ei)).value instanceof S?Promise.resolve(eo.value.v).then(c,h):u(eh[0][2],eo)}catch(et){u(eh[0][3],et)}}function c(et){a("next",et)}function h(et){a("throw",et)}function u(et,ei){et(ei),eh.shift(),eh.length&&a(eh[0][0],eh[0][1])}}function M(et){var ei,eo;return ei={},n("next"),n("throw",function(et){throw et}),n("return"),ei[Symbol.iterator]=function(){return this},ei;function n(ea,ec){ei[ea]=et[ea]?function(ei){return(eo=!eo)?{value:S(et[ea](ei)),done:!1}:ec?ec(ei):ei}:ec}}function I(et){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var ei,eo=et[Symbol.asyncIterator];return eo?eo.call(et):(et=y(et),ei={},n("next"),n("throw"),n("return"),ei[Symbol.asyncIterator]=function(){return this},ei);function n(eo){ei[eo]=et[eo]&&function(ei){return new Promise(function(ea,ec){!function(et,ei,eo,ea){Promise.resolve(ea).then(function(ei){et({value:ei,done:eo})},ei)}(ea,ec,(ei=et[eo](ei)).done,ei.value)})}}}function T(et,ei){return Object.defineProperty?Object.defineProperty(et,"raw",{value:ei}):et.raw=ei,et}var ec=Object.create?function(et,ei){Object.defineProperty(et,"default",{enumerable:!0,value:ei})}:function(et,ei){et.default=ei};function C(et){if(et&&et.__esModule)return et;var ei={};if(null!=et)for(var eo in et)"default"!==eo&&Object.prototype.hasOwnProperty.call(et,eo)&&ea(ei,et,eo);return ec(ei,et),ei}function R(et){return et&&et.__esModule?et:{default:et}}function k(et,ei,eo,ea){if("a"===eo&&!ea)throw TypeError("Private accessor was defined without a getter");if("function"==typeof ei?et!==ei||!ea:!ei.has(et))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===eo?ea:"a"===eo?ea.call(et):ea?ea.value:ei.get(et)}function P(et,ei,eo,ea,ec){if("m"===ea)throw TypeError("Private method is not writable");if("a"===ea&&!ec)throw TypeError("Private accessor was defined without a setter");if("function"==typeof ei?et!==ei||!ec:!ei.has(et))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===ea?ec.call(et,eo):ec?ec.value=eo:ei.set(et,eo),eo}function O(et,ei){if(null===ei||"object"!=typeof ei&&"function"!=typeof ei)throw TypeError("Cannot use 'in' operator on non-object");return"function"==typeof et?ei===et:et.has(ei)}},5985:et=>{"use strict";et.exports=function(){throw Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},4154:(et,ei)=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0}),ei.ALEPHIUM_DEEP_LINK=ei.RELAY_URL=ei.LOGGER=ei.RELAY_METHODS=ei.PROVIDER_NAMESPACE=void 0,ei.PROVIDER_NAMESPACE="alephium",ei.RELAY_METHODS=["alph_signAndSubmitTransferTx","alph_signAndSubmitDeployContractTx","alph_signAndSubmitExecuteScriptTx","alph_signAndSubmitUnsignedTx","alph_signAndSubmitChainedTx","alph_signUnsignedTx","alph_signMessage","alph_requestNodeApi","alph_requestExplorerApi"],ei.LOGGER="error",ei.RELAY_URL="wss://relay.walletconnect.org",ei.ALEPHIUM_DEEP_LINK="alephium://"},2071:(et,ei,eo)=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0});let ea=eo(9661);ea.__exportStar(eo(6098),ei),ea.__exportStar(eo(4154),ei),ea.__exportStar(eo(8590),ei)},6098:(et,ei,eo)=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0}),ei.parseAccount=ei.formatAccount=ei.parseChain=ei.formatChain=ei.isCompatibleAddressGroup=ei.isCompatibleChain=ei.WalletConnectProvider=void 0;let ea=eo(9661),ec=ea.__importDefault(eo(2579)),eh=ea.__importDefault(eo(3399)),eu=eo(3399),ed=eo(4327),ef=eo(4327),el=eo(4610),ep=eo(4154),eb=eo(5842),eg=eo(8827),em=eo(6446),ey=eo(9423);let b=class b extends el.SignerProvider{static async init(et){let ei=new b(et);return await ei.initialize(),ei}constructor(et){super(),this.events=new ec.default,this.account=void 0,this.rateLimit=function(){let et=new ey.Sema(5);return async()=>{let ei=et.nrWaiting();ei>0&&console.warn(`There are currently ${ei} requests in the waiting queue. Please reduce the number of WalletConnect requests.`),await et.acquire(),setTimeout(()=>et.release(),1e3)}}(),this.requestNodeAPI=et=>this.typedRequest("alph_requestNodeApi",et),this.requestExplorerAPI=et=>this.typedRequest("alph_requestExplorerApi",et),this.providerOpts=et,this.networkId=et.networkId,this.addressGroup=et.addressGroup,this.permittedChain=m(this.networkId,this.addressGroup),this.methods=et.methods??[...ep.RELAY_METHODS],this.methods.includes("alph_requestNodeApi")?this.nodeProvider=el.NodeProvider.Remote(this.requestNodeAPI):this.nodeProvider=void 0,this.methods.includes("alph_requestExplorerApi")?this.explorerProvider=el.ExplorerProvider.Remote(this.requestExplorerAPI):this.explorerProvider=void 0}async connect(){if(this.session)this.updateNamespace(this.session.namespaces);else{let{uri:et,approval:ei}=await this.client.connect({requiredNamespaces:{alephium:{chains:[this.permittedChain],methods:this.methods,events:["accountChanged"]}}});et&&this.emitEvents("displayUri",et),this.session=await ei(),this.updateNamespace(this.session.namespaces)}await this.cleanMessages()}async disconnect(){if(!this.client||!this.session)throw Error("Sign Client not initialized");await this.providerOpts.onDisconnected();let et=(0,ef.getSdkError)("USER_DISCONNECTED");try{await this.client.disconnect({topic:this.session.topic,reason:et})}catch(ei){await this.client.session.delete(this.session.topic,et),await this.client.core.crypto.deleteSymKey(this.session.topic)}this.session=void 0,this.account=void 0}on(et,ei){this.events.on(et,ei)}once(et,ei){this.events.once(et,ei)}removeListener(et,ei){this.events.removeListener(et,ei)}off(et,ei){this.events.off(et,ei)}unsafeGetSelectedAccount(){if(void 0===this.account)throw Error("Account is not available");return Promise.resolve(this.account)}async signAndSubmitTransferTx(et){return this.typedRequest("alph_signAndSubmitTransferTx",et)}async signAndSubmitDeployContractTx(et){return this.typedRequest("alph_signAndSubmitDeployContractTx",et)}async signAndSubmitExecuteScriptTx(et){return this.typedRequest("alph_signAndSubmitExecuteScriptTx",et)}async signAndSubmitUnsignedTx(et){return this.typedRequest("alph_signAndSubmitUnsignedTx",et)}async signAndSubmitChainedTx(et){return this.typedRequest("alph_signAndSubmitChainedTx",et)}async signUnsignedTx(et){return this.typedRequest("alph_signUnsignedTx",et)}async signMessage(et){return this.typedRequest("alph_signMessage",et)}getCustomStoragePrefix(){return this.providerOpts.customStoragePrefix??"alephium"}getWCStorageKey(et,ei,eo){return et+ei+`:${this.getCustomStoragePrefix()}//`+eo}async getSessionTopics(et){let ei=this.getWCStorageKey(eu.SIGN_CLIENT_STORAGE_PREFIX,eg.STORE_STORAGE_VERSION,eu.SESSION_CONTEXT),eo=await et.getItem(ei);return void 0===eo?[]:eo.filter(et=>{let ei=(0,ef.getChainsFromNamespaces)(et.namespaces,[ep.PROVIDER_NAMESPACE]);return ei.length>0&&ei.every(et=>et.startsWith(ep.PROVIDER_NAMESPACE))}).map(et=>et.topic)}async cleanBeforeInit(){console.log("Clean storage before SignClient init");let et=new em.KeyValueStorage({...eg.CORE_STORAGE_OPTIONS}),ei=this.getWCStorageKey(eg.CORE_STORAGE_PREFIX,eg.HISTORY_STORAGE_VERSION,eg.HISTORY_CONTEXT),eo=await et.getItem(ei);if(void 0!==eo){let ea=eo.filter(et=>!this.needToDeleteHistory(et));await et.setItem(ei,ea)}let ea=await this.getSessionTopics(et);if(ea.length>0){let ei=this.getWCStorageKey(eg.CORE_STORAGE_PREFIX,eg.MESSAGES_STORAGE_VERSION,eg.MESSAGES_CONTEXT),eo=await et.getItem(ei);if(void 0===eo)return;let ec=(0,ef.objToMap)(eo);ea.forEach(et=>ec.delete(et)),await et.setItem(ei,(0,ef.mapToObj)(ec)),console.log(`Clean topics from messages storage: ${ea.join(",")}`)}}needToDeleteHistory(et){let ei=et.request;if("wc_sessionRequest"!==ei.method)return!1;let eo=ei.params?.request?.method;return"alph_requestNodeApi"===eo||"alph_requestExplorerApi"===eo}cleanHistory(et){try{let ei=this.client.core.history.records;for(let[eo,ea]of ei)et&&void 0===ea.response||this.needToDeleteHistory(ea)&&this.client.core.history.delete(ea.topic,eo)}catch(et){console.error(`Failed to clean history, error: ${et}`)}}async cleanMessages(){if(void 0!==this.session)try{await this.client.core.relayer.messages.del(this.session.topic)}catch(et){console.error(`Failed to clean messages, error: ${et}, topic: ${this.session.topic}`)}}async initialize(){try{await this.cleanBeforeInit()}catch(et){console.error(`Failed to clean storage, error: ${et}`)}await this.createClient(),this.cleanHistory(!1),this.checkStorage(),this.registerEventListeners()}async createClient(){this.client=this.providerOpts.client||await eh.default.init({...this.providerOpts,logger:this.providerOpts.logger||ep.LOGGER,relayUrl:this.providerOpts.relayUrl||ep.RELAY_URL,customStoragePrefix:this.getCustomStoragePrefix()})}checkStorage(){let et=this.client.session.keys;for(let ei=et.length-1;ei>=0;ei--){let eo=this.client.session.get(et[`${ei}`]),ea=this.client.core.crypto.keychain.has(eo.topic),ec=(0,ef.getChainsFromNamespaces)(eo.namespaces,[ep.PROVIDER_NAMESPACE]);if(this.sameChains(ec,[this.permittedChain])&&ea)return void(this.session=eo)}}registerEventListeners(){if(void 0===this.client)throw Error("Sign Client is not initialized");this.client.on("session_ping",et=>{et.topic===this.session?.topic&&this.emitEvents("session_ping",et)}),this.client.on("session_event",et=>{et.topic===this.session?.topic&&this.emitEvents("session_event",et)}),this.client.on("session_update",({topic:et,params:ei})=>{if(et===this.session?.topic){let{namespaces:eo}=ei,ea=this.client?.session.get(et);this.session={...ea,namespaces:eo},this.updateNamespace(this.session.namespaces),this.emitEvents("session_update",{topic:et,params:ei})}}),this.client.on("session_delete",et=>{et.topic===this.session?.topic&&this.emitEvents("session_delete")})}emitEvents(et,ei){this.events.emit(et,ei)}typedRequest(et,ei){return this.request({method:et,params:ei})}async request(et){if(await this.rateLimit(),!this.session)throw Error("Sign Client not initialized");if(!this.methods.includes(et.method))return Promise.reject(Error(`Invalid method was passed: ${et.method}`));if(!et.method.startsWith("alph_request")){let ei=et.params?.signerAddress;if(void 0===ei)throw Error("Cannot request without signerAddress");if(ei!==(await this.getSelectedAccount()).address)throw Error(`Invalid signer address: ${et.params.signerAddress}`)}try{let ei=et.method.startsWith("alph_sign");ei&&(0,eb.isMobile)()&&(0,ed.isBrowser)()&&window.open(ep.ALEPHIUM_DEEP_LINK,"_self","noreferrer noopener");let eo=await this.client.request({request:{method:et.method,params:et.params},chainId:this.permittedChain,topic:this.session?.topic});return ei||this.cleanHistory(!0),await this.cleanMessages(),eo}catch(ei){throw new el.TraceableError(`Failed to request ${et.method}`,ei)}}updateNamespace(et){let ei=(0,ef.getChainsFromNamespaces)(et,[ep.PROVIDER_NAMESPACE]);this.setChain(ei);let eo=(0,ef.getAccountsFromNamespaces)(et,[ep.PROVIDER_NAMESPACE]);this.setAccounts(eo)}sameChains(et,ei){return void 0!==ei&&et.join()===ei.join()}setChain(et){if(!this.sameChains(et,[this.permittedChain]))throw Error("Network or address group has changed")}sameAccounts(et,ei){return void 0!==ei&&et.map(et=>et.address).join()===ei.map(et=>et.address).join()}isPreauthorized(){if(!this.session)return!1;let et=(0,ef.getAccountsFromNamespaces)(this.session.namespaces,[ep.PROVIDER_NAMESPACE]).map(y),{networkId:ei,addressGroup:eo,keyType:ea}=this.providerOpts;return!!et.find(et=>!(ei!==et.networkId||void 0!==eo&&et.group!==eo||void 0!==ea&&et.keyType!==ea))}setAccounts(et){let ei=et.map(y);if(this.sameAccounts(ei,this.lastSetAccounts))return;if(this.lastSetAccounts=ei,1!==ei.length)throw Error("The WC provider does not supports multiple accounts");let eo=ei[0];if(!g(eo.group,this.addressGroup))throw Error("The new account belongs to an unexpected address group");this.account=eo,this.emitEvents("accountChanged",eo)}};function g(et,ei){return void 0===ei||ei===et}function m(et,ei){if(void 0!==ei&&ei<0)throw Error("Address group in provider needs to be either undefined or non-negative");return`${ep.PROVIDER_NAMESPACE}:${et}/${void 0!==ei?ei:-1}`}function y(et){let[ei,eo,ea,ec,eh]=et.replace(/\//g,":").split(":"),eu=(0,el.addressFromPublicKey)(ec),ed=(0,el.groupOfAddress)(eu);if("default"!==eh&&"bip340-schnorr"!==eh)throw Error(`Invalid key type: ${eh}`);return{address:eu,group:ed,publicKey:ec,keyType:eh,networkId:eo}}ei.WalletConnectProvider=b,ei.isCompatibleChain=function(et){return et.startsWith(`${ep.PROVIDER_NAMESPACE}:`)},ei.isCompatibleAddressGroup=g,ei.formatChain=m,ei.parseChain=function(et){let[ei,eo,ea]=et.replace(/\//g,":").split(":"),ec=parseInt(ea,10);if(ec<-1)throw Error("Address group in protocol needs to be either -1 or non-negative");let eh=el.networkIds;if(!eh.includes(eo))throw Error(`Invalid network id, expect one of ${eh}`);return{networkId:eo,addressGroup:-1===ec?void 0:ec}},ei.formatAccount=function(et,ei){return`${et}:${ei.publicKey}/${ei.keyType}`},ei.parseAccount=y},8590:(et,ei,eo)=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0});let ea=eo(4610);(0,ea.assertType)(),(0,ea.assertType)()},5842:(et,ei)=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0}),ei.isMobile=void 0,ei.isMobile=function(){return"undefined"!=typeof navigator&&/android/i.test(navigator.userAgent)||"undefined"!=typeof navigator&&/iPhone|iPod/.test(navigator.userAgent)||"undefined"!=typeof navigator&&(/iPad/.test(navigator.userAgent)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)}},170:()=>{},7175:()=>{},9322:()=>{},4507:()=>{},9798:(et,ei,eo)=>{"use strict";let ea=eo(782);et.exports=o;let ec=function(){function e(et){return void 0!==et&&et}try{return"undefined"!=typeof globalThis||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch(et){return e(self)||e(window)||e(this)||{}}}().console||{};function o(et){var ei,eo;(et=et||{}).browser=et.browser||{};let ea=et.browser.transmit;if(ea&&"function"!=typeof ea.send)throw Error("pino: transmit option must have a send function");let eh=et.browser.write||ec;et.browser.write&&(et.browser.asObject=!0);let eu=et.serializers||{},ed=Array.isArray(ei=et.browser.serialize)?ei.filter(function(et){return"!stdSerializers.err"!==et}):!0===ei&&Object.keys(eu),ef=et.browser.serialize;Array.isArray(et.browser.serialize)&&et.browser.serialize.indexOf("!stdSerializers.err")>-1&&(ef=!1),"function"==typeof eh&&(eh.error=eh.fatal=eh.warn=eh.info=eh.debug=eh.trace=eh),!1===et.enabled&&(et.level="silent");let el=et.level||"info",ep=Object.create(eh);ep.log||(ep.log=p),Object.defineProperty(ep,"levelVal",{get:function(){return"silent"===this.level?1/0:this.levels.values[this.level]}}),Object.defineProperty(ep,"level",{get:function(){return this._level},set:function(et){if("silent"!==et&&!this.levels.values[et])throw Error("unknown level "+et);this._level=et,a(eb,ep,"error","log"),a(eb,ep,"fatal","error"),a(eb,ep,"warn","error"),a(eb,ep,"info","log"),a(eb,ep,"debug","log"),a(eb,ep,"trace","log")}});let eb={transmit:ea,serialize:ed,asObject:et.browser.asObject,levels:["error","fatal","warn","info","debug","trace"],timestamp:"function"==typeof(eo=et).timestamp?eo.timestamp:!1===eo.timestamp?b:g};return ep.levels=o.levels,ep.level=el,ep.setMaxListeners=ep.getMaxListeners=ep.emit=ep.addListener=ep.on=ep.prependListener=ep.once=ep.prependOnceListener=ep.removeListener=ep.removeAllListeners=ep.listeners=ep.listenerCount=ep.eventNames=ep.write=ep.flush=p,ep.serializers=eu,ep._serialize=ed,ep._stdErrSerialize=ef,ep.child=function(ei,eo){if(!ei)throw Error("missing bindings for child Pino");eo=eo||{},ed&&ei.serializers&&(eo.serializers=ei.serializers);let ec=eo.serializers;if(ed&&ec){var eh=Object.assign({},eu,ec),ef=!0===et.browser.serialize?Object.keys(eh):ed;delete ei.serializers,c([ei],ef,eh,this._stdErrSerialize)}function f(et){this._childLevel=1+(0|et._childLevel),this.error=h(et,ei,"error"),this.fatal=h(et,ei,"fatal"),this.warn=h(et,ei,"warn"),this.info=h(et,ei,"info"),this.debug=h(et,ei,"debug"),this.trace=h(et,ei,"trace"),eh&&(this.serializers=eh,this._serialize=ef),ea&&(this._logEvent=u([].concat(et._logEvent.bindings,ei)))}return f.prototype=this,new f(this)},ea&&(ep._logEvent=u()),ep}function a(et,ei,eo,eh){var eu;let ed=Object.getPrototypeOf(ei);ei[eo]=ei.levelVal>ei.levels.values[eo]?p:ed[eo]?ed[eo]:ec[eo]||ec[eh]||p,(et.transmit||ei[eo]!==p)&&(ei[eo]=(eu=ei[eo],function(){let eh=et.timestamp(),ed=Array(arguments.length),ef=Object.getPrototypeOf&&Object.getPrototypeOf(this)===ec?ec:this;for(var el=0;el<ed.length;el++)ed[el]=arguments[el];if(et.serialize&&!et.asObject&&c(ed,this._serialize,this.serializers,this._stdErrSerialize),et.asObject?eu.call(ef,function(et,ei,eo,ec){et._serialize&&c(eo,et._serialize,et.serializers,et._stdErrSerialize);let eh=eo.slice(),eu=eh[0],ed={};ec&&(ed.time=ec),ed.level=o.levels.values[ei];let ef=1+(0|et._childLevel);if(ef<1&&(ef=1),null!==eu&&"object"==typeof eu){for(;ef--&&"object"==typeof eh[0];)Object.assign(ed,eh.shift());eu=eh.length?ea(eh.shift(),eh):void 0}else"string"==typeof eu&&(eu=ea(eh.shift(),eh));return void 0!==eu&&(ed.msg=eu),ed}(this,eo,ed,eh)):eu.apply(ef,ed),et.transmit){let ea=et.transmit.level||ei.level,ec=o.levels.values[ea],eu=o.levels.values[eo];if(eu<ec)return;!function(et,ei,eo){let ea=ei.send,ec=ei.ts,eh=ei.methodLevel,eu=ei.methodValue,ed=ei.val,ef=et._logEvent.bindings;c(eo,et._serialize||Object.keys(et.serializers),et.serializers,void 0===et._stdErrSerialize||et._stdErrSerialize),et._logEvent.ts=ec,et._logEvent.messages=eo.filter(function(et){return -1===ef.indexOf(et)}),et._logEvent.level.label=eh,et._logEvent.level.value=eu,ea(eh,et._logEvent,ed),et._logEvent=u(ef)}(this,{ts:eh,methodLevel:eo,methodValue:eu,transmitLevel:ea,transmitValue:o.levels.values[et.transmit.level||ei.level],send:et.transmit.send,val:ei.levelVal},ed)}}))}function c(et,ei,eo,ea){for(let ec in et)if(ea&&et[ec]instanceof Error)et[ec]=o.stdSerializers.err(et[ec]);else if("object"==typeof et[ec]&&!Array.isArray(et[ec]))for(let ea in et[ec])ei&&ei.indexOf(ea)>-1&&ea in eo&&(et[ec][ea]=eo[ea](et[ec][ea]))}function h(et,ei,eo){return function(){let ea=Array(1+arguments.length);ea[0]=ei;for(var ec=1;ec<ea.length;ec++)ea[ec]=arguments[ec-1];return et[eo].apply(this,ea)}}function u(et){return{ts:0,messages:[],bindings:et||[],level:{label:"",value:0}}}function f(){return{}}function l(et){return et}function p(){}function b(){return!1}function g(){return Date.now()}o.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},o.stdSerializers={mapHttpRequest:f,mapHttpResponse:f,wrapRequestSerializer:l,wrapResponseSerializer:l,wrapErrorSerializer:l,req:f,res:f,err:function(et){let ei={type:et.constructor.name,msg:et.message,stack:et.stack};for(let eo in et)void 0===ei[eo]&&(ei[eo]=et[eo]);return ei}},o.stdTimeFunctions=Object.assign({},{nullTime:b,epochTime:g,unixTime:function(){return Math.round(Date.now()/1e3)},isoTime:function(){return new Date(Date.now()).toISOString()}})},4610:et=>{self,et.exports=(()=>{var et={9695:(et,ei,eo)=>{"use strict";let ea,ec;Object.defineProperty(ei,"__esModule",{value:!0}),ei.utils=ei.schnorr=ei.verify=ei.signSync=ei.sign=ei.getSharedSecret=ei.recoverPublicKey=ei.getPublicKey=ei.Signature=ei.Point=ei.CURVE=void 0;let eh=eo(7998),eu=BigInt(0),ed=BigInt(1),ef=BigInt(2),el=BigInt(3),ep=BigInt(8),eb=Object.freeze({a:eu,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:ed,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")});ei.CURVE=eb;let u=(et,ei)=>(et+ei/ef)/ei,eg={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(et){let{n:ei}=eb,eo=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),ea=-ed*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),ec=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),eh=BigInt("0x100000000000000000000000000000000"),eu=u(eo*et,ei),ef=u(-ea*et,ei),el=D(et-eu*eo-ef*ec,ei),ep=D(-eu*ea-ef*eo,ei),eg=el>eh,em=ep>eh;if(eg&&(el=ei-el),em&&(ep=ei-ep),el>eh||ep>eh)throw Error("splitScalarEndo: Endomorphism failed, k="+et);return{k1neg:eg,k1:el,k2neg:em,k2:ep}}};function g(et){let{a:ei,b:eo}=eb,ea=D(et*et),ec=D(ea*et);return D(ec+ei*et+eo)}let em=eb.a===eu;let y=class y extends Error{constructor(et){super(et)}};function v(et){if(!(et instanceof w))throw TypeError("JacobianPoint expected")}let w=class w{constructor(et,ei,eo){this.x=et,this.y=ei,this.z=eo}static fromAffine(et){if(!(et instanceof S))throw TypeError("JacobianPoint#fromAffine: expected Point");return et.equals(S.ZERO)?w.ZERO:new w(et.x,et.y,ed)}static toAffineBatch(et){let ei=function(et,ei=eb.P){let eo=Array(et.length),ea=F(et.reduce((et,ea,ec)=>ea===eu?et:(eo[ec]=et,D(et*ea,ei)),ed),ei);return et.reduceRight((et,ea,ec)=>ea===eu?et:(eo[ec]=D(et*eo[ec],ei),D(et*ea,ei)),ea),eo}(et.map(et=>et.z));return et.map((et,eo)=>et.toAffine(ei[eo]))}static normalizeZ(et){return w.toAffineBatch(et).map(w.fromAffine)}equals(et){v(et);let{x:ei,y:eo,z:ea}=this,{x:ec,y:eh,z:eu}=et,ed=D(ea*ea),ef=D(eu*eu),el=D(ei*ef),ep=D(ec*ed),eb=D(D(eo*eu)*ef),eg=D(D(eh*ea)*ed);return el===ep&&eb===eg}negate(){return new w(this.x,D(-this.y),this.z)}double(){let{x:et,y:ei,z:eo}=this,ea=D(et*et),ec=D(ei*ei),eh=D(ec*ec),eu=et+ec,ed=D(ef*(D(eu*eu)-ea-eh)),eb=D(el*ea),eg=D(eb*eb),em=D(eg-ef*ed),ey=D(eb*(ed-em)-ep*eh),ev=D(ef*ei*eo);return new w(em,ey,ev)}add(et){v(et);let{x:ei,y:eo,z:ea}=this,{x:ec,y:eh,z:ed}=et;if(ec===eu||eh===eu)return this;if(ei===eu||eo===eu)return et;let el=D(ea*ea),ep=D(ed*ed),eb=D(ei*ep),eg=D(ec*el),em=D(D(eo*ed)*ep),ey=D(D(eh*ea)*el),ev=D(eg-eb),ew=D(ey-em);if(ev===eu)return ew===eu?this.double():w.ZERO;let e_=D(ev*ev),eE=D(ev*e_),eS=D(eb*e_),eA=D(ew*ew-eE-ef*eS),eM=D(ew*(eS-eA)-em*eE),eI=D(ea*ed*ev);return new w(eA,eM,eI)}subtract(et){return this.add(et.negate())}multiplyUnsafe(et){let ei=w.ZERO;if("bigint"==typeof et&&et===eu)return ei;let eo=j(et);if(eo===ed)return this;if(!em){let et=ei,ea=this;for(;eo>eu;)eo&ed&&(et=et.add(ea)),ea=ea.double(),eo>>=ed;return et}let{k1neg:ea,k1:ec,k2neg:eh,k2:ef}=eg.splitScalar(eo),el=ei,ep=ei,eb=this;for(;ec>eu||ef>eu;)ec&ed&&(el=el.add(eb)),ef&ed&&(ep=ep.add(eb)),eb=eb.double(),ec>>=ed,ef>>=ed;return ea&&(el=el.negate()),eh&&(ep=ep.negate()),ep=new w(D(ep.x*eg.beta),ep.y,ep.z),el.add(ep)}precomputeWindow(et){let ei=em?128/et+1:256/et+1,eo=[],ea=this,ec=ea;for(let eh=0;eh<ei;eh++){ec=ea,eo.push(ec);for(let ei=1;ei<2**(et-1);ei++)ec=ec.add(ea),eo.push(ec);ea=ec.double()}return eo}wNAF(et,ei){!ei&&this.equals(w.BASE)&&(ei=S.BASE);let eo=ei&&ei._WINDOW_SIZE||1;if(256%eo)throw Error("Point#wNAF: Invalid precomputation window, must be power of 2");let ea=ei&&ey.get(ei);ea||(ea=this.precomputeWindow(eo),ei&&1!==eo&&(ea=w.normalizeZ(ea),ey.set(ei,ea)));let ec=w.ZERO,eh=w.BASE,eu=1+(em?128/eo:256/eo),ef=2**(eo-1),el=BigInt(2**eo-1),ep=2**eo,eb=BigInt(eo);for(let ei=0;ei<eu;ei++){let eo=ei*ef,eu=Number(et&el);et>>=eb,eu>ef&&(eu-=ep,et+=ed);let eg=eo+Math.abs(eu)-1,em=ei%2!=0,ey=eu<0;0===eu?eh=eh.add(_(em,ea[eo])):ec=ec.add(_(ey,ea[eg]))}return{p:ec,f:eh}}multiply(et,ei){let eo,ea,ec=j(et);if(em){let{k1neg:et,k1:eh,k2neg:eu,k2:ed}=eg.splitScalar(ec),{p:ef,f:el}=this.wNAF(eh,ei),{p:ep,f:eb}=this.wNAF(ed,ei);ef=_(et,ef),ep=_(eu,ep),ep=new w(D(ep.x*eg.beta),ep.y,ep.z),eo=ef.add(ep),ea=el.add(eb)}else{let{p:et,f:eh}=this.wNAF(ec,ei);eo=et,ea=eh}return w.normalizeZ([eo,ea])[0]}toAffine(et){let{x:ei,y:eo,z:ea}=this,ec=this.equals(w.ZERO);null==et&&(et=ec?ep:F(ea));let eh=et,eu=D(eh*eh),ef=D(eu*eh),el=D(ei*eu),eb=D(eo*ef),eg=D(ea*eh);if(ec)return S.ZERO;if(eg!==ed)throw Error("invZ was invalid");return new S(el,eb)}};function _(et,ei){let eo=ei.negate();return et?eo:ei}w.BASE=new w(eb.Gx,eb.Gy,ed),w.ZERO=new w(eu,ed,eu);let ey=new WeakMap;let S=class S{constructor(et,ei){this.x=et,this.y=ei}_setWindowSize(et){this._WINDOW_SIZE=et,ey.delete(this)}hasEvenY(){return this.y%ef===eu}static fromCompressedHex(et){let ei=32===et.length,eo=B(ei?et:et.subarray(1));if(!G(eo))throw Error("Point is not on curve");let ea=function(et){let{P:ei}=eb,eo=BigInt(6),ea=BigInt(11),ec=BigInt(22),eh=BigInt(23),eu=BigInt(44),ed=BigInt(88),ep=et*et*et%ei,eg=ep*ep*et%ei,em=q(eg,el)*eg%ei,ey=q(em,el)*eg%ei,ev=q(ey,ef)*ep%ei,ew=q(ev,ea)*ev%ei,e_=q(ew,ec)*ew%ei,eE=q(e_,eu)*e_%ei,eS=q(eE,ed)*eE%ei,eA=q(eS,eu)*e_%ei,eM=q(eA,el)*eg%ei,eI=q(eM,eh)*ew%ei,eT=q(eI,eo)*ep%ei,ex=q(eT,ef);if(ex*ex%ei!==et)throw Error("Cannot find square root");return ex}(g(eo)),ec=(ea&ed)===ed;ei?ec&&(ea=D(-ea)):!(1&~et[0])!==ec&&(ea=D(-ea));let eh=new S(eo,ea);return eh.assertValidity(),eh}static fromUncompressedHex(et){let ei=B(et.subarray(1,33)),eo=B(et.subarray(33,65)),ea=new S(ei,eo);return ea.assertValidity(),ea}static fromHex(et){let ei=L(et),eo=ei.length,ea=ei[0];if(32===eo||33===eo&&(2===ea||3===ea))return this.fromCompressedHex(ei);if(65===eo&&4===ea)return this.fromUncompressedHex(ei);throw Error(`Point.fromHex: received invalid point. Expected 32-33 compressed bytes or 65 uncompressed bytes, not ${eo}`)}static fromPrivateKey(et){return S.BASE.multiply(J(et))}static fromSignature(et,ei,eo){let{r:ea,s:ec}=X(ei);if(![0,1,2,3].includes(eo))throw Error("Cannot recover: invalid recovery bit");let eh=H(L(et)),{n:eu}=eb,ed=2===eo||3===eo?ea+eu:ea,ef=F(ed,eu),el=D(-eh*ef,eu),ep=D(ec*ef,eu),eg=1&eo?"03":"02",em=S.fromHex(eg+k(ed)),ey=S.BASE.multiplyAndAddUnsafe(em,el,ep);if(!ey)throw Error("Cannot recover signature: point at infinify");return ey.assertValidity(),ey}toRawBytes(et=!1){return U(this.toHex(et))}toHex(et=!1){let ei=k(this.x);return et?`${this.hasEvenY()?"02":"03"}${ei}`:`04${ei}${k(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){let et="Point is not on elliptic curve",{x:ei,y:eo}=this;if(!G(ei)||!G(eo))throw Error(et);let ea=D(eo*eo);if(D(ea-g(ei))!==eu)throw Error(et)}equals(et){return this.x===et.x&&this.y===et.y}negate(){return new S(this.x,D(-this.y))}double(){return w.fromAffine(this).double().toAffine()}add(et){return w.fromAffine(this).add(w.fromAffine(et)).toAffine()}subtract(et){return this.add(et.negate())}multiply(et){return w.fromAffine(this).multiply(et,this).toAffine()}multiplyAndAddUnsafe(et,ei,eo){let ea=w.fromAffine(this),ec=ei===eu||ei===ed||this!==S.BASE?ea.multiplyUnsafe(ei):ea.multiply(ei),eh=w.fromAffine(et).multiplyUnsafe(eo),ef=ec.add(eh);return ef.equals(w.ZERO)?void 0:ef.toAffine()}};function A(et){return Number.parseInt(et[0],16)>=8?"00"+et:et}function M(et){if(et.length<2||2!==et[0])throw Error(`Invalid signature integer tag: ${C(et)}`);let ei=et[1],eo=et.subarray(2,ei+2);if(!ei||eo.length!==ei)throw Error("Invalid signature integer: wrong length");if(0===eo[0]&&eo[1]<=127)throw Error("Invalid signature integer: trailing length");return{data:B(eo),left:et.subarray(ei+2)}}ei.Point=S,S.BASE=new S(eb.Gx,eb.Gy),S.ZERO=new S(eu,eu);let I=class I{constructor(et,ei){this.r=et,this.s=ei,this.assertValidity()}static fromCompact(et){let ei=et instanceof Uint8Array,eo="Signature.fromCompact";if("string"!=typeof et&&!ei)throw TypeError(`${eo}: Expected string or Uint8Array`);let ea=ei?C(et):et;if(128!==ea.length)throw Error(`${eo}: Expected 64-byte hex`);return new I(N(ea.slice(0,64)),N(ea.slice(64,128)))}static fromDER(et){let ei=et instanceof Uint8Array;if("string"!=typeof et&&!ei)throw TypeError("Signature.fromDER: Expected string or Uint8Array");let{r:eo,s:ea}=function(et){if(et.length<2||48!=et[0])throw Error(`Invalid signature tag: ${C(et)}`);if(et[1]!==et.length-2)throw Error("Invalid signature: incorrect length");let{data:ei,left:eo}=M(et.subarray(2)),{data:ea,left:ec}=M(eo);if(ec.length)throw Error(`Invalid signature: left bytes after parsing: ${C(ec)}`);return{r:ei,s:ea}}(ei?et:U(et));return new I(eo,ea)}static fromHex(et){return this.fromDER(et)}assertValidity(){let{r:et,s:ei}=this;if(!K(et))throw Error("Invalid Signature: r must be 0 < r < n");if(!K(ei))throw Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){let et=eb.n>>ed;return this.s>et}normalizeS(){return this.hasHighS()?new I(this.r,D(-this.s,eb.n)):this}toDERRawBytes(){return U(this.toDERHex())}toDERHex(){let et=A(O(this.s)),ei=A(O(this.r)),eo=et.length/2,ea=ei.length/2,ec=O(eo),eh=O(ea);return`30${O(ea+eo+4)}02${eh}${ei}02${ec}${et}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return U(this.toCompactHex())}toCompactHex(){return k(this.r)+k(this.s)}};function T(...et){if(!et.every(et=>et instanceof Uint8Array))throw Error("Uint8Array list expected");if(1===et.length)return et[0];let ei=et.reduce((et,ei)=>et+ei.length,0),eo=new Uint8Array(ei);for(let ei=0,ea=0;ei<et.length;ei++){let ec=et[ei];eo.set(ec,ea),ea+=ec.length}return eo}ei.Signature=I;let ev=Array.from({length:256},(et,ei)=>ei.toString(16).padStart(2,"0"));function C(et){if(!(et instanceof Uint8Array))throw Error("Expected Uint8Array");let ei="";for(let eo=0;eo<et.length;eo++)ei+=ev[et[eo]];return ei}let ew=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function k(et){if("bigint"!=typeof et)throw Error("Expected bigint");if(!(eu<=et&&et<ew))throw Error("Expected number 0 <= n < 2^256");return et.toString(16).padStart(64,"0")}function P(et){let ei=U(k(et));if(32!==ei.length)throw Error("Error: expected 32 bytes");return ei}function O(et){let ei=et.toString(16);return 1&ei.length?`0${ei}`:ei}function N(et){if("string"!=typeof et)throw TypeError("hexToNumber: expected string, got "+typeof et);return BigInt(`0x${et}`)}function U(et){if("string"!=typeof et)throw TypeError("hexToBytes: expected string, got "+typeof et);if(et.length%2)throw Error("hexToBytes: received invalid unpadded hex"+et.length);let ei=new Uint8Array(et.length/2);for(let eo=0;eo<ei.length;eo++){let ea=2*eo,ec=et.slice(ea,ea+2),eh=Number.parseInt(ec,16);if(Number.isNaN(eh)||eh<0)throw Error("Invalid byte sequence");ei[eo]=eh}return ei}function B(et){return N(C(et))}function L(et){return et instanceof Uint8Array?Uint8Array.from(et):U(et)}function j(et){if("number"==typeof et&&Number.isSafeInteger(et)&&et>0)return BigInt(et);if("bigint"==typeof et&&K(et))return et;throw TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function D(et,ei=eb.P){let eo=et%ei;return eo>=eu?eo:ei+eo}function q(et,ei){let{P:eo}=eb,ea=et;for(;ei-- >eu;)ea*=ea,ea%=eo;return ea}function F(et,ei=eb.P){if(et===eu||ei<=eu)throw Error(`invert: expected positive integers, got n=${et} mod=${ei}`);let eo=D(et,ei),ea=ei,ec=eu,eh=ed,ef=ed,el=eu;for(;eo!==eu;){let et=ea/eo,ei=ea%eo,eu=ec-ef*et,ed=eh-el*et;ea=eo,eo=ei,ec=ef,eh=el,ef=eu,el=ed}if(ea!==ed)throw Error("invert: does not exist");return D(ec,ei)}function H(et,ei=!1){let eo=function(et){let ei=8*et.length-256,eo=B(et);return ei>0?eo>>BigInt(ei):eo}(et);if(ei)return eo;let{n:ea}=eb;return eo>=ea?eo-ea:eo}let $=class ${constructor(et,ei){if(this.hashLen=et,this.qByteLen=ei,"number"!=typeof et||et<2)throw Error("hashLen must be a number");if("number"!=typeof ei||ei<2)throw Error("qByteLen must be a number");this.v=new Uint8Array(et).fill(1),this.k=new Uint8Array(et).fill(0),this.counter=0}hmac(...et){return ei.utils.hmacSha256(this.k,...et)}hmacSync(...et){return ec(this.k,...et)}checkSync(){if("function"!=typeof ec)throw new y("hmacSha256Sync needs to be set")}incr(){if(this.counter>=1e3)throw Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(et=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),et),this.v=await this.hmac(this.v),0!==et.length&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),et),this.v=await this.hmac(this.v))}reseedSync(et=new Uint8Array){this.checkSync(),this.k=this.hmacSync(this.v,Uint8Array.from([0]),et),this.v=this.hmacSync(this.v),0!==et.length&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),et),this.v=this.hmacSync(this.v))}async generate(){this.incr();let et=0,ei=[];for(;et<this.qByteLen;){this.v=await this.hmac(this.v);let eo=this.v.slice();ei.push(eo),et+=this.v.length}return T(...ei)}generateSync(){this.checkSync(),this.incr();let et=0,ei=[];for(;et<this.qByteLen;){this.v=this.hmacSync(this.v);let eo=this.v.slice();ei.push(eo),et+=this.v.length}return T(...ei)}};function K(et){return eu<et&&et<eb.n}function G(et){return eu<et&&et<eb.P}function W(et,ei,eo,ea=!0){let{n:ec}=eb,eh=H(et,!0);if(!K(eh))return;let ef=F(eh,ec),el=S.BASE.multiply(eh),ep=D(el.x,ec);if(ep===eu)return;let eg=D(ef*D(ei+eo*ep,ec),ec);if(eg===eu)return;let em=new I(ep,eg),ey=(el.x===em.r?0:2)|Number(el.y&ed);return ea&&em.hasHighS()&&(em=em.normalizeS(),ey^=1),{sig:em,recovery:ey}}function J(et){let ei;if("bigint"==typeof et)ei=et;else if("number"==typeof et&&Number.isSafeInteger(et)&&et>0)ei=BigInt(et);else if("string"==typeof et){if(64!==et.length)throw Error("Expected 32 bytes of private key");ei=N(et)}else{if(!(et instanceof Uint8Array))throw TypeError("Expected valid private key");if(32!==et.length)throw Error("Expected 32 bytes of private key");ei=B(et)}if(!K(ei))throw Error("Expected private key: 0 < key < n");return ei}function Y(et){return et instanceof S?(et.assertValidity(),et):S.fromHex(et)}function X(et){if(et instanceof I)return et.assertValidity(),et;try{return I.fromDER(et)}catch(ei){return I.fromCompact(et)}}function Z(et){let ei=et instanceof Uint8Array,eo="string"==typeof et,ea=(ei||eo)&&et.length;return ei?33===ea||65===ea:eo?66===ea||130===ea:et instanceof S}function Q(et){return B(et.length>32?et.slice(0,32):et)}function re(et,eo,ea){if(null==et)throw Error(`sign: expected valid message hash, not "${et}"`);let ec=L(et),eh=J(eo),ed=[P(eh),function(et){let ei=Q(et),eo=D(ei,eb.n);return P(eo<eu?ei:eo)}(ec)];if(null!=ea){!0===ea&&(ea=ei.utils.randomBytes(32));let et=L(ea);if(32!==et.length)throw Error("sign: Expected 32 bytes of extra data");ed.push(et)}return{seed:T(...ed),m:Q(ec),d:eh}}function ne(et,ei){let{sig:eo,recovery:ea}=et,{der:ec,recovered:eh}=Object.assign({canonical:!0,der:!0},ei),eu=ec?eo.toDERRawBytes():eo.toCompactRawBytes();return eh?[eu,ea]:eu}ei.getPublicKey=function(et,ei=!1){return S.fromPrivateKey(et).toRawBytes(ei)},ei.recoverPublicKey=function(et,ei,eo,ea=!1){return S.fromSignature(et,ei,eo).toRawBytes(ea)},ei.getSharedSecret=function(et,ei,eo=!1){if(Z(et))throw TypeError("getSharedSecret: first arg must be private key");if(!Z(ei))throw TypeError("getSharedSecret: second arg must be public key");let ea=Y(ei);return ea.assertValidity(),ea.multiply(J(et)).toRawBytes(eo)},ei.sign=async function(et,ei,eo={}){let ea;let{seed:ec,m:eh,d:eu}=re(et,ei,eo.extraEntropy),ed=new $(32,32);for(await ed.reseed(ec);!(ea=W(await ed.generate(),eh,eu,eo.canonical));)await ed.reseed();return ne(ea,eo)},ei.signSync=function(et,ei,eo={}){let ea;let{seed:ec,m:eh,d:eu}=re(et,ei,eo.extraEntropy),ed=new $(32,32);for(ed.reseedSync(ec);!(ea=W(ed.generateSync(),eh,eu,eo.canonical));)ed.reseedSync();return ne(ea,eo)};let e_={strict:!0};function se(et){return D(B(et),eb.n)}ei.verify=function(et,ei,eo,ea=e_){let ec,eh;try{ec=X(et),ei=L(ei)}catch(et){return!1}let{r:eu,s:ed}=ec;if(ea.strict&&ec.hasHighS())return!1;let ef=H(ei);try{eh=Y(eo)}catch(et){return!1}let{n:el}=eb,ep=F(ed,el),eg=D(ef*ep,el),em=D(eu*ep,el),ey=S.BASE.multiplyAndAddUnsafe(eh,eg,em);return!!ey&&D(ey.x,el)===eu};let oe=class oe{constructor(et,ei){this.r=et,this.s=ei,this.assertValidity()}static fromHex(et){let ei=L(et);if(64!==ei.length)throw TypeError(`SchnorrSignature.fromHex: expected 64 bytes, not ${ei.length}`);let eo=B(ei.subarray(0,32)),ea=B(ei.subarray(32,64));return new oe(eo,ea)}assertValidity(){let{r:et,s:ei}=this;if(!G(et)||!K(ei))throw Error("Invalid signature")}toHex(){return k(this.r)+k(this.s)}toRawBytes(){return U(this.toHex())}};let ae=class ae{constructor(et,eo,ea=ei.utils.randomBytes()){if(null==et)throw TypeError(`sign: Expected valid message, not "${et}"`);this.m=L(et);let{x:ec,scalar:eh}=this.getScalar(J(eo));if(this.px=ec,this.d=eh,this.rand=L(ea),32!==this.rand.length)throw TypeError("sign: Expected 32 bytes of aux randomness")}getScalar(et){let ei=S.fromPrivateKey(et),eo=ei.hasEvenY()?et:eb.n-et;return{point:ei,scalar:eo,x:ei.toRawX()}}initNonce(et,ei){return P(et^B(ei))}finalizeNonce(et){let ei=D(B(et),eb.n);if(ei===eu)throw Error("sign: Creation of signature failed. k is zero");let{point:eo,x:ea,scalar:ec}=this.getScalar(ei);return{R:eo,rx:ea,k:ec}}finalizeSig(et,ei,eo,ea){return new oe(et.x,D(ei+eo*ea,eb.n)).toRawBytes()}error(){throw Error("sign: Invalid signature produced")}async calc(){let{m:et,d:eo,px:ea,rand:ec}=this,eh=ei.utils.taggedHash,eu=this.initNonce(eo,await eh(eS.aux,ec)),{R:ed,rx:ef,k:el}=this.finalizeNonce(await eh(eS.nonce,eu,ea,et)),ep=se(await eh(eS.challenge,ef,ea,et)),eb=this.finalizeSig(ed,el,ep,eo);return await ue(eb,et,ea)||this.error(),eb}calcSync(){let{m:et,d:eo,px:ea,rand:ec}=this,eh=ei.utils.taggedHashSync,eu=this.initNonce(eo,eh(eS.aux,ec)),{R:ed,rx:ef,k:el}=this.finalizeNonce(eh(eS.nonce,eu,ea,et)),ep=se(eh(eS.challenge,ef,ea,et)),eb=this.finalizeSig(ed,el,ep,eo);return de(eb,et,ea)||this.error(),eb}};function ce(et,ei,eo){let ea=et instanceof oe,ec=ea?et:oe.fromHex(et);return ea&&ec.assertValidity(),{...ec,m:L(ei),P:Y(eo)}}function he(et,ei,eo,ea){let ec=S.BASE.multiplyAndAddUnsafe(ei,J(eo),D(-ea,eb.n));return!(!ec||!ec.hasEvenY()||ec.x!==et)}async function ue(et,eo,ea){try{let{r:ec,s:eh,m:eu,P:ed}=ce(et,eo,ea),ef=se(await ei.utils.taggedHash(eS.challenge,P(ec),ed.toRawX(),eu));return he(ec,ed,eh,ef)}catch(et){return!1}}function de(et,eo,ea){try{let{r:ec,s:eh,m:eu,P:ed}=ce(et,eo,ea),ef=se(ei.utils.taggedHashSync(eS.challenge,P(ec),ed.toRawX(),eu));return he(ec,ed,eh,ef)}catch(et){if(et instanceof y)throw et;return!1}}ei.schnorr={Signature:oe,getPublicKey:function(et){return S.fromPrivateKey(et).toRawX()},sign:async function(et,ei,eo){return new ae(et,ei,eo).calc()},verify:ue,signSync:function(et,ei,eo){return new ae(et,ei,eo).calcSync()},verifySync:de},S.BASE._setWindowSize(8);let eE={node:eh,web:"object"==typeof self&&"crypto"in self?self.crypto:void 0},eS={challenge:"BIP0340/challenge",aux:"BIP0340/aux",nonce:"BIP0340/nonce"},eA={};ei.utils={bytesToHex:C,hexToBytes:U,concatBytes:T,mod:D,invert:F,isValidPrivateKey(et){try{return J(et),!0}catch(et){return!1}},_bigintTo32Bytes:P,_normalizePrivateKey:J,hashToPrivateKey:et=>{if((et=L(et)).length<40||et.length>1024)throw Error("Expected valid bytes of private key as per FIPS 186");return P(D(B(et),eb.n-ed)+ed)},randomBytes:(et=32)=>{if(eE.web)return eE.web.getRandomValues(new Uint8Array(et));if(eE.node){let{randomBytes:ei}=eE.node;return Uint8Array.from(ei(et))}throw Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>ei.utils.hashToPrivateKey(ei.utils.randomBytes(40)),precompute(et=8,ei=S.BASE){let eo=ei===S.BASE?ei:new S(ei.x,ei.y);return eo._setWindowSize(et),eo.multiply(el),eo},sha256:async(...et)=>{if(eE.web){let ei=await eE.web.subtle.digest("SHA-256",T(...et));return new Uint8Array(ei)}if(eE.node){let{createHash:ei}=eE.node,eo=ei("sha256");return et.forEach(et=>eo.update(et)),Uint8Array.from(eo.digest())}throw Error("The environment doesn't have sha256 function")},hmacSha256:async(et,...ei)=>{if(eE.web){let eo=await eE.web.subtle.importKey("raw",et,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),ea=T(...ei),ec=await eE.web.subtle.sign("HMAC",eo,ea);return new Uint8Array(ec)}if(eE.node){let{createHmac:eo}=eE.node,ea=eo("sha256",et);return ei.forEach(et=>ea.update(et)),Uint8Array.from(ea.digest())}throw Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(et,...eo)=>{let ea=eA[et];if(void 0===ea){let eo=await ei.utils.sha256(Uint8Array.from(et,et=>et.charCodeAt(0)));ea=T(eo,eo),eA[et]=ea}return ei.utils.sha256(ea,...eo)},taggedHashSync:(et,...ei)=>{if("function"!=typeof ea)throw new y("sha256Sync is undefined, you need to set it");let eo=eA[et];if(void 0===eo){let ei=ea(Uint8Array.from(et,et=>et.charCodeAt(0)));eo=T(ei,ei),eA[et]=eo}return ea(eo,...ei)},_JacobianPoint:w},Object.defineProperties(ei.utils,{sha256Sync:{configurable:!1,get:()=>ea,set(et){ea||(ea=et)}},hmacSha256Sync:{configurable:!1,get:()=>ec,set(et){ec||(ec=et)}}})},5737:(et,ei,eo)=>{"use strict";ei.bignum=eo(4619),ei.define=eo(4082).define,ei.base=eo(7594),ei.constants=eo(6876),ei.decoders=eo(5126),ei.encoders=eo(122)},4082:(et,ei,eo)=>{"use strict";let ea=eo(122),ec=eo(5126),eh=eo(1193);function o(et,ei){this.name=et,this.body=ei,this.decoders={},this.encoders={}}ei.define=function(et,ei){return new o(et,ei)},o.prototype._createNamed=function(et){let ei=this.name;function r(et){this._initNamed(et,ei)}return eh(r,et),r.prototype._initNamed=function(ei,eo){et.call(this,ei,eo)},new r(this)},o.prototype._getDecoder=function(et){return et=et||"der",this.decoders.hasOwnProperty(et)||(this.decoders[et]=this._createNamed(ec[et])),this.decoders[et]},o.prototype.decode=function(et,ei,eo){return this._getDecoder(ei).decode(et,eo)},o.prototype._getEncoder=function(et){return et=et||"der",this.encoders.hasOwnProperty(et)||(this.encoders[et]=this._createNamed(ea[et])),this.encoders[et]},o.prototype.encode=function(et,ei,eo){return this._getEncoder(ei).encode(et,eo)}},3802:(et,ei,eo)=>{"use strict";let ea=eo(1193),ec=eo(8657).a,eh=eo(1628).Buffer;function o(et,ei){ec.call(this,ei),eh.isBuffer(et)?(this.base=et,this.offset=0,this.length=et.length):this.error("Input not Buffer")}function a(et,ei){if(Array.isArray(et))this.length=0,this.value=et.map(function(et){return a.isEncoderBuffer(et)||(et=new a(et,ei)),this.length+=et.length,et},this);else if("number"==typeof et){if(!(0<=et&&et<=255))return ei.error("non-byte EncoderBuffer value");this.value=et,this.length=1}else if("string"==typeof et)this.value=et,this.length=eh.byteLength(et);else{if(!eh.isBuffer(et))return ei.error("Unsupported type: "+typeof et);this.value=et,this.length=et.length}}ea(o,ec),ei.t=o,o.isDecoderBuffer=function(et){return et instanceof o||"object"==typeof et&&eh.isBuffer(et.base)&&"DecoderBuffer"===et.constructor.name&&"number"==typeof et.offset&&"number"==typeof et.length&&"function"==typeof et.save&&"function"==typeof et.restore&&"function"==typeof et.isEmpty&&"function"==typeof et.readUInt8&&"function"==typeof et.skip&&"function"==typeof et.raw},o.prototype.save=function(){return{offset:this.offset,reporter:ec.prototype.save.call(this)}},o.prototype.restore=function(et){let ei=new o(this.base);return ei.offset=et.offset,ei.length=this.offset,this.offset=et.offset,ec.prototype.restore.call(this,et.reporter),ei},o.prototype.isEmpty=function(){return this.offset===this.length},o.prototype.readUInt8=function(et){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(et||"DecoderBuffer overrun")},o.prototype.skip=function(et,ei){if(!(this.offset+et<=this.length))return this.error(ei||"DecoderBuffer overrun");let eo=new o(this.base);return eo._reporterState=this._reporterState,eo.offset=this.offset,eo.length=this.offset+et,this.offset+=et,eo},o.prototype.raw=function(et){return this.base.slice(et?et.offset:this.offset,this.length)},ei.d=a,a.isEncoderBuffer=function(et){return et instanceof a||"object"==typeof et&&"EncoderBuffer"===et.constructor.name&&"number"==typeof et.length&&"function"==typeof et.join},a.prototype.join=function(et,ei){return et||(et=eh.alloc(this.length)),ei||(ei=0),0===this.length||(Array.isArray(this.value)?this.value.forEach(function(eo){eo.join(et,ei),ei+=eo.length}):("number"==typeof this.value?et[ei]=this.value:"string"==typeof this.value?et.write(this.value,ei):eh.isBuffer(this.value)&&this.value.copy(et,ei),ei+=this.length)),et}},7594:(et,ei,eo)=>{"use strict";ei.Reporter=eo(8657).a,ei.DecoderBuffer=eo(3802).t,ei.EncoderBuffer=eo(3802).d,ei.Node=eo(2144)},2144:(et,ei,eo)=>{"use strict";let ea=eo(8657).a,ec=eo(3802).d,eh=eo(3802).t,eu=eo(5578),ed=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],ef=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(ed);function h(et,ei,eo){let ea={};this._baseState=ea,ea.name=eo,ea.enc=et,ea.parent=ei||null,ea.children=null,ea.tag=null,ea.args=null,ea.reverseArgs=null,ea.choice=null,ea.optional=!1,ea.any=!1,ea.obj=!1,ea.use=null,ea.useDecoder=null,ea.key=null,ea.default=null,ea.explicit=null,ea.implicit=null,ea.contains=null,ea.parent||(ea.children=[],this._wrap())}et.exports=h;let el=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];h.prototype.clone=function(){let et=this._baseState,ei={};el.forEach(function(eo){ei[eo]=et[eo]});let eo=new this.constructor(ei.parent);return eo._baseState=ei,eo},h.prototype._wrap=function(){let et=this._baseState;ef.forEach(function(ei){this[ei]=function(){let eo=new this.constructor(this);return et.children.push(eo),eo[ei].apply(eo,arguments)}},this)},h.prototype._init=function(et){let ei=this._baseState;eu(null===ei.parent),et.call(this),ei.children=ei.children.filter(function(et){return et._baseState.parent===this},this),eu.equal(ei.children.length,1,"Root node can have only one child")},h.prototype._useArgs=function(et){let ei=this._baseState,eo=et.filter(function(et){return et instanceof this.constructor},this);et=et.filter(function(et){return!(et instanceof this.constructor)},this),0!==eo.length&&(eu(null===ei.children),ei.children=eo,eo.forEach(function(et){et._baseState.parent=this},this)),0!==et.length&&(eu(null===ei.args),ei.args=et,ei.reverseArgs=et.map(function(et){if("object"!=typeof et||et.constructor!==Object)return et;let ei={};return Object.keys(et).forEach(function(eo){eo==(0|eo)&&(eo|=0);let ea=et[eo];ei[ea]=eo}),ei}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(et){h.prototype[et]=function(){let ei=this._baseState;throw Error(et+" not implemented for encoding: "+ei.enc)}}),ed.forEach(function(et){h.prototype[et]=function(){let ei=this._baseState,eo=Array.prototype.slice.call(arguments);return eu(null===ei.tag),ei.tag=et,this._useArgs(eo),this}}),h.prototype.use=function(et){eu(et);let ei=this._baseState;return eu(null===ei.use),ei.use=et,this},h.prototype.optional=function(){return this._baseState.optional=!0,this},h.prototype.def=function(et){let ei=this._baseState;return eu(null===ei.default),ei.default=et,ei.optional=!0,this},h.prototype.explicit=function(et){let ei=this._baseState;return eu(null===ei.explicit&&null===ei.implicit),ei.explicit=et,this},h.prototype.implicit=function(et){let ei=this._baseState;return eu(null===ei.explicit&&null===ei.implicit),ei.implicit=et,this},h.prototype.obj=function(){let et=this._baseState,ei=Array.prototype.slice.call(arguments);return et.obj=!0,0!==ei.length&&this._useArgs(ei),this},h.prototype.key=function(et){let ei=this._baseState;return eu(null===ei.key),ei.key=et,this},h.prototype.any=function(){return this._baseState.any=!0,this},h.prototype.choice=function(et){let ei=this._baseState;return eu(null===ei.choice),ei.choice=et,this._useArgs(Object.keys(et).map(function(ei){return et[ei]})),this},h.prototype.contains=function(et){let ei=this._baseState;return eu(null===ei.use),ei.contains=et,this},h.prototype._decode=function(et,ei){let eo=this._baseState;if(null===eo.parent)return et.wrapResult(eo.children[0]._decode(et,ei));let ea,ec=eo.default,eu=!0,ed=null;if(null!==eo.key&&(ed=et.enterKey(eo.key)),eo.optional){let ea=null;if(null!==eo.explicit?ea=eo.explicit:null!==eo.implicit?ea=eo.implicit:null!==eo.tag&&(ea=eo.tag),null!==ea||eo.any){if(eu=this._peekTag(et,ea,eo.any),et.isError(eu))return eu}else{let ea=et.save();try{null===eo.choice?this._decodeGeneric(eo.tag,et,ei):this._decodeChoice(et,ei),eu=!0}catch(et){eu=!1}et.restore(ea)}}if(eo.obj&&eu&&(ea=et.enterObject()),eu){if(null!==eo.explicit){let ei=this._decodeTag(et,eo.explicit);if(et.isError(ei))return ei;et=ei}let ea=et.offset;if(null===eo.use&&null===eo.choice){let ei;eo.any&&(ei=et.save());let ea=this._decodeTag(et,null!==eo.implicit?eo.implicit:eo.tag,eo.any);if(et.isError(ea))return ea;eo.any?ec=et.raw(ei):et=ea}if(ei&&ei.track&&null!==eo.tag&&ei.track(et.path(),ea,et.length,"tagged"),ei&&ei.track&&null!==eo.tag&&ei.track(et.path(),et.offset,et.length,"content"),eo.any||(ec=null===eo.choice?this._decodeGeneric(eo.tag,et,ei):this._decodeChoice(et,ei)),et.isError(ec))return ec;if(eo.any||null!==eo.choice||null===eo.children||eo.children.forEach(function(eo){eo._decode(et,ei)}),eo.contains&&("octstr"===eo.tag||"bitstr"===eo.tag)){let ea=new eh(ec);ec=this._getUse(eo.contains,et._reporterState.obj)._decode(ea,ei)}}return eo.obj&&eu&&(ec=et.leaveObject(ea)),null===eo.key||null===ec&&!0!==eu?null!==ed&&et.exitKey(ed):et.leaveKey(ed,eo.key,ec),ec},h.prototype._decodeGeneric=function(et,ei,eo){let ea=this._baseState;return"seq"===et||"set"===et?null:"seqof"===et||"setof"===et?this._decodeList(ei,et,ea.args[0],eo):/str$/.test(et)?this._decodeStr(ei,et,eo):"objid"===et&&ea.args?this._decodeObjid(ei,ea.args[0],ea.args[1],eo):"objid"===et?this._decodeObjid(ei,null,null,eo):"gentime"===et||"utctime"===et?this._decodeTime(ei,et,eo):"null_"===et?this._decodeNull(ei,eo):"bool"===et?this._decodeBool(ei,eo):"objDesc"===et?this._decodeStr(ei,et,eo):"int"===et||"enum"===et?this._decodeInt(ei,ea.args&&ea.args[0],eo):null!==ea.use?this._getUse(ea.use,ei._reporterState.obj)._decode(ei,eo):ei.error("unknown tag: "+et)},h.prototype._getUse=function(et,ei){let eo=this._baseState;return eo.useDecoder=this._use(et,ei),eu(null===eo.useDecoder._baseState.parent),eo.useDecoder=eo.useDecoder._baseState.children[0],eo.implicit!==eo.useDecoder._baseState.implicit&&(eo.useDecoder=eo.useDecoder.clone(),eo.useDecoder._baseState.implicit=eo.implicit),eo.useDecoder},h.prototype._decodeChoice=function(et,ei){let eo=this._baseState,ea=null,ec=!1;return Object.keys(eo.choice).some(function(eh){let eu=et.save(),ed=eo.choice[eh];try{let eo=ed._decode(et,ei);if(et.isError(eo))return!1;ea={type:eh,value:eo},ec=!0}catch(ei){return et.restore(eu),!1}return!0},this),ec?ea:et.error("Choice not matched")},h.prototype._createEncoderBuffer=function(et){return new ec(et,this.reporter)},h.prototype._encode=function(et,ei,eo){let ea=this._baseState;if(null!==ea.default&&ea.default===et)return;let ec=this._encodeValue(et,ei,eo);return void 0===ec||this._skipDefault(ec,ei,eo)?void 0:ec},h.prototype._encodeValue=function(et,ei,eo){let ec=this._baseState;if(null===ec.parent)return ec.children[0]._encode(et,ei||new ea);let eh=null;if(this.reporter=ei,ec.optional&&void 0===et){if(null===ec.default)return;et=ec.default}let eu=null,ed=!1;if(ec.any)eh=this._createEncoderBuffer(et);else if(ec.choice)eh=this._encodeChoice(et,ei);else if(ec.contains)eu=this._getUse(ec.contains,eo)._encode(et,ei),ed=!0;else if(ec.children)eu=ec.children.map(function(eo){if("null_"===eo._baseState.tag)return eo._encode(null,ei,et);if(null===eo._baseState.key)return ei.error("Child should have a key");let ea=ei.enterKey(eo._baseState.key);if("object"!=typeof et)return ei.error("Child expected, but input is not object");let ec=eo._encode(et[eo._baseState.key],ei,et);return ei.leaveKey(ea),ec},this).filter(function(et){return et}),eu=this._createEncoderBuffer(eu);else if("seqof"===ec.tag||"setof"===ec.tag){if(!ec.args||1!==ec.args.length)return ei.error("Too many args for : "+ec.tag);if(!Array.isArray(et))return ei.error("seqof/setof, but data is not Array");let eo=this.clone();eo._baseState.implicit=null,eu=this._createEncoderBuffer(et.map(function(eo){let ea=this._baseState;return this._getUse(ea.args[0],et)._encode(eo,ei)},eo))}else null!==ec.use?eh=this._getUse(ec.use,eo)._encode(et,ei):(eu=this._encodePrimitive(ec.tag,et),ed=!0);if(!ec.any&&null===ec.choice){let et=null!==ec.implicit?ec.implicit:ec.tag,eo=null===ec.implicit?"universal":"context";null===et?null===ec.use&&ei.error("Tag could be omitted only for .use()"):null===ec.use&&(eh=this._encodeComposite(et,ed,eo,eu))}return null!==ec.explicit&&(eh=this._encodeComposite(ec.explicit,!1,"context",eh)),eh},h.prototype._encodeChoice=function(et,ei){let eo=this._baseState,ea=eo.choice[et.type];return ea||eu(!1,et.type+" not found in "+JSON.stringify(Object.keys(eo.choice))),ea._encode(et.value,ei)},h.prototype._encodePrimitive=function(et,ei){let eo=this._baseState;if(/str$/.test(et))return this._encodeStr(ei,et);if("objid"===et&&eo.args)return this._encodeObjid(ei,eo.reverseArgs[0],eo.args[1]);if("objid"===et)return this._encodeObjid(ei,null,null);if("gentime"===et||"utctime"===et)return this._encodeTime(ei,et);if("null_"===et)return this._encodeNull();if("int"===et||"enum"===et)return this._encodeInt(ei,eo.args&&eo.reverseArgs[0]);if("bool"===et)return this._encodeBool(ei);if("objDesc"===et)return this._encodeStr(ei,et);throw Error("Unsupported tag: "+et)},h.prototype._isNumstr=function(et){return/^[0-9 ]*$/.test(et)},h.prototype._isPrintstr=function(et){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(et)}},8657:(et,ei,eo)=>{"use strict";let ea=eo(1193);function i(et){this._reporterState={obj:null,path:[],options:et||{},errors:[]}}function s(et,ei){this.path=et,this.rethrow(ei)}ei.a=i,i.prototype.isError=function(et){return et instanceof s},i.prototype.save=function(){let et=this._reporterState;return{obj:et.obj,pathLen:et.path.length}},i.prototype.restore=function(et){let ei=this._reporterState;ei.obj=et.obj,ei.path=ei.path.slice(0,et.pathLen)},i.prototype.enterKey=function(et){return this._reporterState.path.push(et)},i.prototype.exitKey=function(et){let ei=this._reporterState;ei.path=ei.path.slice(0,et-1)},i.prototype.leaveKey=function(et,ei,eo){let ea=this._reporterState;this.exitKey(et),null!==ea.obj&&(ea.obj[ei]=eo)},i.prototype.path=function(){return this._reporterState.path.join("/")},i.prototype.enterObject=function(){let et=this._reporterState,ei=et.obj;return et.obj={},ei},i.prototype.leaveObject=function(et){let ei=this._reporterState,eo=ei.obj;return ei.obj=et,eo},i.prototype.error=function(et){let ei;let eo=this._reporterState,ea=et instanceof s;if(ei=ea?et:new s(eo.path.map(function(et){return"["+JSON.stringify(et)+"]"}).join(""),et.message||et,et.stack),!eo.options.partial)throw ei;return ea||eo.errors.push(ei),ei},i.prototype.wrapResult=function(et){let ei=this._reporterState;return ei.options.partial?{result:this.isError(et)?null:et,errors:ei.errors}:et},ea(s,Error),s.prototype.rethrow=function(et){if(this.message=et+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,s),!this.stack)try{throw Error(this.message)}catch(et){this.stack=et.stack}return this}},1371:(et,ei)=>{"use strict";function r(et){let ei={};return Object.keys(et).forEach(function(eo){(0|eo)==eo&&(eo|=0);let ea=et[eo];ei[ea]=eo}),ei}ei.tagClass={0:"universal",1:"application",2:"context",3:"private"},ei.tagClassByName=r(ei.tagClass),ei.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},ei.tagByName=r(ei.tag)},6876:(et,ei,eo)=>{"use strict";ei._reverse=function(et){let ei={};return Object.keys(et).forEach(function(eo){(0|eo)==eo&&(eo|=0);let ea=et[eo];ei[ea]=eo}),ei},ei.der=eo(1371)},629:(et,ei,eo)=>{"use strict";let ea=eo(1193),ec=eo(4619),eh=eo(3802).t,eu=eo(2144),ed=eo(1371);function c(et){this.enc="der",this.name=et.name,this.entity=et,this.tree=new h,this.tree._init(et.body)}function h(et){eu.call(this,"der",et)}function u(et,ei){let eo=et.readUInt8(ei);if(et.isError(eo))return eo;let ea=ed.tagClass[eo>>6],ec=!(32&eo);if(31&~eo)eo&=31;else{let ea=eo;for(eo=0;!(128&~ea);){if(ea=et.readUInt8(ei),et.isError(ea))return ea;eo<<=7,eo|=127&ea}}return{cls:ea,primitive:ec,tag:eo,tagStr:ed.tag[eo]}}function d(et,ei,eo){let ea=et.readUInt8(eo);if(et.isError(ea))return ea;if(!ei&&128===ea)return null;if(!(128&ea))return ea;let ec=127&ea;if(ec>4)return et.error("length octect is too long");ea=0;for(let ei=0;ei<ec;ei++){ea<<=8;let ei=et.readUInt8(eo);if(et.isError(ei))return ei;ea|=ei}return ea}et.exports=c,c.prototype.decode=function(et,ei){return eh.isDecoderBuffer(et)||(et=new eh(et,ei)),this.tree._decode(et,ei)},ea(h,eu),h.prototype._peekTag=function(et,ei,eo){if(et.isEmpty())return!1;let ea=et.save(),ec=u(et,'Failed to peek tag: "'+ei+'"');return et.isError(ec)?ec:(et.restore(ea),ec.tag===ei||ec.tagStr===ei||ec.tagStr+"of"===ei||eo)},h.prototype._decodeTag=function(et,ei,eo){let ea=u(et,'Failed to decode tag of "'+ei+'"');if(et.isError(ea))return ea;let ec=d(et,ea.primitive,'Failed to get length of "'+ei+'"');if(et.isError(ec))return ec;if(!eo&&ea.tag!==ei&&ea.tagStr!==ei&&ea.tagStr+"of"!==ei)return et.error('Failed to match tag: "'+ei+'"');if(ea.primitive||null!==ec)return et.skip(ec,'Failed to match body of: "'+ei+'"');let eh=et.save(),eu=this._skipUntilEnd(et,'Failed to skip indefinite length body: "'+this.tag+'"');return et.isError(eu)?eu:(ec=et.offset-eh.offset,et.restore(eh),et.skip(ec,'Failed to match body of: "'+ei+'"'))},h.prototype._skipUntilEnd=function(et,ei){for(;;){let eo;let ea=u(et,ei);if(et.isError(ea))return ea;let ec=d(et,ea.primitive,ei);if(et.isError(ec))return ec;if(eo=ea.primitive||null!==ec?et.skip(ec):this._skipUntilEnd(et,ei),et.isError(eo))return eo;if("end"===ea.tagStr)break}},h.prototype._decodeList=function(et,ei,eo,ea){let ec=[];for(;!et.isEmpty();){let ei=this._peekTag(et,"end");if(et.isError(ei))return ei;let eh=eo.decode(et,"der",ea);if(et.isError(eh)&&ei)break;ec.push(eh)}return ec},h.prototype._decodeStr=function(et,ei){if("bitstr"===ei){let ei=et.readUInt8();return et.isError(ei)?ei:{unused:ei,data:et.raw()}}if("bmpstr"===ei){let ei=et.raw();if(ei.length%2==1)return et.error("Decoding of string type: bmpstr length mismatch");let eo="";for(let et=0;et<ei.length/2;et++)eo+=String.fromCharCode(ei.readUInt16BE(2*et));return eo}if("numstr"===ei){let ei=et.raw().toString("ascii");return this._isNumstr(ei)?ei:et.error("Decoding of string type: numstr unsupported characters")}if("octstr"===ei||"objDesc"===ei)return et.raw();if("printstr"===ei){let ei=et.raw().toString("ascii");return this._isPrintstr(ei)?ei:et.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(ei)?et.raw().toString():et.error("Decoding of string type: "+ei+" unsupported")},h.prototype._decodeObjid=function(et,ei,eo){let ea;let ec=[],eh=0,eu=0;for(;!et.isEmpty();)eu=et.readUInt8(),eh<<=7,eh|=127&eu,128&eu||(ec.push(eh),eh=0);128&eu&&ec.push(eh);let ed=ec[0]/40|0,ef=ec[0]%40;if(ea=eo?ec:[ed,ef].concat(ec.slice(1)),ei){let et=ei[ea.join(" ")];void 0===et&&(et=ei[ea.join(".")]),void 0!==et&&(ea=et)}return ea},h.prototype._decodeTime=function(et,ei){let eo,ea,ec,eh,eu,ed;let ef=et.raw().toString();if("gentime"===ei)eo=0|ef.slice(0,4),ea=0|ef.slice(4,6),ec=0|ef.slice(6,8),eh=0|ef.slice(8,10),eu=0|ef.slice(10,12),ed=0|ef.slice(12,14);else{if("utctime"!==ei)return et.error("Decoding "+ei+" time is not supported yet");eo=0|ef.slice(0,2),ea=0|ef.slice(2,4),ec=0|ef.slice(4,6),eh=0|ef.slice(6,8),eu=0|ef.slice(8,10),ed=0|ef.slice(10,12),eo=eo<70?2e3+eo:1900+eo}return Date.UTC(eo,ea-1,ec,eh,eu,ed,0)},h.prototype._decodeNull=function(){return null},h.prototype._decodeBool=function(et){let ei=et.readUInt8();return et.isError(ei)?ei:0!==ei},h.prototype._decodeInt=function(et,ei){let eo=et.raw(),ea=new ec(eo);return ei&&(ea=ei[ea.toString(10)]||ea),ea},h.prototype._use=function(et,ei){return"function"==typeof et&&(et=et(ei)),et._getDecoder("der").tree}},5126:(et,ei,eo)=>{"use strict";ei.der=eo(629),ei.pem=eo(2932)},2932:(et,ei,eo)=>{"use strict";let ea=eo(1193),ec=eo(1628).Buffer,eh=eo(629);function o(et){eh.call(this,et),this.enc="pem"}ea(o,eh),et.exports=o,o.prototype.decode=function(et,ei){let eo=et.toString().split(/[\r\n]+/g),ea=ei.label.toUpperCase(),eu=/^-----(BEGIN|END) ([^-]+)-----$/,ed=-1,ef=-1;for(let et=0;et<eo.length;et++){let ei=eo[et].match(eu);if(null!==ei&&ei[2]===ea){if(-1!==ed){if("END"!==ei[1])break;ef=et;break}if("BEGIN"!==ei[1])break;ed=et}}if(-1===ed||-1===ef)throw Error("PEM section not found for: "+ea);let el=eo.slice(ed+1,ef).join("");el.replace(/[^a-z0-9+/=]+/gi,"");let ep=ec.from(el,"base64");return eh.prototype.decode.call(this,ep,ei)}},5841:(et,ei,eo)=>{"use strict";let ea=eo(1193),ec=eo(1628).Buffer,eh=eo(2144),eu=eo(1371);function a(et){this.enc="der",this.name=et.name,this.entity=et,this.tree=new c,this.tree._init(et.body)}function c(et){eh.call(this,"der",et)}function h(et){return et<10?"0"+et:et}et.exports=a,a.prototype.encode=function(et,ei){return this.tree._encode(et,ei).join()},ea(c,eh),c.prototype._encodeComposite=function(et,ei,eo,ea){let eh=function(et,ei,eo,ea){let ec;if("seqof"===et?et="seq":"setof"===et&&(et="set"),eu.tagByName.hasOwnProperty(et))ec=eu.tagByName[et];else{if("number"!=typeof et||(0|et)!==et)return ea.error("Unknown tag: "+et);ec=et}return ec>=31?ea.error("Multi-octet tag encoding unsupported"):(ei||(ec|=32),ec|=eu.tagClassByName[eo||"universal"]<<6)}(et,ei,eo,this.reporter);if(ea.length<128){let et=ec.alloc(2);return et[0]=eh,et[1]=ea.length,this._createEncoderBuffer([et,ea])}let ed=1;for(let et=ea.length;et>=256;et>>=8)ed++;let ef=ec.alloc(2+ed);ef[0]=eh,ef[1]=128|ed;for(let et=1+ed,ei=ea.length;ei>0;et--,ei>>=8)ef[et]=255&ei;return this._createEncoderBuffer([ef,ea])},c.prototype._encodeStr=function(et,ei){if("bitstr"===ei)return this._createEncoderBuffer([0|et.unused,et.data]);if("bmpstr"===ei){let ei=ec.alloc(2*et.length);for(let eo=0;eo<et.length;eo++)ei.writeUInt16BE(et.charCodeAt(eo),2*eo);return this._createEncoderBuffer(ei)}return"numstr"===ei?this._isNumstr(et)?this._createEncoderBuffer(et):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===ei?this._isPrintstr(et)?this._createEncoderBuffer(et):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(ei)||"objDesc"===ei?this._createEncoderBuffer(et):this.reporter.error("Encoding of string type: "+ei+" unsupported")},c.prototype._encodeObjid=function(et,ei,eo){if("string"==typeof et){if(!ei)return this.reporter.error("string objid given, but no values map found");if(!ei.hasOwnProperty(et))return this.reporter.error("objid not found in values map");et=ei[et].split(/[\s.]+/g);for(let ei=0;ei<et.length;ei++)et[ei]|=0}else if(Array.isArray(et)){et=et.slice();for(let ei=0;ei<et.length;ei++)et[ei]|=0}if(!Array.isArray(et))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(et));if(!eo){if(et[1]>=40)return this.reporter.error("Second objid identifier OOB");et.splice(0,2,40*et[0]+et[1])}let ea=0;for(let ei=0;ei<et.length;ei++){let eo=et[ei];for(ea++;eo>=128;eo>>=7)ea++}let eh=ec.alloc(ea),eu=eh.length-1;for(let ei=et.length-1;ei>=0;ei--){let eo=et[ei];for(eh[eu--]=127&eo;(eo>>=7)>0;)eh[eu--]=128|127&eo}return this._createEncoderBuffer(eh)},c.prototype._encodeTime=function(et,ei){let eo;let ea=new Date(et);return"gentime"===ei?eo=[h(ea.getUTCFullYear()),h(ea.getUTCMonth()+1),h(ea.getUTCDate()),h(ea.getUTCHours()),h(ea.getUTCMinutes()),h(ea.getUTCSeconds()),"Z"].join(""):"utctime"===ei?eo=[h(ea.getUTCFullYear()%100),h(ea.getUTCMonth()+1),h(ea.getUTCDate()),h(ea.getUTCHours()),h(ea.getUTCMinutes()),h(ea.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+ei+" time is not supported yet"),this._encodeStr(eo,"octstr")},c.prototype._encodeNull=function(){return this._createEncoderBuffer("")},c.prototype._encodeInt=function(et,ei){if("string"==typeof et){if(!ei)return this.reporter.error("String int or enum given, but no values map");if(!ei.hasOwnProperty(et))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(et));et=ei[et]}if("number"!=typeof et&&!ec.isBuffer(et)){let ei=et.toArray();!et.sign&&128&ei[0]&&ei.unshift(0),et=ec.from(ei)}if(ec.isBuffer(et)){let ei=et.length;0===et.length&&ei++;let eo=ec.alloc(ei);return et.copy(eo),0===et.length&&(eo[0]=0),this._createEncoderBuffer(eo)}if(et<128)return this._createEncoderBuffer(et);if(et<256)return this._createEncoderBuffer([0,et]);let eo=1;for(let ei=et;ei>=256;ei>>=8)eo++;let ea=Array(eo);for(let ei=ea.length-1;ei>=0;ei--)ea[ei]=255&et,et>>=8;return 128&ea[0]&&ea.unshift(0),this._createEncoderBuffer(ec.from(ea))},c.prototype._encodeBool=function(et){return this._createEncoderBuffer(et?255:0)},c.prototype._use=function(et,ei){return"function"==typeof et&&(et=et(ei)),et._getEncoder("der").tree},c.prototype._skipDefault=function(et,ei,eo){let ea;let ec=this._baseState;if(null===ec.default)return!1;let eh=et.join();if(void 0===ec.defaultBuffer&&(ec.defaultBuffer=this._encodeValue(ec.default,ei,eo).join()),eh.length!==ec.defaultBuffer.length)return!1;for(ea=0;ea<eh.length;ea++)if(eh[ea]!==ec.defaultBuffer[ea])return!1;return!0}},122:(et,ei,eo)=>{"use strict";ei.der=eo(5841),ei.pem=eo(8080)},8080:(et,ei,eo)=>{"use strict";let ea=eo(1193),ec=eo(5841);function s(et){ec.call(this,et),this.enc="pem"}ea(s,ec),et.exports=s,s.prototype.encode=function(et,ei){let eo=ec.prototype.encode.call(this,et).toString("base64"),ea=["-----BEGIN "+ei.label+"-----"];for(let et=0;et<eo.length;et+=64)ea.push(eo.slice(et,et+64));return ea.push("-----END "+ei.label+"-----"),ea.join("\n")}},1219:et=>{"use strict";et.exports=function(et){if(et.length>=255)throw TypeError("Alphabet too long");for(var ei=new Uint8Array(256),eo=0;eo<ei.length;eo++)ei[eo]=255;for(var ea=0;ea<et.length;ea++){var ec=et.charAt(ea),eh=ec.charCodeAt(0);if(255!==ei[eh])throw TypeError(ec+" is ambiguous");ei[eh]=ea}var eu=et.length,ed=et.charAt(0),ef=Math.log(eu)/Math.log(256),el=Math.log(256)/Math.log(eu);function u(et){if("string"!=typeof et)throw TypeError("Expected String");if(0===et.length)return new Uint8Array;for(var eo=0,ea=0,ec=0;et[eo]===ed;)ea++,eo++;for(var eh=(et.length-eo)*ef+1>>>0,el=new Uint8Array(eh);et[eo];){var ep=ei[et.charCodeAt(eo)];if(255===ep)return;for(var eb=0,eg=eh-1;(0!==ep||eb<ec)&&-1!==eg;eg--,eb++)ep+=eu*el[eg]>>>0,el[eg]=ep%256>>>0,ep=ep/256>>>0;if(0!==ep)throw Error("Non-zero carry");ec=eb,eo++}for(var em=eh-ec;em!==eh&&0===el[em];)em++;for(var ey=new Uint8Array(ea+(eh-em)),ev=ea;em!==eh;)ey[ev++]=el[em++];return ey}return{encode:function(ei){if(ei instanceof Uint8Array||(ArrayBuffer.isView(ei)?ei=new Uint8Array(ei.buffer,ei.byteOffset,ei.byteLength):Array.isArray(ei)&&(ei=Uint8Array.from(ei))),!(ei instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===ei.length)return"";for(var eo=0,ea=0,ec=0,eh=ei.length;ec!==eh&&0===ei[ec];)ec++,eo++;for(var ef=(eh-ec)*el+1>>>0,ep=new Uint8Array(ef);ec!==eh;){for(var eb=ei[ec],eg=0,em=ef-1;(0!==eb||eg<ea)&&-1!==em;em--,eg++)eb+=256*ep[em]>>>0,ep[em]=eb%eu>>>0,eb=eb/eu>>>0;if(0!==eb)throw Error("Non-zero carry");ea=eg,ec++}for(var ey=ef-ea;ey!==ef&&0===ep[ey];)ey++;for(var ev=ed.repeat(eo);ey<ef;++ey)ev+=et.charAt(ep[ey]);return ev},decodeUnsafe:u,decode:function(et){var ei=u(et);if(ei)return ei;throw Error("Non-base"+eu+" character")}}}},4933:(et,ei)=>{"use strict";ei.byteLength=function(et){var ei=a(et),eo=ei[0],ea=ei[1];return 3*(eo+ea)/4-ea},ei.toByteArray=function(et){var ei,eo,eh=a(et),eu=eh[0],ed=eh[1],ef=new ec(3*(eu+ed)/4-ed),el=0,ep=ed>0?eu-4:eu;for(eo=0;eo<ep;eo+=4)ei=ea[et.charCodeAt(eo)]<<18|ea[et.charCodeAt(eo+1)]<<12|ea[et.charCodeAt(eo+2)]<<6|ea[et.charCodeAt(eo+3)],ef[el++]=ei>>16&255,ef[el++]=ei>>8&255,ef[el++]=255&ei;return 2===ed&&(ei=ea[et.charCodeAt(eo)]<<2|ea[et.charCodeAt(eo+1)]>>4,ef[el++]=255&ei),1===ed&&(ei=ea[et.charCodeAt(eo)]<<10|ea[et.charCodeAt(eo+1)]<<4|ea[et.charCodeAt(eo+2)]>>2,ef[el++]=ei>>8&255,ef[el++]=255&ei),ef},ei.fromByteArray=function(et){for(var ei,ea=et.length,ec=ea%3,eh=[],eu=0,ed=ea-ec;eu<ed;eu+=16383)eh.push(function(et,ei,ea){for(var ec,eh=[],eu=ei;eu<ea;eu+=3)eh.push(eo[(ec=(et[eu]<<16&16711680)+(et[eu+1]<<8&65280)+(255&et[eu+2]))>>18&63]+eo[ec>>12&63]+eo[ec>>6&63]+eo[63&ec]);return eh.join("")}(et,eu,eu+16383>ed?ed:eu+16383));return 1===ec?eh.push(eo[(ei=et[ea-1])>>2]+eo[ei<<4&63]+"=="):2===ec&&eh.push(eo[(ei=(et[ea-2]<<8)+et[ea-1])>>10]+eo[ei>>4&63]+eo[ei<<2&63]+"="),eh.join("")};for(var eo=[],ea=[],ec="undefined"!=typeof Uint8Array?Uint8Array:Array,eh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",eu=0;eu<64;++eu)eo[eu]=eh[eu],ea[eh.charCodeAt(eu)]=eu;function a(et){var ei=et.length;if(ei%4>0)throw Error("Invalid string. Length must be a multiple of 4");var eo=et.indexOf("=");return -1===eo&&(eo=ei),[eo,eo===ei?0:4-eo%4]}ea["-".charCodeAt(0)]=62,ea["_".charCodeAt(0)]=63},1594:function(et,ei,eo){var ea;!function(){"use strict";var ec,eh=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,eu=Math.ceil,ed=Math.floor,ef="[BigNumber Error] ",el=ef+"Number primitive has more than 15 significant digits: ",ep=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13];function g(et){var ei=0|et;return et>0||et===ei?ei:ei-1}function m(et){for(var ei,eo,ea=1,ec=et.length,eh=et[0]+"";ea<ec;){for(eo=14-(ei=et[ea++]+"").length;eo--;ei="0"+ei);eh+=ei}for(ec=eh.length;48===eh.charCodeAt(--ec););return eh.slice(0,ec+1||1)}function y(et,ei){var eo,ea,ec=et.c,eh=ei.c,eu=et.s,ed=ei.s,ef=et.e,el=ei.e;if(!eu||!ed)return null;if(eo=ec&&!ec[0],ea=eh&&!eh[0],eo||ea)return eo?ea?0:-ed:eu;if(eu!=ed)return eu;if(eo=eu<0,ea=ef==el,!ec||!eh)return ea?0:!ec^eo?1:-1;if(!ea)return ef>el^eo?1:-1;for(ed=(ef=ec.length)<(el=eh.length)?ef:el,eu=0;eu<ed;eu++)if(ec[eu]!=eh[eu])return ec[eu]>eh[eu]^eo?1:-1;return ef==el?0:ef>el^eo?1:-1}function v(et,ei,eo,ea){if(et<ei||et>eo||et!==ed(et))throw Error(ef+(ea||"Argument")+("number"==typeof et?et<ei||et>eo?" out of range: ":" not an integer: ":" not a primitive number: ")+String(et))}function w(et){var ei=et.c.length-1;return g(et.e/14)==ei&&et.c[ei]%2!=0}function _(et,ei){return(et.length>1?et.charAt(0)+"."+et.slice(1):et)+(ei<0?"e":"e+")+ei}function E(et,ei,eo){var ea,ec;if(ei<0){for(ec=eo+".";++ei;ec+=eo);et=ec+et}else if(++ei>(ea=et.length)){for(ec=eo,ei-=ea;--ei;ec+=eo);et+=ec}else ei<ea&&(et=et.slice(0,ei)+"."+et.slice(ei));return et}(ec=function e(et){var ei,eo,ea,ec,eb,eg,em,ey,ev,ew=V.prototype={constructor:V,toString:null,valueOf:null},e_=new V(1),eE=20,eS=4,eA=-7,eM=21,eI=-1e7,eT=1e7,ex=!1,eC=1,eR=0,ek={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xa0",suffix:""},eP="0123456789abcdefghijklmnopqrstuvwxyz",eO=!0;function V(et,ei){var ec,eu,ef,ep,eb,eg,em,ey,ev=this;if(!(ev instanceof V))return new V(et,ei);if(null==ei){if(et&&!0===et._isBigNumber)return ev.s=et.s,void(!et.c||et.e>eT?ev.c=ev.e=null:et.e<eI?ev.c=[ev.e=0]:(ev.e=et.e,ev.c=et.c.slice()));if((eg="number"==typeof et)&&0*et==0){if(ev.s=1/et<0?(et=-et,-1):1,et===~~et){for(ep=0,eb=et;eb>=10;eb/=10,ep++);return void(ep>eT?ev.c=ev.e=null:(ev.e=ep,ev.c=[et]))}ey=String(et)}else{if(!eh.test(ey=String(et)))return ea(ev,ey,eg);ev.s=45==ey.charCodeAt(0)?(ey=ey.slice(1),-1):1}(ep=ey.indexOf("."))>-1&&(ey=ey.replace(".","")),(eb=ey.search(/e/i))>0?(ep<0&&(ep=eb),ep+=+ey.slice(eb+1),ey=ey.substring(0,eb)):ep<0&&(ep=ey.length)}else{if(v(ei,2,eP.length,"Base"),10==ei&&eO)return W(ev=new V(et),eE+ev.e+1,eS);if(ey=String(et),eg="number"==typeof et){if(0*et!=0)return ea(ev,ey,eg,ei);if(ev.s=1/et<0?(ey=ey.slice(1),-1):1,V.DEBUG&&ey.replace(/^0\.0*|\./,"").length>15)throw Error(el+et)}else ev.s=45===ey.charCodeAt(0)?(ey=ey.slice(1),-1):1;for(ec=eP.slice(0,ei),ep=eb=0,em=ey.length;eb<em;eb++)if(0>ec.indexOf(eu=ey.charAt(eb))){if("."==eu){if(eb>ep){ep=em;continue}}else if(!ef&&(ey==ey.toUpperCase()&&(ey=ey.toLowerCase())||ey==ey.toLowerCase()&&(ey=ey.toUpperCase()))){ef=!0,eb=-1,ep=0;continue}return ea(ev,String(et),eg,ei)}eg=!1,(ep=(ey=eo(ey,ei,10,ev.s)).indexOf("."))>-1?ey=ey.replace(".",""):ep=ey.length}for(eb=0;48===ey.charCodeAt(eb);eb++);for(em=ey.length;48===ey.charCodeAt(--em););if(ey=ey.slice(eb,++em)){if(em-=eb,eg&&V.DEBUG&&em>15&&(et>9007199254740991||et!==ed(et)))throw Error(el+ev.s*et);if((ep=ep-eb-1)>eT)ev.c=ev.e=null;else if(ep<eI)ev.c=[ev.e=0];else{if(ev.e=ep,ev.c=[],eb=(ep+1)%14,ep<0&&(eb+=14),eb<em){for(eb&&ev.c.push(+ey.slice(0,eb)),em-=14;eb<em;)ev.c.push(+ey.slice(eb,eb+=14));eb=14-(ey=ey.slice(eb)).length}else eb-=em;for(;eb--;ey+="0");ev.c.push(+ey)}}else ev.c=[ev.e=0]}function $(et,ei,eo,ea){var ec,eh,eu,ed,ef;if(null==eo?eo=eS:v(eo,0,8),!et.c)return et.toString();if(ec=et.c[0],eu=et.e,null==ei)ef=m(et.c),ef=1==ea||2==ea&&(eu<=eA||eu>=eM)?_(ef,eu):E(ef,eu,"0");else if(eh=(et=W(new V(et),ei,eo)).e,ed=(ef=m(et.c)).length,1==ea||2==ea&&(ei<=eh||eh<=eA)){for(;ed<ei;ef+="0",ed++);ef=_(ef,eh)}else if(ei-=eu,ef=E(ef,eh,"0"),eh+1>ed){if(--ei>0)for(ef+=".";ei--;ef+="0");}else if((ei+=eh-ed)>0)for(eh+1==ed&&(ef+=".");ei--;ef+="0");return et.s<0&&ec?"-"+ef:ef}function K(et,ei){for(var eo,ea=1,ec=new V(et[0]);ea<et.length;ea++){if(!(eo=new V(et[ea])).s){ec=eo;break}ei.call(ec,eo)&&(ec=eo)}return ec}function G(et,ei,eo){for(var ea=1,ec=ei.length;!ei[--ec];ei.pop());for(ec=ei[0];ec>=10;ec/=10,ea++);return(eo=ea+14*eo-1)>eT?et.c=et.e=null:eo<eI?et.c=[et.e=0]:(et.e=eo,et.c=ei),et}function W(et,ei,eo,ea){var ec,eh,ef,el,eb,eg,em,ey=et.c;if(ey){e:{for(ec=1,el=ey[0];el>=10;el/=10,ec++);if((eh=ei-ec)<0)eh+=14,ef=ei,em=(eb=ey[eg=0])/ep[ec-ef-1]%10|0;else if((eg=eu((eh+1)/14))>=ey.length){if(!ea)break e;for(;ey.length<=eg;ey.push(0));eb=em=0,ec=1,ef=(eh%=14)-14+1}else{for(eb=el=ey[eg],ec=1;el>=10;el/=10,ec++);em=(ef=(eh%=14)-14+ec)<0?0:eb/ep[ec-ef-1]%10|0}if(ea=ea||ei<0||null!=ey[eg+1]||(ef<0?eb:eb%ep[ec-ef-1]),ea=eo<4?(em||ea)&&(0==eo||eo==(et.s<0?3:2)):em>5||5==em&&(4==eo||ea||6==eo&&(eh>0?ef>0?eb/ep[ec-ef]:0:ey[eg-1])%10&1||eo==(et.s<0?8:7)),ei<1||!ey[0])return ey.length=0,ea?(ei-=et.e+1,ey[0]=ep[(14-ei%14)%14],et.e=-ei||0):ey[0]=et.e=0,et;if(0==eh?(ey.length=eg,el=1,eg--):(ey.length=eg+1,el=ep[14-eh],ey[eg]=ef>0?ed(eb/ep[ec-ef]%ep[ef])*el:0),ea)for(;;){if(0==eg){for(eh=1,ef=ey[0];ef>=10;ef/=10,eh++);for(ef=ey[0]+=el,el=1;ef>=10;ef/=10,el++);eh!=el&&(et.e++,1e14==ey[0]&&(ey[0]=1));break}if(ey[eg]+=el,1e14!=ey[eg])break;ey[eg--]=0,el=1}for(eh=ey.length;0===ey[--eh];ey.pop());}et.e>eT?et.c=et.e=null:et.e<eI&&(et.c=[et.e=0])}return et}function J(et){var ei,eo=et.e;return null===eo?et.toString():(ei=m(et.c),ei=eo<=eA||eo>=eM?_(ei,eo):E(ei,eo,"0"),et.s<0?"-"+ei:ei)}return V.clone=e,V.ROUND_UP=0,V.ROUND_DOWN=1,V.ROUND_CEIL=2,V.ROUND_FLOOR=3,V.ROUND_HALF_UP=4,V.ROUND_HALF_DOWN=5,V.ROUND_HALF_EVEN=6,V.ROUND_HALF_CEIL=7,V.ROUND_HALF_FLOOR=8,V.EUCLID=9,V.config=V.set=function(et){var ei,eo;if(null!=et){if("object"!=typeof et)throw Error(ef+"Object expected: "+et);if(et.hasOwnProperty(ei="DECIMAL_PLACES")&&(v(eo=et[ei],0,1e9,ei),eE=eo),et.hasOwnProperty(ei="ROUNDING_MODE")&&(v(eo=et[ei],0,8,ei),eS=eo),et.hasOwnProperty(ei="EXPONENTIAL_AT")&&((eo=et[ei])&&eo.pop?(v(eo[0],-1e9,0,ei),v(eo[1],0,1e9,ei),eA=eo[0],eM=eo[1]):(v(eo,-1e9,1e9,ei),eA=-(eM=eo<0?-eo:eo))),et.hasOwnProperty(ei="RANGE")){if((eo=et[ei])&&eo.pop)v(eo[0],-1e9,-1,ei),v(eo[1],1,1e9,ei),eI=eo[0],eT=eo[1];else{if(v(eo,-1e9,1e9,ei),!eo)throw Error(ef+ei+" cannot be zero: "+eo);eI=-(eT=eo<0?-eo:eo)}}if(et.hasOwnProperty(ei="CRYPTO")){if((eo=et[ei])!==!!eo)throw Error(ef+ei+" not true or false: "+eo);if(eo){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw ex=!eo,Error(ef+"crypto unavailable");ex=eo}else ex=eo}if(et.hasOwnProperty(ei="MODULO_MODE")&&(v(eo=et[ei],0,9,ei),eC=eo),et.hasOwnProperty(ei="POW_PRECISION")&&(v(eo=et[ei],0,1e9,ei),eR=eo),et.hasOwnProperty(ei="FORMAT")){if("object"!=typeof(eo=et[ei]))throw Error(ef+ei+" not an object: "+eo);ek=eo}if(et.hasOwnProperty(ei="ALPHABET")){if("string"!=typeof(eo=et[ei])||/^.?$|[+\-.\s]|(.).*\1/.test(eo))throw Error(ef+ei+" invalid: "+eo);eO="0123456789"==eo.slice(0,10),eP=eo}}return{DECIMAL_PLACES:eE,ROUNDING_MODE:eS,EXPONENTIAL_AT:[eA,eM],RANGE:[eI,eT],CRYPTO:ex,MODULO_MODE:eC,POW_PRECISION:eR,FORMAT:ek,ALPHABET:eP}},V.isBigNumber=function(et){if(!et||!0!==et._isBigNumber)return!1;if(!V.DEBUG)return!0;var ei,eo,ea=et.c,ec=et.e,eh=et.s;e:if("[object Array]"==({}).toString.call(ea)){if((1===eh||-1===eh)&&ec>=-1e9&&ec<=1e9&&ec===ed(ec)){if(0===ea[0]){if(0===ec&&1===ea.length)return!0;break e}if((ei=(ec+1)%14)<1&&(ei+=14),String(ea[0]).length==ei){for(ei=0;ei<ea.length;ei++)if((eo=ea[ei])<0||eo>=1e14||eo!==ed(eo))break e;if(0!==eo)return!0}}}else if(null===ea&&null===ec&&(null===eh||1===eh||-1===eh))return!0;throw Error(ef+"Invalid BigNumber: "+et)},V.maximum=V.max=function(){return K(arguments,ew.lt)},V.minimum=V.min=function(){return K(arguments,ew.gt)},V.random=(ec=9007199254740992*Math.random()&2097151?function(){return ed(9007199254740992*Math.random())}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(et){var ei,eo,ea,eh,el,eb=0,eg=[],em=new V(e_);if(null==et?et=eE:v(et,0,1e9),eh=eu(et/14),ex){if(crypto.getRandomValues){for(ei=crypto.getRandomValues(new Uint32Array(eh*=2));eb<eh;)(el=131072*ei[eb]+(ei[eb+1]>>>11))>=9e15?(eo=crypto.getRandomValues(new Uint32Array(2)),ei[eb]=eo[0],ei[eb+1]=eo[1]):(eg.push(el%1e14),eb+=2);eb=eh/2}else{if(!crypto.randomBytes)throw ex=!1,Error(ef+"crypto unavailable");for(ei=crypto.randomBytes(eh*=7);eb<eh;)(el=281474976710656*(31&ei[eb])+1099511627776*ei[eb+1]+4294967296*ei[eb+2]+16777216*ei[eb+3]+(ei[eb+4]<<16)+(ei[eb+5]<<8)+ei[eb+6])>=9e15?crypto.randomBytes(7).copy(ei,eb):(eg.push(el%1e14),eb+=7);eb=eh/7}}if(!ex)for(;eb<eh;)(el=ec())<9e15&&(eg[eb++]=el%1e14);for(eh=eg[--eb],et%=14,eh&&et&&(el=ep[14-et],eg[eb]=ed(eh/el)*el);0===eg[eb];eg.pop(),eb--);if(eb<0)eg=[ea=0];else{for(ea=-1;0===eg[0];eg.splice(0,1),ea-=14);for(eb=1,el=eg[0];el>=10;el/=10,eb++);eb<14&&(ea-=14-eb)}return em.e=ea,em.c=eg,em}),V.sum=function(){for(var et=1,ei=arguments,eo=new V(ei[0]);et<ei.length;)eo=eo.plus(ei[et++]);return eo},eo=function(){var et="0123456789";function t(et,ei,eo,ea){for(var ec,eh,eu=[0],ed=0,ef=et.length;ed<ef;){for(eh=eu.length;eh--;eu[eh]*=ei);for(eu[0]+=ea.indexOf(et.charAt(ed++)),ec=0;ec<eu.length;ec++)eu[ec]>eo-1&&(null==eu[ec+1]&&(eu[ec+1]=0),eu[ec+1]+=eu[ec]/eo|0,eu[ec]%=eo)}return eu.reverse()}return function(eo,ea,ec,eh,eu){var ed,ef,el,ep,eb,eg,em,ey,ev=eo.indexOf("."),ew=eE,e_=eS;for(ev>=0&&(ep=eR,eR=0,eo=eo.replace(".",""),eg=(ey=new V(ea)).pow(eo.length-ev),eR=ep,ey.c=t(E(m(eg.c),eg.e,"0"),10,ec,et),ey.e=ey.c.length),el=ep=(em=t(eo,ea,ec,eu?(ed=eP,et):(ed=et,eP))).length;0==em[--ep];em.pop());if(!em[0])return ed.charAt(0);if(ev<0?--el:(eg.c=em,eg.e=el,eg.s=eh,em=(eg=ei(eg,ey,ew,e_,ec)).c,eb=eg.r,el=eg.e),ev=em[ef=el+ew+1],ep=ec/2,eb=eb||ef<0||null!=em[ef+1],eb=e_<4?(null!=ev||eb)&&(0==e_||e_==(eg.s<0?3:2)):ev>ep||ev==ep&&(4==e_||eb||6==e_&&1&em[ef-1]||e_==(eg.s<0?8:7)),ef<1||!em[0])eo=eb?E(ed.charAt(1),-ew,ed.charAt(0)):ed.charAt(0);else{if(em.length=ef,eb)for(--ec;++em[--ef]>ec;)em[ef]=0,ef||(++el,em=[1].concat(em));for(ep=em.length;!em[--ep];);for(ev=0,eo="";ev<=ep;eo+=ed.charAt(em[ev++]));eo=E(eo,el,ed.charAt(0))}return eo}}(),ei=function(){function e(et,ei,eo){var ea,ec,eh,eu,ed=0,ef=et.length,el=ei%1e7,ep=ei/1e7|0;for(et=et.slice();ef--;)ed=((ec=el*(eh=et[ef]%1e7)+(ea=ep*eh+(eu=et[ef]/1e7|0)*el)%1e7*1e7+ed)/eo|0)+(ea/1e7|0)+ep*eu,et[ef]=ec%eo;return ed&&(et=[ed].concat(et)),et}function t(et,ei,eo,ea){var ec,eh;if(eo!=ea)eh=eo>ea?1:-1;else for(ec=eh=0;ec<eo;ec++)if(et[ec]!=ei[ec]){eh=et[ec]>ei[ec]?1:-1;break}return eh}function r(et,ei,eo,ea){for(var ec=0;eo--;)et[eo]-=ec,ec=et[eo]<ei[eo]?1:0,et[eo]=ec*ea+et[eo]-ei[eo];for(;!et[0]&&et.length>1;et.splice(0,1));}return function(et,ei,eo,ea,ec){var eh,eu,ef,el,ep,eb,eg,em,ey,ev,ew,e_,eE,eS,eA,eM,eI,eT=et.s==ei.s?1:-1,ex=et.c,eC=ei.c;if(!(ex&&ex[0]&&eC&&eC[0]))return new V(et.s&&ei.s&&(ex?!eC||ex[0]!=eC[0]:eC)?ex&&0==ex[0]||!eC?0*eT:eT/0:NaN);for(ey=(em=new V(eT)).c=[],eT=eo+(eu=et.e-ei.e)+1,ec||(ec=1e14,eu=g(et.e/14)-g(ei.e/14),eT=eT/14|0),ef=0;eC[ef]==(ex[ef]||0);ef++);if(eC[ef]>(ex[ef]||0)&&eu--,eT<0)ey.push(1),el=!0;else{for(eS=ex.length,eM=eC.length,ef=0,eT+=2,(ep=ed(ec/(eC[0]+1)))>1&&(eC=e(eC,ep,ec),ex=e(ex,ep,ec),eM=eC.length,eS=ex.length),eE=eM,ew=(ev=ex.slice(0,eM)).length;ew<eM;ev[ew++]=0);eI=[0].concat(eI=eC.slice()),eA=eC[0],eC[1]>=ec/2&&eA++;do{if(ep=0,(eh=t(eC,ev,eM,ew))<0){if(e_=ev[0],eM!=ew&&(e_=e_*ec+(ev[1]||0)),(ep=ed(e_/eA))>1)for(ep>=ec&&(ep=ec-1),eg=(eb=e(eC,ep,ec)).length,ew=ev.length;1==t(eb,ev,eg,ew);)ep--,r(eb,eM<eg?eI:eC,eg,ec),eg=eb.length,eh=1;else 0==ep&&(eh=ep=1),eg=(eb=eC.slice()).length;if(eg<ew&&(eb=[0].concat(eb)),r(ev,eb,ew,ec),ew=ev.length,-1==eh)for(;1>t(eC,ev,eM,ew);)ep++,r(ev,eM<ew?eI:eC,ew,ec),ew=ev.length}else 0===eh&&(ep++,ev=[0]);ey[ef++]=ep,ev[0]?ev[ew++]=ex[eE]||0:(ev=[ex[eE]],ew=1)}while((eE++<eS||null!=ev[0])&&eT--);el=null!=ev[0],ey[0]||ey.splice(0,1)}if(1e14==ec){for(ef=1,eT=ey[0];eT>=10;eT/=10,ef++);W(em,eo+(em.e=ef+14*eu-1)+1,ea,el)}else em.e=eu,em.r=+el;return em}}(),eb=/^(-?)0([xbo])(?=\w[\w.]*$)/i,eg=/^([^.]+)\.$/,em=/^\.([^.]+)$/,ey=/^-?(Infinity|NaN)$/,ev=/^\s*\+(?=[\w.])|^\s+|\s+$/g,ea=function(et,ei,eo,ea){var ec,eh=eo?ei:ei.replace(ev,"");if(ey.test(eh))et.s=isNaN(eh)?null:eh<0?-1:1;else{if(!eo&&(eh=eh.replace(eb,function(et,ei,eo){return ec="x"==(eo=eo.toLowerCase())?16:"b"==eo?2:8,ea&&ea!=ec?et:ei}),ea&&(ec=ea,eh=eh.replace(eg,"$1").replace(em,"0.$1")),ei!=eh))return new V(eh,ec);if(V.DEBUG)throw Error(ef+"Not a"+(ea?" base "+ea:"")+" number: "+ei);et.s=null}et.c=et.e=null},ew.absoluteValue=ew.abs=function(){var et=new V(this);return et.s<0&&(et.s=1),et},ew.comparedTo=function(et,ei){return y(this,new V(et,ei))},ew.decimalPlaces=ew.dp=function(et,ei){var eo,ea,ec;if(null!=et)return v(et,0,1e9),null==ei?ei=eS:v(ei,0,8),W(new V(this),et+this.e+1,ei);if(!(eo=this.c))return null;if(ea=((ec=eo.length-1)-g(this.e/14))*14,ec=eo[ec])for(;ec%10==0;ec/=10,ea--);return ea<0&&(ea=0),ea},ew.dividedBy=ew.div=function(et,eo){return ei(this,new V(et,eo),eE,eS)},ew.dividedToIntegerBy=ew.idiv=function(et,eo){return ei(this,new V(et,eo),0,1)},ew.exponentiatedBy=ew.pow=function(et,ei){var eo,ea,ec,eh,el,ep,eb,eg,em=this;if((et=new V(et)).c&&!et.isInteger())throw Error(ef+"Exponent not an integer: "+J(et));if(null!=ei&&(ei=new V(ei)),el=et.e>14,!em.c||!em.c[0]||1==em.c[0]&&!em.e&&1==em.c.length||!et.c||!et.c[0])return eg=new V(Math.pow(+J(em),el?et.s*(2-w(et)):+J(et))),ei?eg.mod(ei):eg;if(ep=et.s<0,ei){if(ei.c?!ei.c[0]:!ei.s)return new V(NaN);(ea=!ep&&em.isInteger()&&ei.isInteger())&&(em=em.mod(ei))}else{if(et.e>9&&(em.e>0||em.e<-1||(0==em.e?em.c[0]>1||el&&em.c[1]>=24e7:em.c[0]<8e13||el&&em.c[0]<=9999975e7)))return eh=em.s<0&&w(et)?-0:0,em.e>-1&&(eh=1/eh),new V(ep?1/eh:eh);eR&&(eh=eu(eR/14+2))}for(el?(eo=new V(.5),ep&&(et.s=1),eb=w(et)):eb=(ec=Math.abs(+J(et)))%2,eg=new V(e_);;){if(eb){if(!(eg=eg.times(em)).c)break;eh?eg.c.length>eh&&(eg.c.length=eh):ea&&(eg=eg.mod(ei))}if(ec){if(0===(ec=ed(ec/2)))break;eb=ec%2}else if(W(et=et.times(eo),et.e+1,1),et.e>14)eb=w(et);else{if(0==(ec=+J(et)))break;eb=ec%2}em=em.times(em),eh?em.c&&em.c.length>eh&&(em.c.length=eh):ea&&(em=em.mod(ei))}return ea?eg:(ep&&(eg=e_.div(eg)),ei?eg.mod(ei):eh?W(eg,eR,eS,void 0):eg)},ew.integerValue=function(et){var ei=new V(this);return null==et?et=eS:v(et,0,8),W(ei,ei.e+1,et)},ew.isEqualTo=ew.eq=function(et,ei){return 0===y(this,new V(et,ei))},ew.isFinite=function(){return!!this.c},ew.isGreaterThan=ew.gt=function(et,ei){return y(this,new V(et,ei))>0},ew.isGreaterThanOrEqualTo=ew.gte=function(et,ei){return 1===(ei=y(this,new V(et,ei)))||0===ei},ew.isInteger=function(){return!!this.c&&g(this.e/14)>this.c.length-2},ew.isLessThan=ew.lt=function(et,ei){return 0>y(this,new V(et,ei))},ew.isLessThanOrEqualTo=ew.lte=function(et,ei){return -1===(ei=y(this,new V(et,ei)))||0===ei},ew.isNaN=function(){return!this.s},ew.isNegative=function(){return this.s<0},ew.isPositive=function(){return this.s>0},ew.isZero=function(){return!!this.c&&0==this.c[0]},ew.minus=function(et,ei){var eo,ea,ec,eh,eu=this.s;if(ei=(et=new V(et,ei)).s,!eu||!ei)return new V(NaN);if(eu!=ei)return et.s=-ei,this.plus(et);var ed=this.e/14,ef=et.e/14,el=this.c,ep=et.c;if(!ed||!ef){if(!el||!ep)return el?(et.s=-ei,et):new V(ep?this:NaN);if(!el[0]||!ep[0])return ep[0]?(et.s=-ei,et):new V(el[0]?this:3==eS?-0:0)}if(ed=g(ed),ef=g(ef),el=el.slice(),eu=ed-ef){for((eh=eu<0)?(eu=-eu,ec=el):(ef=ed,ec=ep),ec.reverse(),ei=eu;ei--;ec.push(0));ec.reverse()}else for(ea=(eh=(eu=el.length)<(ei=ep.length))?eu:ei,eu=ei=0;ei<ea;ei++)if(el[ei]!=ep[ei]){eh=el[ei]<ep[ei];break}if(eh&&(ec=el,el=ep,ep=ec,et.s=-et.s),(ei=(ea=ep.length)-(eo=el.length))>0)for(;ei--;el[eo++]=0);for(ei=1e14-1;ea>eu;){if(el[--ea]<ep[ea]){for(eo=ea;eo&&!el[--eo];el[eo]=ei);--el[eo],el[ea]+=1e14}el[ea]-=ep[ea]}for(;0==el[0];el.splice(0,1),--ef);return el[0]?G(et,el,ef):(et.s=3==eS?-1:1,et.c=[et.e=0],et)},ew.modulo=ew.mod=function(et,eo){var ea,ec;return et=new V(et,eo),this.c&&et.s&&(!et.c||et.c[0])?et.c&&(!this.c||this.c[0])?(9==eC?(ec=et.s,et.s=1,ea=ei(this,et,0,3),et.s=ec,ea.s*=ec):ea=ei(this,et,0,eC),(et=this.minus(ea.times(et))).c[0]||1!=eC||(et.s=this.s),et):new V(this):new V(NaN)},ew.multipliedBy=ew.times=function(et,ei){var eo,ea,ec,eh,eu,ed,ef,el,ep,eb,eg,em,ey,ev=this.c,ew=(et=new V(et,ei)).c;if(!(ev&&ew&&ev[0]&&ew[0]))return this.s&&et.s&&(!ev||ev[0]||ew)&&(!ew||ew[0]||ev)?(et.s*=this.s,ev&&ew?(et.c=[0],et.e=0):et.c=et.e=null):et.c=et.e=et.s=null,et;for(ea=g(this.e/14)+g(et.e/14),et.s*=this.s,(ef=ev.length)<(eb=ew.length)&&(ey=ev,ev=ew,ew=ey,ec=ef,ef=eb,eb=ec),ec=ef+eb,ey=[];ec--;ey.push(0));for(ec=eb;--ec>=0;){for(eo=0,eg=ew[ec]%1e7,em=ew[ec]/1e7|0,eh=ec+(eu=ef);eh>ec;)eo=((el=eg*(el=ev[--eu]%1e7)+(ed=em*el+(ep=ev[eu]/1e7|0)*eg)%1e7*1e7+ey[eh]+eo)/1e14|0)+(ed/1e7|0)+em*ep,ey[eh--]=el%1e14;ey[eh]=eo}return eo?++ea:ey.splice(0,1),G(et,ey,ea)},ew.negated=function(){var et=new V(this);return et.s=-et.s||null,et},ew.plus=function(et,ei){var eo,ea=this.s;if(ei=(et=new V(et,ei)).s,!ea||!ei)return new V(NaN);if(ea!=ei)return et.s=-ei,this.minus(et);var ec=this.e/14,eh=et.e/14,eu=this.c,ed=et.c;if(!ec||!eh){if(!eu||!ed)return new V(ea/0);if(!eu[0]||!ed[0])return ed[0]?et:new V(eu[0]?this:0*ea)}if(ec=g(ec),eh=g(eh),eu=eu.slice(),ea=ec-eh){for(ea>0?(eh=ec,eo=ed):(ea=-ea,eo=eu),eo.reverse();ea--;eo.push(0));eo.reverse()}for((ea=eu.length)-(ei=ed.length)<0&&(eo=ed,ed=eu,eu=eo,ei=ea),ea=0;ei;)ea=(eu[--ei]=eu[ei]+ed[ei]+ea)/1e14|0,eu[ei]=1e14===eu[ei]?0:eu[ei]%1e14;return ea&&(eu=[ea].concat(eu),++eh),G(et,eu,eh)},ew.precision=ew.sd=function(et,ei){var eo,ea,ec;if(null!=et&&!!et!==et)return v(et,1,1e9),null==ei?ei=eS:v(ei,0,8),W(new V(this),et,ei);if(!(eo=this.c))return null;if(ea=14*(ec=eo.length-1)+1,ec=eo[ec]){for(;ec%10==0;ec/=10,ea--);for(ec=eo[0];ec>=10;ec/=10,ea++);}return et&&this.e+1>ea&&(ea=this.e+1),ea},ew.shiftedBy=function(et){return v(et,-9007199254740991,9007199254740991),this.times("1e"+et)},ew.squareRoot=ew.sqrt=function(){var et,eo,ea,ec,eh,eu=this.c,ed=this.s,ef=this.e,el=eE+4,ep=new V("0.5");if(1!==ed||!eu||!eu[0])return new V(!ed||ed<0&&(!eu||eu[0])?NaN:eu?this:1/0);if(0==(ed=Math.sqrt(+J(this)))||ed==1/0?(((eo=m(eu)).length+ef)%2==0&&(eo+="0"),ed=Math.sqrt(+eo),ef=g((ef+1)/2)-(ef<0||ef%2),ea=new V(eo=ed==1/0?"5e"+ef:(eo=ed.toExponential()).slice(0,eo.indexOf("e")+1)+ef)):ea=new V(ed+""),ea.c[0]){for((ed=(ef=ea.e)+el)<3&&(ed=0);;)if(eh=ea,ea=ep.times(eh.plus(ei(this,eh,el,1))),m(eh.c).slice(0,ed)===(eo=m(ea.c)).slice(0,ed)){if(ea.e<ef&&--ed,"9999"!=(eo=eo.slice(ed-3,ed+1))&&(ec||"4999"!=eo)){+eo&&(+eo.slice(1)||"5"!=eo.charAt(0))||(W(ea,ea.e+eE+2,1),et=!ea.times(ea).eq(this));break}if(!ec&&(W(eh,eh.e+eE+2,0),eh.times(eh).eq(this))){ea=eh;break}el+=4,ed+=4,ec=1}}return W(ea,ea.e+eE+1,eS,et)},ew.toExponential=function(et,ei){return null!=et&&(v(et,0,1e9),et++),$(this,et,ei,1)},ew.toFixed=function(et,ei){return null!=et&&(v(et,0,1e9),et=et+this.e+1),$(this,et,ei)},ew.toFormat=function(et,ei,eo){var ea;if(null==eo)null!=et&&ei&&"object"==typeof ei?(eo=ei,ei=null):et&&"object"==typeof et?(eo=et,et=ei=null):eo=ek;else if("object"!=typeof eo)throw Error(ef+"Argument not an object: "+eo);if(ea=this.toFixed(et,ei),this.c){var ec,eh=ea.split("."),eu=+eo.groupSize,ed=+eo.secondaryGroupSize,el=eo.groupSeparator||"",ep=eh[0],eb=eh[1],eg=this.s<0,em=eg?ep.slice(1):ep,ey=em.length;if(ed&&(ec=eu,eu=ed,ed=ec,ey-=ec),eu>0&&ey>0){for(ec=ey%eu||eu,ep=em.substr(0,ec);ec<ey;ec+=eu)ep+=el+em.substr(ec,eu);ed>0&&(ep+=el+em.slice(ec)),eg&&(ep="-"+ep)}ea=eb?ep+(eo.decimalSeparator||"")+((ed=+eo.fractionGroupSize)?eb.replace(RegExp("\\d{"+ed+"}\\B","g"),"$&"+(eo.fractionGroupSeparator||"")):eb):ep}return(eo.prefix||"")+ea+(eo.suffix||"")},ew.toFraction=function(et){var eo,ea,ec,eh,eu,ed,el,eb,eg,em,ey,ev,ew=this.c;if(null!=et&&(!(el=new V(et)).isInteger()&&(el.c||1!==el.s)||el.lt(e_)))throw Error(ef+"Argument "+(el.isInteger()?"out of range: ":"not an integer: ")+J(el));if(!ew)return new V(this);for(eo=new V(e_),eg=ea=new V(e_),ec=eb=new V(e_),ev=m(ew),eu=eo.e=ev.length-this.e-1,eo.c[0]=ep[(ed=eu%14)<0?14+ed:ed],et=!et||el.comparedTo(eo)>0?eu>0?eo:eg:el,ed=eT,eT=1/0,el=new V(ev),eb.c[0]=0;em=ei(el,eo,0,1),1!=(eh=ea.plus(em.times(ec))).comparedTo(et);)ea=ec,ec=eh,eg=eb.plus(em.times(eh=eg)),eb=eh,eo=el.minus(em.times(eh=eo)),el=eh;return eh=ei(et.minus(ea),ec,0,1),eb=eb.plus(eh.times(eg)),ea=ea.plus(eh.times(ec)),eb.s=eg.s=this.s,ey=1>ei(eg,ec,eu*=2,eS).minus(this).abs().comparedTo(ei(eb,ea,eu,eS).minus(this).abs())?[eg,ec]:[eb,ea],eT=ed,ey},ew.toNumber=function(){return+J(this)},ew.toPrecision=function(et,ei){return null!=et&&v(et,1,1e9),$(this,et,ei,2)},ew.toString=function(et){var ei,ea=this,ec=ea.s,eh=ea.e;return null===eh?ec?(ei="Infinity",ec<0&&(ei="-"+ei)):ei="NaN":(null==et?ei=eh<=eA||eh>=eM?_(m(ea.c),eh):E(m(ea.c),eh,"0"):10===et&&eO?ei=E(m((ea=W(new V(ea),eE+eh+1,eS)).c),ea.e,"0"):(v(et,2,eP.length,"Base"),ei=eo(E(m(ea.c),eh,"0"),10,et,ec,!0)),ec<0&&ea.c[0]&&(ei="-"+ei)),ei},ew.valueOf=ew.toJSON=function(){return J(this)},ew._isBigNumber=!0,null!=et&&V.set(et),V}()).default=ec.BigNumber=ec,void 0===(ea=(function(){return ec}).call(ei,eo,ei,et))||(et.exports=ea)}()},8681:(et,ei,eo)=>{let ea=eo(1878);function i(et,ei,eo){let ea=et[ei]+et[eo],ec=et[ei+1]+et[eo+1];ea>=4294967296&&ec++,et[ei]=ea,et[ei+1]=ec}function s(et,ei,eo,ea){let ec=et[ei]+eo;eo<0&&(ec+=4294967296);let eh=et[ei+1]+ea;ec>=4294967296&&eh++,et[ei]=ec,et[ei+1]=eh}function o(et,ei){return et[ei]^et[ei+1]<<8^et[ei+2]<<16^et[ei+3]<<24}function a(et,ei,eo,ea,ec,eh){let ef=ed[ec],el=ed[ec+1],ep=ed[eh],eb=ed[eh+1];i(eu,et,ei),s(eu,et,ef,el);let eg=eu[ea]^eu[et],em=eu[ea+1]^eu[et+1];eu[ea]=em,eu[ea+1]=eg,i(eu,eo,ea),eg=eu[ei]^eu[eo],em=eu[ei+1]^eu[eo+1],eu[ei]=eg>>>24^em<<8,eu[ei+1]=em>>>24^eg<<8,i(eu,et,ei),s(eu,et,ep,eb),eg=eu[ea]^eu[et],em=eu[ea+1]^eu[et+1],eu[ea]=eg>>>16^em<<16,eu[ea+1]=em>>>16^eg<<16,i(eu,eo,ea),eg=eu[ei]^eu[eo],em=eu[ei+1]^eu[eo+1],eu[ei]=em>>>31^eg<<1,eu[ei+1]=eg>>>31^em<<1}let ec=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),eh=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3].map(function(et){return 2*et})),eu=new Uint32Array(32),ed=new Uint32Array(32);function f(et,ei){let eo=0;for(eo=0;eo<16;eo++)eu[eo]=et.h[eo],eu[eo+16]=ec[eo];for(eu[24]=eu[24]^et.t,eu[25]=eu[25]^et.t/4294967296,ei&&(eu[28]=~eu[28],eu[29]=~eu[29]),eo=0;eo<32;eo++)ed[eo]=o(et.b,4*eo);for(eo=0;eo<12;eo++)a(0,8,16,24,eh[16*eo+0],eh[16*eo+1]),a(2,10,18,26,eh[16*eo+2],eh[16*eo+3]),a(4,12,20,28,eh[16*eo+4],eh[16*eo+5]),a(6,14,22,30,eh[16*eo+6],eh[16*eo+7]),a(0,10,20,30,eh[16*eo+8],eh[16*eo+9]),a(2,12,22,24,eh[16*eo+10],eh[16*eo+11]),a(4,14,16,26,eh[16*eo+12],eh[16*eo+13]),a(6,8,18,28,eh[16*eo+14],eh[16*eo+15]);for(eo=0;eo<16;eo++)et.h[eo]=et.h[eo]^eu[eo]^eu[eo+16]}let ef=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function p(et,ei,eo,ea){if(0===et||et>64)throw Error("Illegal output length, expected 0 < length <= 64");if(ei&&ei.length>64)throw Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(eo&&16!==eo.length)throw Error("Illegal salt, expected Uint8Array with length is 16");if(ea&&16!==ea.length)throw Error("Illegal personal, expected Uint8Array with length is 16");let eh={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:et};ef.fill(0),ef[0]=et,ei&&(ef[1]=ei.length),ef[2]=1,ef[3]=1,eo&&ef.set(eo,32),ea&&ef.set(ea,48);for(let et=0;et<16;et++)eh.h[et]=ec[et]^o(ef,4*et);return ei&&(b(eh,ei),eh.c=128),eh}function b(et,ei){for(let eo=0;eo<ei.length;eo++)128===et.c&&(et.t+=et.c,f(et,!1),et.c=0),et.b[et.c++]=ei[eo]}function g(et){for(et.t+=et.c;et.c<128;)et.b[et.c++]=0;f(et,!0);let ei=new Uint8Array(et.outlen);for(let eo=0;eo<et.outlen;eo++)ei[eo]=et.h[eo>>2]>>8*(3&eo);return ei}function m(et,ei,eo,ec,eh){eo=eo||64,et=ea.normalizeInput(et),ec&&(ec=ea.normalizeInput(ec)),eh&&(eh=ea.normalizeInput(eh));let eu=p(eo,ei,ec,eh);return b(eu,et),g(eu)}et.exports={blake2b:m,blake2bHex:function(et,ei,eo,ec,eh){let eu=m(et,ei,eo,ec,eh);return ea.toHex(eu)},blake2bInit:p,blake2bUpdate:b,blake2bFinal:g}},7690:(et,ei,eo)=>{let ea=eo(1878);function s(et,ei,eo,ea,ec,eh){eu[et]=eu[et]+eu[ei]+ec,eu[ea]=o(eu[ea]^eu[et],16),eu[eo]=eu[eo]+eu[ea],eu[ei]=o(eu[ei]^eu[eo],12),eu[et]=eu[et]+eu[ei]+eh,eu[ea]=o(eu[ea]^eu[et],8),eu[eo]=eu[eo]+eu[ea],eu[ei]=o(eu[ei]^eu[eo],7)}function o(et,ei){return et>>>ei^et<<32-ei}let ec=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),eh=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),eu=new Uint32Array(16),ed=new Uint32Array(16);function d(et,ei){let eo=0;for(eo=0;eo<8;eo++)eu[eo]=et.h[eo],eu[eo+8]=ec[eo];for(eu[12]^=et.t,eu[13]^=et.t/4294967296,ei&&(eu[14]=~eu[14]),eo=0;eo<16;eo++){var ea,ef;ed[eo]=(ea=et.b)[ef=4*eo]^ea[ef+1]<<8^ea[ef+2]<<16^ea[ef+3]<<24}for(eo=0;eo<10;eo++)s(0,4,8,12,ed[eh[16*eo+0]],ed[eh[16*eo+1]]),s(1,5,9,13,ed[eh[16*eo+2]],ed[eh[16*eo+3]]),s(2,6,10,14,ed[eh[16*eo+4]],ed[eh[16*eo+5]]),s(3,7,11,15,ed[eh[16*eo+6]],ed[eh[16*eo+7]]),s(0,5,10,15,ed[eh[16*eo+8]],ed[eh[16*eo+9]]),s(1,6,11,12,ed[eh[16*eo+10]],ed[eh[16*eo+11]]),s(2,7,8,13,ed[eh[16*eo+12]],ed[eh[16*eo+13]]),s(3,4,9,14,ed[eh[16*eo+14]],ed[eh[16*eo+15]]);for(eo=0;eo<8;eo++)et.h[eo]^=eu[eo]^eu[eo+8]}function f(et,ei){if(!(et>0&&et<=32))throw Error("Incorrect output length, should be in [1, 32]");let eo=ei?ei.length:0;if(ei&&!(eo>0&&eo<=32))throw Error("Incorrect key length, should be in [1, 32]");let ea={h:new Uint32Array(ec),b:new Uint8Array(64),c:0,t:0,outlen:et};return ea.h[0]^=16842752^eo<<8^et,eo>0&&(l(ea,ei),ea.c=64),ea}function l(et,ei){for(let eo=0;eo<ei.length;eo++)64===et.c&&(et.t+=et.c,d(et,!1),et.c=0),et.b[et.c++]=ei[eo]}function p(et){for(et.t+=et.c;et.c<64;)et.b[et.c++]=0;d(et,!0);let ei=new Uint8Array(et.outlen);for(let eo=0;eo<et.outlen;eo++)ei[eo]=et.h[eo>>2]>>8*(3&eo)&255;return ei}function b(et,ei,eo){eo=eo||32,et=ea.normalizeInput(et);let ec=f(eo,ei);return l(ec,et),p(ec)}et.exports={blake2s:b,blake2sHex:function(et,ei,eo){let ec=b(et,ei,eo);return ea.toHex(ec)},blake2sInit:f,blake2sUpdate:l,blake2sFinal:p}},1540:(et,ei,eo)=>{let ea=eo(8681),ec=eo(7690);et.exports={blake2b:ea.blake2b,blake2bHex:ea.blake2bHex,blake2bInit:ea.blake2bInit,blake2bUpdate:ea.blake2bUpdate,blake2bFinal:ea.blake2bFinal,blake2s:ec.blake2s,blake2sHex:ec.blake2sHex,blake2sInit:ec.blake2sInit,blake2sUpdate:ec.blake2sUpdate,blake2sFinal:ec.blake2sFinal}},1878:et=>{function t(et){return(4294967296+et).toString(16).substring(1)}et.exports={normalizeInput:function(et){let ei;if(et instanceof Uint8Array)ei=et;else{if("string"!=typeof et)throw Error("Input must be an string, Buffer or Uint8Array");ei=(new TextEncoder).encode(et)}return ei},toHex:function(et){return Array.prototype.map.call(et,function(et){return(et<16?"0":"")+et.toString(16)}).join("")},debugPrint:function(et,ei,eo){let ea="\n"+et+" = ";for(let ec=0;ec<ei.length;ec+=2){if(32===eo)ea+=t(ei[ec]).toUpperCase()+" "+t(ei[ec+1]).toUpperCase();else{if(64!==eo)throw Error("Invalid size "+eo);ea+=t(ei[ec+1]).toUpperCase()+t(ei[ec]).toUpperCase()}ec%6==4?ea+="\n"+Array(et.length+4).join(" "):ec<ei.length-2&&(ea+=" ")}console.log(ea)},testSpeed:function(et,ei,eo){let ea=(new Date).getTime(),ec=new Uint8Array(ei);for(let et=0;et<ei;et++)ec[et]=et%256;let eh=(new Date).getTime();console.log("Generated random input in "+(eh-ea)+"ms"),ea=eh;for(let eh=0;eh<eo;eh++){let eo=et(ec),eh=(new Date).getTime(),eu=eh-ea;ea=eh,console.log("Hashed in "+eu+"ms: "+eo.substring(0,20)+"..."),console.log(Math.round(ei/1048576/(eu/1e3)*100)/100+" MB PER SECOND")}}}},4619:function(et,ei,eo){!function(et,ei){"use strict";function n(et,ei){if(!et)throw Error(ei||"Assertion failed")}function i(et,ei){et.super_=ei;var r=function(){};r.prototype=ei.prototype,et.prototype=new r,et.prototype.constructor=et}function s(et,ei,eo){if(s.isBN(et))return et;this.negative=0,this.words=null,this.length=0,this.red=null,null!==et&&("le"!==ei&&"be"!==ei||(eo=ei,ei=10),this._init(et||0,ei||10,eo||"be"))}"object"==typeof et?et.exports=s:ei.BN=s,s.BN=s,s.wordSize=26;try{ea="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:eo(7175).Buffer}catch(et){}function a(et,ei){var eo=et.charCodeAt(ei);return eo>=65&&eo<=70?eo-55:eo>=97&&eo<=102?eo-87:eo-48&15}function c(et,ei,eo){var ea=a(et,eo);return eo-1>=ei&&(ea|=a(et,eo-1)<<4),ea}function h(et,ei,eo,ea){for(var ec=0,eh=Math.min(et.length,eo),eu=ei;eu<eh;eu++){var ed=et.charCodeAt(eu)-48;ec*=ea,ec+=ed>=49?ed-49+10:ed>=17?ed-17+10:ed}return ec}s.isBN=function(et){return et instanceof s||null!==et&&"object"==typeof et&&et.constructor.wordSize===s.wordSize&&Array.isArray(et.words)},s.max=function(et,ei){return et.cmp(ei)>0?et:ei},s.min=function(et,ei){return 0>et.cmp(ei)?et:ei},s.prototype._init=function(et,ei,eo){if("number"==typeof et)return this._initNumber(et,ei,eo);if("object"==typeof et)return this._initArray(et,ei,eo);"hex"===ei&&(ei=16),n(ei===(0|ei)&&ei>=2&&ei<=36);var ea=0;"-"===(et=et.toString().replace(/\s+/g,""))[0]&&(ea++,this.negative=1),ea<et.length&&(16===ei?this._parseHex(et,ea,eo):(this._parseBase(et,ei,ea),"le"===eo&&this._initArray(this.toArray(),ei,eo)))},s.prototype._initNumber=function(et,ei,eo){et<0&&(this.negative=1,et=-et),et<67108864?(this.words=[67108863&et],this.length=1):et<4503599627370496?(this.words=[67108863&et,et/67108864&67108863],this.length=2):(n(et<9007199254740992),this.words=[67108863&et,et/67108864&67108863,1],this.length=3),"le"===eo&&this._initArray(this.toArray(),ei,eo)},s.prototype._initArray=function(et,ei,eo){if(n("number"==typeof et.length),et.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(et.length/3),this.words=Array(this.length);for(var ea=0;ea<this.length;ea++)this.words[ea]=0;var ec,eh,eu=0;if("be"===eo)for(ea=et.length-1,ec=0;ea>=0;ea-=3)eh=et[ea]|et[ea-1]<<8|et[ea-2]<<16,this.words[ec]|=eh<<eu&67108863,this.words[ec+1]=eh>>>26-eu&67108863,(eu+=24)>=26&&(eu-=26,ec++);else if("le"===eo)for(ea=0,ec=0;ea<et.length;ea+=3)eh=et[ea]|et[ea+1]<<8|et[ea+2]<<16,this.words[ec]|=eh<<eu&67108863,this.words[ec+1]=eh>>>26-eu&67108863,(eu+=24)>=26&&(eu-=26,ec++);return this.strip()},s.prototype._parseHex=function(et,ei,eo){this.length=Math.ceil((et.length-ei)/6),this.words=Array(this.length);for(var ea=0;ea<this.length;ea++)this.words[ea]=0;var ec,eh=0,eu=0;if("be"===eo)for(ea=et.length-1;ea>=ei;ea-=2)ec=c(et,ei,ea)<<eh,this.words[eu]|=67108863&ec,eh>=18?(eh-=18,eu+=1,this.words[eu]|=ec>>>26):eh+=8;else for(ea=(et.length-ei)%2==0?ei+1:ei;ea<et.length;ea+=2)ec=c(et,ei,ea)<<eh,this.words[eu]|=67108863&ec,eh>=18?(eh-=18,eu+=1,this.words[eu]|=ec>>>26):eh+=8;this.strip()},s.prototype._parseBase=function(et,ei,eo){this.words=[0],this.length=1;for(var ea=0,ec=1;ec<=67108863;ec*=ei)ea++;ea--,ec=ec/ei|0;for(var eh=et.length-eo,eu=eh%ea,ed=Math.min(eh,eh-eu)+eo,ef=0,el=eo;el<ed;el+=ea)ef=h(et,el,el+ea,ei),this.imuln(ec),this.words[0]+ef<67108864?this.words[0]+=ef:this._iaddn(ef);if(0!==eu){var ep=1;for(ef=h(et,el,et.length,ei),el=0;el<eu;el++)ep*=ei;this.imuln(ep),this.words[0]+ef<67108864?this.words[0]+=ef:this._iaddn(ef)}this.strip()},s.prototype.copy=function(et){et.words=Array(this.length);for(var ei=0;ei<this.length;ei++)et.words[ei]=this.words[ei];et.length=this.length,et.negative=this.negative,et.red=this.red},s.prototype.clone=function(){var et=new s(null);return this.copy(et),et},s.prototype._expand=function(et){for(;this.length<et;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var ea,ec=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],eh=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],eu=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function l(et,ei,eo){eo.negative=ei.negative^et.negative;var ea=et.length+ei.length|0;eo.length=ea,ea=ea-1|0;var ec=0|et.words[0],eh=0|ei.words[0],eu=ec*eh,ed=67108863&eu,ef=eu/67108864|0;eo.words[0]=ed;for(var el=1;el<ea;el++){for(var ep=ef>>>26,eb=67108863&ef,eg=Math.min(el,ei.length-1),em=Math.max(0,el-et.length+1);em<=eg;em++){var ey=el-em|0;ep+=(eu=(ec=0|et.words[ey])*(eh=0|ei.words[em])+eb)/67108864|0,eb=67108863&eu}eo.words[el]=0|eb,ef=0|ep}return 0!==ef?eo.words[el]=0|ef:eo.length--,eo.strip()}s.prototype.toString=function(et,ei){var eo;if(ei=0|ei||1,16===(et=et||10)||"hex"===et){eo="";for(var ea=0,ed=0,ef=0;ef<this.length;ef++){var el=this.words[ef],ep=(16777215&(el<<ea|ed)).toString(16);eo=0!=(ed=el>>>24-ea&16777215)||ef!==this.length-1?ec[6-ep.length]+ep+eo:ep+eo,(ea+=2)>=26&&(ea-=26,ef--)}for(0!==ed&&(eo=ed.toString(16)+eo);eo.length%ei!=0;)eo="0"+eo;return 0!==this.negative&&(eo="-"+eo),eo}if(et===(0|et)&&et>=2&&et<=36){var eb=eh[et],eg=eu[et];eo="";var em=this.clone();for(em.negative=0;!em.isZero();){var ey=em.modn(eg).toString(et);eo=(em=em.idivn(eg)).isZero()?ey+eo:ec[eb-ey.length]+ey+eo}for(this.isZero()&&(eo="0"+eo);eo.length%ei!=0;)eo="0"+eo;return 0!==this.negative&&(eo="-"+eo),eo}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var et=this.words[0];return 2===this.length?et+=67108864*this.words[1]:3===this.length&&1===this.words[2]?et+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-et:et},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(et,ei){return n(void 0!==ea),this.toArrayLike(ea,et,ei)},s.prototype.toArray=function(et,ei){return this.toArrayLike(Array,et,ei)},s.prototype.toArrayLike=function(et,ei,eo){var ea=this.byteLength(),ec=eo||Math.max(1,ea);n(ea<=ec,"byte array longer than desired length"),n(ec>0,"Requested array length <= 0"),this.strip();var eh,eu,ed=new et(ec),ef=this.clone();if("le"===ei){for(eu=0;!ef.isZero();eu++)eh=ef.andln(255),ef.iushrn(8),ed[eu]=eh;for(;eu<ec;eu++)ed[eu]=0}else{for(eu=0;eu<ec-ea;eu++)ed[eu]=0;for(eu=0;!ef.isZero();eu++)eh=ef.andln(255),ef.iushrn(8),ed[ec-eu-1]=eh}return ed},Math.clz32?s.prototype._countBits=function(et){return 32-Math.clz32(et)}:s.prototype._countBits=function(et){var ei=et,eo=0;return ei>=4096&&(eo+=13,ei>>>=13),ei>=64&&(eo+=7,ei>>>=7),ei>=8&&(eo+=4,ei>>>=4),ei>=2&&(eo+=2,ei>>>=2),eo+ei},s.prototype._zeroBits=function(et){if(0===et)return 26;var ei=et,eo=0;return 8191&ei||(eo+=13,ei>>>=13),127&ei||(eo+=7,ei>>>=7),15&ei||(eo+=4,ei>>>=4),3&ei||(eo+=2,ei>>>=2),1&ei||eo++,eo},s.prototype.bitLength=function(){var et=this.words[this.length-1],ei=this._countBits(et);return 26*(this.length-1)+ei},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var et=0,ei=0;ei<this.length;ei++){var eo=this._zeroBits(this.words[ei]);if(et+=eo,26!==eo)break}return et},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(et){return 0!==this.negative?this.abs().inotn(et).iaddn(1):this.clone()},s.prototype.fromTwos=function(et){return this.testn(et-1)?this.notn(et).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(et){for(;this.length<et.length;)this.words[this.length++]=0;for(var ei=0;ei<et.length;ei++)this.words[ei]=this.words[ei]|et.words[ei];return this.strip()},s.prototype.ior=function(et){return n(!(this.negative|et.negative)),this.iuor(et)},s.prototype.or=function(et){return this.length>et.length?this.clone().ior(et):et.clone().ior(this)},s.prototype.uor=function(et){return this.length>et.length?this.clone().iuor(et):et.clone().iuor(this)},s.prototype.iuand=function(et){var ei;ei=this.length>et.length?et:this;for(var eo=0;eo<ei.length;eo++)this.words[eo]=this.words[eo]&et.words[eo];return this.length=ei.length,this.strip()},s.prototype.iand=function(et){return n(!(this.negative|et.negative)),this.iuand(et)},s.prototype.and=function(et){return this.length>et.length?this.clone().iand(et):et.clone().iand(this)},s.prototype.uand=function(et){return this.length>et.length?this.clone().iuand(et):et.clone().iuand(this)},s.prototype.iuxor=function(et){var ei,eo;this.length>et.length?(ei=this,eo=et):(ei=et,eo=this);for(var ea=0;ea<eo.length;ea++)this.words[ea]=ei.words[ea]^eo.words[ea];if(this!==ei)for(;ea<ei.length;ea++)this.words[ea]=ei.words[ea];return this.length=ei.length,this.strip()},s.prototype.ixor=function(et){return n(!(this.negative|et.negative)),this.iuxor(et)},s.prototype.xor=function(et){return this.length>et.length?this.clone().ixor(et):et.clone().ixor(this)},s.prototype.uxor=function(et){return this.length>et.length?this.clone().iuxor(et):et.clone().iuxor(this)},s.prototype.inotn=function(et){n("number"==typeof et&&et>=0);var ei=0|Math.ceil(et/26),eo=et%26;this._expand(ei),eo>0&&ei--;for(var ea=0;ea<ei;ea++)this.words[ea]=67108863&~this.words[ea];return eo>0&&(this.words[ea]=~this.words[ea]&67108863>>26-eo),this.strip()},s.prototype.notn=function(et){return this.clone().inotn(et)},s.prototype.setn=function(et,ei){n("number"==typeof et&&et>=0);var eo=et/26|0,ea=et%26;return this._expand(eo+1),this.words[eo]=ei?this.words[eo]|1<<ea:this.words[eo]&~(1<<ea),this.strip()},s.prototype.iadd=function(et){var ei,eo,ea;if(0!==this.negative&&0===et.negative)return this.negative=0,ei=this.isub(et),this.negative^=1,this._normSign();if(0===this.negative&&0!==et.negative)return et.negative=0,ei=this.isub(et),et.negative=1,ei._normSign();this.length>et.length?(eo=this,ea=et):(eo=et,ea=this);for(var ec=0,eh=0;eh<ea.length;eh++)ei=(0|eo.words[eh])+(0|ea.words[eh])+ec,this.words[eh]=67108863&ei,ec=ei>>>26;for(;0!==ec&&eh<eo.length;eh++)ei=(0|eo.words[eh])+ec,this.words[eh]=67108863&ei,ec=ei>>>26;if(this.length=eo.length,0!==ec)this.words[this.length]=ec,this.length++;else if(eo!==this)for(;eh<eo.length;eh++)this.words[eh]=eo.words[eh];return this},s.prototype.add=function(et){var ei;return 0!==et.negative&&0===this.negative?(et.negative=0,ei=this.sub(et),et.negative^=1,ei):0===et.negative&&0!==this.negative?(this.negative=0,ei=et.sub(this),this.negative=1,ei):this.length>et.length?this.clone().iadd(et):et.clone().iadd(this)},s.prototype.isub=function(et){if(0!==et.negative){et.negative=0;var ei=this.iadd(et);return et.negative=1,ei._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(et),this.negative=1,this._normSign();var eo,ea,ec=this.cmp(et);if(0===ec)return this.negative=0,this.length=1,this.words[0]=0,this;ec>0?(eo=this,ea=et):(eo=et,ea=this);for(var eh=0,eu=0;eu<ea.length;eu++)eh=(ei=(0|eo.words[eu])-(0|ea.words[eu])+eh)>>26,this.words[eu]=67108863&ei;for(;0!==eh&&eu<eo.length;eu++)eh=(ei=(0|eo.words[eu])+eh)>>26,this.words[eu]=67108863&ei;if(0===eh&&eu<eo.length&&eo!==this)for(;eu<eo.length;eu++)this.words[eu]=eo.words[eu];return this.length=Math.max(this.length,eu),eo!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(et){return this.clone().isub(et)};var p=function(et,ei,eo){var ea,ec,eh,eu=et.words,ed=ei.words,ef=eo.words,el=0,ep=0|eu[0],eb=8191&ep,eg=ep>>>13,em=0|eu[1],ey=8191&em,ev=em>>>13,ew=0|eu[2],e_=8191&ew,eE=ew>>>13,eS=0|eu[3],eA=8191&eS,eM=eS>>>13,eI=0|eu[4],eT=8191&eI,ex=eI>>>13,eC=0|eu[5],eR=8191&eC,ek=eC>>>13,eP=0|eu[6],eO=8191&eP,eN=eP>>>13,eU=0|eu[7],eB=8191&eU,eL=eU>>>13,eD=0|eu[8],ej=8191&eD,eq=eD>>>13,eF=0|eu[9],eH=8191&eF,eV=eF>>>13,ez=0|ed[0],e$=8191&ez,eK=ez>>>13,eG=0|ed[1],eW=8191&eG,eJ=eG>>>13,eY=0|ed[2],eX=8191&eY,eZ=eY>>>13,eQ=0|ed[3],e0=8191&eQ,e1=eQ>>>13,e2=0|ed[4],e6=8191&e2,e5=e2>>>13,e3=0|ed[5],e8=8191&e3,e4=e3>>>13,e7=0|ed[6],e9=8191&e7,tt=e7>>>13,to=0|ed[7],ta=8191&to,tc=to>>>13,th=0|ed[8],tu=8191&th,td=th>>>13,tf=0|ed[9],tl=8191&tf,tp=tf>>>13;eo.negative=et.negative^ei.negative,eo.length=19;var tb=(el+(ea=Math.imul(eb,e$))|0)+((8191&(ec=(ec=Math.imul(eb,eK))+Math.imul(eg,e$)|0))<<13)|0;el=((eh=Math.imul(eg,eK))+(ec>>>13)|0)+(tb>>>26)|0,tb&=67108863,ea=Math.imul(ey,e$),ec=(ec=Math.imul(ey,eK))+Math.imul(ev,e$)|0,eh=Math.imul(ev,eK);var tg=(el+(ea=ea+Math.imul(eb,eW)|0)|0)+((8191&(ec=(ec=ec+Math.imul(eb,eJ)|0)+Math.imul(eg,eW)|0))<<13)|0;el=((eh=eh+Math.imul(eg,eJ)|0)+(ec>>>13)|0)+(tg>>>26)|0,tg&=67108863,ea=Math.imul(e_,e$),ec=(ec=Math.imul(e_,eK))+Math.imul(eE,e$)|0,eh=Math.imul(eE,eK),ea=ea+Math.imul(ey,eW)|0,ec=(ec=ec+Math.imul(ey,eJ)|0)+Math.imul(ev,eW)|0,eh=eh+Math.imul(ev,eJ)|0;var tm=(el+(ea=ea+Math.imul(eb,eX)|0)|0)+((8191&(ec=(ec=ec+Math.imul(eb,eZ)|0)+Math.imul(eg,eX)|0))<<13)|0;el=((eh=eh+Math.imul(eg,eZ)|0)+(ec>>>13)|0)+(tm>>>26)|0,tm&=67108863,ea=Math.imul(eA,e$),ec=(ec=Math.imul(eA,eK))+Math.imul(eM,e$)|0,eh=Math.imul(eM,eK),ea=ea+Math.imul(e_,eW)|0,ec=(ec=ec+Math.imul(e_,eJ)|0)+Math.imul(eE,eW)|0,eh=eh+Math.imul(eE,eJ)|0,ea=ea+Math.imul(ey,eX)|0,ec=(ec=ec+Math.imul(ey,eZ)|0)+Math.imul(ev,eX)|0,eh=eh+Math.imul(ev,eZ)|0;var ty=(el+(ea=ea+Math.imul(eb,e0)|0)|0)+((8191&(ec=(ec=ec+Math.imul(eb,e1)|0)+Math.imul(eg,e0)|0))<<13)|0;el=((eh=eh+Math.imul(eg,e1)|0)+(ec>>>13)|0)+(ty>>>26)|0,ty&=67108863,ea=Math.imul(eT,e$),ec=(ec=Math.imul(eT,eK))+Math.imul(ex,e$)|0,eh=Math.imul(ex,eK),ea=ea+Math.imul(eA,eW)|0,ec=(ec=ec+Math.imul(eA,eJ)|0)+Math.imul(eM,eW)|0,eh=eh+Math.imul(eM,eJ)|0,ea=ea+Math.imul(e_,eX)|0,ec=(ec=ec+Math.imul(e_,eZ)|0)+Math.imul(eE,eX)|0,eh=eh+Math.imul(eE,eZ)|0,ea=ea+Math.imul(ey,e0)|0,ec=(ec=ec+Math.imul(ey,e1)|0)+Math.imul(ev,e0)|0,eh=eh+Math.imul(ev,e1)|0;var tv=(el+(ea=ea+Math.imul(eb,e6)|0)|0)+((8191&(ec=(ec=ec+Math.imul(eb,e5)|0)+Math.imul(eg,e6)|0))<<13)|0;el=((eh=eh+Math.imul(eg,e5)|0)+(ec>>>13)|0)+(tv>>>26)|0,tv&=67108863,ea=Math.imul(eR,e$),ec=(ec=Math.imul(eR,eK))+Math.imul(ek,e$)|0,eh=Math.imul(ek,eK),ea=ea+Math.imul(eT,eW)|0,ec=(ec=ec+Math.imul(eT,eJ)|0)+Math.imul(ex,eW)|0,eh=eh+Math.imul(ex,eJ)|0,ea=ea+Math.imul(eA,eX)|0,ec=(ec=ec+Math.imul(eA,eZ)|0)+Math.imul(eM,eX)|0,eh=eh+Math.imul(eM,eZ)|0,ea=ea+Math.imul(e_,e0)|0,ec=(ec=ec+Math.imul(e_,e1)|0)+Math.imul(eE,e0)|0,eh=eh+Math.imul(eE,e1)|0,ea=ea+Math.imul(ey,e6)|0,ec=(ec=ec+Math.imul(ey,e5)|0)+Math.imul(ev,e6)|0,eh=eh+Math.imul(ev,e5)|0;var tw=(el+(ea=ea+Math.imul(eb,e8)|0)|0)+((8191&(ec=(ec=ec+Math.imul(eb,e4)|0)+Math.imul(eg,e8)|0))<<13)|0;el=((eh=eh+Math.imul(eg,e4)|0)+(ec>>>13)|0)+(tw>>>26)|0,tw&=67108863,ea=Math.imul(eO,e$),ec=(ec=Math.imul(eO,eK))+Math.imul(eN,e$)|0,eh=Math.imul(eN,eK),ea=ea+Math.imul(eR,eW)|0,ec=(ec=ec+Math.imul(eR,eJ)|0)+Math.imul(ek,eW)|0,eh=eh+Math.imul(ek,eJ)|0,ea=ea+Math.imul(eT,eX)|0,ec=(ec=ec+Math.imul(eT,eZ)|0)+Math.imul(ex,eX)|0,eh=eh+Math.imul(ex,eZ)|0,ea=ea+Math.imul(eA,e0)|0,ec=(ec=ec+Math.imul(eA,e1)|0)+Math.imul(eM,e0)|0,eh=eh+Math.imul(eM,e1)|0,ea=ea+Math.imul(e_,e6)|0,ec=(ec=ec+Math.imul(e_,e5)|0)+Math.imul(eE,e6)|0,eh=eh+Math.imul(eE,e5)|0,ea=ea+Math.imul(ey,e8)|0,ec=(ec=ec+Math.imul(ey,e4)|0)+Math.imul(ev,e8)|0,eh=eh+Math.imul(ev,e4)|0;var t_=(el+(ea=ea+Math.imul(eb,e9)|0)|0)+((8191&(ec=(ec=ec+Math.imul(eb,tt)|0)+Math.imul(eg,e9)|0))<<13)|0;el=((eh=eh+Math.imul(eg,tt)|0)+(ec>>>13)|0)+(t_>>>26)|0,t_&=67108863,ea=Math.imul(eB,e$),ec=(ec=Math.imul(eB,eK))+Math.imul(eL,e$)|0,eh=Math.imul(eL,eK),ea=ea+Math.imul(eO,eW)|0,ec=(ec=ec+Math.imul(eO,eJ)|0)+Math.imul(eN,eW)|0,eh=eh+Math.imul(eN,eJ)|0,ea=ea+Math.imul(eR,eX)|0,ec=(ec=ec+Math.imul(eR,eZ)|0)+Math.imul(ek,eX)|0,eh=eh+Math.imul(ek,eZ)|0,ea=ea+Math.imul(eT,e0)|0,ec=(ec=ec+Math.imul(eT,e1)|0)+Math.imul(ex,e0)|0,eh=eh+Math.imul(ex,e1)|0,ea=ea+Math.imul(eA,e6)|0,ec=(ec=ec+Math.imul(eA,e5)|0)+Math.imul(eM,e6)|0,eh=eh+Math.imul(eM,e5)|0,ea=ea+Math.imul(e_,e8)|0,ec=(ec=ec+Math.imul(e_,e4)|0)+Math.imul(eE,e8)|0,eh=eh+Math.imul(eE,e4)|0,ea=ea+Math.imul(ey,e9)|0,ec=(ec=ec+Math.imul(ey,tt)|0)+Math.imul(ev,e9)|0,eh=eh+Math.imul(ev,tt)|0;var tE=(el+(ea=ea+Math.imul(eb,ta)|0)|0)+((8191&(ec=(ec=ec+Math.imul(eb,tc)|0)+Math.imul(eg,ta)|0))<<13)|0;el=((eh=eh+Math.imul(eg,tc)|0)+(ec>>>13)|0)+(tE>>>26)|0,tE&=67108863,ea=Math.imul(ej,e$),ec=(ec=Math.imul(ej,eK))+Math.imul(eq,e$)|0,eh=Math.imul(eq,eK),ea=ea+Math.imul(eB,eW)|0,ec=(ec=ec+Math.imul(eB,eJ)|0)+Math.imul(eL,eW)|0,eh=eh+Math.imul(eL,eJ)|0,ea=ea+Math.imul(eO,eX)|0,ec=(ec=ec+Math.imul(eO,eZ)|0)+Math.imul(eN,eX)|0,eh=eh+Math.imul(eN,eZ)|0,ea=ea+Math.imul(eR,e0)|0,ec=(ec=ec+Math.imul(eR,e1)|0)+Math.imul(ek,e0)|0,eh=eh+Math.imul(ek,e1)|0,ea=ea+Math.imul(eT,e6)|0,ec=(ec=ec+Math.imul(eT,e5)|0)+Math.imul(ex,e6)|0,eh=eh+Math.imul(ex,e5)|0,ea=ea+Math.imul(eA,e8)|0,ec=(ec=ec+Math.imul(eA,e4)|0)+Math.imul(eM,e8)|0,eh=eh+Math.imul(eM,e4)|0,ea=ea+Math.imul(e_,e9)|0,ec=(ec=ec+Math.imul(e_,tt)|0)+Math.imul(eE,e9)|0,eh=eh+Math.imul(eE,tt)|0,ea=ea+Math.imul(ey,ta)|0,ec=(ec=ec+Math.imul(ey,tc)|0)+Math.imul(ev,ta)|0,eh=eh+Math.imul(ev,tc)|0;var tS=(el+(ea=ea+Math.imul(eb,tu)|0)|0)+((8191&(ec=(ec=ec+Math.imul(eb,td)|0)+Math.imul(eg,tu)|0))<<13)|0;el=((eh=eh+Math.imul(eg,td)|0)+(ec>>>13)|0)+(tS>>>26)|0,tS&=67108863,ea=Math.imul(eH,e$),ec=(ec=Math.imul(eH,eK))+Math.imul(eV,e$)|0,eh=Math.imul(eV,eK),ea=ea+Math.imul(ej,eW)|0,ec=(ec=ec+Math.imul(ej,eJ)|0)+Math.imul(eq,eW)|0,eh=eh+Math.imul(eq,eJ)|0,ea=ea+Math.imul(eB,eX)|0,ec=(ec=ec+Math.imul(eB,eZ)|0)+Math.imul(eL,eX)|0,eh=eh+Math.imul(eL,eZ)|0,ea=ea+Math.imul(eO,e0)|0,ec=(ec=ec+Math.imul(eO,e1)|0)+Math.imul(eN,e0)|0,eh=eh+Math.imul(eN,e1)|0,ea=ea+Math.imul(eR,e6)|0,ec=(ec=ec+Math.imul(eR,e5)|0)+Math.imul(ek,e6)|0,eh=eh+Math.imul(ek,e5)|0,ea=ea+Math.imul(eT,e8)|0,ec=(ec=ec+Math.imul(eT,e4)|0)+Math.imul(ex,e8)|0,eh=eh+Math.imul(ex,e4)|0,ea=ea+Math.imul(eA,e9)|0,ec=(ec=ec+Math.imul(eA,tt)|0)+Math.imul(eM,e9)|0,eh=eh+Math.imul(eM,tt)|0,ea=ea+Math.imul(e_,ta)|0,ec=(ec=ec+Math.imul(e_,tc)|0)+Math.imul(eE,ta)|0,eh=eh+Math.imul(eE,tc)|0,ea=ea+Math.imul(ey,tu)|0,ec=(ec=ec+Math.imul(ey,td)|0)+Math.imul(ev,tu)|0,eh=eh+Math.imul(ev,td)|0;var tA=(el+(ea=ea+Math.imul(eb,tl)|0)|0)+((8191&(ec=(ec=ec+Math.imul(eb,tp)|0)+Math.imul(eg,tl)|0))<<13)|0;el=((eh=eh+Math.imul(eg,tp)|0)+(ec>>>13)|0)+(tA>>>26)|0,tA&=67108863,ea=Math.imul(eH,eW),ec=(ec=Math.imul(eH,eJ))+Math.imul(eV,eW)|0,eh=Math.imul(eV,eJ),ea=ea+Math.imul(ej,eX)|0,ec=(ec=ec+Math.imul(ej,eZ)|0)+Math.imul(eq,eX)|0,eh=eh+Math.imul(eq,eZ)|0,ea=ea+Math.imul(eB,e0)|0,ec=(ec=ec+Math.imul(eB,e1)|0)+Math.imul(eL,e0)|0,eh=eh+Math.imul(eL,e1)|0,ea=ea+Math.imul(eO,e6)|0,ec=(ec=ec+Math.imul(eO,e5)|0)+Math.imul(eN,e6)|0,eh=eh+Math.imul(eN,e5)|0,ea=ea+Math.imul(eR,e8)|0,ec=(ec=ec+Math.imul(eR,e4)|0)+Math.imul(ek,e8)|0,eh=eh+Math.imul(ek,e4)|0,ea=ea+Math.imul(eT,e9)|0,ec=(ec=ec+Math.imul(eT,tt)|0)+Math.imul(ex,e9)|0,eh=eh+Math.imul(ex,tt)|0,ea=ea+Math.imul(eA,ta)|0,ec=(ec=ec+Math.imul(eA,tc)|0)+Math.imul(eM,ta)|0,eh=eh+Math.imul(eM,tc)|0,ea=ea+Math.imul(e_,tu)|0,ec=(ec=ec+Math.imul(e_,td)|0)+Math.imul(eE,tu)|0,eh=eh+Math.imul(eE,td)|0;var tM=(el+(ea=ea+Math.imul(ey,tl)|0)|0)+((8191&(ec=(ec=ec+Math.imul(ey,tp)|0)+Math.imul(ev,tl)|0))<<13)|0;el=((eh=eh+Math.imul(ev,tp)|0)+(ec>>>13)|0)+(tM>>>26)|0,tM&=67108863,ea=Math.imul(eH,eX),ec=(ec=Math.imul(eH,eZ))+Math.imul(eV,eX)|0,eh=Math.imul(eV,eZ),ea=ea+Math.imul(ej,e0)|0,ec=(ec=ec+Math.imul(ej,e1)|0)+Math.imul(eq,e0)|0,eh=eh+Math.imul(eq,e1)|0,ea=ea+Math.imul(eB,e6)|0,ec=(ec=ec+Math.imul(eB,e5)|0)+Math.imul(eL,e6)|0,eh=eh+Math.imul(eL,e5)|0,ea=ea+Math.imul(eO,e8)|0,ec=(ec=ec+Math.imul(eO,e4)|0)+Math.imul(eN,e8)|0,eh=eh+Math.imul(eN,e4)|0,ea=ea+Math.imul(eR,e9)|0,ec=(ec=ec+Math.imul(eR,tt)|0)+Math.imul(ek,e9)|0,eh=eh+Math.imul(ek,tt)|0,ea=ea+Math.imul(eT,ta)|0,ec=(ec=ec+Math.imul(eT,tc)|0)+Math.imul(ex,ta)|0,eh=eh+Math.imul(ex,tc)|0,ea=ea+Math.imul(eA,tu)|0,ec=(ec=ec+Math.imul(eA,td)|0)+Math.imul(eM,tu)|0,eh=eh+Math.imul(eM,td)|0;var tI=(el+(ea=ea+Math.imul(e_,tl)|0)|0)+((8191&(ec=(ec=ec+Math.imul(e_,tp)|0)+Math.imul(eE,tl)|0))<<13)|0;el=((eh=eh+Math.imul(eE,tp)|0)+(ec>>>13)|0)+(tI>>>26)|0,tI&=67108863,ea=Math.imul(eH,e0),ec=(ec=Math.imul(eH,e1))+Math.imul(eV,e0)|0,eh=Math.imul(eV,e1),ea=ea+Math.imul(ej,e6)|0,ec=(ec=ec+Math.imul(ej,e5)|0)+Math.imul(eq,e6)|0,eh=eh+Math.imul(eq,e5)|0,ea=ea+Math.imul(eB,e8)|0,ec=(ec=ec+Math.imul(eB,e4)|0)+Math.imul(eL,e8)|0,eh=eh+Math.imul(eL,e4)|0,ea=ea+Math.imul(eO,e9)|0,ec=(ec=ec+Math.imul(eO,tt)|0)+Math.imul(eN,e9)|0,eh=eh+Math.imul(eN,tt)|0,ea=ea+Math.imul(eR,ta)|0,ec=(ec=ec+Math.imul(eR,tc)|0)+Math.imul(ek,ta)|0,eh=eh+Math.imul(ek,tc)|0,ea=ea+Math.imul(eT,tu)|0,ec=(ec=ec+Math.imul(eT,td)|0)+Math.imul(ex,tu)|0,eh=eh+Math.imul(ex,td)|0;var tT=(el+(ea=ea+Math.imul(eA,tl)|0)|0)+((8191&(ec=(ec=ec+Math.imul(eA,tp)|0)+Math.imul(eM,tl)|0))<<13)|0;el=((eh=eh+Math.imul(eM,tp)|0)+(ec>>>13)|0)+(tT>>>26)|0,tT&=67108863,ea=Math.imul(eH,e6),ec=(ec=Math.imul(eH,e5))+Math.imul(eV,e6)|0,eh=Math.imul(eV,e5),ea=ea+Math.imul(ej,e8)|0,ec=(ec=ec+Math.imul(ej,e4)|0)+Math.imul(eq,e8)|0,eh=eh+Math.imul(eq,e4)|0,ea=ea+Math.imul(eB,e9)|0,ec=(ec=ec+Math.imul(eB,tt)|0)+Math.imul(eL,e9)|0,eh=eh+Math.imul(eL,tt)|0,ea=ea+Math.imul(eO,ta)|0,ec=(ec=ec+Math.imul(eO,tc)|0)+Math.imul(eN,ta)|0,eh=eh+Math.imul(eN,tc)|0,ea=ea+Math.imul(eR,tu)|0,ec=(ec=ec+Math.imul(eR,td)|0)+Math.imul(ek,tu)|0,eh=eh+Math.imul(ek,td)|0;var tx=(el+(ea=ea+Math.imul(eT,tl)|0)|0)+((8191&(ec=(ec=ec+Math.imul(eT,tp)|0)+Math.imul(ex,tl)|0))<<13)|0;el=((eh=eh+Math.imul(ex,tp)|0)+(ec>>>13)|0)+(tx>>>26)|0,tx&=67108863,ea=Math.imul(eH,e8),ec=(ec=Math.imul(eH,e4))+Math.imul(eV,e8)|0,eh=Math.imul(eV,e4),ea=ea+Math.imul(ej,e9)|0,ec=(ec=ec+Math.imul(ej,tt)|0)+Math.imul(eq,e9)|0,eh=eh+Math.imul(eq,tt)|0,ea=ea+Math.imul(eB,ta)|0,ec=(ec=ec+Math.imul(eB,tc)|0)+Math.imul(eL,ta)|0,eh=eh+Math.imul(eL,tc)|0,ea=ea+Math.imul(eO,tu)|0,ec=(ec=ec+Math.imul(eO,td)|0)+Math.imul(eN,tu)|0,eh=eh+Math.imul(eN,td)|0;var tC=(el+(ea=ea+Math.imul(eR,tl)|0)|0)+((8191&(ec=(ec=ec+Math.imul(eR,tp)|0)+Math.imul(ek,tl)|0))<<13)|0;el=((eh=eh+Math.imul(ek,tp)|0)+(ec>>>13)|0)+(tC>>>26)|0,tC&=67108863,ea=Math.imul(eH,e9),ec=(ec=Math.imul(eH,tt))+Math.imul(eV,e9)|0,eh=Math.imul(eV,tt),ea=ea+Math.imul(ej,ta)|0,ec=(ec=ec+Math.imul(ej,tc)|0)+Math.imul(eq,ta)|0,eh=eh+Math.imul(eq,tc)|0,ea=ea+Math.imul(eB,tu)|0,ec=(ec=ec+Math.imul(eB,td)|0)+Math.imul(eL,tu)|0,eh=eh+Math.imul(eL,td)|0;var tR=(el+(ea=ea+Math.imul(eO,tl)|0)|0)+((8191&(ec=(ec=ec+Math.imul(eO,tp)|0)+Math.imul(eN,tl)|0))<<13)|0;el=((eh=eh+Math.imul(eN,tp)|0)+(ec>>>13)|0)+(tR>>>26)|0,tR&=67108863,ea=Math.imul(eH,ta),ec=(ec=Math.imul(eH,tc))+Math.imul(eV,ta)|0,eh=Math.imul(eV,tc),ea=ea+Math.imul(ej,tu)|0,ec=(ec=ec+Math.imul(ej,td)|0)+Math.imul(eq,tu)|0,eh=eh+Math.imul(eq,td)|0;var tk=(el+(ea=ea+Math.imul(eB,tl)|0)|0)+((8191&(ec=(ec=ec+Math.imul(eB,tp)|0)+Math.imul(eL,tl)|0))<<13)|0;el=((eh=eh+Math.imul(eL,tp)|0)+(ec>>>13)|0)+(tk>>>26)|0,tk&=67108863,ea=Math.imul(eH,tu),ec=(ec=Math.imul(eH,td))+Math.imul(eV,tu)|0,eh=Math.imul(eV,td);var tP=(el+(ea=ea+Math.imul(ej,tl)|0)|0)+((8191&(ec=(ec=ec+Math.imul(ej,tp)|0)+Math.imul(eq,tl)|0))<<13)|0;el=((eh=eh+Math.imul(eq,tp)|0)+(ec>>>13)|0)+(tP>>>26)|0,tP&=67108863;var tO=(el+(ea=Math.imul(eH,tl))|0)+((8191&(ec=(ec=Math.imul(eH,tp))+Math.imul(eV,tl)|0))<<13)|0;return el=((eh=Math.imul(eV,tp))+(ec>>>13)|0)+(tO>>>26)|0,tO&=67108863,ef[0]=tb,ef[1]=tg,ef[2]=tm,ef[3]=ty,ef[4]=tv,ef[5]=tw,ef[6]=t_,ef[7]=tE,ef[8]=tS,ef[9]=tA,ef[10]=tM,ef[11]=tI,ef[12]=tT,ef[13]=tx,ef[14]=tC,ef[15]=tR,ef[16]=tk,ef[17]=tP,ef[18]=tO,0!==el&&(ef[19]=el,eo.length++),eo};function b(et,ei,eo){return(new g).mulp(et,ei,eo)}function g(et,ei){this.x=et,this.y=ei}Math.imul||(p=l),s.prototype.mulTo=function(et,ei){var eo=this.length+et.length;return 10===this.length&&10===et.length?p(this,et,ei):eo<63?l(this,et,ei):eo<1024?function(et,ei,eo){eo.negative=ei.negative^et.negative,eo.length=et.length+ei.length;for(var ea=0,ec=0,eh=0;eh<eo.length-1;eh++){var eu=ec;ec=0;for(var ed=67108863&ea,ef=Math.min(eh,ei.length-1),el=Math.max(0,eh-et.length+1);el<=ef;el++){var ep=eh-el,eb=(0|et.words[ep])*(0|ei.words[el]),eg=67108863&eb;ed=67108863&(eg=eg+ed|0),ec+=(eu=(eu=eu+(eb/67108864|0)|0)+(eg>>>26)|0)>>>26,eu&=67108863}eo.words[eh]=ed,ea=eu,eu=ec}return 0!==ea?eo.words[eh]=ea:eo.length--,eo.strip()}(this,et,ei):b(this,et,ei)},g.prototype.makeRBT=function(et){for(var ei=Array(et),eo=s.prototype._countBits(et)-1,ea=0;ea<et;ea++)ei[ea]=this.revBin(ea,eo,et);return ei},g.prototype.revBin=function(et,ei,eo){if(0===et||et===eo-1)return et;for(var ea=0,ec=0;ec<ei;ec++)ea|=(1&et)<<ei-ec-1,et>>=1;return ea},g.prototype.permute=function(et,ei,eo,ea,ec,eh){for(var eu=0;eu<eh;eu++)ea[eu]=ei[et[eu]],ec[eu]=eo[et[eu]]},g.prototype.transform=function(et,ei,eo,ea,ec,eh){this.permute(eh,et,ei,eo,ea,ec);for(var eu=1;eu<ec;eu<<=1)for(var ed=eu<<1,ef=Math.cos(2*Math.PI/ed),el=Math.sin(2*Math.PI/ed),ep=0;ep<ec;ep+=ed)for(var eb=ef,eg=el,em=0;em<eu;em++){var ey=eo[ep+em],ev=ea[ep+em],ew=eo[ep+em+eu],e_=ea[ep+em+eu],eE=eb*ew-eg*e_;e_=eb*e_+eg*ew,ew=eE,eo[ep+em]=ey+ew,ea[ep+em]=ev+e_,eo[ep+em+eu]=ey-ew,ea[ep+em+eu]=ev-e_,em!==ed&&(eE=ef*eb-el*eg,eg=ef*eg+el*eb,eb=eE)}},g.prototype.guessLen13b=function(et,ei){var eo=1|Math.max(ei,et),ea=1&eo,ec=0;for(eo=eo/2|0;eo;eo>>>=1)ec++;return 1<<ec+1+ea},g.prototype.conjugate=function(et,ei,eo){if(!(eo<=1))for(var ea=0;ea<eo/2;ea++){var ec=et[ea];et[ea]=et[eo-ea-1],et[eo-ea-1]=ec,ec=ei[ea],ei[ea]=-ei[eo-ea-1],ei[eo-ea-1]=-ec}},g.prototype.normalize13b=function(et,ei){for(var eo=0,ea=0;ea<ei/2;ea++){var ec=8192*Math.round(et[2*ea+1]/ei)+Math.round(et[2*ea]/ei)+eo;et[ea]=67108863&ec,eo=ec<67108864?0:ec/67108864|0}return et},g.prototype.convert13b=function(et,ei,eo,ea){for(var ec=0,eh=0;eh<ei;eh++)ec+=0|et[eh],eo[2*eh]=8191&ec,ec>>>=13,eo[2*eh+1]=8191&ec,ec>>>=13;for(eh=2*ei;eh<ea;++eh)eo[eh]=0;n(0===ec),n(!(-8192&ec))},g.prototype.stub=function(et){for(var ei=Array(et),eo=0;eo<et;eo++)ei[eo]=0;return ei},g.prototype.mulp=function(et,ei,eo){var ea=2*this.guessLen13b(et.length,ei.length),ec=this.makeRBT(ea),eh=this.stub(ea),eu=Array(ea),ed=Array(ea),ef=Array(ea),el=Array(ea),ep=Array(ea),eb=Array(ea),eg=eo.words;eg.length=ea,this.convert13b(et.words,et.length,eu,ea),this.convert13b(ei.words,ei.length,el,ea),this.transform(eu,eh,ed,ef,ea,ec),this.transform(el,eh,ep,eb,ea,ec);for(var em=0;em<ea;em++){var ey=ed[em]*ep[em]-ef[em]*eb[em];ef[em]=ed[em]*eb[em]+ef[em]*ep[em],ed[em]=ey}return this.conjugate(ed,ef,ea),this.transform(ed,ef,eg,eh,ea,ec),this.conjugate(eg,eh,ea),this.normalize13b(eg,ea),eo.negative=et.negative^ei.negative,eo.length=et.length+ei.length,eo.strip()},s.prototype.mul=function(et){var ei=new s(null);return ei.words=Array(this.length+et.length),this.mulTo(et,ei)},s.prototype.mulf=function(et){var ei=new s(null);return ei.words=Array(this.length+et.length),b(this,et,ei)},s.prototype.imul=function(et){return this.clone().mulTo(et,this)},s.prototype.imuln=function(et){n("number"==typeof et),n(et<67108864);for(var ei=0,eo=0;eo<this.length;eo++){var ea=(0|this.words[eo])*et,ec=(67108863&ea)+(67108863&ei);ei>>=26,ei+=(ea/67108864|0)+(ec>>>26),this.words[eo]=67108863&ec}return 0!==ei&&(this.words[eo]=ei,this.length++),this},s.prototype.muln=function(et){return this.clone().imuln(et)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(et){var ei=function(et){for(var ei=Array(et.bitLength()),eo=0;eo<ei.length;eo++){var ea=eo/26|0,ec=eo%26;ei[eo]=(et.words[ea]&1<<ec)>>>ec}return ei}(et);if(0===ei.length)return new s(1);for(var eo=this,ea=0;ea<ei.length&&0===ei[ea];ea++,eo=eo.sqr());if(++ea<ei.length)for(var ec=eo.sqr();ea<ei.length;ea++,ec=ec.sqr())0!==ei[ea]&&(eo=eo.mul(ec));return eo},s.prototype.iushln=function(et){n("number"==typeof et&&et>=0);var ei,eo=et%26,ea=(et-eo)/26,ec=67108863>>>26-eo<<26-eo;if(0!==eo){var eh=0;for(ei=0;ei<this.length;ei++){var eu=this.words[ei]&ec,ed=(0|this.words[ei])-eu<<eo;this.words[ei]=ed|eh,eh=eu>>>26-eo}eh&&(this.words[ei]=eh,this.length++)}if(0!==ea){for(ei=this.length-1;ei>=0;ei--)this.words[ei+ea]=this.words[ei];for(ei=0;ei<ea;ei++)this.words[ei]=0;this.length+=ea}return this.strip()},s.prototype.ishln=function(et){return n(0===this.negative),this.iushln(et)},s.prototype.iushrn=function(et,ei,eo){n("number"==typeof et&&et>=0),ea=ei?(ei-ei%26)/26:0;var ea,ec=et%26,eh=Math.min((et-ec)/26,this.length),eu=67108863^67108863>>>ec<<ec;if(ea-=eh,ea=Math.max(0,ea),eo){for(var ed=0;ed<eh;ed++)eo.words[ed]=this.words[ed];eo.length=eh}if(0===eh);else if(this.length>eh)for(this.length-=eh,ed=0;ed<this.length;ed++)this.words[ed]=this.words[ed+eh];else this.words[0]=0,this.length=1;var ef=0;for(ed=this.length-1;ed>=0&&(0!==ef||ed>=ea);ed--){var el=0|this.words[ed];this.words[ed]=ef<<26-ec|el>>>ec,ef=el&eu}return eo&&0!==ef&&(eo.words[eo.length++]=ef),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(et,ei,eo){return n(0===this.negative),this.iushrn(et,ei,eo)},s.prototype.shln=function(et){return this.clone().ishln(et)},s.prototype.ushln=function(et){return this.clone().iushln(et)},s.prototype.shrn=function(et){return this.clone().ishrn(et)},s.prototype.ushrn=function(et){return this.clone().iushrn(et)},s.prototype.testn=function(et){n("number"==typeof et&&et>=0);var ei=et%26,eo=(et-ei)/26;return!(this.length<=eo||!(this.words[eo]&1<<ei))},s.prototype.imaskn=function(et){n("number"==typeof et&&et>=0);var ei=et%26,eo=(et-ei)/26;return(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=eo)?this:(0!==ei&&eo++,this.length=Math.min(eo,this.length),0!==ei&&(this.words[this.length-1]&=67108863^67108863>>>ei<<ei),this.strip())},s.prototype.maskn=function(et){return this.clone().imaskn(et)},s.prototype.iaddn=function(et){return n("number"==typeof et),n(et<67108864),et<0?this.isubn(-et):0!==this.negative?(1===this.length&&(0|this.words[0])<et?(this.words[0]=et-(0|this.words[0]),this.negative=0):(this.negative=0,this.isubn(et),this.negative=1),this):this._iaddn(et)},s.prototype._iaddn=function(et){this.words[0]+=et;for(var ei=0;ei<this.length&&this.words[ei]>=67108864;ei++)this.words[ei]-=67108864,ei===this.length-1?this.words[ei+1]=1:this.words[ei+1]++;return this.length=Math.max(this.length,ei+1),this},s.prototype.isubn=function(et){if(n("number"==typeof et),n(et<67108864),et<0)return this.iaddn(-et);if(0!==this.negative)return this.negative=0,this.iaddn(et),this.negative=1,this;if(this.words[0]-=et,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var ei=0;ei<this.length&&this.words[ei]<0;ei++)this.words[ei]+=67108864,this.words[ei+1]-=1;return this.strip()},s.prototype.addn=function(et){return this.clone().iaddn(et)},s.prototype.subn=function(et){return this.clone().isubn(et)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(et,ei,eo){var ea,ec,eh=et.length+eo;this._expand(eh);var eu=0;for(ea=0;ea<et.length;ea++){ec=(0|this.words[ea+eo])+eu;var ed=(0|et.words[ea])*ei;eu=((ec-=67108863&ed)>>26)-(ed/67108864|0),this.words[ea+eo]=67108863&ec}for(;ea<this.length-eo;ea++)eu=(ec=(0|this.words[ea+eo])+eu)>>26,this.words[ea+eo]=67108863&ec;if(0===eu)return this.strip();for(n(-1===eu),eu=0,ea=0;ea<this.length;ea++)eu=(ec=-(0|this.words[ea])+eu)>>26,this.words[ea]=67108863&ec;return this.negative=1,this.strip()},s.prototype._wordDiv=function(et,ei){var eo=(this.length,et.length),ea=this.clone(),ec=et,eh=0|ec.words[ec.length-1];0!=(eo=26-this._countBits(eh))&&(ec=ec.ushln(eo),ea.iushln(eo),eh=0|ec.words[ec.length-1]);var eu,ed=ea.length-ec.length;if("mod"!==ei){(eu=new s(null)).length=ed+1,eu.words=Array(eu.length);for(var ef=0;ef<eu.length;ef++)eu.words[ef]=0}var el=ea.clone()._ishlnsubmul(ec,1,ed);0===el.negative&&(ea=el,eu&&(eu.words[ed]=1));for(var ep=ed-1;ep>=0;ep--){var eb=67108864*(0|ea.words[ec.length+ep])+(0|ea.words[ec.length+ep-1]);for(eb=Math.min(eb/eh|0,67108863),ea._ishlnsubmul(ec,eb,ep);0!==ea.negative;)eb--,ea.negative=0,ea._ishlnsubmul(ec,1,ep),ea.isZero()||(ea.negative^=1);eu&&(eu.words[ep]=eb)}return eu&&eu.strip(),ea.strip(),"div"!==ei&&0!==eo&&ea.iushrn(eo),{div:eu||null,mod:ea}},s.prototype.divmod=function(et,ei,eo){var ea,ec,eh;return n(!et.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===et.negative?(eh=this.neg().divmod(et,ei),"mod"!==ei&&(ea=eh.div.neg()),"div"!==ei&&(ec=eh.mod.neg(),eo&&0!==ec.negative&&ec.iadd(et)),{div:ea,mod:ec}):0===this.negative&&0!==et.negative?(eh=this.divmod(et.neg(),ei),"mod"!==ei&&(ea=eh.div.neg()),{div:ea,mod:eh.mod}):this.negative&et.negative?(eh=this.neg().divmod(et.neg(),ei),"div"!==ei&&(ec=eh.mod.neg(),eo&&0!==ec.negative&&ec.isub(et)),{div:eh.div,mod:ec}):et.length>this.length||0>this.cmp(et)?{div:new s(0),mod:this}:1===et.length?"div"===ei?{div:this.divn(et.words[0]),mod:null}:"mod"===ei?{div:null,mod:new s(this.modn(et.words[0]))}:{div:this.divn(et.words[0]),mod:new s(this.modn(et.words[0]))}:this._wordDiv(et,ei)},s.prototype.div=function(et){return this.divmod(et,"div",!1).div},s.prototype.mod=function(et){return this.divmod(et,"mod",!1).mod},s.prototype.umod=function(et){return this.divmod(et,"mod",!0).mod},s.prototype.divRound=function(et){var ei=this.divmod(et);if(ei.mod.isZero())return ei.div;var eo=0!==ei.div.negative?ei.mod.isub(et):ei.mod,ea=et.ushrn(1),ec=et.andln(1),eh=eo.cmp(ea);return eh<0||1===ec&&0===eh?ei.div:0!==ei.div.negative?ei.div.isubn(1):ei.div.iaddn(1)},s.prototype.modn=function(et){n(et<=67108863);for(var ei=67108864%et,eo=0,ea=this.length-1;ea>=0;ea--)eo=(ei*eo+(0|this.words[ea]))%et;return eo},s.prototype.idivn=function(et){n(et<=67108863);for(var ei=0,eo=this.length-1;eo>=0;eo--){var ea=(0|this.words[eo])+67108864*ei;this.words[eo]=ea/et|0,ei=ea%et}return this.strip()},s.prototype.divn=function(et){return this.clone().idivn(et)},s.prototype.egcd=function(et){n(0===et.negative),n(!et.isZero());var ei=this,eo=et.clone();ei=0!==ei.negative?ei.umod(et):ei.clone();for(var ea=new s(1),ec=new s(0),eh=new s(0),eu=new s(1),ed=0;ei.isEven()&&eo.isEven();)ei.iushrn(1),eo.iushrn(1),++ed;for(var ef=eo.clone(),el=ei.clone();!ei.isZero();){for(var ep=0,eb=1;!(ei.words[0]&eb)&&ep<26;++ep,eb<<=1);if(ep>0)for(ei.iushrn(ep);ep-- >0;)(ea.isOdd()||ec.isOdd())&&(ea.iadd(ef),ec.isub(el)),ea.iushrn(1),ec.iushrn(1);for(var eg=0,em=1;!(eo.words[0]&em)&&eg<26;++eg,em<<=1);if(eg>0)for(eo.iushrn(eg);eg-- >0;)(eh.isOdd()||eu.isOdd())&&(eh.iadd(ef),eu.isub(el)),eh.iushrn(1),eu.iushrn(1);ei.cmp(eo)>=0?(ei.isub(eo),ea.isub(eh),ec.isub(eu)):(eo.isub(ei),eh.isub(ea),eu.isub(ec))}return{a:eh,b:eu,gcd:eo.iushln(ed)}},s.prototype._invmp=function(et){n(0===et.negative),n(!et.isZero());var ei=this,eo=et.clone();ei=0!==ei.negative?ei.umod(et):ei.clone();for(var ea,ec=new s(1),eh=new s(0),eu=eo.clone();ei.cmpn(1)>0&&eo.cmpn(1)>0;){for(var ed=0,ef=1;!(ei.words[0]&ef)&&ed<26;++ed,ef<<=1);if(ed>0)for(ei.iushrn(ed);ed-- >0;)ec.isOdd()&&ec.iadd(eu),ec.iushrn(1);for(var el=0,ep=1;!(eo.words[0]&ep)&&el<26;++el,ep<<=1);if(el>0)for(eo.iushrn(el);el-- >0;)eh.isOdd()&&eh.iadd(eu),eh.iushrn(1);ei.cmp(eo)>=0?(ei.isub(eo),ec.isub(eh)):(eo.isub(ei),eh.isub(ec))}return 0>(ea=0===ei.cmpn(1)?ec:eh).cmpn(0)&&ea.iadd(et),ea},s.prototype.gcd=function(et){if(this.isZero())return et.abs();if(et.isZero())return this.abs();var ei=this.clone(),eo=et.clone();ei.negative=0,eo.negative=0;for(var ea=0;ei.isEven()&&eo.isEven();ea++)ei.iushrn(1),eo.iushrn(1);for(;;){for(;ei.isEven();)ei.iushrn(1);for(;eo.isEven();)eo.iushrn(1);var ec=ei.cmp(eo);if(ec<0){var eh=ei;ei=eo,eo=eh}else if(0===ec||0===eo.cmpn(1))break;ei.isub(eo)}return eo.iushln(ea)},s.prototype.invm=function(et){return this.egcd(et).a.umod(et)},s.prototype.isEven=function(){return!(1&this.words[0])},s.prototype.isOdd=function(){return!(1&~this.words[0])},s.prototype.andln=function(et){return this.words[0]&et},s.prototype.bincn=function(et){n("number"==typeof et);var ei=et%26,eo=(et-ei)/26,ea=1<<ei;if(this.length<=eo)return this._expand(eo+1),this.words[eo]|=ea,this;for(var ec=ea,eh=eo;0!==ec&&eh<this.length;eh++){var eu=0|this.words[eh];ec=(eu+=ec)>>>26,eu&=67108863,this.words[eh]=eu}return 0!==ec&&(this.words[eh]=ec,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(et){var ei,eo=et<0;if(0!==this.negative&&!eo)return -1;if(0===this.negative&&eo)return 1;if(this.strip(),this.length>1)ei=1;else{eo&&(et=-et),n(et<=67108863,"Number is too big");var ea=0|this.words[0];ei=ea===et?0:ea<et?-1:1}return 0!==this.negative?0|-ei:ei},s.prototype.cmp=function(et){if(0!==this.negative&&0===et.negative)return -1;if(0===this.negative&&0!==et.negative)return 1;var ei=this.ucmp(et);return 0!==this.negative?0|-ei:ei},s.prototype.ucmp=function(et){if(this.length>et.length)return 1;if(this.length<et.length)return -1;for(var ei=0,eo=this.length-1;eo>=0;eo--){var ea=0|this.words[eo],ec=0|et.words[eo];if(ea!==ec){ea<ec?ei=-1:ea>ec&&(ei=1);break}}return ei},s.prototype.gtn=function(et){return 1===this.cmpn(et)},s.prototype.gt=function(et){return 1===this.cmp(et)},s.prototype.gten=function(et){return this.cmpn(et)>=0},s.prototype.gte=function(et){return this.cmp(et)>=0},s.prototype.ltn=function(et){return -1===this.cmpn(et)},s.prototype.lt=function(et){return -1===this.cmp(et)},s.prototype.lten=function(et){return 0>=this.cmpn(et)},s.prototype.lte=function(et){return 0>=this.cmp(et)},s.prototype.eqn=function(et){return 0===this.cmpn(et)},s.prototype.eq=function(et){return 0===this.cmp(et)},s.red=function(et){return new S(et)},s.prototype.toRed=function(et){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),et.convertTo(this)._forceRed(et)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(et){return this.red=et,this},s.prototype.forceRed=function(et){return n(!this.red,"Already a number in reduction context"),this._forceRed(et)},s.prototype.redAdd=function(et){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,et)},s.prototype.redIAdd=function(et){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,et)},s.prototype.redSub=function(et){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,et)},s.prototype.redISub=function(et){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,et)},s.prototype.redShl=function(et){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,et)},s.prototype.redMul=function(et){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,et),this.red.mul(this,et)},s.prototype.redIMul=function(et){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,et),this.red.imul(this,et)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(et){return n(this.red&&!et.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,et)};var ed={k256:null,p224:null,p192:null,p25519:null};function y(et,ei){this.name=et,this.p=new s(ei,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function v(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function E(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(et){if("string"==typeof et){var ei=s._prime(et);this.m=ei.p,this.prime=ei}else n(et.gtn(1),"modulus must be greater than 1"),this.m=et,this.prime=null}function A(et){S.call(this,et),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var et=new s(null);return et.words=Array(Math.ceil(this.n/13)),et},y.prototype.ireduce=function(et){var ei,eo=et;do this.split(eo,this.tmp),ei=(eo=(eo=this.imulK(eo)).iadd(this.tmp)).bitLength();while(ei>this.n);var ea=ei<this.n?-1:eo.ucmp(this.p);return 0===ea?(eo.words[0]=0,eo.length=1):ea>0?eo.isub(this.p):void 0!==eo.strip?eo.strip():eo._strip(),eo},y.prototype.split=function(et,ei){et.iushrn(this.n,0,ei)},y.prototype.imulK=function(et){return et.imul(this.k)},i(v,y),v.prototype.split=function(et,ei){for(var eo=Math.min(et.length,9),ea=0;ea<eo;ea++)ei.words[ea]=et.words[ea];if(ei.length=eo,et.length<=9)return et.words[0]=0,void(et.length=1);var ec=et.words[9];for(ei.words[ei.length++]=4194303&ec,ea=10;ea<et.length;ea++){var eh=0|et.words[ea];et.words[ea-10]=(4194303&eh)<<4|ec>>>22,ec=eh}ec>>>=22,et.words[ea-10]=ec,0===ec&&et.length>10?et.length-=10:et.length-=9},v.prototype.imulK=function(et){et.words[et.length]=0,et.words[et.length+1]=0,et.length+=2;for(var ei=0,eo=0;eo<et.length;eo++){var ea=0|et.words[eo];ei+=977*ea,et.words[eo]=67108863&ei,ei=64*ea+(ei/67108864|0)}return 0===et.words[et.length-1]&&(et.length--,0===et.words[et.length-1]&&et.length--),et},i(w,y),i(_,y),i(E,y),E.prototype.imulK=function(et){for(var ei=0,eo=0;eo<et.length;eo++){var ea=19*(0|et.words[eo])+ei,ec=67108863&ea;ea>>>=26,et.words[eo]=ec,ei=ea}return 0!==ei&&(et.words[et.length++]=ei),et},s._prime=function(et){var ei;if(ed[et])return ed[et];if("k256"===et)ei=new v;else if("p224"===et)ei=new w;else if("p192"===et)ei=new _;else{if("p25519"!==et)throw Error("Unknown prime "+et);ei=new E}return ed[et]=ei,ei},S.prototype._verify1=function(et){n(0===et.negative,"red works only with positives"),n(et.red,"red works only with red numbers")},S.prototype._verify2=function(et,ei){n(!(et.negative|ei.negative),"red works only with positives"),n(et.red&&et.red===ei.red,"red works only with red numbers")},S.prototype.imod=function(et){return this.prime?this.prime.ireduce(et)._forceRed(this):et.umod(this.m)._forceRed(this)},S.prototype.neg=function(et){return et.isZero()?et.clone():this.m.sub(et)._forceRed(this)},S.prototype.add=function(et,ei){this._verify2(et,ei);var eo=et.add(ei);return eo.cmp(this.m)>=0&&eo.isub(this.m),eo._forceRed(this)},S.prototype.iadd=function(et,ei){this._verify2(et,ei);var eo=et.iadd(ei);return eo.cmp(this.m)>=0&&eo.isub(this.m),eo},S.prototype.sub=function(et,ei){this._verify2(et,ei);var eo=et.sub(ei);return 0>eo.cmpn(0)&&eo.iadd(this.m),eo._forceRed(this)},S.prototype.isub=function(et,ei){this._verify2(et,ei);var eo=et.isub(ei);return 0>eo.cmpn(0)&&eo.iadd(this.m),eo},S.prototype.shl=function(et,ei){return this._verify1(et),this.imod(et.ushln(ei))},S.prototype.imul=function(et,ei){return this._verify2(et,ei),this.imod(et.imul(ei))},S.prototype.mul=function(et,ei){return this._verify2(et,ei),this.imod(et.mul(ei))},S.prototype.isqr=function(et){return this.imul(et,et.clone())},S.prototype.sqr=function(et){return this.mul(et,et)},S.prototype.sqrt=function(et){if(et.isZero())return et.clone();var ei=this.m.andln(3);if(n(ei%2==1),3===ei){var eo=this.m.add(new s(1)).iushrn(2);return this.pow(et,eo)}for(var ea=this.m.subn(1),ec=0;!ea.isZero()&&0===ea.andln(1);)ec++,ea.iushrn(1);n(!ea.isZero());var eh=new s(1).toRed(this),eu=eh.redNeg(),ed=this.m.subn(1).iushrn(1),ef=this.m.bitLength();for(ef=new s(2*ef*ef).toRed(this);0!==this.pow(ef,ed).cmp(eu);)ef.redIAdd(eu);for(var el=this.pow(ef,ea),ep=this.pow(et,ea.addn(1).iushrn(1)),eb=this.pow(et,ea),eg=ec;0!==eb.cmp(eh);){for(var em=eb,ey=0;0!==em.cmp(eh);ey++)em=em.redSqr();n(ey<eg);var ev=this.pow(el,new s(1).iushln(eg-ey-1));ep=ep.redMul(ev),el=ev.redSqr(),eb=eb.redMul(el),eg=ey}return ep},S.prototype.invm=function(et){var ei=et._invmp(this.m);return 0!==ei.negative?(ei.negative=0,this.imod(ei).redNeg()):this.imod(ei)},S.prototype.pow=function(et,ei){if(ei.isZero())return new s(1).toRed(this);if(0===ei.cmpn(1))return et.clone();var eo=Array(16);eo[0]=new s(1).toRed(this),eo[1]=et;for(var ea=2;ea<eo.length;ea++)eo[ea]=this.mul(eo[ea-1],et);var ec=eo[0],eh=0,eu=0,ed=ei.bitLength()%26;for(0===ed&&(ed=26),ea=ei.length-1;ea>=0;ea--){for(var ef=ei.words[ea],el=ed-1;el>=0;el--){var ep=ef>>el&1;ec!==eo[0]&&(ec=this.sqr(ec)),0!==ep||0!==eh?(eh<<=1,eh|=ep,(4==++eu||0===ea&&0===el)&&(ec=this.mul(ec,eo[eh]),eu=0,eh=0)):eu=0}ed=26}return ec},S.prototype.convertTo=function(et){var ei=et.umod(this.m);return ei===et?ei.clone():ei},S.prototype.convertFrom=function(et){var ei=et.clone();return ei.red=null,ei},s.mont=function(et){return new A(et)},i(A,S),A.prototype.convertTo=function(et){return this.imod(et.ushln(this.shift))},A.prototype.convertFrom=function(et){var ei=this.imod(et.mul(this.rinv));return ei.red=null,ei},A.prototype.imul=function(et,ei){if(et.isZero()||ei.isZero())return et.words[0]=0,et.length=1,et;var eo=et.imul(ei),ea=eo.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ec=eo.isub(ea).iushrn(this.shift),eh=ec;return ec.cmp(this.m)>=0?eh=ec.isub(this.m):0>ec.cmpn(0)&&(eh=ec.iadd(this.m)),eh._forceRed(this)},A.prototype.mul=function(et,ei){if(et.isZero()||ei.isZero())return new s(0)._forceRed(this);var eo=et.mul(ei),ea=eo.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ec=eo.isub(ea).iushrn(this.shift),eh=ec;return ec.cmp(this.m)>=0?eh=ec.isub(this.m):0>ec.cmpn(0)&&(eh=ec.iadd(this.m)),eh._forceRed(this)},A.prototype.invm=function(et){return this.imod(et._invmp(this.m).mul(this.r2))._forceRed(this)}}(et=eo.nmd(et),this)},3900:function(et,ei,eo){!function(et,ei){"use strict";function n(et,ei){if(!et)throw Error(ei||"Assertion failed")}function i(et,ei){et.super_=ei;var r=function(){};r.prototype=ei.prototype,et.prototype=new r,et.prototype.constructor=et}function s(et,ei,eo){if(s.isBN(et))return et;this.negative=0,this.words=null,this.length=0,this.red=null,null!==et&&("le"!==ei&&"be"!==ei||(eo=ei,ei=10),this._init(et||0,ei||10,eo||"be"))}"object"==typeof et?et.exports=s:ei.BN=s,s.BN=s,s.wordSize=26;try{ea="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:eo(9322).Buffer}catch(et){}function a(et,ei){var eo=et.charCodeAt(ei);return eo>=48&&eo<=57?eo-48:eo>=65&&eo<=70?eo-55:eo>=97&&eo<=102?eo-87:void n(!1,"Invalid character in "+et)}function c(et,ei,eo){var ea=a(et,eo);return eo-1>=ei&&(ea|=a(et,eo-1)<<4),ea}function h(et,ei,eo,ea){for(var ec=0,eh=0,eu=Math.min(et.length,eo),ed=ei;ed<eu;ed++){var ef=et.charCodeAt(ed)-48;ec*=ea,eh=ef>=49?ef-49+10:ef>=17?ef-17+10:ef,n(ef>=0&&eh<ea,"Invalid character"),ec+=eh}return ec}function u(et,ei){et.words=ei.words,et.length=ei.length,et.negative=ei.negative,et.red=ei.red}if(s.isBN=function(et){return et instanceof s||null!==et&&"object"==typeof et&&et.constructor.wordSize===s.wordSize&&Array.isArray(et.words)},s.max=function(et,ei){return et.cmp(ei)>0?et:ei},s.min=function(et,ei){return 0>et.cmp(ei)?et:ei},s.prototype._init=function(et,ei,eo){if("number"==typeof et)return this._initNumber(et,ei,eo);if("object"==typeof et)return this._initArray(et,ei,eo);"hex"===ei&&(ei=16),n(ei===(0|ei)&&ei>=2&&ei<=36);var ea=0;"-"===(et=et.toString().replace(/\s+/g,""))[0]&&(ea++,this.negative=1),ea<et.length&&(16===ei?this._parseHex(et,ea,eo):(this._parseBase(et,ei,ea),"le"===eo&&this._initArray(this.toArray(),ei,eo)))},s.prototype._initNumber=function(et,ei,eo){et<0&&(this.negative=1,et=-et),et<67108864?(this.words=[67108863&et],this.length=1):et<4503599627370496?(this.words=[67108863&et,et/67108864&67108863],this.length=2):(n(et<9007199254740992),this.words=[67108863&et,et/67108864&67108863,1],this.length=3),"le"===eo&&this._initArray(this.toArray(),ei,eo)},s.prototype._initArray=function(et,ei,eo){if(n("number"==typeof et.length),et.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(et.length/3),this.words=Array(this.length);for(var ea=0;ea<this.length;ea++)this.words[ea]=0;var ec,eh,eu=0;if("be"===eo)for(ea=et.length-1,ec=0;ea>=0;ea-=3)eh=et[ea]|et[ea-1]<<8|et[ea-2]<<16,this.words[ec]|=eh<<eu&67108863,this.words[ec+1]=eh>>>26-eu&67108863,(eu+=24)>=26&&(eu-=26,ec++);else if("le"===eo)for(ea=0,ec=0;ea<et.length;ea+=3)eh=et[ea]|et[ea+1]<<8|et[ea+2]<<16,this.words[ec]|=eh<<eu&67108863,this.words[ec+1]=eh>>>26-eu&67108863,(eu+=24)>=26&&(eu-=26,ec++);return this._strip()},s.prototype._parseHex=function(et,ei,eo){this.length=Math.ceil((et.length-ei)/6),this.words=Array(this.length);for(var ea=0;ea<this.length;ea++)this.words[ea]=0;var ec,eh=0,eu=0;if("be"===eo)for(ea=et.length-1;ea>=ei;ea-=2)ec=c(et,ei,ea)<<eh,this.words[eu]|=67108863&ec,eh>=18?(eh-=18,eu+=1,this.words[eu]|=ec>>>26):eh+=8;else for(ea=(et.length-ei)%2==0?ei+1:ei;ea<et.length;ea+=2)ec=c(et,ei,ea)<<eh,this.words[eu]|=67108863&ec,eh>=18?(eh-=18,eu+=1,this.words[eu]|=ec>>>26):eh+=8;this._strip()},s.prototype._parseBase=function(et,ei,eo){this.words=[0],this.length=1;for(var ea=0,ec=1;ec<=67108863;ec*=ei)ea++;ea--,ec=ec/ei|0;for(var eh=et.length-eo,eu=eh%ea,ed=Math.min(eh,eh-eu)+eo,ef=0,el=eo;el<ed;el+=ea)ef=h(et,el,el+ea,ei),this.imuln(ec),this.words[0]+ef<67108864?this.words[0]+=ef:this._iaddn(ef);if(0!==eu){var ep=1;for(ef=h(et,el,et.length,ei),el=0;el<eu;el++)ep*=ei;this.imuln(ep),this.words[0]+ef<67108864?this.words[0]+=ef:this._iaddn(ef)}this._strip()},s.prototype.copy=function(et){et.words=Array(this.length);for(var ei=0;ei<this.length;ei++)et.words[ei]=this.words[ei];et.length=this.length,et.negative=this.negative,et.red=this.red},s.prototype._move=function(et){u(et,this)},s.prototype.clone=function(){var et=new s(null);return this.copy(et),et},s.prototype._expand=function(et){for(;this.length<et;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=d}catch(et){s.prototype.inspect=d}else s.prototype.inspect=d;function d(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var ea,ec=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],eh=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],eu=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function b(et,ei,eo){eo.negative=ei.negative^et.negative;var ea=et.length+ei.length|0;eo.length=ea,ea=ea-1|0;var ec=0|et.words[0],eh=0|ei.words[0],eu=ec*eh,ed=67108863&eu,ef=eu/67108864|0;eo.words[0]=ed;for(var el=1;el<ea;el++){for(var ep=ef>>>26,eb=67108863&ef,eg=Math.min(el,ei.length-1),em=Math.max(0,el-et.length+1);em<=eg;em++){var ey=el-em|0;ep+=(eu=(ec=0|et.words[ey])*(eh=0|ei.words[em])+eb)/67108864|0,eb=67108863&eu}eo.words[el]=0|eb,ef=0|ep}return 0!==ef?eo.words[el]=0|ef:eo.length--,eo._strip()}s.prototype.toString=function(et,ei){var eo;if(ei=0|ei||1,16===(et=et||10)||"hex"===et){eo="";for(var ea=0,ed=0,ef=0;ef<this.length;ef++){var el=this.words[ef],ep=(16777215&(el<<ea|ed)).toString(16);ed=el>>>24-ea&16777215,(ea+=2)>=26&&(ea-=26,ef--),eo=0!==ed||ef!==this.length-1?ec[6-ep.length]+ep+eo:ep+eo}for(0!==ed&&(eo=ed.toString(16)+eo);eo.length%ei!=0;)eo="0"+eo;return 0!==this.negative&&(eo="-"+eo),eo}if(et===(0|et)&&et>=2&&et<=36){var eb=eh[et],eg=eu[et];eo="";var em=this.clone();for(em.negative=0;!em.isZero();){var ey=em.modrn(eg).toString(et);eo=(em=em.idivn(eg)).isZero()?ey+eo:ec[eb-ey.length]+ey+eo}for(this.isZero()&&(eo="0"+eo);eo.length%ei!=0;)eo="0"+eo;return 0!==this.negative&&(eo="-"+eo),eo}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var et=this.words[0];return 2===this.length?et+=67108864*this.words[1]:3===this.length&&1===this.words[2]?et+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-et:et},s.prototype.toJSON=function(){return this.toString(16,2)},ea&&(s.prototype.toBuffer=function(et,ei){return this.toArrayLike(ea,et,ei)}),s.prototype.toArray=function(et,ei){return this.toArrayLike(Array,et,ei)},s.prototype.toArrayLike=function(et,ei,eo){this._strip();var ea=this.byteLength(),ec=eo||Math.max(1,ea);n(ea<=ec,"byte array longer than desired length"),n(ec>0,"Requested array length <= 0");var eh=et.allocUnsafe?et.allocUnsafe(ec):new et(ec);return this["_toArrayLike"+("le"===ei?"LE":"BE")](eh,ea),eh},s.prototype._toArrayLikeLE=function(et,ei){for(var eo=0,ea=0,ec=0,eh=0;ec<this.length;ec++){var eu=this.words[ec]<<eh|ea;et[eo++]=255&eu,eo<et.length&&(et[eo++]=eu>>8&255),eo<et.length&&(et[eo++]=eu>>16&255),6===eh?(eo<et.length&&(et[eo++]=eu>>24&255),ea=0,eh=0):(ea=eu>>>24,eh+=2)}if(eo<et.length)for(et[eo++]=ea;eo<et.length;)et[eo++]=0},s.prototype._toArrayLikeBE=function(et,ei){for(var eo=et.length-1,ea=0,ec=0,eh=0;ec<this.length;ec++){var eu=this.words[ec]<<eh|ea;et[eo--]=255&eu,eo>=0&&(et[eo--]=eu>>8&255),eo>=0&&(et[eo--]=eu>>16&255),6===eh?(eo>=0&&(et[eo--]=eu>>24&255),ea=0,eh=0):(ea=eu>>>24,eh+=2)}if(eo>=0)for(et[eo--]=ea;eo>=0;)et[eo--]=0},Math.clz32?s.prototype._countBits=function(et){return 32-Math.clz32(et)}:s.prototype._countBits=function(et){var ei=et,eo=0;return ei>=4096&&(eo+=13,ei>>>=13),ei>=64&&(eo+=7,ei>>>=7),ei>=8&&(eo+=4,ei>>>=4),ei>=2&&(eo+=2,ei>>>=2),eo+ei},s.prototype._zeroBits=function(et){if(0===et)return 26;var ei=et,eo=0;return 8191&ei||(eo+=13,ei>>>=13),127&ei||(eo+=7,ei>>>=7),15&ei||(eo+=4,ei>>>=4),3&ei||(eo+=2,ei>>>=2),1&ei||eo++,eo},s.prototype.bitLength=function(){var et=this.words[this.length-1],ei=this._countBits(et);return 26*(this.length-1)+ei},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var et=0,ei=0;ei<this.length;ei++){var eo=this._zeroBits(this.words[ei]);if(et+=eo,26!==eo)break}return et},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(et){return 0!==this.negative?this.abs().inotn(et).iaddn(1):this.clone()},s.prototype.fromTwos=function(et){return this.testn(et-1)?this.notn(et).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(et){for(;this.length<et.length;)this.words[this.length++]=0;for(var ei=0;ei<et.length;ei++)this.words[ei]=this.words[ei]|et.words[ei];return this._strip()},s.prototype.ior=function(et){return n(!(this.negative|et.negative)),this.iuor(et)},s.prototype.or=function(et){return this.length>et.length?this.clone().ior(et):et.clone().ior(this)},s.prototype.uor=function(et){return this.length>et.length?this.clone().iuor(et):et.clone().iuor(this)},s.prototype.iuand=function(et){var ei;ei=this.length>et.length?et:this;for(var eo=0;eo<ei.length;eo++)this.words[eo]=this.words[eo]&et.words[eo];return this.length=ei.length,this._strip()},s.prototype.iand=function(et){return n(!(this.negative|et.negative)),this.iuand(et)},s.prototype.and=function(et){return this.length>et.length?this.clone().iand(et):et.clone().iand(this)},s.prototype.uand=function(et){return this.length>et.length?this.clone().iuand(et):et.clone().iuand(this)},s.prototype.iuxor=function(et){var ei,eo;this.length>et.length?(ei=this,eo=et):(ei=et,eo=this);for(var ea=0;ea<eo.length;ea++)this.words[ea]=ei.words[ea]^eo.words[ea];if(this!==ei)for(;ea<ei.length;ea++)this.words[ea]=ei.words[ea];return this.length=ei.length,this._strip()},s.prototype.ixor=function(et){return n(!(this.negative|et.negative)),this.iuxor(et)},s.prototype.xor=function(et){return this.length>et.length?this.clone().ixor(et):et.clone().ixor(this)},s.prototype.uxor=function(et){return this.length>et.length?this.clone().iuxor(et):et.clone().iuxor(this)},s.prototype.inotn=function(et){n("number"==typeof et&&et>=0);var ei=0|Math.ceil(et/26),eo=et%26;this._expand(ei),eo>0&&ei--;for(var ea=0;ea<ei;ea++)this.words[ea]=67108863&~this.words[ea];return eo>0&&(this.words[ea]=~this.words[ea]&67108863>>26-eo),this._strip()},s.prototype.notn=function(et){return this.clone().inotn(et)},s.prototype.setn=function(et,ei){n("number"==typeof et&&et>=0);var eo=et/26|0,ea=et%26;return this._expand(eo+1),this.words[eo]=ei?this.words[eo]|1<<ea:this.words[eo]&~(1<<ea),this._strip()},s.prototype.iadd=function(et){var ei,eo,ea;if(0!==this.negative&&0===et.negative)return this.negative=0,ei=this.isub(et),this.negative^=1,this._normSign();if(0===this.negative&&0!==et.negative)return et.negative=0,ei=this.isub(et),et.negative=1,ei._normSign();this.length>et.length?(eo=this,ea=et):(eo=et,ea=this);for(var ec=0,eh=0;eh<ea.length;eh++)ei=(0|eo.words[eh])+(0|ea.words[eh])+ec,this.words[eh]=67108863&ei,ec=ei>>>26;for(;0!==ec&&eh<eo.length;eh++)ei=(0|eo.words[eh])+ec,this.words[eh]=67108863&ei,ec=ei>>>26;if(this.length=eo.length,0!==ec)this.words[this.length]=ec,this.length++;else if(eo!==this)for(;eh<eo.length;eh++)this.words[eh]=eo.words[eh];return this},s.prototype.add=function(et){var ei;return 0!==et.negative&&0===this.negative?(et.negative=0,ei=this.sub(et),et.negative^=1,ei):0===et.negative&&0!==this.negative?(this.negative=0,ei=et.sub(this),this.negative=1,ei):this.length>et.length?this.clone().iadd(et):et.clone().iadd(this)},s.prototype.isub=function(et){if(0!==et.negative){et.negative=0;var ei=this.iadd(et);return et.negative=1,ei._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(et),this.negative=1,this._normSign();var eo,ea,ec=this.cmp(et);if(0===ec)return this.negative=0,this.length=1,this.words[0]=0,this;ec>0?(eo=this,ea=et):(eo=et,ea=this);for(var eh=0,eu=0;eu<ea.length;eu++)eh=(ei=(0|eo.words[eu])-(0|ea.words[eu])+eh)>>26,this.words[eu]=67108863&ei;for(;0!==eh&&eu<eo.length;eu++)eh=(ei=(0|eo.words[eu])+eh)>>26,this.words[eu]=67108863&ei;if(0===eh&&eu<eo.length&&eo!==this)for(;eu<eo.length;eu++)this.words[eu]=eo.words[eu];return this.length=Math.max(this.length,eu),eo!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(et){return this.clone().isub(et)};var g=function(et,ei,eo){var ea,ec,eh,eu=et.words,ed=ei.words,ef=eo.words,el=0,ep=0|eu[0],eb=8191&ep,eg=ep>>>13,em=0|eu[1],ey=8191&em,ev=em>>>13,ew=0|eu[2],e_=8191&ew,eE=ew>>>13,eS=0|eu[3],eA=8191&eS,eM=eS>>>13,eI=0|eu[4],eT=8191&eI,ex=eI>>>13,eC=0|eu[5],eR=8191&eC,ek=eC>>>13,eP=0|eu[6],eO=8191&eP,eN=eP>>>13,eU=0|eu[7],eB=8191&eU,eL=eU>>>13,eD=0|eu[8],ej=8191&eD,eq=eD>>>13,eF=0|eu[9],eH=8191&eF,eV=eF>>>13,ez=0|ed[0],e$=8191&ez,eK=ez>>>13,eG=0|ed[1],eW=8191&eG,eJ=eG>>>13,eY=0|ed[2],eX=8191&eY,eZ=eY>>>13,eQ=0|ed[3],e0=8191&eQ,e1=eQ>>>13,e2=0|ed[4],e6=8191&e2,e5=e2>>>13,e3=0|ed[5],e8=8191&e3,e4=e3>>>13,e7=0|ed[6],e9=8191&e7,tt=e7>>>13,to=0|ed[7],ta=8191&to,tc=to>>>13,th=0|ed[8],tu=8191&th,td=th>>>13,tf=0|ed[9],tl=8191&tf,tp=tf>>>13;eo.negative=et.negative^ei.negative,eo.length=19;var tb=(el+(ea=Math.imul(eb,e$))|0)+((8191&(ec=(ec=Math.imul(eb,eK))+Math.imul(eg,e$)|0))<<13)|0;el=((eh=Math.imul(eg,eK))+(ec>>>13)|0)+(tb>>>26)|0,tb&=67108863,ea=Math.imul(ey,e$),ec=(ec=Math.imul(ey,eK))+Math.imul(ev,e$)|0,eh=Math.imul(ev,eK);var tg=(el+(ea=ea+Math.imul(eb,eW)|0)|0)+((8191&(ec=(ec=ec+Math.imul(eb,eJ)|0)+Math.imul(eg,eW)|0))<<13)|0;el=((eh=eh+Math.imul(eg,eJ)|0)+(ec>>>13)|0)+(tg>>>26)|0,tg&=67108863,ea=Math.imul(e_,e$),ec=(ec=Math.imul(e_,eK))+Math.imul(eE,e$)|0,eh=Math.imul(eE,eK),ea=ea+Math.imul(ey,eW)|0,ec=(ec=ec+Math.imul(ey,eJ)|0)+Math.imul(ev,eW)|0,eh=eh+Math.imul(ev,eJ)|0;var tm=(el+(ea=ea+Math.imul(eb,eX)|0)|0)+((8191&(ec=(ec=ec+Math.imul(eb,eZ)|0)+Math.imul(eg,eX)|0))<<13)|0;el=((eh=eh+Math.imul(eg,eZ)|0)+(ec>>>13)|0)+(tm>>>26)|0,tm&=67108863,ea=Math.imul(eA,e$),ec=(ec=Math.imul(eA,eK))+Math.imul(eM,e$)|0,eh=Math.imul(eM,eK),ea=ea+Math.imul(e_,eW)|0,ec=(ec=ec+Math.imul(e_,eJ)|0)+Math.imul(eE,eW)|0,eh=eh+Math.imul(eE,eJ)|0,ea=ea+Math.imul(ey,eX)|0,ec=(ec=ec+Math.imul(ey,eZ)|0)+Math.imul(ev,eX)|0,eh=eh+Math.imul(ev,eZ)|0;var ty=(el+(ea=ea+Math.imul(eb,e0)|0)|0)+((8191&(ec=(ec=ec+Math.imul(eb,e1)|0)+Math.imul(eg,e0)|0))<<13)|0;el=((eh=eh+Math.imul(eg,e1)|0)+(ec>>>13)|0)+(ty>>>26)|0,ty&=67108863,ea=Math.imul(eT,e$),ec=(ec=Math.imul(eT,eK))+Math.imul(ex,e$)|0,eh=Math.imul(ex,eK),ea=ea+Math.imul(eA,eW)|0,ec=(ec=ec+Math.imul(eA,eJ)|0)+Math.imul(eM,eW)|0,eh=eh+Math.imul(eM,eJ)|0,ea=ea+Math.imul(e_,eX)|0,ec=(ec=ec+Math.imul(e_,eZ)|0)+Math.imul(eE,eX)|0,eh=eh+Math.imul(eE,eZ)|0,ea=ea+Math.imul(ey,e0)|0,ec=(ec=ec+Math.imul(ey,e1)|0)+Math.imul(ev,e0)|0,eh=eh+Math.imul(ev,e1)|0;var tv=(el+(ea=ea+Math.imul(eb,e6)|0)|0)+((8191&(ec=(ec=ec+Math.imul(eb,e5)|0)+Math.imul(eg,e6)|0))<<13)|0;el=((eh=eh+Math.imul(eg,e5)|0)+(ec>>>13)|0)+(tv>>>26)|0,tv&=67108863,ea=Math.imul(eR,e$),ec=(ec=Math.imul(eR,eK))+Math.imul(ek,e$)|0,eh=Math.imul(ek,eK),ea=ea+Math.imul(eT,eW)|0,ec=(ec=ec+Math.imul(eT,eJ)|0)+Math.imul(ex,eW)|0,eh=eh+Math.imul(ex,eJ)|0,ea=ea+Math.imul(eA,eX)|0,ec=(ec=ec+Math.imul(eA,eZ)|0)+Math.imul(eM,eX)|0,eh=eh+Math.imul(eM,eZ)|0,ea=ea+Math.imul(e_,e0)|0,ec=(ec=ec+Math.imul(e_,e1)|0)+Math.imul(eE,e0)|0,eh=eh+Math.imul(eE,e1)|0,ea=ea+Math.imul(ey,e6)|0,ec=(ec=ec+Math.imul(ey,e5)|0)+Math.imul(ev,e6)|0,eh=eh+Math.imul(ev,e5)|0;var tw=(el+(ea=ea+Math.imul(eb,e8)|0)|0)+((8191&(ec=(ec=ec+Math.imul(eb,e4)|0)+Math.imul(eg,e8)|0))<<13)|0;el=((eh=eh+Math.imul(eg,e4)|0)+(ec>>>13)|0)+(tw>>>26)|0,tw&=67108863,ea=Math.imul(eO,e$),ec=(ec=Math.imul(eO,eK))+Math.imul(eN,e$)|0,eh=Math.imul(eN,eK),ea=ea+Math.imul(eR,eW)|0,ec=(ec=ec+Math.imul(eR,eJ)|0)+Math.imul(ek,eW)|0,eh=eh+Math.imul(ek,eJ)|0,ea=ea+Math.imul(eT,eX)|0,ec=(ec=ec+Math.imul(eT,eZ)|0)+Math.imul(ex,eX)|0,eh=eh+Math.imul(ex,eZ)|0,ea=ea+Math.imul(eA,e0)|0,ec=(ec=ec+Math.imul(eA,e1)|0)+Math.imul(eM,e0)|0,eh=eh+Math.imul(eM,e1)|0,ea=ea+Math.imul(e_,e6)|0,ec=(ec=ec+Math.imul(e_,e5)|0)+Math.imul(eE,e6)|0,eh=eh+Math.imul(eE,e5)|0,ea=ea+Math.imul(ey,e8)|0,ec=(ec=ec+Math.imul(ey,e4)|0)+Math.imul(ev,e8)|0,eh=eh+Math.imul(ev,e4)|0;var t_=(el+(ea=ea+Math.imul(eb,e9)|0)|0)+((8191&(ec=(ec=ec+Math.imul(eb,tt)|0)+Math.imul(eg,e9)|0))<<13)|0;el=((eh=eh+Math.imul(eg,tt)|0)+(ec>>>13)|0)+(t_>>>26)|0,t_&=67108863,ea=Math.imul(eB,e$),ec=(ec=Math.imul(eB,eK))+Math.imul(eL,e$)|0,eh=Math.imul(eL,eK),ea=ea+Math.imul(eO,eW)|0,ec=(ec=ec+Math.imul(eO,eJ)|0)+Math.imul(eN,eW)|0,eh=eh+Math.imul(eN,eJ)|0,ea=ea+Math.imul(eR,eX)|0,ec=(ec=ec+Math.imul(eR,eZ)|0)+Math.imul(ek,eX)|0,eh=eh+Math.imul(ek,eZ)|0,ea=ea+Math.imul(eT,e0)|0,ec=(ec=ec+Math.imul(eT,e1)|0)+Math.imul(ex,e0)|0,eh=eh+Math.imul(ex,e1)|0,ea=ea+Math.imul(eA,e6)|0,ec=(ec=ec+Math.imul(eA,e5)|0)+Math.imul(eM,e6)|0,eh=eh+Math.imul(eM,e5)|0,ea=ea+Math.imul(e_,e8)|0,ec=(ec=ec+Math.imul(e_,e4)|0)+Math.imul(eE,e8)|0,eh=eh+Math.imul(eE,e4)|0,ea=ea+Math.imul(ey,e9)|0,ec=(ec=ec+Math.imul(ey,tt)|0)+Math.imul(ev,e9)|0,eh=eh+Math.imul(ev,tt)|0;var tE=(el+(ea=ea+Math.imul(eb,ta)|0)|0)+((8191&(ec=(ec=ec+Math.imul(eb,tc)|0)+Math.imul(eg,ta)|0))<<13)|0;el=((eh=eh+Math.imul(eg,tc)|0)+(ec>>>13)|0)+(tE>>>26)|0,tE&=67108863,ea=Math.imul(ej,e$),ec=(ec=Math.imul(ej,eK))+Math.imul(eq,e$)|0,eh=Math.imul(eq,eK),ea=ea+Math.imul(eB,eW)|0,ec=(ec=ec+Math.imul(eB,eJ)|0)+Math.imul(eL,eW)|0,eh=eh+Math.imul(eL,eJ)|0,ea=ea+Math.imul(eO,eX)|0,ec=(ec=ec+Math.imul(eO,eZ)|0)+Math.imul(eN,eX)|0,eh=eh+Math.imul(eN,eZ)|0,ea=ea+Math.imul(eR,e0)|0,ec=(ec=ec+Math.imul(eR,e1)|0)+Math.imul(ek,e0)|0,eh=eh+Math.imul(ek,e1)|0,ea=ea+Math.imul(eT,e6)|0,ec=(ec=ec+Math.imul(eT,e5)|0)+Math.imul(ex,e6)|0,eh=eh+Math.imul(ex,e5)|0,ea=ea+Math.imul(eA,e8)|0,ec=(ec=ec+Math.imul(eA,e4)|0)+Math.imul(eM,e8)|0,eh=eh+Math.imul(eM,e4)|0,ea=ea+Math.imul(e_,e9)|0,ec=(ec=ec+Math.imul(e_,tt)|0)+Math.imul(eE,e9)|0,eh=eh+Math.imul(eE,tt)|0,ea=ea+Math.imul(ey,ta)|0,ec=(ec=ec+Math.imul(ey,tc)|0)+Math.imul(ev,ta)|0,eh=eh+Math.imul(ev,tc)|0;var tS=(el+(ea=ea+Math.imul(eb,tu)|0)|0)+((8191&(ec=(ec=ec+Math.imul(eb,td)|0)+Math.imul(eg,tu)|0))<<13)|0;el=((eh=eh+Math.imul(eg,td)|0)+(ec>>>13)|0)+(tS>>>26)|0,tS&=67108863,ea=Math.imul(eH,e$),ec=(ec=Math.imul(eH,eK))+Math.imul(eV,e$)|0,eh=Math.imul(eV,eK),ea=ea+Math.imul(ej,eW)|0,ec=(ec=ec+Math.imul(ej,eJ)|0)+Math.imul(eq,eW)|0,eh=eh+Math.imul(eq,eJ)|0,ea=ea+Math.imul(eB,eX)|0,ec=(ec=ec+Math.imul(eB,eZ)|0)+Math.imul(eL,eX)|0,eh=eh+Math.imul(eL,eZ)|0,ea=ea+Math.imul(eO,e0)|0,ec=(ec=ec+Math.imul(eO,e1)|0)+Math.imul(eN,e0)|0,eh=eh+Math.imul(eN,e1)|0,ea=ea+Math.imul(eR,e6)|0,ec=(ec=ec+Math.imul(eR,e5)|0)+Math.imul(ek,e6)|0,eh=eh+Math.imul(ek,e5)|0,ea=ea+Math.imul(eT,e8)|0,ec=(ec=ec+Math.imul(eT,e4)|0)+Math.imul(ex,e8)|0,eh=eh+Math.imul(ex,e4)|0,ea=ea+Math.imul(eA,e9)|0,ec=(ec=ec+Math.imul(eA,tt)|0)+Math.imul(eM,e9)|0,eh=eh+Math.imul(eM,tt)|0,ea=ea+Math.imul(e_,ta)|0,ec=(ec=ec+Math.imul(e_,tc)|0)+Math.imul(eE,ta)|0,eh=eh+Math.imul(eE,tc)|0,ea=ea+Math.imul(ey,tu)|0,ec=(ec=ec+Math.imul(ey,td)|0)+Math.imul(ev,tu)|0,eh=eh+Math.imul(ev,td)|0;var tA=(el+(ea=ea+Math.imul(eb,tl)|0)|0)+((8191&(ec=(ec=ec+Math.imul(eb,tp)|0)+Math.imul(eg,tl)|0))<<13)|0;el=((eh=eh+Math.imul(eg,tp)|0)+(ec>>>13)|0)+(tA>>>26)|0,tA&=67108863,ea=Math.imul(eH,eW),ec=(ec=Math.imul(eH,eJ))+Math.imul(eV,eW)|0,eh=Math.imul(eV,eJ),ea=ea+Math.imul(ej,eX)|0,ec=(ec=ec+Math.imul(ej,eZ)|0)+Math.imul(eq,eX)|0,eh=eh+Math.imul(eq,eZ)|0,ea=ea+Math.imul(eB,e0)|0,ec=(ec=ec+Math.imul(eB,e1)|0)+Math.imul(eL,e0)|0,eh=eh+Math.imul(eL,e1)|0,ea=ea+Math.imul(eO,e6)|0,ec=(ec=ec+Math.imul(eO,e5)|0)+Math.imul(eN,e6)|0,eh=eh+Math.imul(eN,e5)|0,ea=ea+Math.imul(eR,e8)|0,ec=(ec=ec+Math.imul(eR,e4)|0)+Math.imul(ek,e8)|0,eh=eh+Math.imul(ek,e4)|0,ea=ea+Math.imul(eT,e9)|0,ec=(ec=ec+Math.imul(eT,tt)|0)+Math.imul(ex,e9)|0,eh=eh+Math.imul(ex,tt)|0,ea=ea+Math.imul(eA,ta)|0,ec=(ec=ec+Math.imul(eA,tc)|0)+Math.imul(eM,ta)|0,eh=eh+Math.imul(eM,tc)|0,ea=ea+Math.imul(e_,tu)|0,ec=(ec=ec+Math.imul(e_,td)|0)+Math.imul(eE,tu)|0,eh=eh+Math.imul(eE,td)|0;var tM=(el+(ea=ea+Math.imul(ey,tl)|0)|0)+((8191&(ec=(ec=ec+Math.imul(ey,tp)|0)+Math.imul(ev,tl)|0))<<13)|0;el=((eh=eh+Math.imul(ev,tp)|0)+(ec>>>13)|0)+(tM>>>26)|0,tM&=67108863,ea=Math.imul(eH,eX),ec=(ec=Math.imul(eH,eZ))+Math.imul(eV,eX)|0,eh=Math.imul(eV,eZ),ea=ea+Math.imul(ej,e0)|0,ec=(ec=ec+Math.imul(ej,e1)|0)+Math.imul(eq,e0)|0,eh=eh+Math.imul(eq,e1)|0,ea=ea+Math.imul(eB,e6)|0,ec=(ec=ec+Math.imul(eB,e5)|0)+Math.imul(eL,e6)|0,eh=eh+Math.imul(eL,e5)|0,ea=ea+Math.imul(eO,e8)|0,ec=(ec=ec+Math.imul(eO,e4)|0)+Math.imul(eN,e8)|0,eh=eh+Math.imul(eN,e4)|0,ea=ea+Math.imul(eR,e9)|0,ec=(ec=ec+Math.imul(eR,tt)|0)+Math.imul(ek,e9)|0,eh=eh+Math.imul(ek,tt)|0,ea=ea+Math.imul(eT,ta)|0,ec=(ec=ec+Math.imul(eT,tc)|0)+Math.imul(ex,ta)|0,eh=eh+Math.imul(ex,tc)|0,ea=ea+Math.imul(eA,tu)|0,ec=(ec=ec+Math.imul(eA,td)|0)+Math.imul(eM,tu)|0,eh=eh+Math.imul(eM,td)|0;var tI=(el+(ea=ea+Math.imul(e_,tl)|0)|0)+((8191&(ec=(ec=ec+Math.imul(e_,tp)|0)+Math.imul(eE,tl)|0))<<13)|0;el=((eh=eh+Math.imul(eE,tp)|0)+(ec>>>13)|0)+(tI>>>26)|0,tI&=67108863,ea=Math.imul(eH,e0),ec=(ec=Math.imul(eH,e1))+Math.imul(eV,e0)|0,eh=Math.imul(eV,e1),ea=ea+Math.imul(ej,e6)|0,ec=(ec=ec+Math.imul(ej,e5)|0)+Math.imul(eq,e6)|0,eh=eh+Math.imul(eq,e5)|0,ea=ea+Math.imul(eB,e8)|0,ec=(ec=ec+Math.imul(eB,e4)|0)+Math.imul(eL,e8)|0,eh=eh+Math.imul(eL,e4)|0,ea=ea+Math.imul(eO,e9)|0,ec=(ec=ec+Math.imul(eO,tt)|0)+Math.imul(eN,e9)|0,eh=eh+Math.imul(eN,tt)|0,ea=ea+Math.imul(eR,ta)|0,ec=(ec=ec+Math.imul(eR,tc)|0)+Math.imul(ek,ta)|0,eh=eh+Math.imul(ek,tc)|0,ea=ea+Math.imul(eT,tu)|0,ec=(ec=ec+Math.imul(eT,td)|0)+Math.imul(ex,tu)|0,eh=eh+Math.imul(ex,td)|0;var tT=(el+(ea=ea+Math.imul(eA,tl)|0)|0)+((8191&(ec=(ec=ec+Math.imul(eA,tp)|0)+Math.imul(eM,tl)|0))<<13)|0;el=((eh=eh+Math.imul(eM,tp)|0)+(ec>>>13)|0)+(tT>>>26)|0,tT&=67108863,ea=Math.imul(eH,e6),ec=(ec=Math.imul(eH,e5))+Math.imul(eV,e6)|0,eh=Math.imul(eV,e5),ea=ea+Math.imul(ej,e8)|0,ec=(ec=ec+Math.imul(ej,e4)|0)+Math.imul(eq,e8)|0,eh=eh+Math.imul(eq,e4)|0,ea=ea+Math.imul(eB,e9)|0,ec=(ec=ec+Math.imul(eB,tt)|0)+Math.imul(eL,e9)|0,eh=eh+Math.imul(eL,tt)|0,ea=ea+Math.imul(eO,ta)|0,ec=(ec=ec+Math.imul(eO,tc)|0)+Math.imul(eN,ta)|0,eh=eh+Math.imul(eN,tc)|0,ea=ea+Math.imul(eR,tu)|0,ec=(ec=ec+Math.imul(eR,td)|0)+Math.imul(ek,tu)|0,eh=eh+Math.imul(ek,td)|0;var tx=(el+(ea=ea+Math.imul(eT,tl)|0)|0)+((8191&(ec=(ec=ec+Math.imul(eT,tp)|0)+Math.imul(ex,tl)|0))<<13)|0;el=((eh=eh+Math.imul(ex,tp)|0)+(ec>>>13)|0)+(tx>>>26)|0,tx&=67108863,ea=Math.imul(eH,e8),ec=(ec=Math.imul(eH,e4))+Math.imul(eV,e8)|0,eh=Math.imul(eV,e4),ea=ea+Math.imul(ej,e9)|0,ec=(ec=ec+Math.imul(ej,tt)|0)+Math.imul(eq,e9)|0,eh=eh+Math.imul(eq,tt)|0,ea=ea+Math.imul(eB,ta)|0,ec=(ec=ec+Math.imul(eB,tc)|0)+Math.imul(eL,ta)|0,eh=eh+Math.imul(eL,tc)|0,ea=ea+Math.imul(eO,tu)|0,ec=(ec=ec+Math.imul(eO,td)|0)+Math.imul(eN,tu)|0,eh=eh+Math.imul(eN,td)|0;var tC=(el+(ea=ea+Math.imul(eR,tl)|0)|0)+((8191&(ec=(ec=ec+Math.imul(eR,tp)|0)+Math.imul(ek,tl)|0))<<13)|0;el=((eh=eh+Math.imul(ek,tp)|0)+(ec>>>13)|0)+(tC>>>26)|0,tC&=67108863,ea=Math.imul(eH,e9),ec=(ec=Math.imul(eH,tt))+Math.imul(eV,e9)|0,eh=Math.imul(eV,tt),ea=ea+Math.imul(ej,ta)|0,ec=(ec=ec+Math.imul(ej,tc)|0)+Math.imul(eq,ta)|0,eh=eh+Math.imul(eq,tc)|0,ea=ea+Math.imul(eB,tu)|0,ec=(ec=ec+Math.imul(eB,td)|0)+Math.imul(eL,tu)|0,eh=eh+Math.imul(eL,td)|0;var tR=(el+(ea=ea+Math.imul(eO,tl)|0)|0)+((8191&(ec=(ec=ec+Math.imul(eO,tp)|0)+Math.imul(eN,tl)|0))<<13)|0;el=((eh=eh+Math.imul(eN,tp)|0)+(ec>>>13)|0)+(tR>>>26)|0,tR&=67108863,ea=Math.imul(eH,ta),ec=(ec=Math.imul(eH,tc))+Math.imul(eV,ta)|0,eh=Math.imul(eV,tc),ea=ea+Math.imul(ej,tu)|0,ec=(ec=ec+Math.imul(ej,td)|0)+Math.imul(eq,tu)|0,eh=eh+Math.imul(eq,td)|0;var tk=(el+(ea=ea+Math.imul(eB,tl)|0)|0)+((8191&(ec=(ec=ec+Math.imul(eB,tp)|0)+Math.imul(eL,tl)|0))<<13)|0;el=((eh=eh+Math.imul(eL,tp)|0)+(ec>>>13)|0)+(tk>>>26)|0,tk&=67108863,ea=Math.imul(eH,tu),ec=(ec=Math.imul(eH,td))+Math.imul(eV,tu)|0,eh=Math.imul(eV,td);var tP=(el+(ea=ea+Math.imul(ej,tl)|0)|0)+((8191&(ec=(ec=ec+Math.imul(ej,tp)|0)+Math.imul(eq,tl)|0))<<13)|0;el=((eh=eh+Math.imul(eq,tp)|0)+(ec>>>13)|0)+(tP>>>26)|0,tP&=67108863;var tO=(el+(ea=Math.imul(eH,tl))|0)+((8191&(ec=(ec=Math.imul(eH,tp))+Math.imul(eV,tl)|0))<<13)|0;return el=((eh=Math.imul(eV,tp))+(ec>>>13)|0)+(tO>>>26)|0,tO&=67108863,ef[0]=tb,ef[1]=tg,ef[2]=tm,ef[3]=ty,ef[4]=tv,ef[5]=tw,ef[6]=t_,ef[7]=tE,ef[8]=tS,ef[9]=tA,ef[10]=tM,ef[11]=tI,ef[12]=tT,ef[13]=tx,ef[14]=tC,ef[15]=tR,ef[16]=tk,ef[17]=tP,ef[18]=tO,0!==el&&(ef[19]=el,eo.length++),eo};function m(et,ei,eo){eo.negative=ei.negative^et.negative,eo.length=et.length+ei.length;for(var ea=0,ec=0,eh=0;eh<eo.length-1;eh++){var eu=ec;ec=0;for(var ed=67108863&ea,ef=Math.min(eh,ei.length-1),el=Math.max(0,eh-et.length+1);el<=ef;el++){var ep=eh-el,eb=(0|et.words[ep])*(0|ei.words[el]),eg=67108863&eb;ed=67108863&(eg=eg+ed|0),ec+=(eu=(eu=eu+(eb/67108864|0)|0)+(eg>>>26)|0)>>>26,eu&=67108863}eo.words[eh]=ed,ea=eu,eu=ec}return 0!==ea?eo.words[eh]=ea:eo.length--,eo._strip()}function v(et,ei){this.x=et,this.y=ei}Math.imul||(g=b),s.prototype.mulTo=function(et,ei){var eo=this.length+et.length;return 10===this.length&&10===et.length?g(this,et,ei):eo<63?b(this,et,ei):m(this,et,ei)},v.prototype.makeRBT=function(et){for(var ei=Array(et),eo=s.prototype._countBits(et)-1,ea=0;ea<et;ea++)ei[ea]=this.revBin(ea,eo,et);return ei},v.prototype.revBin=function(et,ei,eo){if(0===et||et===eo-1)return et;for(var ea=0,ec=0;ec<ei;ec++)ea|=(1&et)<<ei-ec-1,et>>=1;return ea},v.prototype.permute=function(et,ei,eo,ea,ec,eh){for(var eu=0;eu<eh;eu++)ea[eu]=ei[et[eu]],ec[eu]=eo[et[eu]]},v.prototype.transform=function(et,ei,eo,ea,ec,eh){this.permute(eh,et,ei,eo,ea,ec);for(var eu=1;eu<ec;eu<<=1)for(var ed=eu<<1,ef=Math.cos(2*Math.PI/ed),el=Math.sin(2*Math.PI/ed),ep=0;ep<ec;ep+=ed)for(var eb=ef,eg=el,em=0;em<eu;em++){var ey=eo[ep+em],ev=ea[ep+em],ew=eo[ep+em+eu],e_=ea[ep+em+eu],eE=eb*ew-eg*e_;e_=eb*e_+eg*ew,ew=eE,eo[ep+em]=ey+ew,ea[ep+em]=ev+e_,eo[ep+em+eu]=ey-ew,ea[ep+em+eu]=ev-e_,em!==ed&&(eE=ef*eb-el*eg,eg=ef*eg+el*eb,eb=eE)}},v.prototype.guessLen13b=function(et,ei){var eo=1|Math.max(ei,et),ea=1&eo,ec=0;for(eo=eo/2|0;eo;eo>>>=1)ec++;return 1<<ec+1+ea},v.prototype.conjugate=function(et,ei,eo){if(!(eo<=1))for(var ea=0;ea<eo/2;ea++){var ec=et[ea];et[ea]=et[eo-ea-1],et[eo-ea-1]=ec,ec=ei[ea],ei[ea]=-ei[eo-ea-1],ei[eo-ea-1]=-ec}},v.prototype.normalize13b=function(et,ei){for(var eo=0,ea=0;ea<ei/2;ea++){var ec=8192*Math.round(et[2*ea+1]/ei)+Math.round(et[2*ea]/ei)+eo;et[ea]=67108863&ec,eo=ec<67108864?0:ec/67108864|0}return et},v.prototype.convert13b=function(et,ei,eo,ea){for(var ec=0,eh=0;eh<ei;eh++)ec+=0|et[eh],eo[2*eh]=8191&ec,ec>>>=13,eo[2*eh+1]=8191&ec,ec>>>=13;for(eh=2*ei;eh<ea;++eh)eo[eh]=0;n(0===ec),n(!(-8192&ec))},v.prototype.stub=function(et){for(var ei=Array(et),eo=0;eo<et;eo++)ei[eo]=0;return ei},v.prototype.mulp=function(et,ei,eo){var ea=2*this.guessLen13b(et.length,ei.length),ec=this.makeRBT(ea),eh=this.stub(ea),eu=Array(ea),ed=Array(ea),ef=Array(ea),el=Array(ea),ep=Array(ea),eb=Array(ea),eg=eo.words;eg.length=ea,this.convert13b(et.words,et.length,eu,ea),this.convert13b(ei.words,ei.length,el,ea),this.transform(eu,eh,ed,ef,ea,ec),this.transform(el,eh,ep,eb,ea,ec);for(var em=0;em<ea;em++){var ey=ed[em]*ep[em]-ef[em]*eb[em];ef[em]=ed[em]*eb[em]+ef[em]*ep[em],ed[em]=ey}return this.conjugate(ed,ef,ea),this.transform(ed,ef,eg,eh,ea,ec),this.conjugate(eg,eh,ea),this.normalize13b(eg,ea),eo.negative=et.negative^ei.negative,eo.length=et.length+ei.length,eo._strip()},s.prototype.mul=function(et){var ei=new s(null);return ei.words=Array(this.length+et.length),this.mulTo(et,ei)},s.prototype.mulf=function(et){var ei=new s(null);return ei.words=Array(this.length+et.length),m(this,et,ei)},s.prototype.imul=function(et){return this.clone().mulTo(et,this)},s.prototype.imuln=function(et){var ei=et<0;ei&&(et=-et),n("number"==typeof et),n(et<67108864);for(var eo=0,ea=0;ea<this.length;ea++){var ec=(0|this.words[ea])*et,eh=(67108863&ec)+(67108863&eo);eo>>=26,eo+=(ec/67108864|0)+(eh>>>26),this.words[ea]=67108863&eh}return 0!==eo&&(this.words[ea]=eo,this.length++),ei?this.ineg():this},s.prototype.muln=function(et){return this.clone().imuln(et)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(et){var ei=function(et){for(var ei=Array(et.bitLength()),eo=0;eo<ei.length;eo++){var ea=eo/26|0,ec=eo%26;ei[eo]=et.words[ea]>>>ec&1}return ei}(et);if(0===ei.length)return new s(1);for(var eo=this,ea=0;ea<ei.length&&0===ei[ea];ea++,eo=eo.sqr());if(++ea<ei.length)for(var ec=eo.sqr();ea<ei.length;ea++,ec=ec.sqr())0!==ei[ea]&&(eo=eo.mul(ec));return eo},s.prototype.iushln=function(et){n("number"==typeof et&&et>=0);var ei,eo=et%26,ea=(et-eo)/26,ec=67108863>>>26-eo<<26-eo;if(0!==eo){var eh=0;for(ei=0;ei<this.length;ei++){var eu=this.words[ei]&ec,ed=(0|this.words[ei])-eu<<eo;this.words[ei]=ed|eh,eh=eu>>>26-eo}eh&&(this.words[ei]=eh,this.length++)}if(0!==ea){for(ei=this.length-1;ei>=0;ei--)this.words[ei+ea]=this.words[ei];for(ei=0;ei<ea;ei++)this.words[ei]=0;this.length+=ea}return this._strip()},s.prototype.ishln=function(et){return n(0===this.negative),this.iushln(et)},s.prototype.iushrn=function(et,ei,eo){n("number"==typeof et&&et>=0),ea=ei?(ei-ei%26)/26:0;var ea,ec=et%26,eh=Math.min((et-ec)/26,this.length),eu=67108863^67108863>>>ec<<ec;if(ea-=eh,ea=Math.max(0,ea),eo){for(var ed=0;ed<eh;ed++)eo.words[ed]=this.words[ed];eo.length=eh}if(0===eh);else if(this.length>eh)for(this.length-=eh,ed=0;ed<this.length;ed++)this.words[ed]=this.words[ed+eh];else this.words[0]=0,this.length=1;var ef=0;for(ed=this.length-1;ed>=0&&(0!==ef||ed>=ea);ed--){var el=0|this.words[ed];this.words[ed]=ef<<26-ec|el>>>ec,ef=el&eu}return eo&&0!==ef&&(eo.words[eo.length++]=ef),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(et,ei,eo){return n(0===this.negative),this.iushrn(et,ei,eo)},s.prototype.shln=function(et){return this.clone().ishln(et)},s.prototype.ushln=function(et){return this.clone().iushln(et)},s.prototype.shrn=function(et){return this.clone().ishrn(et)},s.prototype.ushrn=function(et){return this.clone().iushrn(et)},s.prototype.testn=function(et){n("number"==typeof et&&et>=0);var ei=et%26,eo=(et-ei)/26;return!(this.length<=eo||!(this.words[eo]&1<<ei))},s.prototype.imaskn=function(et){n("number"==typeof et&&et>=0);var ei=et%26,eo=(et-ei)/26;return(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=eo)?this:(0!==ei&&eo++,this.length=Math.min(eo,this.length),0!==ei&&(this.words[this.length-1]&=67108863^67108863>>>ei<<ei),this._strip())},s.prototype.maskn=function(et){return this.clone().imaskn(et)},s.prototype.iaddn=function(et){return n("number"==typeof et),n(et<67108864),et<0?this.isubn(-et):0!==this.negative?(1===this.length&&(0|this.words[0])<=et?(this.words[0]=et-(0|this.words[0]),this.negative=0):(this.negative=0,this.isubn(et),this.negative=1),this):this._iaddn(et)},s.prototype._iaddn=function(et){this.words[0]+=et;for(var ei=0;ei<this.length&&this.words[ei]>=67108864;ei++)this.words[ei]-=67108864,ei===this.length-1?this.words[ei+1]=1:this.words[ei+1]++;return this.length=Math.max(this.length,ei+1),this},s.prototype.isubn=function(et){if(n("number"==typeof et),n(et<67108864),et<0)return this.iaddn(-et);if(0!==this.negative)return this.negative=0,this.iaddn(et),this.negative=1,this;if(this.words[0]-=et,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var ei=0;ei<this.length&&this.words[ei]<0;ei++)this.words[ei]+=67108864,this.words[ei+1]-=1;return this._strip()},s.prototype.addn=function(et){return this.clone().iaddn(et)},s.prototype.subn=function(et){return this.clone().isubn(et)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(et,ei,eo){var ea,ec,eh=et.length+eo;this._expand(eh);var eu=0;for(ea=0;ea<et.length;ea++){ec=(0|this.words[ea+eo])+eu;var ed=(0|et.words[ea])*ei;eu=((ec-=67108863&ed)>>26)-(ed/67108864|0),this.words[ea+eo]=67108863&ec}for(;ea<this.length-eo;ea++)eu=(ec=(0|this.words[ea+eo])+eu)>>26,this.words[ea+eo]=67108863&ec;if(0===eu)return this._strip();for(n(-1===eu),eu=0,ea=0;ea<this.length;ea++)eu=(ec=-(0|this.words[ea])+eu)>>26,this.words[ea]=67108863&ec;return this.negative=1,this._strip()},s.prototype._wordDiv=function(et,ei){var eo=(this.length,et.length),ea=this.clone(),ec=et,eh=0|ec.words[ec.length-1];0!=(eo=26-this._countBits(eh))&&(ec=ec.ushln(eo),ea.iushln(eo),eh=0|ec.words[ec.length-1]);var eu,ed=ea.length-ec.length;if("mod"!==ei){(eu=new s(null)).length=ed+1,eu.words=Array(eu.length);for(var ef=0;ef<eu.length;ef++)eu.words[ef]=0}var el=ea.clone()._ishlnsubmul(ec,1,ed);0===el.negative&&(ea=el,eu&&(eu.words[ed]=1));for(var ep=ed-1;ep>=0;ep--){var eb=67108864*(0|ea.words[ec.length+ep])+(0|ea.words[ec.length+ep-1]);for(eb=Math.min(eb/eh|0,67108863),ea._ishlnsubmul(ec,eb,ep);0!==ea.negative;)eb--,ea.negative=0,ea._ishlnsubmul(ec,1,ep),ea.isZero()||(ea.negative^=1);eu&&(eu.words[ep]=eb)}return eu&&eu._strip(),ea._strip(),"div"!==ei&&0!==eo&&ea.iushrn(eo),{div:eu||null,mod:ea}},s.prototype.divmod=function(et,ei,eo){var ea,ec,eh;return n(!et.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===et.negative?(eh=this.neg().divmod(et,ei),"mod"!==ei&&(ea=eh.div.neg()),"div"!==ei&&(ec=eh.mod.neg(),eo&&0!==ec.negative&&ec.iadd(et)),{div:ea,mod:ec}):0===this.negative&&0!==et.negative?(eh=this.divmod(et.neg(),ei),"mod"!==ei&&(ea=eh.div.neg()),{div:ea,mod:eh.mod}):this.negative&et.negative?(eh=this.neg().divmod(et.neg(),ei),"div"!==ei&&(ec=eh.mod.neg(),eo&&0!==ec.negative&&ec.isub(et)),{div:eh.div,mod:ec}):et.length>this.length||0>this.cmp(et)?{div:new s(0),mod:this}:1===et.length?"div"===ei?{div:this.divn(et.words[0]),mod:null}:"mod"===ei?{div:null,mod:new s(this.modrn(et.words[0]))}:{div:this.divn(et.words[0]),mod:new s(this.modrn(et.words[0]))}:this._wordDiv(et,ei)},s.prototype.div=function(et){return this.divmod(et,"div",!1).div},s.prototype.mod=function(et){return this.divmod(et,"mod",!1).mod},s.prototype.umod=function(et){return this.divmod(et,"mod",!0).mod},s.prototype.divRound=function(et){var ei=this.divmod(et);if(ei.mod.isZero())return ei.div;var eo=0!==ei.div.negative?ei.mod.isub(et):ei.mod,ea=et.ushrn(1),ec=et.andln(1),eh=eo.cmp(ea);return eh<0||1===ec&&0===eh?ei.div:0!==ei.div.negative?ei.div.isubn(1):ei.div.iaddn(1)},s.prototype.modrn=function(et){var ei=et<0;ei&&(et=-et),n(et<=67108863);for(var eo=67108864%et,ea=0,ec=this.length-1;ec>=0;ec--)ea=(eo*ea+(0|this.words[ec]))%et;return ei?-ea:ea},s.prototype.modn=function(et){return this.modrn(et)},s.prototype.idivn=function(et){var ei=et<0;ei&&(et=-et),n(et<=67108863);for(var eo=0,ea=this.length-1;ea>=0;ea--){var ec=(0|this.words[ea])+67108864*eo;this.words[ea]=ec/et|0,eo=ec%et}return this._strip(),ei?this.ineg():this},s.prototype.divn=function(et){return this.clone().idivn(et)},s.prototype.egcd=function(et){n(0===et.negative),n(!et.isZero());var ei=this,eo=et.clone();ei=0!==ei.negative?ei.umod(et):ei.clone();for(var ea=new s(1),ec=new s(0),eh=new s(0),eu=new s(1),ed=0;ei.isEven()&&eo.isEven();)ei.iushrn(1),eo.iushrn(1),++ed;for(var ef=eo.clone(),el=ei.clone();!ei.isZero();){for(var ep=0,eb=1;!(ei.words[0]&eb)&&ep<26;++ep,eb<<=1);if(ep>0)for(ei.iushrn(ep);ep-- >0;)(ea.isOdd()||ec.isOdd())&&(ea.iadd(ef),ec.isub(el)),ea.iushrn(1),ec.iushrn(1);for(var eg=0,em=1;!(eo.words[0]&em)&&eg<26;++eg,em<<=1);if(eg>0)for(eo.iushrn(eg);eg-- >0;)(eh.isOdd()||eu.isOdd())&&(eh.iadd(ef),eu.isub(el)),eh.iushrn(1),eu.iushrn(1);ei.cmp(eo)>=0?(ei.isub(eo),ea.isub(eh),ec.isub(eu)):(eo.isub(ei),eh.isub(ea),eu.isub(ec))}return{a:eh,b:eu,gcd:eo.iushln(ed)}},s.prototype._invmp=function(et){n(0===et.negative),n(!et.isZero());var ei=this,eo=et.clone();ei=0!==ei.negative?ei.umod(et):ei.clone();for(var ea,ec=new s(1),eh=new s(0),eu=eo.clone();ei.cmpn(1)>0&&eo.cmpn(1)>0;){for(var ed=0,ef=1;!(ei.words[0]&ef)&&ed<26;++ed,ef<<=1);if(ed>0)for(ei.iushrn(ed);ed-- >0;)ec.isOdd()&&ec.iadd(eu),ec.iushrn(1);for(var el=0,ep=1;!(eo.words[0]&ep)&&el<26;++el,ep<<=1);if(el>0)for(eo.iushrn(el);el-- >0;)eh.isOdd()&&eh.iadd(eu),eh.iushrn(1);ei.cmp(eo)>=0?(ei.isub(eo),ec.isub(eh)):(eo.isub(ei),eh.isub(ec))}return 0>(ea=0===ei.cmpn(1)?ec:eh).cmpn(0)&&ea.iadd(et),ea},s.prototype.gcd=function(et){if(this.isZero())return et.abs();if(et.isZero())return this.abs();var ei=this.clone(),eo=et.clone();ei.negative=0,eo.negative=0;for(var ea=0;ei.isEven()&&eo.isEven();ea++)ei.iushrn(1),eo.iushrn(1);for(;;){for(;ei.isEven();)ei.iushrn(1);for(;eo.isEven();)eo.iushrn(1);var ec=ei.cmp(eo);if(ec<0){var eh=ei;ei=eo,eo=eh}else if(0===ec||0===eo.cmpn(1))break;ei.isub(eo)}return eo.iushln(ea)},s.prototype.invm=function(et){return this.egcd(et).a.umod(et)},s.prototype.isEven=function(){return!(1&this.words[0])},s.prototype.isOdd=function(){return!(1&~this.words[0])},s.prototype.andln=function(et){return this.words[0]&et},s.prototype.bincn=function(et){n("number"==typeof et);var ei=et%26,eo=(et-ei)/26,ea=1<<ei;if(this.length<=eo)return this._expand(eo+1),this.words[eo]|=ea,this;for(var ec=ea,eh=eo;0!==ec&&eh<this.length;eh++){var eu=0|this.words[eh];ec=(eu+=ec)>>>26,eu&=67108863,this.words[eh]=eu}return 0!==ec&&(this.words[eh]=ec,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(et){var ei,eo=et<0;if(0!==this.negative&&!eo)return -1;if(0===this.negative&&eo)return 1;if(this._strip(),this.length>1)ei=1;else{eo&&(et=-et),n(et<=67108863,"Number is too big");var ea=0|this.words[0];ei=ea===et?0:ea<et?-1:1}return 0!==this.negative?0|-ei:ei},s.prototype.cmp=function(et){if(0!==this.negative&&0===et.negative)return -1;if(0===this.negative&&0!==et.negative)return 1;var ei=this.ucmp(et);return 0!==this.negative?0|-ei:ei},s.prototype.ucmp=function(et){if(this.length>et.length)return 1;if(this.length<et.length)return -1;for(var ei=0,eo=this.length-1;eo>=0;eo--){var ea=0|this.words[eo],ec=0|et.words[eo];if(ea!==ec){ea<ec?ei=-1:ea>ec&&(ei=1);break}}return ei},s.prototype.gtn=function(et){return 1===this.cmpn(et)},s.prototype.gt=function(et){return 1===this.cmp(et)},s.prototype.gten=function(et){return this.cmpn(et)>=0},s.prototype.gte=function(et){return this.cmp(et)>=0},s.prototype.ltn=function(et){return -1===this.cmpn(et)},s.prototype.lt=function(et){return -1===this.cmp(et)},s.prototype.lten=function(et){return 0>=this.cmpn(et)},s.prototype.lte=function(et){return 0>=this.cmp(et)},s.prototype.eqn=function(et){return 0===this.cmpn(et)},s.prototype.eq=function(et){return 0===this.cmp(et)},s.red=function(et){return new I(et)},s.prototype.toRed=function(et){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),et.convertTo(this)._forceRed(et)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(et){return this.red=et,this},s.prototype.forceRed=function(et){return n(!this.red,"Already a number in reduction context"),this._forceRed(et)},s.prototype.redAdd=function(et){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,et)},s.prototype.redIAdd=function(et){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,et)},s.prototype.redSub=function(et){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,et)},s.prototype.redISub=function(et){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,et)},s.prototype.redShl=function(et){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,et)},s.prototype.redMul=function(et){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,et),this.red.mul(this,et)},s.prototype.redIMul=function(et){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,et),this.red.imul(this,et)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(et){return n(this.red&&!et.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,et)};var ed={k256:null,p224:null,p192:null,p25519:null};function _(et,ei){this.name=et,this.p=new s(ei,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function E(){_.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function S(){_.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function A(){_.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function M(){_.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function I(et){if("string"==typeof et){var ei=s._prime(et);this.m=ei.p,this.prime=ei}else n(et.gtn(1),"modulus must be greater than 1"),this.m=et,this.prime=null}function T(et){I.call(this,et),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}_.prototype._tmp=function(){var et=new s(null);return et.words=Array(Math.ceil(this.n/13)),et},_.prototype.ireduce=function(et){var ei,eo=et;do this.split(eo,this.tmp),ei=(eo=(eo=this.imulK(eo)).iadd(this.tmp)).bitLength();while(ei>this.n);var ea=ei<this.n?-1:eo.ucmp(this.p);return 0===ea?(eo.words[0]=0,eo.length=1):ea>0?eo.isub(this.p):void 0!==eo.strip?eo.strip():eo._strip(),eo},_.prototype.split=function(et,ei){et.iushrn(this.n,0,ei)},_.prototype.imulK=function(et){return et.imul(this.k)},i(E,_),E.prototype.split=function(et,ei){for(var eo=Math.min(et.length,9),ea=0;ea<eo;ea++)ei.words[ea]=et.words[ea];if(ei.length=eo,et.length<=9)return et.words[0]=0,void(et.length=1);var ec=et.words[9];for(ei.words[ei.length++]=4194303&ec,ea=10;ea<et.length;ea++){var eh=0|et.words[ea];et.words[ea-10]=(4194303&eh)<<4|ec>>>22,ec=eh}ec>>>=22,et.words[ea-10]=ec,0===ec&&et.length>10?et.length-=10:et.length-=9},E.prototype.imulK=function(et){et.words[et.length]=0,et.words[et.length+1]=0,et.length+=2;for(var ei=0,eo=0;eo<et.length;eo++){var ea=0|et.words[eo];ei+=977*ea,et.words[eo]=67108863&ei,ei=64*ea+(ei/67108864|0)}return 0===et.words[et.length-1]&&(et.length--,0===et.words[et.length-1]&&et.length--),et},i(S,_),i(A,_),i(M,_),M.prototype.imulK=function(et){for(var ei=0,eo=0;eo<et.length;eo++){var ea=19*(0|et.words[eo])+ei,ec=67108863&ea;ea>>>=26,et.words[eo]=ec,ei=ea}return 0!==ei&&(et.words[et.length++]=ei),et},s._prime=function(et){var ei;if(ed[et])return ed[et];if("k256"===et)ei=new E;else if("p224"===et)ei=new S;else if("p192"===et)ei=new A;else{if("p25519"!==et)throw Error("Unknown prime "+et);ei=new M}return ed[et]=ei,ei},I.prototype._verify1=function(et){n(0===et.negative,"red works only with positives"),n(et.red,"red works only with red numbers")},I.prototype._verify2=function(et,ei){n(!(et.negative|ei.negative),"red works only with positives"),n(et.red&&et.red===ei.red,"red works only with red numbers")},I.prototype.imod=function(et){return this.prime?this.prime.ireduce(et)._forceRed(this):(u(et,et.umod(this.m)._forceRed(this)),et)},I.prototype.neg=function(et){return et.isZero()?et.clone():this.m.sub(et)._forceRed(this)},I.prototype.add=function(et,ei){this._verify2(et,ei);var eo=et.add(ei);return eo.cmp(this.m)>=0&&eo.isub(this.m),eo._forceRed(this)},I.prototype.iadd=function(et,ei){this._verify2(et,ei);var eo=et.iadd(ei);return eo.cmp(this.m)>=0&&eo.isub(this.m),eo},I.prototype.sub=function(et,ei){this._verify2(et,ei);var eo=et.sub(ei);return 0>eo.cmpn(0)&&eo.iadd(this.m),eo._forceRed(this)},I.prototype.isub=function(et,ei){this._verify2(et,ei);var eo=et.isub(ei);return 0>eo.cmpn(0)&&eo.iadd(this.m),eo},I.prototype.shl=function(et,ei){return this._verify1(et),this.imod(et.ushln(ei))},I.prototype.imul=function(et,ei){return this._verify2(et,ei),this.imod(et.imul(ei))},I.prototype.mul=function(et,ei){return this._verify2(et,ei),this.imod(et.mul(ei))},I.prototype.isqr=function(et){return this.imul(et,et.clone())},I.prototype.sqr=function(et){return this.mul(et,et)},I.prototype.sqrt=function(et){if(et.isZero())return et.clone();var ei=this.m.andln(3);if(n(ei%2==1),3===ei){var eo=this.m.add(new s(1)).iushrn(2);return this.pow(et,eo)}for(var ea=this.m.subn(1),ec=0;!ea.isZero()&&0===ea.andln(1);)ec++,ea.iushrn(1);n(!ea.isZero());var eh=new s(1).toRed(this),eu=eh.redNeg(),ed=this.m.subn(1).iushrn(1),ef=this.m.bitLength();for(ef=new s(2*ef*ef).toRed(this);0!==this.pow(ef,ed).cmp(eu);)ef.redIAdd(eu);for(var el=this.pow(ef,ea),ep=this.pow(et,ea.addn(1).iushrn(1)),eb=this.pow(et,ea),eg=ec;0!==eb.cmp(eh);){for(var em=eb,ey=0;0!==em.cmp(eh);ey++)em=em.redSqr();n(ey<eg);var ev=this.pow(el,new s(1).iushln(eg-ey-1));ep=ep.redMul(ev),el=ev.redSqr(),eb=eb.redMul(el),eg=ey}return ep},I.prototype.invm=function(et){var ei=et._invmp(this.m);return 0!==ei.negative?(ei.negative=0,this.imod(ei).redNeg()):this.imod(ei)},I.prototype.pow=function(et,ei){if(ei.isZero())return new s(1).toRed(this);if(0===ei.cmpn(1))return et.clone();var eo=Array(16);eo[0]=new s(1).toRed(this),eo[1]=et;for(var ea=2;ea<eo.length;ea++)eo[ea]=this.mul(eo[ea-1],et);var ec=eo[0],eh=0,eu=0,ed=ei.bitLength()%26;for(0===ed&&(ed=26),ea=ei.length-1;ea>=0;ea--){for(var ef=ei.words[ea],el=ed-1;el>=0;el--){var ep=ef>>el&1;ec!==eo[0]&&(ec=this.sqr(ec)),0!==ep||0!==eh?(eh<<=1,eh|=ep,(4==++eu||0===ea&&0===el)&&(ec=this.mul(ec,eo[eh]),eu=0,eh=0)):eu=0}ed=26}return ec},I.prototype.convertTo=function(et){var ei=et.umod(this.m);return ei===et?ei.clone():ei},I.prototype.convertFrom=function(et){var ei=et.clone();return ei.red=null,ei},s.mont=function(et){return new T(et)},i(T,I),T.prototype.convertTo=function(et){return this.imod(et.ushln(this.shift))},T.prototype.convertFrom=function(et){var ei=this.imod(et.mul(this.rinv));return ei.red=null,ei},T.prototype.imul=function(et,ei){if(et.isZero()||ei.isZero())return et.words[0]=0,et.length=1,et;var eo=et.imul(ei),ea=eo.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ec=eo.isub(ea).iushrn(this.shift),eh=ec;return ec.cmp(this.m)>=0?eh=ec.isub(this.m):0>ec.cmpn(0)&&(eh=ec.iadd(this.m)),eh._forceRed(this)},T.prototype.mul=function(et,ei){if(et.isZero()||ei.isZero())return new s(0)._forceRed(this);var eo=et.mul(ei),ea=eo.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ec=eo.isub(ea).iushrn(this.shift),eh=ec;return ec.cmp(this.m)>=0?eh=ec.isub(this.m):0>ec.cmpn(0)&&(eh=ec.iadd(this.m)),eh._forceRed(this)},T.prototype.invm=function(et){return this.imod(et._invmp(this.m).mul(this.r2))._forceRed(this)}}(et=eo.nmd(et),this)},5442:(et,ei,eo)=>{var ea;function i(et){this.rand=et}if(et.exports=function(et){return ea||(ea=new i(null)),ea.generate(et)},et.exports.Rand=i,i.prototype.generate=function(et){return this._rand(et)},i.prototype._rand=function(et){if(this.rand.getBytes)return this.rand.getBytes(et);for(var ei=new Uint8Array(et),eo=0;eo<ei.length;eo++)ei[eo]=this.rand.getByte();return ei},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?i.prototype._rand=function(et){var ei=new Uint8Array(et);return self.crypto.getRandomValues(ei),ei}:self.msCrypto&&self.msCrypto.getRandomValues?i.prototype._rand=function(et){var ei=new Uint8Array(et);return self.msCrypto.getRandomValues(ei),ei}:"object"==typeof window&&(i.prototype._rand=function(){throw Error("Not implemented yet")});else try{var ec=eo(4507);if("function"!=typeof ec.randomBytes)throw Error("Not supported");i.prototype._rand=function(et){return ec.randomBytes(et)}}catch(et){}},7088:(et,ei,eo)=>{var ea=eo(6608).Buffer;function i(et){ea.isBuffer(et)||(et=ea.from(et));for(var ei=et.length/4|0,eo=Array(ei),ec=0;ec<ei;ec++)eo[ec]=et.readUInt32BE(4*ec);return eo}function s(et){for(;0<et.length;et++)et[0]=0}function o(et,ei,eo,ea,ec){for(var eh,eu,ed,ef,el=eo[0],ep=eo[1],eb=eo[2],eg=eo[3],em=et[0]^ei[0],ey=et[1]^ei[1],ev=et[2]^ei[2],ew=et[3]^ei[3],e_=4,eE=1;eE<ec;eE++)eh=el[em>>>24]^ep[ey>>>16&255]^eb[ev>>>8&255]^eg[255&ew]^ei[e_++],eu=el[ey>>>24]^ep[ev>>>16&255]^eb[ew>>>8&255]^eg[255&em]^ei[e_++],ed=el[ev>>>24]^ep[ew>>>16&255]^eb[em>>>8&255]^eg[255&ey]^ei[e_++],ef=el[ew>>>24]^ep[em>>>16&255]^eb[ey>>>8&255]^eg[255&ev]^ei[e_++],em=eh,ey=eu,ev=ed,ew=ef;return[eh=((ea[em>>>24]<<24|ea[ey>>>16&255]<<16|ea[ev>>>8&255]<<8|ea[255&ew])^ei[e_++])>>>0,eu=((ea[ey>>>24]<<24|ea[ev>>>16&255]<<16|ea[ew>>>8&255]<<8|ea[255&em])^ei[e_++])>>>0,ed=((ea[ev>>>24]<<24|ea[ew>>>16&255]<<16|ea[em>>>8&255]<<8|ea[255&ey])^ei[e_++])>>>0,ef=((ea[ew>>>24]<<24|ea[em>>>16&255]<<16|ea[ey>>>8&255]<<8|ea[255&ev])^ei[e_++])>>>0]}var ec=[0,1,2,4,8,16,32,64,128,27,54],eh=function(){for(var et=Array(256),ei=0;ei<256;ei++)et[ei]=ei<128?ei<<1:ei<<1^283;for(var eo=[],ea=[],ec=[[],[],[],[]],eh=[[],[],[],[]],eu=0,ed=0,ef=0;ef<256;++ef){var el=ed^ed<<1^ed<<2^ed<<3^ed<<4;el=el>>>8^255&el^99,eo[eu]=el,ea[el]=eu;var ep=et[eu],eb=et[ep],eg=et[eb],em=257*et[el]^16843008*el;ec[0][eu]=em<<24|em>>>8,ec[1][eu]=em<<16|em>>>16,ec[2][eu]=em<<8|em>>>24,ec[3][eu]=em,em=16843009*eg^65537*eb^257*ep^16843008*eu,eh[0][el]=em<<24|em>>>8,eh[1][el]=em<<16|em>>>16,eh[2][el]=em<<8|em>>>24,eh[3][el]=em,0===eu?eu=ed=1:(eu=ep^et[et[et[eg^ep]]],ed^=et[et[ed]])}return{SBOX:eo,INV_SBOX:ea,SUB_MIX:ec,INV_SUB_MIX:eh}}();function h(et){this._key=i(et),this._reset()}h.blockSize=16,h.keySize=32,h.prototype.blockSize=h.blockSize,h.prototype.keySize=h.keySize,h.prototype._reset=function(){for(var et=this._key,ei=et.length,eo=ei+6,ea=4*(eo+1),eu=[],ed=0;ed<ei;ed++)eu[ed]=et[ed];for(ed=ei;ed<ea;ed++){var ef=eu[ed-1];ed%ei==0?(ef=ef<<8|ef>>>24,ef=(eh.SBOX[ef>>>24]<<24|eh.SBOX[ef>>>16&255]<<16|eh.SBOX[ef>>>8&255]<<8|eh.SBOX[255&ef])^ec[ed/ei|0]<<24):ei>6&&ed%ei==4&&(ef=eh.SBOX[ef>>>24]<<24|eh.SBOX[ef>>>16&255]<<16|eh.SBOX[ef>>>8&255]<<8|eh.SBOX[255&ef]),eu[ed]=eu[ed-ei]^ef}for(var el=[],ep=0;ep<ea;ep++){var eb=ea-ep,eg=eu[eb-(ep%4?0:4)];el[ep]=ep<4||eb<=4?eg:eh.INV_SUB_MIX[0][eh.SBOX[eg>>>24]]^eh.INV_SUB_MIX[1][eh.SBOX[eg>>>16&255]]^eh.INV_SUB_MIX[2][eh.SBOX[eg>>>8&255]]^eh.INV_SUB_MIX[3][eh.SBOX[255&eg]]}this._nRounds=eo,this._keySchedule=eu,this._invKeySchedule=el},h.prototype.encryptBlockRaw=function(et){return o(et=i(et),this._keySchedule,eh.SUB_MIX,eh.SBOX,this._nRounds)},h.prototype.encryptBlock=function(et){var ei=this.encryptBlockRaw(et),eo=ea.allocUnsafe(16);return eo.writeUInt32BE(ei[0],0),eo.writeUInt32BE(ei[1],4),eo.writeUInt32BE(ei[2],8),eo.writeUInt32BE(ei[3],12),eo},h.prototype.decryptBlock=function(et){var ei=(et=i(et))[1];et[1]=et[3],et[3]=ei;var eo=o(et,this._invKeySchedule,eh.INV_SUB_MIX,eh.INV_SBOX,this._nRounds),ec=ea.allocUnsafe(16);return ec.writeUInt32BE(eo[0],0),ec.writeUInt32BE(eo[3],4),ec.writeUInt32BE(eo[2],8),ec.writeUInt32BE(eo[1],12),ec},h.prototype.scrub=function(){s(this._keySchedule),s(this._invKeySchedule),s(this._key)},et.exports.AES=h},8182:(et,ei,eo)=>{var ea=eo(7088),ec=eo(6608).Buffer,eh=eo(4705),eu=eo(1193),ed=eo(50),ef=eo(460),el=eo(6696);function u(et,ei,eo,eu){eh.call(this);var ef=ec.alloc(4,0);this._cipher=new ea.AES(ei);var ep=this._cipher.encryptBlock(ef);this._ghash=new ed(ep),eo=function(et,ei,eo){if(12===ei.length)return et._finID=ec.concat([ei,ec.from([0,0,0,1])]),ec.concat([ei,ec.from([0,0,0,2])]);var ea=new ed(eo),eh=ei.length,eu=eh%16;ea.update(ei),eu&&(eu=16-eu,ea.update(ec.alloc(eu,0))),ea.update(ec.alloc(8,0));var ef=ec.alloc(8);ef.writeUIntBE(8*eh,0,8),ea.update(ef),et._finID=ea.state;var ep=ec.from(et._finID);return el(ep),ep}(this,eo,ep),this._prev=ec.from(eo),this._cache=ec.allocUnsafe(0),this._secCache=ec.allocUnsafe(0),this._decrypt=eu,this._alen=0,this._len=0,this._mode=et,this._authTag=null,this._called=!1}eu(u,eh),u.prototype._update=function(et){if(!this._called&&this._alen){var ei=16-this._alen%16;ei<16&&(ei=ec.alloc(ei,0),this._ghash.update(ei))}this._called=!0;var eo=this._mode.encrypt(this,et);return this._decrypt?this._ghash.update(et):this._ghash.update(eo),this._len+=et.length,eo},u.prototype._final=function(){if(this._decrypt&&!this._authTag)throw Error("Unsupported state or unable to authenticate data");var et=ef(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(et,ei){var eo=0;et.length!==ei.length&&eo++;for(var ea=Math.min(et.length,ei.length),ec=0;ec<ea;++ec)eo+=et[ec]^ei[ec];return eo}(et,this._authTag))throw Error("Unsupported state or unable to authenticate data");this._authTag=et,this._cipher.scrub()},u.prototype.getAuthTag=function(){if(this._decrypt||!ec.isBuffer(this._authTag))throw Error("Attempting to get auth tag in unsupported state");return this._authTag},u.prototype.setAuthTag=function(et){if(!this._decrypt)throw Error("Attempting to set auth tag in unsupported state");this._authTag=et},u.prototype.setAAD=function(et){if(this._called)throw Error("Attempting to set AAD in unsupported state");this._ghash.update(et),this._alen+=et.length},et.exports=u},5007:(et,ei,eo)=>{var ea=eo(5173),ec=eo(8733),eh=eo(3349);ei.createCipher=ei.Cipher=ea.createCipher,ei.createCipheriv=ei.Cipheriv=ea.createCipheriv,ei.createDecipher=ei.Decipher=ec.createDecipher,ei.createDecipheriv=ei.Decipheriv=ec.createDecipheriv,ei.listCiphers=ei.getCiphers=function(){return Object.keys(eh)}},8733:(et,ei,eo)=>{var ea=eo(8182),ec=eo(6608).Buffer,eh=eo(6200),eu=eo(8116),ed=eo(4705),ef=eo(7088),el=eo(1804);function u(et,ei,eo){ed.call(this),this._cache=new d,this._last=void 0,this._cipher=new ef.AES(ei),this._prev=ec.from(eo),this._mode=et,this._autopadding=!0}function d(){this.cache=ec.allocUnsafe(0)}function f(et,ei,eo){var ed=eh[et.toLowerCase()];if(!ed)throw TypeError("invalid suite type");if("string"==typeof eo&&(eo=ec.from(eo)),"GCM"!==ed.mode&&eo.length!==ed.iv)throw TypeError("invalid iv length "+eo.length);if("string"==typeof ei&&(ei=ec.from(ei)),ei.length!==ed.key/8)throw TypeError("invalid key length "+ei.length);return"stream"===ed.type?new eu(ed.module,ei,eo,!0):"auth"===ed.type?new ea(ed.module,ei,eo,!0):new u(ed.module,ei,eo)}eo(1193)(u,ed),u.prototype._update=function(et){var ei,eo;this._cache.add(et);for(var ea=[];ei=this._cache.get(this._autopadding);)eo=this._mode.decrypt(this,ei),ea.push(eo);return ec.concat(ea)},u.prototype._final=function(){var et=this._cache.flush();if(this._autopadding)return function(et){var ei=et[15];if(ei<1||ei>16)throw Error("unable to decrypt data");for(var eo=-1;++eo<ei;)if(et[eo+(16-ei)]!==ei)throw Error("unable to decrypt data");if(16!==ei)return et.slice(0,16-ei)}(this._mode.decrypt(this,et));if(et)throw Error("data not multiple of block length")},u.prototype.setAutoPadding=function(et){return this._autopadding=!!et,this},d.prototype.add=function(et){this.cache=ec.concat([this.cache,et])},d.prototype.get=function(et){var ei;if(et){if(this.cache.length>16)return ei=this.cache.slice(0,16),this.cache=this.cache.slice(16),ei}else if(this.cache.length>=16)return ei=this.cache.slice(0,16),this.cache=this.cache.slice(16),ei;return null},d.prototype.flush=function(){if(this.cache.length)return this.cache},ei.createDecipher=function(et,ei){var eo=eh[et.toLowerCase()];if(!eo)throw TypeError("invalid suite type");var ea=el(ei,!1,eo.key,eo.iv);return f(et,ea.key,ea.iv)},ei.createDecipheriv=f},5173:(et,ei,eo)=>{var ea=eo(6200),ec=eo(8182),eh=eo(6608).Buffer,eu=eo(8116),ed=eo(4705),ef=eo(7088),el=eo(1804);function u(et,ei,eo){ed.call(this),this._cache=new f,this._cipher=new ef.AES(ei),this._prev=eh.from(eo),this._mode=et,this._autopadding=!0}eo(1193)(u,ed),u.prototype._update=function(et){var ei,eo;this._cache.add(et);for(var ea=[];ei=this._cache.get();)eo=this._mode.encrypt(this,ei),ea.push(eo);return eh.concat(ea)};var ep=eh.alloc(16,16);function f(){this.cache=eh.allocUnsafe(0)}function l(et,ei,eo){var ed=ea[et.toLowerCase()];if(!ed)throw TypeError("invalid suite type");if("string"==typeof ei&&(ei=eh.from(ei)),ei.length!==ed.key/8)throw TypeError("invalid key length "+ei.length);if("string"==typeof eo&&(eo=eh.from(eo)),"GCM"!==ed.mode&&eo.length!==ed.iv)throw TypeError("invalid iv length "+eo.length);return"stream"===ed.type?new eu(ed.module,ei,eo):"auth"===ed.type?new ec(ed.module,ei,eo):new u(ed.module,ei,eo)}u.prototype._final=function(){var et=this._cache.flush();if(this._autopadding)return et=this._mode.encrypt(this,et),this._cipher.scrub(),et;if(!et.equals(ep))throw this._cipher.scrub(),Error("data not multiple of block length")},u.prototype.setAutoPadding=function(et){return this._autopadding=!!et,this},f.prototype.add=function(et){this.cache=eh.concat([this.cache,et])},f.prototype.get=function(){if(this.cache.length>15){var et=this.cache.slice(0,16);return this.cache=this.cache.slice(16),et}return null},f.prototype.flush=function(){for(var et=16-this.cache.length,ei=eh.allocUnsafe(et),eo=-1;++eo<et;)ei.writeUInt8(et,eo);return eh.concat([this.cache,ei])},ei.createCipheriv=l,ei.createCipher=function(et,ei){var eo=ea[et.toLowerCase()];if(!eo)throw TypeError("invalid suite type");var ec=el(ei,!1,eo.key,eo.iv);return l(et,ec.key,ec.iv)}},50:(et,ei,eo)=>{var ea=eo(6608).Buffer,ec=ea.alloc(16,0);function s(et){var ei=ea.allocUnsafe(16);return ei.writeUInt32BE(et[0]>>>0,0),ei.writeUInt32BE(et[1]>>>0,4),ei.writeUInt32BE(et[2]>>>0,8),ei.writeUInt32BE(et[3]>>>0,12),ei}function o(et){this.h=et,this.state=ea.alloc(16,0),this.cache=ea.allocUnsafe(0)}o.prototype.ghash=function(et){for(var ei=-1;++ei<et.length;)this.state[ei]^=et[ei];this._multiply()},o.prototype._multiply=function(){for(var et,ei,eo,ea=[(et=this.h).readUInt32BE(0),et.readUInt32BE(4),et.readUInt32BE(8),et.readUInt32BE(12)],ec=[0,0,0,0],eh=-1;++eh<128;){for(this.state[~~(eh/8)]&1<<7-eh%8&&(ec[0]^=ea[0],ec[1]^=ea[1],ec[2]^=ea[2],ec[3]^=ea[3]),eo=!!(1&ea[3]),ei=3;ei>0;ei--)ea[ei]=ea[ei]>>>1|(1&ea[ei-1])<<31;ea[0]=ea[0]>>>1,eo&&(ea[0]=-520093696^ea[0])}this.state=s(ec)},o.prototype.update=function(et){var ei;for(this.cache=ea.concat([this.cache,et]);this.cache.length>=16;)ei=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(ei)},o.prototype.final=function(et,ei){return this.cache.length&&this.ghash(ea.concat([this.cache,ec],16)),this.ghash(s([0,et,0,ei])),this.state},et.exports=o},6696:et=>{et.exports=function(et){for(var ei,eo=et.length;eo--;){if(255!==(ei=et.readUInt8(eo))){ei++,et.writeUInt8(ei,eo);break}et.writeUInt8(0,eo)}}},3506:(et,ei,eo)=>{var ea=eo(460);ei.encrypt=function(et,ei){var eo=ea(ei,et._prev);return et._prev=et._cipher.encryptBlock(eo),et._prev},ei.decrypt=function(et,ei){var eo=et._prev;return et._prev=ei,ea(et._cipher.decryptBlock(ei),eo)}},6149:(et,ei,eo)=>{var ea=eo(6608).Buffer,ec=eo(460);function s(et,ei,eo){var eh=ei.length,eu=ec(ei,et._cache);return et._cache=et._cache.slice(eh),et._prev=ea.concat([et._prev,eo?ei:eu]),eu}ei.encrypt=function(et,ei,eo){for(var ec,eh=ea.allocUnsafe(0);ei.length;){if(0===et._cache.length&&(et._cache=et._cipher.encryptBlock(et._prev),et._prev=ea.allocUnsafe(0)),!(et._cache.length<=ei.length)){eh=ea.concat([eh,s(et,ei,eo)]);break}ec=et._cache.length,eh=ea.concat([eh,s(et,ei.slice(0,ec),eo)]),ei=ei.slice(ec)}return eh}},8394:(et,ei,eo)=>{var ea=eo(6608).Buffer;ei.encrypt=function(et,ei,eo){for(var ec=ei.length,eh=ea.allocUnsafe(ec),eu=-1;++eu<ec;)eh[eu]=function(et,ei,eo){for(var ec,eh,eu=-1,ed=0;++eu<8;)ec=ei&1<<7-eu?128:0,ed+=(128&(eh=et._cipher.encryptBlock(et._prev)[0]^ec))>>eu%8,et._prev=function(et,ei){var eo=et.length,ec=-1,eh=ea.allocUnsafe(et.length);for(et=ea.concat([et,ea.from([ei])]);++ec<eo;)eh[ec]=et[ec]<<1|et[ec+1]>>7;return eh}(et._prev,eo?ec:eh);return ed}(et,ei[eu],eo);return eh}},193:(et,ei,eo)=>{var ea=eo(6608).Buffer;ei.encrypt=function(et,ei,eo){for(var ec=ei.length,eh=ea.allocUnsafe(ec),eu=-1;++eu<ec;)eh[eu]=function(et,ei,eo){var ec=et._cipher.encryptBlock(et._prev)[0]^ei;return et._prev=ea.concat([et._prev.slice(1),ea.from([eo?ei:ec])]),ec}(et,ei[eu],eo);return eh}},5527:(et,ei,eo)=>{var ea=eo(460),ec=eo(6608).Buffer,eh=eo(6696);ei.encrypt=function(et,ei){var eo=Math.ceil(ei.length/16),eu=et._cache.length;et._cache=ec.concat([et._cache,ec.allocUnsafe(16*eo)]);for(var ed=0;ed<eo;ed++){var ef=function(et){var ei=et._cipher.encryptBlockRaw(et._prev);return eh(et._prev),ei}(et),el=eu+16*ed;et._cache.writeUInt32BE(ef[0],el+0),et._cache.writeUInt32BE(ef[1],el+4),et._cache.writeUInt32BE(ef[2],el+8),et._cache.writeUInt32BE(ef[3],el+12)}var ep=et._cache.slice(0,ei.length);return et._cache=et._cache.slice(ei.length),ea(ei,ep)}},882:(et,ei)=>{ei.encrypt=function(et,ei){return et._cipher.encryptBlock(ei)},ei.decrypt=function(et,ei){return et._cipher.decryptBlock(ei)}},6200:(et,ei,eo)=>{var ea={ECB:eo(882),CBC:eo(3506),CFB:eo(6149),CFB8:eo(193),CFB1:eo(8394),OFB:eo(7481),CTR:eo(5527),GCM:eo(5527)},ec=eo(3349);for(var eh in ec)ec[eh].module=ea[ec[eh].mode];et.exports=ec},7481:(et,ei,eo)=>{var ea=eo(460);ei.encrypt=function(et,ei){for(;et._cache.length<ei.length;)et._cache=ec.concat([et._cache,(et._prev=et._cipher.encryptBlock(et._prev),et._prev)]);var eo=et._cache.slice(0,ei.length);return et._cache=et._cache.slice(ei.length),ea(ei,eo)}},8116:(et,ei,eo)=>{var ea=eo(7088),ec=eo(6608).Buffer,eh=eo(4705);function o(et,ei,eo,eu){eh.call(this),this._cipher=new ea.AES(ei),this._prev=ec.from(eo),this._cache=ec.allocUnsafe(0),this._secCache=ec.allocUnsafe(0),this._decrypt=eu,this._mode=et}eo(1193)(o,eh),o.prototype._update=function(et){return this._mode.encrypt(this,et,this._decrypt)},o.prototype._final=function(){this._cipher.scrub()},et.exports=o},8350:(et,ei,eo)=>{var ea=eo(4487),ec=eo(5007),eh=eo(6200),eu=eo(3811),ed=eo(1804);function c(et,ei,eo){if(eh[et=et.toLowerCase()])return ec.createCipheriv(et,ei,eo);if(eu[et])return new ea({key:ei,iv:eo,mode:et});throw TypeError("invalid suite type")}function h(et,ei,eo){if(eh[et=et.toLowerCase()])return ec.createDecipheriv(et,ei,eo);if(eu[et])return new ea({key:ei,iv:eo,mode:et,decrypt:!0});throw TypeError("invalid suite type")}ei.createCipher=ei.Cipher=function(et,ei){if(eh[et=et.toLowerCase()])eo=eh[et].key,ea=eh[et].iv;else{if(!eu[et])throw TypeError("invalid suite type");eo=8*eu[et].key,ea=eu[et].iv}var eo,ea,ec=ed(ei,!1,eo,ea);return c(et,ec.key,ec.iv)},ei.createCipheriv=ei.Cipheriv=c,ei.createDecipher=ei.Decipher=function(et,ei){if(eh[et=et.toLowerCase()])eo=eh[et].key,ea=eh[et].iv;else{if(!eu[et])throw TypeError("invalid suite type");eo=8*eu[et].key,ea=eu[et].iv}var eo,ea,ec=ed(ei,!1,eo,ea);return h(et,ec.key,ec.iv)},ei.createDecipheriv=ei.Decipheriv=h,ei.listCiphers=ei.getCiphers=function(){return Object.keys(eu).concat(ec.getCiphers())}},4487:(et,ei,eo)=>{var ea=eo(4705),ec=eo(2398),eh=eo(1193),eu=eo(6608).Buffer,ed={"des-ede3-cbc":ec.CBC.instantiate(ec.EDE),"des-ede3":ec.EDE,"des-ede-cbc":ec.CBC.instantiate(ec.EDE),"des-ede":ec.EDE,"des-cbc":ec.CBC.instantiate(ec.DES),"des-ecb":ec.DES};function c(et){ea.call(this);var ei,eo=et.mode.toLowerCase(),ec=ed[eo];ei=et.decrypt?"decrypt":"encrypt";var eh=et.key;eu.isBuffer(eh)||(eh=eu.from(eh)),"des-ede"!==eo&&"des-ede-cbc"!==eo||(eh=eu.concat([eh,eh.slice(0,8)]));var ef=et.iv;eu.isBuffer(ef)||(ef=eu.from(ef)),this._des=ec.create({key:eh,iv:ef,type:ei})}ed.des=ed["des-cbc"],ed.des3=ed["des-ede3-cbc"],et.exports=c,eh(c,ea),c.prototype._update=function(et){return eu.from(this._des.update(et))},c.prototype._final=function(){return eu.from(this._des.final())}},3811:(et,ei)=>{ei["des-ecb"]={key:8,iv:0},ei["des-cbc"]=ei.des={key:8,iv:8},ei["des-ede3-cbc"]=ei.des3={key:24,iv:8},ei["des-ede3"]={key:24,iv:0},ei["des-ede-cbc"]={key:16,iv:8},ei["des-ede"]={key:16,iv:0}},1377:(et,ei,eo)=>{var ea=eo(3900),eh=eo(2869);function s(et){var ei,eo=et.modulus.byteLength();do ei=new ea(eh(eo));while(ei.cmp(et.modulus)>=0||!ei.umod(et.prime1)||!ei.umod(et.prime2));return ei}function o(et,ei){var eo,eh={blinder:(eo=s(ei)).toRed(ea.mont(ei.modulus)).redPow(new ea(ei.publicExponent)).fromRed(),unblinder:eo.invm(ei.modulus)},eu=ei.modulus.byteLength(),ed=new ea(et).mul(eh.blinder).umod(ei.modulus),ef=ed.toRed(ea.mont(ei.prime1)),el=ed.toRed(ea.mont(ei.prime2)),ep=ei.coefficient,eb=ei.prime1,eg=ei.prime2,em=ef.redPow(ei.exponent1).fromRed(),ey=el.redPow(ei.exponent2).fromRed(),ev=em.isub(ey).imul(ep).umod(eb).imul(eg);return ey.iadd(ev).imul(eh.unblinder).umod(ei.modulus).toArrayLike(ec,"be",eu)}o.getr=s,et.exports=o},8950:(et,ei,eo)=>{"use strict";et.exports=eo(6980)},6105:(et,ei,eo)=>{"use strict";var ea=eo(6608).Buffer,ec=eo(8955),eh=eo(1094),eu=eo(1193),ed=eo(9508),ef=eo(5504),el=eo(6980);function u(et){eh.Writable.call(this);var ei=el[et];if(!ei)throw Error("Unknown message digest");this._hashType=ei.hash,this._hash=ec(ei.hash),this._tag=ei.id,this._signType=ei.sign}function d(et){eh.Writable.call(this);var ei=el[et];if(!ei)throw Error("Unknown message digest");this._hash=ec(ei.hash),this._tag=ei.id,this._signType=ei.sign}function f(et){return new u(et)}function l(et){return new d(et)}Object.keys(el).forEach(function(et){el[et].id=ea.from(el[et].id,"hex"),el[et.toLowerCase()]=el[et]}),eu(u,eh.Writable),u.prototype._write=function(et,ei,eo){this._hash.update(et),eo()},u.prototype.update=function(et,ei){return this._hash.update("string"==typeof et?ea.from(et,ei):et),this},u.prototype.sign=function(et,ei){this.end();var eo=ed(this._hash.digest(),et,this._hashType,this._signType,this._tag);return ei?eo.toString(ei):eo},eu(d,eh.Writable),d.prototype._write=function(et,ei,eo){this._hash.update(et),eo()},d.prototype.update=function(et,ei){return this._hash.update("string"==typeof et?ea.from(et,ei):et),this},d.prototype.verify=function(et,ei,eo){var ec="string"==typeof ei?ea.from(ei,eo):ei;return this.end(),ef(ec,this._hash.digest(),et,this._signType,this._tag)},et.exports={Sign:f,Verify:l,createSign:f,createVerify:l}},9508:(et,ei,eo)=>{"use strict";var ea=eo(6608).Buffer,ec=eo(3053),eh=eo(1377),eu=eo(3210).ec,ed=eo(3900),ef=eo(780),el=eo(9262);function u(et,ei,eo,eh){if((et=ea.from(et.toArray())).length<ei.byteLength()){var eu=ea.alloc(ei.byteLength()-et.length);et=ea.concat([eu,et])}var ed=eo.length,ef=function(et,ei){et=(et=d(et,ei)).mod(ei);var eo=ea.from(et.toArray());if(eo.length<ei.byteLength()){var ec=ea.alloc(ei.byteLength()-eo.length);eo=ea.concat([ec,eo])}return eo}(eo,ei),el=ea.alloc(ed);el.fill(1);var ep=ea.alloc(ed);return ep=ec(eh,ep).update(el).update(ea.from([0])).update(et).update(ef).digest(),el=ec(eh,ep).update(el).digest(),{k:ep=ec(eh,ep).update(el).update(ea.from([1])).update(et).update(ef).digest(),v:el=ec(eh,ep).update(el).digest()}}function d(et,ei){var eo=new ed(et),ea=(et.length<<3)-ei.bitLength();return ea>0&&eo.ishrn(ea),eo}function f(et,ei,eo){var eh,eu;do{for(eh=ea.alloc(0);8*eh.length<et.bitLength();)ei.v=ec(eo,ei.k).update(ei.v).digest(),eh=ea.concat([eh,ei.v]);eu=d(eh,et),ei.k=ec(eo,ei.k).update(ei.v).update(ea.from([0])).digest(),ei.v=ec(eo,ei.k).update(ei.v).digest()}while(-1!==eu.cmp(et));return eu}et.exports=function(et,ei,eo,ec,ep){var eb=ef(ei);if(eb.curve){if("ecdsa"!==ec&&"ecdsa/rsa"!==ec)throw Error("wrong private key type");return function(et,ei){var eo=el[ei.curve.join(".")];if(!eo)throw Error("unknown curve "+ei.curve.join("."));var ec=new eu(eo).keyFromPrivate(ei.privateKey).sign(et);return ea.from(ec.toDER())}(et,eb)}if("dsa"===eb.type){if("dsa"!==ec)throw Error("wrong private key type");return function(et,ei,eo){for(var ec,eh,eu,ef,el,ep=ei.params.priv_key,eb=ei.params.p,eg=ei.params.q,em=ei.params.g,ey=new ed(0),ev=d(et,eg).mod(eg),ew=!1,e_=u(ep,eg,et,eo);!1===ew;)ec=el=f(eg,e_,eo),ey=em.toRed(ed.mont(eb)).redPow(ec).fromRed().mod(eg),0===(ew=el.invm(eg).imul(ev.add(ep.mul(ey))).mod(eg)).cmpn(0)&&(ew=!1,ey=new ed(0));return eh=ey,eu=ew,eh=eh.toArray(),eu=eu.toArray(),128&eh[0]&&(eh=[0].concat(eh)),128&eu[0]&&(eu=[0].concat(eu)),ef=(ef=[48,eh.length+eu.length+4,2,eh.length]).concat(eh,[2,eu.length],eu),ea.from(ef)}(et,eb,eo)}if("rsa"!==ec&&"ecdsa/rsa"!==ec)throw Error("wrong private key type");if(void 0!==ei.padding&&1!==ei.padding)throw Error("illegal or unsupported padding mode");et=ea.concat([ep,et]);for(var eg=eb.modulus.byteLength(),em=[0,1];et.length+em.length+1<eg;)em.push(255);em.push(0);for(var ey=-1;++ey<et.length;)em.push(et[ey]);return eh(em,eb)},et.exports.getKey=u,et.exports.makeKey=f},5504:(et,ei,eo)=>{"use strict";var ea=eo(6608).Buffer,ec=eo(3900),eh=eo(3210).ec,eu=eo(780),ed=eo(9262);function c(et,ei){if(0>=et.cmpn(0)||et.cmp(ei)>=0)throw Error("invalid sig")}et.exports=function(et,ei,eo,ef,el){var ep,eb,eg,em,ey,ev,ew,e_,eE,eS,eA,eM=eu(eo);if("ec"===eM.type){if("ecdsa"!==ef&&"ecdsa/rsa"!==ef)throw Error("wrong public key type");return function(et,ei,eo){var ea=ed[eo.data.algorithm.curve.join(".")];if(!ea)throw Error("unknown curve "+eo.data.algorithm.curve.join("."));var ec=new eh(ea),eu=eo.data.subjectPrivateKey.data;return ec.verify(ei,et,eu)}(et,ei,eM)}if("dsa"===eM.type){if("dsa"!==ef)throw Error("wrong public key type");return ep=et,eb=ei,eg=eM.data.p,em=eM.data.q,ey=eM.data.g,ev=eM.data.pub_key,e_=(ew=eu.signature.decode(ep,"der")).s,eE=ew.r,c(e_,em),c(eE,em),eS=ec.mont(eg),eA=e_.invm(em),0===ey.toRed(eS).redPow(new ec(eb).mul(eA).mod(em)).fromRed().mul(ev.toRed(eS).redPow(eE.mul(eA).mod(em)).fromRed()).mod(eg).mod(em).cmp(eE)}if("rsa"!==ef&&"ecdsa/rsa"!==ef)throw Error("wrong public key type");ei=ea.concat([el,ei]);for(var eI=eM.modulus.byteLength(),eT=[1],ex=0;ei.length+eT.length+2<eI;)eT.push(255),ex+=1;eT.push(0);for(var eC=-1;++eC<ei.length;)eT.push(ei[eC]);eT=ea.from(eT);var eR=ec.mont(eM.modulus);et=(et=new ec(et).toRed(eR)).redPow(new ec(eM.publicExponent));var ek=ex<8?1:0;for(eI=Math.min((et=ea.from(et.fromRed().toArray())).length,eT.length),et.length!==eT.length&&(ek=1),eC=-1;++eC<eI;)ek|=et[eC]^eT[eC];return 0===ek}},460:et=>{et.exports=function(et,ei){for(var eo=Math.min(et.length,ei.length),ea=new ec(eo),eh=0;eh<eo;++eh)ea[eh]=et[eh]^ei[eh];return ea}},6533:(et,ei,eo)=>{"use strict";let ea=eo(4933),ec=eo(3328),eh="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function a(et){if(et>2147483647)throw RangeError('The value "'+et+'" is invalid for option "size"');let ei=new Uint8Array(et);return Object.setPrototypeOf(ei,c.prototype),ei}function c(et,ei,eo){if("number"==typeof et){if("string"==typeof ei)throw TypeError('The "string" argument must be of type string. Received type number');return d(et)}return h(et,ei,eo)}function h(et,ei,eo){if("string"==typeof et)return function(et,ei){if("string"==typeof ei&&""!==ei||(ei="utf8"),!c.isEncoding(ei))throw TypeError("Unknown encoding: "+ei);let eo=0|b(et,ei),ea=a(eo),ec=ea.write(et,ei);return ec!==eo&&(ea=ea.slice(0,ec)),ea}(et,ei);if(ArrayBuffer.isView(et))return function(et){if(J(et,Uint8Array)){let ei=new Uint8Array(et);return l(ei.buffer,ei.byteOffset,ei.byteLength)}return f(et)}(et);if(null==et)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof et);if(J(et,ArrayBuffer)||et&&J(et.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(J(et,SharedArrayBuffer)||et&&J(et.buffer,SharedArrayBuffer)))return l(et,ei,eo);if("number"==typeof et)throw TypeError('The "value" argument must not be of type number. Received type number');let ea=et.valueOf&&et.valueOf();if(null!=ea&&ea!==et)return c.from(ea,ei,eo);let ec=function(et){var ei;if(c.isBuffer(et)){let ei=0|p(et.length),eo=a(ei);return 0===eo.length||et.copy(eo,0,0,ei),eo}return void 0!==et.length?"number"!=typeof et.length||(ei=et.length)!=ei?a(0):f(et):"Buffer"===et.type&&Array.isArray(et.data)?f(et.data):void 0}(et);if(ec)return ec;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof et[Symbol.toPrimitive])return c.from(et[Symbol.toPrimitive]("string"),ei,eo);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof et)}function u(et){if("number"!=typeof et)throw TypeError('"size" argument must be of type number');if(et<0)throw RangeError('The value "'+et+'" is invalid for option "size"')}function d(et){return u(et),a(et<0?0:0|p(et))}function f(et){let ei=et.length<0?0:0|p(et.length),eo=a(ei);for(let ea=0;ea<ei;ea+=1)eo[ea]=255&et[ea];return eo}function l(et,ei,eo){let ea;if(ei<0||et.byteLength<ei)throw RangeError('"offset" is outside of buffer bounds');if(et.byteLength<ei+(eo||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(ea=void 0===ei&&void 0===eo?new Uint8Array(et):void 0===eo?new Uint8Array(et,ei):new Uint8Array(et,ei,eo),c.prototype),ea}function p(et){if(et>=2147483647)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|et}function b(et,ei){if(c.isBuffer(et))return et.length;if(ArrayBuffer.isView(et)||J(et,ArrayBuffer))return et.byteLength;if("string"!=typeof et)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof et);let eo=et.length,ea=arguments.length>2&&!0===arguments[2];if(!ea&&0===eo)return 0;let ec=!1;for(;;)switch(ei){case"ascii":case"latin1":case"binary":return eo;case"utf8":case"utf-8":return K(et).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*eo;case"hex":return eo>>>1;case"base64":return G(et).length;default:if(ec)return ea?-1:K(et).length;ei=(""+ei).toLowerCase(),ec=!0}}function g(et,ei,eo){let ec=!1;if((void 0===ei||ei<0)&&(ei=0),ei>this.length||((void 0===eo||eo>this.length)&&(eo=this.length),eo<=0)||(eo>>>=0)<=(ei>>>=0))return"";for(et||(et="utf8");;)switch(et){case"hex":return function(et,ei,eo){let ea=et.length;(!ei||ei<0)&&(ei=0),(!eo||eo<0||eo>ea)&&(eo=ea);let ec="";for(let ea=ei;ea<eo;++ea)ec+=el[et[ea]];return ec}(this,ei,eo);case"utf8":case"utf-8":return I(this,ei,eo);case"ascii":return function(et,ei,eo){let ea="";eo=Math.min(et.length,eo);for(let ec=ei;ec<eo;++ec)ea+=String.fromCharCode(127&et[ec]);return ea}(this,ei,eo);case"latin1":case"binary":return function(et,ei,eo){let ea="";eo=Math.min(et.length,eo);for(let ec=ei;ec<eo;++ec)ea+=String.fromCharCode(et[ec]);return ea}(this,ei,eo);case"base64":var eh,eu;return eh=ei,eu=eo,0===eh&&eu===this.length?ea.fromByteArray(this):ea.fromByteArray(this.slice(eh,eu));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(et,ei,eo){let ea=et.slice(ei,eo),ec="";for(let et=0;et<ea.length-1;et+=2)ec+=String.fromCharCode(ea[et]+256*ea[et+1]);return ec}(this,ei,eo);default:if(ec)throw TypeError("Unknown encoding: "+et);et=(et+"").toLowerCase(),ec=!0}}function m(et,ei,eo){let ea=et[ei];et[ei]=et[eo],et[eo]=ea}function y(et,ei,eo,ea,ec){var eh;if(0===et.length)return -1;if("string"==typeof eo?(ea=eo,eo=0):eo>2147483647?eo=2147483647:eo<-2147483648&&(eo=-2147483648),(eh=eo=+eo)!=eh&&(eo=ec?0:et.length-1),eo<0&&(eo=et.length+eo),eo>=et.length){if(ec)return -1;eo=et.length-1}else if(eo<0){if(!ec)return -1;eo=0}if("string"==typeof ei&&(ei=c.from(ei,ea)),c.isBuffer(ei))return 0===ei.length?-1:v(et,ei,eo,ea,ec);if("number"==typeof ei)return ei&=255,"function"==typeof Uint8Array.prototype.indexOf?ec?Uint8Array.prototype.indexOf.call(et,ei,eo):Uint8Array.prototype.lastIndexOf.call(et,ei,eo):v(et,[ei],eo,ea,ec);throw TypeError("val must be string, number or Buffer")}function v(et,ei,eo,ea,ec){let eh,eu=1,ed=et.length,ef=ei.length;if(void 0!==ea&&("ucs2"===(ea=String(ea).toLowerCase())||"ucs-2"===ea||"utf16le"===ea||"utf-16le"===ea)){if(et.length<2||ei.length<2)return -1;eu=2,ed/=2,ef/=2,eo/=2}function h(et,ei){return 1===eu?et[ei]:et.readUInt16BE(ei*eu)}if(ec){let ea=-1;for(eh=eo;eh<ed;eh++)if(h(et,eh)===h(ei,-1===ea?0:eh-ea)){if(-1===ea&&(ea=eh),eh-ea+1===ef)return ea*eu}else -1!==ea&&(eh-=eh-ea),ea=-1}else for(eo+ef>ed&&(eo=ed-ef),eh=eo;eh>=0;eh--){let eo=!0;for(let ea=0;ea<ef;ea++)if(h(et,eh+ea)!==h(ei,ea)){eo=!1;break}if(eo)return eh}return -1}function I(et,ei,eo){eo=Math.min(et.length,eo);let ea=[],ec=ei;for(;ec<eo;){let ei=et[ec],eh=null,eu=ei>239?4:ei>223?3:ei>191?2:1;if(ec+eu<=eo){let eo,ea,ed,ef;switch(eu){case 1:ei<128&&(eh=ei);break;case 2:128==(192&(eo=et[ec+1]))&&(ef=(31&ei)<<6|63&eo)>127&&(eh=ef);break;case 3:eo=et[ec+1],ea=et[ec+2],128==(192&eo)&&128==(192&ea)&&(ef=(15&ei)<<12|(63&eo)<<6|63&ea)>2047&&(ef<55296||ef>57343)&&(eh=ef);break;case 4:eo=et[ec+1],ea=et[ec+2],ed=et[ec+3],128==(192&eo)&&128==(192&ea)&&128==(192&ed)&&(ef=(15&ei)<<18|(63&eo)<<12|(63&ea)<<6|63&ed)>65535&&ef<1114112&&(eh=ef)}}null===eh?(eh=65533,eu=1):eh>65535&&(eh-=65536,ea.push(eh>>>10&1023|55296),eh=56320|1023&eh),ea.push(eh),ec+=eu}return function(et){let ei=et.length;if(ei<=eu)return String.fromCharCode.apply(String,et);let eo="",ea=0;for(;ea<ei;)eo+=String.fromCharCode.apply(String,et.slice(ea,ea+=eu));return eo}(ea)}ei.Buffer=c,ei.SlowBuffer=function(et){return+et!=et&&(et=0),c.alloc(+et)},ei.INSPECT_MAX_BYTES=50,ei.kMaxLength=2147483647,c.TYPED_ARRAY_SUPPORT=function(){try{let et=new Uint8Array(1),ei={foo:function(){return 42}};return Object.setPrototypeOf(ei,Uint8Array.prototype),Object.setPrototypeOf(et,ei),42===et.foo()}catch(et){return!1}}(),c.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(et,ei,eo){return h(et,ei,eo)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(et,ei,eo){return u(et),et<=0?a(et):void 0!==ei?"string"==typeof eo?a(et).fill(ei,eo):a(et).fill(ei):a(et)},c.allocUnsafe=function(et){return d(et)},c.allocUnsafeSlow=function(et){return d(et)},c.isBuffer=function(et){return null!=et&&!0===et._isBuffer&&et!==c.prototype},c.compare=function(et,ei){if(J(et,Uint8Array)&&(et=c.from(et,et.offset,et.byteLength)),J(ei,Uint8Array)&&(ei=c.from(ei,ei.offset,ei.byteLength)),!c.isBuffer(et)||!c.isBuffer(ei))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(et===ei)return 0;let eo=et.length,ea=ei.length;for(let ec=0,eh=Math.min(eo,ea);ec<eh;++ec)if(et[ec]!==ei[ec]){eo=et[ec],ea=ei[ec];break}return eo<ea?-1:ea<eo?1:0},c.isEncoding=function(et){switch(String(et).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(et,ei){let eo;if(!Array.isArray(et))throw TypeError('"list" argument must be an Array of Buffers');if(0===et.length)return c.alloc(0);if(void 0===ei)for(ei=0,eo=0;eo<et.length;++eo)ei+=et[eo].length;let ea=c.allocUnsafe(ei),ec=0;for(eo=0;eo<et.length;++eo){let ei=et[eo];if(J(ei,Uint8Array))ec+ei.length>ea.length?(c.isBuffer(ei)||(ei=c.from(ei)),ei.copy(ea,ec)):Uint8Array.prototype.set.call(ea,ei,ec);else{if(!c.isBuffer(ei))throw TypeError('"list" argument must be an Array of Buffers');ei.copy(ea,ec)}ec+=ei.length}return ea},c.byteLength=b,c.prototype._isBuffer=!0,c.prototype.swap16=function(){let et=this.length;if(et%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(let ei=0;ei<et;ei+=2)m(this,ei,ei+1);return this},c.prototype.swap32=function(){let et=this.length;if(et%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(let ei=0;ei<et;ei+=4)m(this,ei,ei+3),m(this,ei+1,ei+2);return this},c.prototype.swap64=function(){let et=this.length;if(et%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(let ei=0;ei<et;ei+=8)m(this,ei,ei+7),m(this,ei+1,ei+6),m(this,ei+2,ei+5),m(this,ei+3,ei+4);return this},c.prototype.toString=function(){let et=this.length;return 0===et?"":0==arguments.length?I(this,0,et):g.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(et){if(!c.isBuffer(et))throw TypeError("Argument must be a Buffer");return this===et||0===c.compare(this,et)},c.prototype.inspect=function(){let et="",eo=ei.INSPECT_MAX_BYTES;return et=this.toString("hex",0,eo).replace(/(.{2})/g,"$1 ").trim(),this.length>eo&&(et+=" ... "),"<Buffer "+et+">"},eh&&(c.prototype[eh]=c.prototype.inspect),c.prototype.compare=function(et,ei,eo,ea,ec){if(J(et,Uint8Array)&&(et=c.from(et,et.offset,et.byteLength)),!c.isBuffer(et))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof et);if(void 0===ei&&(ei=0),void 0===eo&&(eo=et?et.length:0),void 0===ea&&(ea=0),void 0===ec&&(ec=this.length),ei<0||eo>et.length||ea<0||ec>this.length)throw RangeError("out of range index");if(ea>=ec&&ei>=eo)return 0;if(ea>=ec)return -1;if(ei>=eo)return 1;if(this===et)return 0;let eh=(ec>>>=0)-(ea>>>=0),eu=(eo>>>=0)-(ei>>>=0),ed=Math.min(eh,eu),ef=this.slice(ea,ec),el=et.slice(ei,eo);for(let et=0;et<ed;++et)if(ef[et]!==el[et]){eh=ef[et],eu=el[et];break}return eh<eu?-1:eu<eh?1:0},c.prototype.includes=function(et,ei,eo){return -1!==this.indexOf(et,ei,eo)},c.prototype.indexOf=function(et,ei,eo){return y(this,et,ei,eo,!0)},c.prototype.lastIndexOf=function(et,ei,eo){return y(this,et,ei,eo,!1)},c.prototype.write=function(et,ei,eo,ea){var ec,eh,eu,ed,ef,el,ep,eb;if(void 0===ei)ea="utf8",eo=this.length,ei=0;else if(void 0===eo&&"string"==typeof ei)ea=ei,eo=this.length,ei=0;else{if(!isFinite(ei))throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");ei>>>=0,isFinite(eo)?(eo>>>=0,void 0===ea&&(ea="utf8")):(ea=eo,eo=void 0)}let eg=this.length-ei;if((void 0===eo||eo>eg)&&(eo=eg),et.length>0&&(eo<0||ei<0)||ei>this.length)throw RangeError("Attempt to write outside buffer bounds");ea||(ea="utf8");let em=!1;for(;;)switch(ea){case"hex":return function(et,ei,eo,ea){let ec;eo=Number(eo)||0;let eh=et.length-eo;ea?(ea=Number(ea))>eh&&(ea=eh):ea=eh;let eu=ei.length;for(ea>eu/2&&(ea=eu/2),ec=0;ec<ea;++ec){let ea=parseInt(ei.substr(2*ec,2),16);if(ea!=ea)break;et[eo+ec]=ea}return ec}(this,et,ei,eo);case"utf8":case"utf-8":return ec=ei,eh=eo,W(K(et,this.length-ec),this,ec,eh);case"ascii":case"latin1":case"binary":return eu=ei,ed=eo,W(function(et){let ei=[];for(let eo=0;eo<et.length;++eo)ei.push(255&et.charCodeAt(eo));return ei}(et),this,eu,ed);case"base64":return ef=ei,el=eo,W(G(et),this,ef,el);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ep=ei,eb=eo,W(function(et,ei){let eo,ea;let ec=[];for(let eh=0;eh<et.length&&!((ei-=2)<0);++eh)ea=(eo=et.charCodeAt(eh))>>8,ec.push(eo%256),ec.push(ea);return ec}(et,this.length-ep),this,ep,eb);default:if(em)throw TypeError("Unknown encoding: "+ea);ea=(""+ea).toLowerCase(),em=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};let eu=4096;function P(et,ei,eo){if(et%1!=0||et<0)throw RangeError("offset is not uint");if(et+ei>eo)throw RangeError("Trying to access beyond buffer length")}function O(et,ei,eo,ea,ec,eh){if(!c.isBuffer(et))throw TypeError('"buffer" argument must be a Buffer instance');if(ei>ec||ei<eh)throw RangeError('"value" argument is out of bounds');if(eo+ea>et.length)throw RangeError("Index out of range")}function N(et,ei,eo,ea,ec){H(ei,ea,ec,et,eo,7);let eh=Number(ei&BigInt(4294967295));et[eo++]=eh,eh>>=8,et[eo++]=eh,eh>>=8,et[eo++]=eh,eh>>=8,et[eo++]=eh;let eu=Number(ei>>BigInt(32)&BigInt(4294967295));return et[eo++]=eu,eu>>=8,et[eo++]=eu,eu>>=8,et[eo++]=eu,eu>>=8,et[eo++]=eu,eo}function U(et,ei,eo,ea,ec){H(ei,ea,ec,et,eo,7);let eh=Number(ei&BigInt(4294967295));et[eo+7]=eh,eh>>=8,et[eo+6]=eh,eh>>=8,et[eo+5]=eh,eh>>=8,et[eo+4]=eh;let eu=Number(ei>>BigInt(32)&BigInt(4294967295));return et[eo+3]=eu,eu>>=8,et[eo+2]=eu,eu>>=8,et[eo+1]=eu,eu>>=8,et[eo]=eu,eo+8}function B(et,ei,eo,ea,ec,eh){if(eo+ea>et.length||eo<0)throw RangeError("Index out of range")}function L(et,ei,eo,ea,eh){return ei=+ei,eo>>>=0,eh||B(et,0,eo,4),ec.write(et,ei,eo,ea,23,4),eo+4}function j(et,ei,eo,ea,eh){return ei=+ei,eo>>>=0,eh||B(et,0,eo,8),ec.write(et,ei,eo,ea,52,8),eo+8}c.prototype.slice=function(et,ei){let eo=this.length;(et=~~et)<0?(et+=eo)<0&&(et=0):et>eo&&(et=eo),(ei=void 0===ei?eo:~~ei)<0?(ei+=eo)<0&&(ei=0):ei>eo&&(ei=eo),ei<et&&(ei=et);let ea=this.subarray(et,ei);return Object.setPrototypeOf(ea,c.prototype),ea},c.prototype.readUintLE=c.prototype.readUIntLE=function(et,ei,eo){et>>>=0,ei>>>=0,eo||P(et,ei,this.length);let ea=this[et],ec=1,eh=0;for(;++eh<ei&&(ec*=256);)ea+=this[et+eh]*ec;return ea},c.prototype.readUintBE=c.prototype.readUIntBE=function(et,ei,eo){et>>>=0,ei>>>=0,eo||P(et,ei,this.length);let ea=this[et+--ei],ec=1;for(;ei>0&&(ec*=256);)ea+=this[et+--ei]*ec;return ea},c.prototype.readUint8=c.prototype.readUInt8=function(et,ei){return et>>>=0,ei||P(et,1,this.length),this[et]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(et,ei){return et>>>=0,ei||P(et,2,this.length),this[et]|this[et+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(et,ei){return et>>>=0,ei||P(et,2,this.length),this[et]<<8|this[et+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(et,ei){return et>>>=0,ei||P(et,4,this.length),(this[et]|this[et+1]<<8|this[et+2]<<16)+16777216*this[et+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(et,ei){return et>>>=0,ei||P(et,4,this.length),16777216*this[et]+(this[et+1]<<16|this[et+2]<<8|this[et+3])},c.prototype.readBigUInt64LE=Z(function(et){z(et>>>=0,"offset");let ei=this[et],eo=this[et+7];void 0!==ei&&void 0!==eo||V(et,this.length-8);let ea=ei+256*this[++et]+65536*this[++et]+16777216*this[++et],ec=this[++et]+256*this[++et]+65536*this[++et]+16777216*eo;return BigInt(ea)+(BigInt(ec)<<BigInt(32))}),c.prototype.readBigUInt64BE=Z(function(et){z(et>>>=0,"offset");let ei=this[et],eo=this[et+7];void 0!==ei&&void 0!==eo||V(et,this.length-8);let ea=16777216*ei+65536*this[++et]+256*this[++et]+this[++et],ec=16777216*this[++et]+65536*this[++et]+256*this[++et]+eo;return(BigInt(ea)<<BigInt(32))+BigInt(ec)}),c.prototype.readIntLE=function(et,ei,eo){et>>>=0,ei>>>=0,eo||P(et,ei,this.length);let ea=this[et],ec=1,eh=0;for(;++eh<ei&&(ec*=256);)ea+=this[et+eh]*ec;return ea>=(ec*=128)&&(ea-=Math.pow(2,8*ei)),ea},c.prototype.readIntBE=function(et,ei,eo){et>>>=0,ei>>>=0,eo||P(et,ei,this.length);let ea=ei,ec=1,eh=this[et+--ea];for(;ea>0&&(ec*=256);)eh+=this[et+--ea]*ec;return eh>=(ec*=128)&&(eh-=Math.pow(2,8*ei)),eh},c.prototype.readInt8=function(et,ei){return et>>>=0,ei||P(et,1,this.length),128&this[et]?-1*(255-this[et]+1):this[et]},c.prototype.readInt16LE=function(et,ei){et>>>=0,ei||P(et,2,this.length);let eo=this[et]|this[et+1]<<8;return 32768&eo?4294901760|eo:eo},c.prototype.readInt16BE=function(et,ei){et>>>=0,ei||P(et,2,this.length);let eo=this[et+1]|this[et]<<8;return 32768&eo?4294901760|eo:eo},c.prototype.readInt32LE=function(et,ei){return et>>>=0,ei||P(et,4,this.length),this[et]|this[et+1]<<8|this[et+2]<<16|this[et+3]<<24},c.prototype.readInt32BE=function(et,ei){return et>>>=0,ei||P(et,4,this.length),this[et]<<24|this[et+1]<<16|this[et+2]<<8|this[et+3]},c.prototype.readBigInt64LE=Z(function(et){z(et>>>=0,"offset");let ei=this[et],eo=this[et+7];void 0!==ei&&void 0!==eo||V(et,this.length-8);let ea=this[et+4]+256*this[et+5]+65536*this[et+6]+(eo<<24);return(BigInt(ea)<<BigInt(32))+BigInt(ei+256*this[++et]+65536*this[++et]+16777216*this[++et])}),c.prototype.readBigInt64BE=Z(function(et){z(et>>>=0,"offset");let ei=this[et],eo=this[et+7];void 0!==ei&&void 0!==eo||V(et,this.length-8);let ea=(ei<<24)+65536*this[++et]+256*this[++et]+this[++et];return(BigInt(ea)<<BigInt(32))+BigInt(16777216*this[++et]+65536*this[++et]+256*this[++et]+eo)}),c.prototype.readFloatLE=function(et,ei){return et>>>=0,ei||P(et,4,this.length),ec.read(this,et,!0,23,4)},c.prototype.readFloatBE=function(et,ei){return et>>>=0,ei||P(et,4,this.length),ec.read(this,et,!1,23,4)},c.prototype.readDoubleLE=function(et,ei){return et>>>=0,ei||P(et,8,this.length),ec.read(this,et,!0,52,8)},c.prototype.readDoubleBE=function(et,ei){return et>>>=0,ei||P(et,8,this.length),ec.read(this,et,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(et,ei,eo,ea){et=+et,ei>>>=0,eo>>>=0,ea||O(this,et,ei,eo,Math.pow(2,8*eo)-1,0);let ec=1,eh=0;for(this[ei]=255&et;++eh<eo&&(ec*=256);)this[ei+eh]=et/ec&255;return ei+eo},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(et,ei,eo,ea){et=+et,ei>>>=0,eo>>>=0,ea||O(this,et,ei,eo,Math.pow(2,8*eo)-1,0);let ec=eo-1,eh=1;for(this[ei+ec]=255&et;--ec>=0&&(eh*=256);)this[ei+ec]=et/eh&255;return ei+eo},c.prototype.writeUint8=c.prototype.writeUInt8=function(et,ei,eo){return et=+et,ei>>>=0,eo||O(this,et,ei,1,255,0),this[ei]=255&et,ei+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(et,ei,eo){return et=+et,ei>>>=0,eo||O(this,et,ei,2,65535,0),this[ei]=255&et,this[ei+1]=et>>>8,ei+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(et,ei,eo){return et=+et,ei>>>=0,eo||O(this,et,ei,2,65535,0),this[ei]=et>>>8,this[ei+1]=255&et,ei+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(et,ei,eo){return et=+et,ei>>>=0,eo||O(this,et,ei,4,4294967295,0),this[ei+3]=et>>>24,this[ei+2]=et>>>16,this[ei+1]=et>>>8,this[ei]=255&et,ei+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(et,ei,eo){return et=+et,ei>>>=0,eo||O(this,et,ei,4,4294967295,0),this[ei]=et>>>24,this[ei+1]=et>>>16,this[ei+2]=et>>>8,this[ei+3]=255&et,ei+4},c.prototype.writeBigUInt64LE=Z(function(et,ei=0){return N(this,et,ei,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeBigUInt64BE=Z(function(et,ei=0){return U(this,et,ei,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeIntLE=function(et,ei,eo,ea){if(et=+et,ei>>>=0,!ea){let ea=Math.pow(2,8*eo-1);O(this,et,ei,eo,ea-1,-ea)}let ec=0,eh=1,eu=0;for(this[ei]=255&et;++ec<eo&&(eh*=256);)et<0&&0===eu&&0!==this[ei+ec-1]&&(eu=1),this[ei+ec]=(et/eh|0)-eu&255;return ei+eo},c.prototype.writeIntBE=function(et,ei,eo,ea){if(et=+et,ei>>>=0,!ea){let ea=Math.pow(2,8*eo-1);O(this,et,ei,eo,ea-1,-ea)}let ec=eo-1,eh=1,eu=0;for(this[ei+ec]=255&et;--ec>=0&&(eh*=256);)et<0&&0===eu&&0!==this[ei+ec+1]&&(eu=1),this[ei+ec]=(et/eh|0)-eu&255;return ei+eo},c.prototype.writeInt8=function(et,ei,eo){return et=+et,ei>>>=0,eo||O(this,et,ei,1,127,-128),et<0&&(et=255+et+1),this[ei]=255&et,ei+1},c.prototype.writeInt16LE=function(et,ei,eo){return et=+et,ei>>>=0,eo||O(this,et,ei,2,32767,-32768),this[ei]=255&et,this[ei+1]=et>>>8,ei+2},c.prototype.writeInt16BE=function(et,ei,eo){return et=+et,ei>>>=0,eo||O(this,et,ei,2,32767,-32768),this[ei]=et>>>8,this[ei+1]=255&et,ei+2},c.prototype.writeInt32LE=function(et,ei,eo){return et=+et,ei>>>=0,eo||O(this,et,ei,4,2147483647,-2147483648),this[ei]=255&et,this[ei+1]=et>>>8,this[ei+2]=et>>>16,this[ei+3]=et>>>24,ei+4},c.prototype.writeInt32BE=function(et,ei,eo){return et=+et,ei>>>=0,eo||O(this,et,ei,4,2147483647,-2147483648),et<0&&(et=4294967295+et+1),this[ei]=et>>>24,this[ei+1]=et>>>16,this[ei+2]=et>>>8,this[ei+3]=255&et,ei+4},c.prototype.writeBigInt64LE=Z(function(et,ei=0){return N(this,et,ei,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),c.prototype.writeBigInt64BE=Z(function(et,ei=0){return U(this,et,ei,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),c.prototype.writeFloatLE=function(et,ei,eo){return L(this,et,ei,!0,eo)},c.prototype.writeFloatBE=function(et,ei,eo){return L(this,et,ei,!1,eo)},c.prototype.writeDoubleLE=function(et,ei,eo){return j(this,et,ei,!0,eo)},c.prototype.writeDoubleBE=function(et,ei,eo){return j(this,et,ei,!1,eo)},c.prototype.copy=function(et,ei,eo,ea){if(!c.isBuffer(et))throw TypeError("argument should be a Buffer");if(eo||(eo=0),ea||0===ea||(ea=this.length),ei>=et.length&&(ei=et.length),ei||(ei=0),ea>0&&ea<eo&&(ea=eo),ea===eo||0===et.length||0===this.length)return 0;if(ei<0)throw RangeError("targetStart out of bounds");if(eo<0||eo>=this.length)throw RangeError("Index out of range");if(ea<0)throw RangeError("sourceEnd out of bounds");ea>this.length&&(ea=this.length),et.length-ei<ea-eo&&(ea=et.length-ei+eo);let ec=ea-eo;return this===et&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(ei,eo,ea):Uint8Array.prototype.set.call(et,this.subarray(eo,ea),ei),ec},c.prototype.fill=function(et,ei,eo,ea){let ec;if("string"==typeof et){if("string"==typeof ei?(ea=ei,ei=0,eo=this.length):"string"==typeof eo&&(ea=eo,eo=this.length),void 0!==ea&&"string"!=typeof ea)throw TypeError("encoding must be a string");if("string"==typeof ea&&!c.isEncoding(ea))throw TypeError("Unknown encoding: "+ea);if(1===et.length){let ei=et.charCodeAt(0);("utf8"===ea&&ei<128||"latin1"===ea)&&(et=ei)}}else"number"==typeof et?et&=255:"boolean"==typeof et&&(et=Number(et));if(ei<0||this.length<ei||this.length<eo)throw RangeError("Out of range index");if(eo<=ei)return this;if(ei>>>=0,eo=void 0===eo?this.length:eo>>>0,et||(et=0),"number"==typeof et)for(ec=ei;ec<eo;++ec)this[ec]=et;else{let eh=c.isBuffer(et)?et:c.from(et,ea),eu=eh.length;if(0===eu)throw TypeError('The value "'+et+'" is invalid for argument "value"');for(ec=0;ec<eo-ei;++ec)this[ec+ei]=eh[ec%eu]}return this};let ed={};function q(et,ei,eo){ed[et]=class extends eo{constructor(){super(),Object.defineProperty(this,"message",{value:ei.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${et}]`,this.stack,delete this.name}get code(){return et}set code(et){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:et,writable:!0})}toString(){return`${this.name} [${et}]: ${this.message}`}}}function F(et){let ei="",eo=et.length,ea="-"===et[0]?1:0;for(;eo>=ea+4;eo-=3)ei=`_${et.slice(eo-3,eo)}${ei}`;return`${et.slice(0,eo)}${ei}`}function H(et,ei,eo,ea,ec,eh){if(et>eo||et<ei){let ea;let ec="bigint"==typeof ei?"n":"";throw ea=eh>3?0===ei||ei===BigInt(0)?`>= 0${ec} and < 2${ec} ** ${8*(eh+1)}${ec}`:`>= -(2${ec} ** ${8*(eh+1)-1}${ec}) and < 2 ** ${8*(eh+1)-1}${ec}`:`>= ${ei}${ec} and <= ${eo}${ec}`,new ed.ERR_OUT_OF_RANGE("value",ea,et)}z(ec,"offset"),void 0!==ea[ec]&&void 0!==ea[ec+eh]||V(ec,ea.length-(eh+1))}function z(et,ei){if("number"!=typeof et)throw new ed.ERR_INVALID_ARG_TYPE(ei,"number",et)}function V(et,ei,eo){if(Math.floor(et)!==et)throw z(et,eo),new ed.ERR_OUT_OF_RANGE(eo||"offset","an integer",et);if(ei<0)throw new ed.ERR_BUFFER_OUT_OF_BOUNDS;throw new ed.ERR_OUT_OF_RANGE(eo||"offset",`>= ${eo?1:0} and <= ${ei}`,et)}q("ERR_BUFFER_OUT_OF_BOUNDS",function(et){return et?`${et} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),q("ERR_INVALID_ARG_TYPE",function(et,ei){return`The "${et}" argument must be of type number. Received type ${typeof ei}`},TypeError),q("ERR_OUT_OF_RANGE",function(et,ei,eo){let ea=`The value of "${et}" is out of range.`,ec=eo;return Number.isInteger(eo)&&Math.abs(eo)>4294967296?ec=F(String(eo)):"bigint"==typeof eo&&(ec=String(eo),(eo>BigInt(2)**BigInt(32)||eo<-(BigInt(2)**BigInt(32)))&&(ec=F(ec)),ec+="n"),ea+=` It must be ${ei}. Received ${ec}`},RangeError);let ef=/[^+/0-9A-Za-z-_]/g;function K(et,ei){let eo;ei=ei||1/0;let ea=et.length,ec=null,eh=[];for(let eu=0;eu<ea;++eu){if((eo=et.charCodeAt(eu))>55295&&eo<57344){if(!ec){if(eo>56319||eu+1===ea){(ei-=3)>-1&&eh.push(239,191,189);continue}ec=eo;continue}if(eo<56320){(ei-=3)>-1&&eh.push(239,191,189),ec=eo;continue}eo=65536+(ec-55296<<10|eo-56320)}else ec&&(ei-=3)>-1&&eh.push(239,191,189);if(ec=null,eo<128){if((ei-=1)<0)break;eh.push(eo)}else if(eo<2048){if((ei-=2)<0)break;eh.push(eo>>6|192,63&eo|128)}else if(eo<65536){if((ei-=3)<0)break;eh.push(eo>>12|224,eo>>6&63|128,63&eo|128)}else{if(!(eo<1114112))throw Error("Invalid code point");if((ei-=4)<0)break;eh.push(eo>>18|240,eo>>12&63|128,eo>>6&63|128,63&eo|128)}}return eh}function G(et){return ea.toByteArray(function(et){if((et=(et=et.split("=")[0]).trim().replace(ef,"")).length<2)return"";for(;et.length%4!=0;)et+="=";return et}(et))}function W(et,ei,eo,ea){let ec;for(ec=0;ec<ea&&!(ec+eo>=ei.length||ec>=et.length);++ec)ei[ec+eo]=et[ec];return ec}function J(et,ei){return et instanceof ei||null!=et&&null!=et.constructor&&null!=et.constructor.name&&et.constructor.name===ei.name}let el=function(){let et="0123456789abcdef",ei=Array(256);for(let eo=0;eo<16;++eo){let ea=16*eo;for(let ec=0;ec<16;++ec)ei[ea+ec]=et[eo]+et[ec]}return ei}();function Z(et){return"undefined"==typeof BigInt?Q:et}function Q(){throw Error("BigInt not supported")}},4705:(et,ei,eo)=>{var ea=eo(6608).Buffer,ec=eo(3803).Transform,eh=eo(6704).I;function o(et){ec.call(this),this.hashMode="string"==typeof et,this.hashMode?this[et]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}eo(1193)(o,ec),o.prototype.update=function(et,ei,eo){"string"==typeof et&&(et=ea.from(et,ei));var ec=this._update(et);return this.hashMode?this:(eo&&(ec=this._toString(ec,eo)),ec)},o.prototype.setAutoPadding=function(){},o.prototype.getAuthTag=function(){throw Error("trying to get auth tag in unsupported state")},o.prototype.setAuthTag=function(){throw Error("trying to set auth tag in unsupported state")},o.prototype.setAAD=function(){throw Error("trying to set aad in unsupported state")},o.prototype._transform=function(et,ei,eo){var ea;try{this.hashMode?this._update(et):this.push(this._update(et))}catch(et){ea=et}finally{eo(ea)}},o.prototype._flush=function(et){var ei;try{this.push(this.__final())}catch(et){ei=et}et(ei)},o.prototype._finalOrDigest=function(et){var ei=this.__final()||ea.alloc(0);return et&&(ei=this._toString(ei,et,!0)),ei},o.prototype._toString=function(et,ei,eo){if(this._decoder||(this._decoder=new eh(ei),this._encoding=ei),this._encoding!==ei)throw Error("can't switch encodings");var ea=this._decoder.write(et);return eo&&(ea+=this._decoder.end()),ea},et.exports=o},9520:(et,ei,eo)=>{var ea=eo(3210),eh=eo(4619);et.exports=function(et){return new o(et)};var eu={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function o(et){this.curveType=eu[et],this.curveType||(this.curveType={name:et}),this.curve=new ea.ec(this.curveType.name),this.keys=void 0}function a(et,ei,eo){Array.isArray(et)||(et=et.toArray());var ea=new ec(et);if(eo&&ea.length<eo){var eh=new ec(eo-ea.length);eh.fill(0),ea=ec.concat([eh,ea])}return ei?ea.toString(ei):ea}eu.p224=eu.secp224r1,eu.p256=eu.secp256r1=eu.prime256v1,eu.p192=eu.secp192r1=eu.prime192v1,eu.p384=eu.secp384r1,eu.p521=eu.secp521r1,o.prototype.generateKeys=function(et,ei){return this.keys=this.curve.genKeyPair(),this.getPublicKey(et,ei)},o.prototype.computeSecret=function(et,ei,eo){return ei=ei||"utf8",ec.isBuffer(et)||(et=new ec(et,ei)),a(this.curve.keyFromPublic(et).getPublic().mul(this.keys.getPrivate()).getX(),eo,this.curveType.byteLength)},o.prototype.getPublicKey=function(et,ei){var eo=this.keys.getPublic("compressed"===ei,!0);return"hybrid"===ei&&(eo[eo.length-1]%2?eo[0]=7:eo[0]=6),a(eo,et)},o.prototype.getPrivateKey=function(et){return a(this.keys.getPrivate(),et)},o.prototype.setPublicKey=function(et,ei){return ei=ei||"utf8",ec.isBuffer(et)||(et=new ec(et,ei)),this.keys._importPublic(et),this},o.prototype.setPrivateKey=function(et,ei){ei=ei||"utf8",ec.isBuffer(et)||(et=new ec(et,ei));var eo=new eh(et);return eo=eo.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(eo),this}},8955:(et,ei,eo)=>{"use strict";var ea=eo(1193),ec=eo(5035),eh=eo(3934),eu=eo(5244),ed=eo(4705);function c(et){ed.call(this,"digest"),this._hash=et}ea(c,ed),c.prototype._update=function(et){this._hash.update(et)},c.prototype._final=function(){return this._hash.digest()},et.exports=function(et){return"md5"===(et=et.toLowerCase())?new ec:"rmd160"===et||"ripemd160"===et?new eh:new c(eu(et))}},6159:(et,ei,eo)=>{var ea=eo(5035);et.exports=function(et){return(new ea).update(et).digest()}},3053:(et,ei,eo)=>{"use strict";var ea=eo(1193),ec=eo(670),eh=eo(4705),eu=eo(6608).Buffer,ed=eo(6159),ef=eo(3934),el=eo(5244),ep=eu.alloc(128);function d(et,ei){eh.call(this,"digest"),"string"==typeof ei&&(ei=eu.from(ei));var eo="sha512"===et||"sha384"===et?128:64;this._alg=et,this._key=ei,ei.length>eo?ei=("rmd160"===et?new ef:el(et)).update(ei).digest():ei.length<eo&&(ei=eu.concat([ei,ep],eo));for(var ea=this._ipad=eu.allocUnsafe(eo),ec=this._opad=eu.allocUnsafe(eo),ed=0;ed<eo;ed++)ea[ed]=54^ei[ed],ec[ed]=92^ei[ed];this._hash="rmd160"===et?new ef:el(et),this._hash.update(ea)}ea(d,eh),d.prototype._update=function(et){this._hash.update(et)},d.prototype._final=function(){var et=this._hash.digest();return("rmd160"===this._alg?new ef:el(this._alg)).update(this._opad).update(et).digest()},et.exports=function(et,ei){return"rmd160"===(et=et.toLowerCase())||"ripemd160"===et?new d("rmd160",ei):"md5"===et?new ec(ed,ei):new d(et,ei)}},670:(et,ei,eo)=>{"use strict";var ea=eo(1193),ec=eo(6608).Buffer,eh=eo(4705),eu=ec.alloc(128);function c(et,ei){eh.call(this,"digest"),"string"==typeof ei&&(ei=ec.from(ei)),this._alg=et,this._key=ei,ei.length>64?ei=et(ei):ei.length<64&&(ei=ec.concat([ei,eu],64));for(var eo=this._ipad=ec.allocUnsafe(64),ea=this._opad=ec.allocUnsafe(64),ed=0;ed<64;ed++)eo[ed]=54^ei[ed],ea[ed]=92^ei[ed];this._hash=[eo]}ea(c,eh),c.prototype._update=function(et){this._hash.push(et)},c.prototype._final=function(){var et=this._alg(ec.concat(this._hash));return this._alg(ec.concat([this._opad,et]))},et.exports=c},9114:function(){var et;et="undefined"!=typeof self?self:this,function(ei){var eo="URLSearchParams"in et,ea="Symbol"in et&&"iterator"in Symbol,ec="FileReader"in et&&"Blob"in et&&function(){try{return new Blob,!0}catch(et){return!1}}(),eh="FormData"in et,eu="ArrayBuffer"in et;if(eu)var ed=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],ef=ArrayBuffer.isView||function(et){return et&&ed.indexOf(Object.prototype.toString.call(et))>-1};function h(et){if("string"!=typeof et&&(et=String(et)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(et))throw TypeError("Invalid character in header field name");return et.toLowerCase()}function u(et){return"string"!=typeof et&&(et=String(et)),et}function d(et){var ei={next:function(){var ei=et.shift();return{done:void 0===ei,value:ei}}};return ea&&(ei[Symbol.iterator]=function(){return ei}),ei}function f(et){this.map={},et instanceof f?et.forEach(function(et,ei){this.append(ei,et)},this):Array.isArray(et)?et.forEach(function(et){this.append(et[0],et[1])},this):et&&Object.getOwnPropertyNames(et).forEach(function(ei){this.append(ei,et[ei])},this)}function l(et){if(et.bodyUsed)return Promise.reject(TypeError("Already read"));et.bodyUsed=!0}function p(et){return new Promise(function(ei,eo){et.onload=function(){ei(et.result)},et.onerror=function(){eo(et.error)}})}function b(et){var ei=new FileReader,eo=p(ei);return ei.readAsArrayBuffer(et),eo}function g(et){if(et.slice)return et.slice(0);var ei=new Uint8Array(et.byteLength);return ei.set(new Uint8Array(et)),ei.buffer}function m(){return this.bodyUsed=!1,this._initBody=function(et){var ei;this._bodyInit=et,et?"string"==typeof et?this._bodyText=et:ec&&Blob.prototype.isPrototypeOf(et)?this._bodyBlob=et:eh&&FormData.prototype.isPrototypeOf(et)?this._bodyFormData=et:eo&&URLSearchParams.prototype.isPrototypeOf(et)?this._bodyText=et.toString():eu&&ec&&(ei=et)&&DataView.prototype.isPrototypeOf(ei)?(this._bodyArrayBuffer=g(et.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):eu&&(ArrayBuffer.prototype.isPrototypeOf(et)||ef(et))?this._bodyArrayBuffer=g(et):this._bodyText=et=Object.prototype.toString.call(et):this._bodyText="",this.headers.get("content-type")||("string"==typeof et?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):eo&&URLSearchParams.prototype.isPrototypeOf(et)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},ec&&(this.blob=function(){var et=l(this);if(et)return et;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?l(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(b)}),this.text=function(){var et,ei,eo,ea=l(this);if(ea)return ea;if(this._bodyBlob)return et=this._bodyBlob,eo=p(ei=new FileReader),ei.readAsText(et),eo;if(this._bodyArrayBuffer)return Promise.resolve(function(et){for(var ei=new Uint8Array(et),eo=Array(ei.length),ea=0;ea<ei.length;ea++)eo[ea]=String.fromCharCode(ei[ea]);return eo.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},eh&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}f.prototype.append=function(et,ei){et=h(et),ei=u(ei);var eo=this.map[et];this.map[et]=eo?eo+", "+ei:ei},f.prototype.delete=function(et){delete this.map[h(et)]},f.prototype.get=function(et){return et=h(et),this.has(et)?this.map[et]:null},f.prototype.has=function(et){return this.map.hasOwnProperty(h(et))},f.prototype.set=function(et,ei){this.map[h(et)]=u(ei)},f.prototype.forEach=function(et,ei){for(var eo in this.map)this.map.hasOwnProperty(eo)&&et.call(ei,this.map[eo],eo,this)},f.prototype.keys=function(){var et=[];return this.forEach(function(ei,eo){et.push(eo)}),d(et)},f.prototype.values=function(){var et=[];return this.forEach(function(ei){et.push(ei)}),d(et)},f.prototype.entries=function(){var et=[];return this.forEach(function(ei,eo){et.push([eo,ei])}),d(et)},ea&&(f.prototype[Symbol.iterator]=f.prototype.entries);var el=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function v(et,ei){var eo,ea,ec=(ei=ei||{}).body;if(et instanceof v){if(et.bodyUsed)throw TypeError("Already read");this.url=et.url,this.credentials=et.credentials,ei.headers||(this.headers=new f(et.headers)),this.method=et.method,this.mode=et.mode,this.signal=et.signal,ec||null==et._bodyInit||(ec=et._bodyInit,et.bodyUsed=!0)}else this.url=String(et);if(this.credentials=ei.credentials||this.credentials||"same-origin",!ei.headers&&this.headers||(this.headers=new f(ei.headers)),this.method=(ea=(eo=ei.method||this.method||"GET").toUpperCase(),el.indexOf(ea)>-1?ea:eo),this.mode=ei.mode||this.mode||null,this.signal=ei.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&ec)throw TypeError("Body not allowed for GET or HEAD requests");this._initBody(ec)}function w(et){var ei=new FormData;return et.trim().split("&").forEach(function(et){if(et){var eo=et.split("="),ea=eo.shift().replace(/\+/g," "),ec=eo.join("=").replace(/\+/g," ");ei.append(decodeURIComponent(ea),decodeURIComponent(ec))}}),ei}function _(et,ei){ei||(ei={}),this.type="default",this.status=void 0===ei.status?200:ei.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in ei?ei.statusText:"OK",this.headers=new f(ei.headers),this.url=ei.url||"",this._initBody(et)}v.prototype.clone=function(){return new v(this,{body:this._bodyInit})},m.call(v.prototype),m.call(_.prototype),_.prototype.clone=function(){return new _(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},_.error=function(){var et=new _(null,{status:0,statusText:""});return et.type="error",et};var ep=[301,302,303,307,308];_.redirect=function(et,ei){if(-1===ep.indexOf(ei))throw RangeError("Invalid status code");return new _(null,{status:ei,headers:{location:et}})},ei.DOMException=et.DOMException;try{new ei.DOMException}catch(et){ei.DOMException=function(et,ei){this.message=et,this.name=ei;var eo=Error(et);this.stack=eo.stack},ei.DOMException.prototype=Object.create(Error.prototype),ei.DOMException.prototype.constructor=ei.DOMException}function S(et,eo){return new Promise(function(ea,eh){var eu=new v(et,eo);if(eu.signal&&eu.signal.aborted)return eh(new ei.DOMException("Aborted","AbortError"));var ed=new XMLHttpRequest;function c(){ed.abort()}ed.onload=function(){var et,ei,eo={status:ed.status,statusText:ed.statusText,headers:(et=ed.getAllResponseHeaders()||"",ei=new f,et.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(et){var eo=et.split(":"),ea=eo.shift().trim();if(ea){var ec=eo.join(":").trim();ei.append(ea,ec)}}),ei)};eo.url="responseURL"in ed?ed.responseURL:eo.headers.get("X-Request-URL");var ec="response"in ed?ed.response:ed.responseText;ea(new _(ec,eo))},ed.onerror=function(){eh(TypeError("Network request failed"))},ed.ontimeout=function(){eh(TypeError("Network request failed"))},ed.onabort=function(){eh(new ei.DOMException("Aborted","AbortError"))},ed.open(eu.method,eu.url,!0),"include"===eu.credentials?ed.withCredentials=!0:"omit"===eu.credentials&&(ed.withCredentials=!1),"responseType"in ed&&ec&&(ed.responseType="blob"),eu.headers.forEach(function(et,ei){ed.setRequestHeader(ei,et)}),eu.signal&&(eu.signal.addEventListener("abort",c),ed.onreadystatechange=function(){4===ed.readyState&&eu.signal.removeEventListener("abort",c)}),ed.send(void 0===eu._bodyInit?null:eu._bodyInit)})}S.polyfill=!0,et.fetch||(et.fetch=S,et.Headers=f,et.Request=v,et.Response=_),ei.Headers=f,ei.Request=v,ei.Response=_,ei.fetch=S,Object.defineProperty(ei,"__esModule",{value:!0})}({})},4062:(et,ei,eo)=>{"use strict";ei.randomBytes=ei.rng=ei.pseudoRandomBytes=ei.prng=eo(2869),ei.createHash=ei.Hash=eo(8955),ei.createHmac=ei.Hmac=eo(3053);var ea=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(Object.keys(eo(8950)));ei.getHashes=function(){return ea};var ec=eo(3166);ei.pbkdf2=ec.pbkdf2,ei.pbkdf2Sync=ec.pbkdf2Sync;var eh=eo(8350);ei.Cipher=eh.Cipher,ei.createCipher=eh.createCipher,ei.Cipheriv=eh.Cipheriv,ei.createCipheriv=eh.createCipheriv,ei.Decipher=eh.Decipher,ei.createDecipher=eh.createDecipher,ei.Decipheriv=eh.Decipheriv,ei.createDecipheriv=eh.createDecipheriv,ei.getCiphers=eh.getCiphers,ei.listCiphers=eh.listCiphers;var eu=eo(8216);ei.DiffieHellmanGroup=eu.DiffieHellmanGroup,ei.createDiffieHellmanGroup=eu.createDiffieHellmanGroup,ei.getDiffieHellman=eu.getDiffieHellman,ei.createDiffieHellman=eu.createDiffieHellman,ei.DiffieHellman=eu.DiffieHellman;var ed=eo(6105);ei.createSign=ed.createSign,ei.Sign=ed.Sign,ei.createVerify=ed.createVerify,ei.Verify=ed.Verify,ei.createECDH=eo(9520);var ef=eo(2211);ei.publicEncrypt=ef.publicEncrypt,ei.privateEncrypt=ef.privateEncrypt,ei.publicDecrypt=ef.publicDecrypt,ei.privateDecrypt=ef.privateDecrypt;var el=eo(4925);ei.randomFill=el.randomFill,ei.randomFillSync=el.randomFillSync,ei.createCredentials=function(){throw Error("sorry, createCredentials is not implemented yet\nwe accept pull requests\nhttps://github.com/crypto-browserify/crypto-browserify")},ei.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},2398:(et,ei,eo)=>{"use strict";ei.utils=eo(1496),ei.Cipher=eo(5958),ei.DES=eo(9409),ei.CBC=eo(6779),ei.EDE=eo(6625)},6779:(et,ei,eo)=>{"use strict";var ea=eo(5578),ec=eo(1193),eh={};function o(et){ea.equal(et.length,8,"Invalid IV length"),this.iv=Array(8);for(var ei=0;ei<this.iv.length;ei++)this.iv[ei]=et[ei]}ei.instantiate=function(et){function t(ei){et.call(this,ei),this._cbcInit()}ec(t,et);for(var ei=Object.keys(eh),eo=0;eo<ei.length;eo++){var ea=ei[eo];t.prototype[ea]=eh[ea]}return t.create=function(et){return new t(et)},t},eh._cbcInit=function(){var et=new o(this.options.iv);this._cbcState=et},eh._update=function(et,ei,eo,ea){var ec=this._cbcState,eh=this.constructor.super_.prototype,eu=ec.iv;if("encrypt"===this.type){for(var ed=0;ed<this.blockSize;ed++)eu[ed]^=et[ei+ed];for(eh._update.call(this,eu,0,eo,ea),ed=0;ed<this.blockSize;ed++)eu[ed]=eo[ea+ed]}else{for(eh._update.call(this,et,ei,eo,ea),ed=0;ed<this.blockSize;ed++)eo[ea+ed]^=eu[ed];for(ed=0;ed<this.blockSize;ed++)eu[ed]=et[ei+ed]}}},5958:(et,ei,eo)=>{"use strict";var ea=eo(5578);function i(et){this.options=et,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=Array(this.blockSize),this.bufferOff=0}et.exports=i,i.prototype._init=function(){},i.prototype.update=function(et){return 0===et.length?[]:"decrypt"===this.type?this._updateDecrypt(et):this._updateEncrypt(et)},i.prototype._buffer=function(et,ei){for(var eo=Math.min(this.buffer.length-this.bufferOff,et.length-ei),ea=0;ea<eo;ea++)this.buffer[this.bufferOff+ea]=et[ei+ea];return this.bufferOff+=eo,eo},i.prototype._flushBuffer=function(et,ei){return this._update(this.buffer,0,et,ei),this.bufferOff=0,this.blockSize},i.prototype._updateEncrypt=function(et){var ei=0,eo=0,ea=Array(((this.bufferOff+et.length)/this.blockSize|0)*this.blockSize);0!==this.bufferOff&&(ei+=this._buffer(et,ei),this.bufferOff===this.buffer.length&&(eo+=this._flushBuffer(ea,eo)));for(var ec=et.length-(et.length-ei)%this.blockSize;ei<ec;ei+=this.blockSize)this._update(et,ei,ea,eo),eo+=this.blockSize;for(;ei<et.length;ei++,this.bufferOff++)this.buffer[this.bufferOff]=et[ei];return ea},i.prototype._updateDecrypt=function(et){for(var ei=0,eo=0,ea=Math.ceil((this.bufferOff+et.length)/this.blockSize)-1,ec=Array(ea*this.blockSize);ea>0;ea--)ei+=this._buffer(et,ei),eo+=this._flushBuffer(ec,eo);return ei+=this._buffer(et,ei),ec},i.prototype.final=function(et){var ei,eo;return et&&(ei=this.update(et)),eo="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),ei?ei.concat(eo):eo},i.prototype._pad=function(et,ei){if(0===ei)return!1;for(;ei<et.length;)et[ei++]=0;return!0},i.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var et=Array(this.blockSize);return this._update(this.buffer,0,et,0),et},i.prototype._unpad=function(et){return et},i.prototype._finalDecrypt=function(){ea.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var et=Array(this.blockSize);return this._flushBuffer(et,0),this._unpad(et)}},9409:(et,ei,eo)=>{"use strict";var ea=eo(5578),ec=eo(1193),eh=eo(1496),eu=eo(5958);function a(){this.tmp=[,,],this.keys=null}function c(et){eu.call(this,et);var ei=new a;this._desState=ei,this.deriveKeys(ei,et.key)}ec(c,eu),et.exports=c,c.create=function(et){return new c(et)};var ed=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];c.prototype.deriveKeys=function(et,ei){et.keys=Array(32),ea.equal(ei.length,this.blockSize,"Invalid key length");var eo=eh.readUInt32BE(ei,0),ec=eh.readUInt32BE(ei,4);eh.pc1(eo,ec,et.tmp,0),eo=et.tmp[0],ec=et.tmp[1];for(var eu=0;eu<et.keys.length;eu+=2){var ef=ed[eu>>>1];eo=eh.r28shl(eo,ef),ec=eh.r28shl(ec,ef),eh.pc2(eo,ec,et.keys,eu)}},c.prototype._update=function(et,ei,eo,ea){var ec=this._desState,eu=eh.readUInt32BE(et,ei),ed=eh.readUInt32BE(et,ei+4);eh.ip(eu,ed,ec.tmp,0),eu=ec.tmp[0],ed=ec.tmp[1],"encrypt"===this.type?this._encrypt(ec,eu,ed,ec.tmp,0):this._decrypt(ec,eu,ed,ec.tmp,0),eu=ec.tmp[0],ed=ec.tmp[1],eh.writeUInt32BE(eo,eu,ea),eh.writeUInt32BE(eo,ed,ea+4)},c.prototype._pad=function(et,ei){for(var eo=et.length-ei,ea=ei;ea<et.length;ea++)et[ea]=eo;return!0},c.prototype._unpad=function(et){for(var ei=et[et.length-1],eo=et.length-ei;eo<et.length;eo++)ea.equal(et[eo],ei);return et.slice(0,et.length-ei)},c.prototype._encrypt=function(et,ei,eo,ea,ec){for(var eu=ei,ed=eo,ef=0;ef<et.keys.length;ef+=2){var el=et.keys[ef],ep=et.keys[ef+1];eh.expand(ed,et.tmp,0),el^=et.tmp[0],ep^=et.tmp[1];var eb=eh.substitute(el,ep),eg=ed;ed=(eu^eh.permute(eb))>>>0,eu=eg}eh.rip(ed,eu,ea,ec)},c.prototype._decrypt=function(et,ei,eo,ea,ec){for(var eu=eo,ed=ei,ef=et.keys.length-2;ef>=0;ef-=2){var el=et.keys[ef],ep=et.keys[ef+1];eh.expand(eu,et.tmp,0),el^=et.tmp[0],ep^=et.tmp[1];var eb=eh.substitute(el,ep),eg=eu;eu=(ed^eh.permute(eb))>>>0,ed=eg}eh.rip(eu,ed,ea,ec)}},6625:(et,ei,eo)=>{"use strict";var ea=eo(5578),ec=eo(1193),eh=eo(5958),eu=eo(9409);function a(et,ei){ea.equal(ei.length,24,"Invalid key length");var eo=ei.slice(0,8),ec=ei.slice(8,16),eh=ei.slice(16,24);this.ciphers="encrypt"===et?[eu.create({type:"encrypt",key:eo}),eu.create({type:"decrypt",key:ec}),eu.create({type:"encrypt",key:eh})]:[eu.create({type:"decrypt",key:eh}),eu.create({type:"encrypt",key:ec}),eu.create({type:"decrypt",key:eo})]}function c(et){eh.call(this,et);var ei=new a(this.type,this.options.key);this._edeState=ei}ec(c,eh),et.exports=c,c.create=function(et){return new c(et)},c.prototype._update=function(et,ei,eo,ea){var ec=this._edeState;ec.ciphers[0]._update(et,ei,eo,ea),ec.ciphers[1]._update(eo,ea,eo,ea),ec.ciphers[2]._update(eo,ea,eo,ea)},c.prototype._pad=eu.prototype._pad,c.prototype._unpad=eu.prototype._unpad},1496:(et,ei)=>{"use strict";ei.readUInt32BE=function(et,ei){return(et[0+ei]<<24|et[1+ei]<<16|et[2+ei]<<8|et[3+ei])>>>0},ei.writeUInt32BE=function(et,ei,eo){et[0+eo]=ei>>>24,et[1+eo]=ei>>>16&255,et[2+eo]=ei>>>8&255,et[3+eo]=255&ei},ei.ip=function(et,ei,eo,ea){for(var ec=0,eh=0,eu=6;eu>=0;eu-=2){for(var ed=0;ed<=24;ed+=8)ec<<=1,ec|=ei>>>ed+eu&1;for(ed=0;ed<=24;ed+=8)ec<<=1,ec|=et>>>ed+eu&1}for(eu=6;eu>=0;eu-=2){for(ed=1;ed<=25;ed+=8)eh<<=1,eh|=ei>>>ed+eu&1;for(ed=1;ed<=25;ed+=8)eh<<=1,eh|=et>>>ed+eu&1}eo[ea+0]=ec>>>0,eo[ea+1]=eh>>>0},ei.rip=function(et,ei,eo,ea){for(var ec=0,eh=0,eu=0;eu<4;eu++)for(var ed=24;ed>=0;ed-=8)ec<<=1,ec|=ei>>>ed+eu&1,ec<<=1,ec|=et>>>ed+eu&1;for(eu=4;eu<8;eu++)for(ed=24;ed>=0;ed-=8)eh<<=1,eh|=ei>>>ed+eu&1,eh<<=1,eh|=et>>>ed+eu&1;eo[ea+0]=ec>>>0,eo[ea+1]=eh>>>0},ei.pc1=function(et,ei,eo,ea){for(var ec=0,eh=0,eu=7;eu>=5;eu--){for(var ed=0;ed<=24;ed+=8)ec<<=1,ec|=ei>>ed+eu&1;for(ed=0;ed<=24;ed+=8)ec<<=1,ec|=et>>ed+eu&1}for(ed=0;ed<=24;ed+=8)ec<<=1,ec|=ei>>ed+eu&1;for(eu=1;eu<=3;eu++){for(ed=0;ed<=24;ed+=8)eh<<=1,eh|=ei>>ed+eu&1;for(ed=0;ed<=24;ed+=8)eh<<=1,eh|=et>>ed+eu&1}for(ed=0;ed<=24;ed+=8)eh<<=1,eh|=et>>ed+eu&1;eo[ea+0]=ec>>>0,eo[ea+1]=eh>>>0},ei.r28shl=function(et,ei){return et<<ei&268435455|et>>>28-ei};var eo=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];ei.pc2=function(et,ei,ea,ec){for(var eh=0,eu=0,ed=eo.length>>>1,ef=0;ef<ed;ef++)eh<<=1,eh|=et>>>eo[ef]&1;for(ef=ed;ef<eo.length;ef++)eu<<=1,eu|=ei>>>eo[ef]&1;ea[ec+0]=eh>>>0,ea[ec+1]=eu>>>0},ei.expand=function(et,ei,eo){var ea=0,ec=0;ea=(1&et)<<5|et>>>27;for(var eh=23;eh>=15;eh-=4)ea<<=6,ea|=et>>>eh&63;for(eh=11;eh>=3;eh-=4)ec|=et>>>eh&63,ec<<=6;ec|=(31&et)<<1|et>>>31,ei[eo+0]=ea>>>0,ei[eo+1]=ec>>>0};var ea=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];ei.substitute=function(et,ei){for(var eo=0,ec=0;ec<4;ec++)eo<<=4,eo|=ea[64*ec+(et>>>18-6*ec&63)];for(ec=0;ec<4;ec++)eo<<=4,eo|=ea[256+64*ec+(ei>>>18-6*ec&63)];return eo>>>0};var ec=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];ei.permute=function(et){for(var ei=0,eo=0;eo<ec.length;eo++)ei<<=1,ei|=et>>>ec[eo]&1;return ei>>>0},ei.padSplit=function(et,ei,eo){for(var ea=et.toString(2);ea.length<ei;)ea="0"+ea;for(var ec=[],eh=0;eh<ei;eh+=eo)ec.push(ea.slice(eh,eh+eo));return ec.join(" ")}},8216:(et,ei,eo)=>{var ea=eo(5122),eh=eo(7821),eu=eo(9242),ed={binary:!0,hex:!0,base64:!0};ei.DiffieHellmanGroup=ei.createDiffieHellmanGroup=ei.getDiffieHellman=function(et){var ei=new ec(eh[et].prime,"hex"),eo=new ec(eh[et].gen,"hex");return new eu(ei,eo)},ei.createDiffieHellman=ei.DiffieHellman=function e(et,ei,eo,eh){return ec.isBuffer(ei)||void 0===ed[ei]?e(et,"binary",ei,eo):(ei=ei||"binary",eh=eh||"binary",eo=eo||new ec([2]),ec.isBuffer(eo)||(eo=new ec(eo,eh)),"number"==typeof et?new eu(ea(et,eo),eo,!0):(ec.isBuffer(et)||(et=new ec(et,ei)),new eu(et,eo,!0)))}},9242:(et,ei,eo)=>{var ea=eo(4619),eh=new(eo(4442)),eu=new ea(24),ed=new ea(11),ef=new ea(10),el=new ea(3),ep=new ea(7),eb=eo(5122),eg=eo(2869);function f(et,ei){return ei=ei||"utf8",ec.isBuffer(et)||(et=new ec(et,ei)),this._pub=new ea(et),this}function l(et,ei){return ei=ei||"utf8",ec.isBuffer(et)||(et=new ec(et,ei)),this._priv=new ea(et),this}et.exports=b;var em={};function b(et,ei,eo){this.setGenerator(ei),this.__prime=new ea(et),this._prime=ea.mont(this.__prime),this._primeLen=et.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,eo?(this.setPublicKey=f,this.setPrivateKey=l):this._primeCode=8}function g(et,ei){var eo=new ec(et.toArray());return ei?eo.toString(ei):eo}Object.defineProperty(b.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!=typeof this._primeCode&&(this._primeCode=function(et,ei){var eo=ei.toString("hex"),ea=[eo,et.toString(16)].join("_");if(ea in em)return em[ea];var ec,eg=0;if(et.isEven()||!eb.simpleSieve||!eb.fermatTest(et)||!eh.test(et))return eg+=1+("02"===eo||"05"===eo?8:4),em[ea]=eg,eg;switch(eh.test(et.shrn(1))||(eg+=2),eo){case"02":et.mod(eu).cmp(ed)&&(eg+=8);break;case"05":(ec=et.mod(ef)).cmp(el)&&ec.cmp(ep)&&(eg+=8);break;default:eg+=4}return em[ea]=eg,eg}(this.__prime,this.__gen)),this._primeCode}}),b.prototype.generateKeys=function(){return this._priv||(this._priv=new ea(eg(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},b.prototype.computeSecret=function(et){var ei=(et=(et=new ea(et)).toRed(this._prime)).redPow(this._priv).fromRed(),eo=new ec(ei.toArray()),eh=this.getPrime();if(eo.length<eh.length){var eu=new ec(eh.length-eo.length);eu.fill(0),eo=ec.concat([eu,eo])}return eo},b.prototype.getPublicKey=function(et){return g(this._pub,et)},b.prototype.getPrivateKey=function(et){return g(this._priv,et)},b.prototype.getPrime=function(et){return g(this.__prime,et)},b.prototype.getGenerator=function(et){return g(this._gen,et)},b.prototype.setGenerator=function(et,ei){return ei=ei||"utf8",ec.isBuffer(et)||(et=new ec(et,ei)),this.__gen=et,this._gen=new ea(et),this}},5122:(et,ei,eo)=>{var ea=eo(2869);et.exports=m,m.simpleSieve=b,m.fermatTest=g;var ec=eo(4619),eh=new ec(24),eu=new(eo(4442)),ed=new ec(1),ef=new ec(2),el=new ec(5),ep=(new ec(16),new ec(8),new ec(10)),eb=new ec(3),eg=(new ec(7),new ec(11)),em=new ec(4),ey=(new ec(12),null);function b(et){for(var ei=function(){if(null!==ey)return ey;var et=[];et[0]=2;for(var ei=1,eo=3;eo<1048576;eo+=2){for(var ea=Math.ceil(Math.sqrt(eo)),ec=0;ec<ei&&et[ec]<=ea&&eo%et[ec]!=0;ec++);ei!==ec&&et[ec]<=ea||(et[ei++]=eo)}return ey=et,et}(),eo=0;eo<ei.length;eo++)if(0===et.modn(ei[eo]))return 0===et.cmpn(ei[eo]);return!0}function g(et){var ei=ec.mont(et);return 0===ef.toRed(ei).redPow(et.subn(1)).fromRed().cmpn(1)}function m(et,ei){var eo,ey;if(et<16)return new ec(2===ei||5===ei?[140,123]:[140,39]);for(ei=new ec(ei);;){for(eo=new ec(ea(Math.ceil(et/8)));eo.bitLength()>et;)eo.ishrn(1);if(eo.isEven()&&eo.iadd(ed),eo.testn(1)||eo.iadd(ef),ei.cmp(ef)){if(!ei.cmp(el))for(;eo.mod(ep).cmp(eb);)eo.iadd(em)}else for(;eo.mod(eh).cmp(eg);)eo.iadd(em);if(b(ey=eo.shrn(1))&&b(eo)&&g(ey)&&g(eo)&&eu.test(ey)&&eu.test(eo))return eo}}},3210:(et,ei,eo)=>{"use strict";ei.version=eo(117).rE,ei.utils=eo(932),ei.rand=eo(5442),ei.curve=eo(7053),ei.curves=eo(85),ei.ec=eo(5774),ei.eddsa=eo(4905)},1288:(et,ei,eo)=>{"use strict";var ea=eo(4619),ec=eo(932),eh=ec.getNAF,eu=ec.getJSF,ed=ec.assert;function c(et,ei){this.type=et,this.p=new ea(ei.p,16),this.red=ei.prime?ea.red(ei.prime):ea.mont(this.p),this.zero=new ea(0).toRed(this.red),this.one=new ea(1).toRed(this.red),this.two=new ea(2).toRed(this.red),this.n=ei.n&&new ea(ei.n,16),this.g=ei.g&&this.pointFromJSON(ei.g,ei.gRed),this._wnafT1=[,,,,],this._wnafT2=[,,,,],this._wnafT3=[,,,,],this._wnafT4=[,,,,],this._bitLength=this.n?this.n.bitLength():0;var eo=this.n&&this.p.div(this.n);!eo||eo.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function h(et,ei){this.curve=et,this.type=ei,this.precomputed=null}et.exports=c,c.prototype.point=function(){throw Error("Not implemented")},c.prototype.validate=function(){throw Error("Not implemented")},c.prototype._fixedNafMul=function(et,ei){ed(et.precomputed);var eo=et._getDoubles(),ea=eh(ei,1,this._bitLength),ec=(1<<eo.step+1)-(eo.step%2==0?2:1);ec/=3;var eu,ef,el=[];for(eu=0;eu<ea.length;eu+=eo.step){ef=0;for(var ep=eu+eo.step-1;ep>=eu;ep--)ef=(ef<<1)+ea[ep];el.push(ef)}for(var eb=this.jpoint(null,null,null),eg=this.jpoint(null,null,null),em=ec;em>0;em--){for(eu=0;eu<el.length;eu++)(ef=el[eu])===em?eg=eg.mixedAdd(eo.points[eu]):ef===-em&&(eg=eg.mixedAdd(eo.points[eu].neg()));eb=eb.add(eg)}return eb.toP()},c.prototype._wnafMul=function(et,ei){var eo=4,ea=et._getNAFPoints(eo);eo=ea.wnd;for(var ec=ea.points,eu=eh(ei,eo,this._bitLength),ef=this.jpoint(null,null,null),el=eu.length-1;el>=0;el--){for(var ep=0;el>=0&&0===eu[el];el--)ep++;if(el>=0&&ep++,ef=ef.dblp(ep),el<0)break;var eb=eu[el];ed(0!==eb),ef="affine"===et.type?eb>0?ef.mixedAdd(ec[eb-1>>1]):ef.mixedAdd(ec[-eb-1>>1].neg()):eb>0?ef.add(ec[eb-1>>1]):ef.add(ec[-eb-1>>1].neg())}return"affine"===et.type?ef.toP():ef},c.prototype._wnafMulAdd=function(et,ei,eo,ea,ec){var ed,ef,el,ep=this._wnafT1,eb=this._wnafT2,eg=this._wnafT3,em=0;for(ed=0;ed<ea;ed++){var ey=(el=ei[ed])._getNAFPoints(et);ep[ed]=ey.wnd,eb[ed]=ey.points}for(ed=ea-1;ed>=1;ed-=2){var ev=ed-1,ew=ed;if(1===ep[ev]&&1===ep[ew]){var e_=[ei[ev],null,null,ei[ew]];0===ei[ev].y.cmp(ei[ew].y)?(e_[1]=ei[ev].add(ei[ew]),e_[2]=ei[ev].toJ().mixedAdd(ei[ew].neg())):0===ei[ev].y.cmp(ei[ew].y.redNeg())?(e_[1]=ei[ev].toJ().mixedAdd(ei[ew]),e_[2]=ei[ev].add(ei[ew].neg())):(e_[1]=ei[ev].toJ().mixedAdd(ei[ew]),e_[2]=ei[ev].toJ().mixedAdd(ei[ew].neg()));var eE=[-3,-1,-5,-7,0,7,5,1,3],eS=eu(eo[ev],eo[ew]);for(em=Math.max(eS[0].length,em),eg[ev]=Array(em),eg[ew]=Array(em),ef=0;ef<em;ef++){var eA=0|eS[0][ef],eM=0|eS[1][ef];eg[ev][ef]=eE[3*(eA+1)+(eM+1)],eg[ew][ef]=0,eb[ev]=e_}}else eg[ev]=eh(eo[ev],ep[ev],this._bitLength),eg[ew]=eh(eo[ew],ep[ew],this._bitLength),em=Math.max(eg[ev].length,em),em=Math.max(eg[ew].length,em)}var eI=this.jpoint(null,null,null),eT=this._wnafT4;for(ed=em;ed>=0;ed--){for(var ex=0;ed>=0;){var eC=!0;for(ef=0;ef<ea;ef++)eT[ef]=0|eg[ef][ed],0!==eT[ef]&&(eC=!1);if(!eC)break;ex++,ed--}if(ed>=0&&ex++,eI=eI.dblp(ex),ed<0)break;for(ef=0;ef<ea;ef++){var eR=eT[ef];0!==eR&&(eR>0?el=eb[ef][eR-1>>1]:eR<0&&(el=eb[ef][-eR-1>>1].neg()),eI="affine"===el.type?eI.mixedAdd(el):eI.add(el))}}for(ed=0;ed<ea;ed++)eb[ed]=null;return ec?eI:eI.toP()},c.BasePoint=h,h.prototype.eq=function(){throw Error("Not implemented")},h.prototype.validate=function(){return this.curve.validate(this)},c.prototype.decodePoint=function(et,ei){et=ec.toArray(et,ei);var eo=this.p.byteLength();if((4===et[0]||6===et[0]||7===et[0])&&et.length-1==2*eo)return 6===et[0]?ed(et[et.length-1]%2==0):7===et[0]&&ed(et[et.length-1]%2==1),this.point(et.slice(1,1+eo),et.slice(1+eo,1+2*eo));if((2===et[0]||3===et[0])&&et.length-1===eo)return this.pointFromX(et.slice(1,1+eo),3===et[0]);throw Error("Unknown point format")},h.prototype.encodeCompressed=function(et){return this.encode(et,!0)},h.prototype._encode=function(et){var ei=this.curve.p.byteLength(),eo=this.getX().toArray("be",ei);return et?[this.getY().isEven()?2:3].concat(eo):[4].concat(eo,this.getY().toArray("be",ei))},h.prototype.encode=function(et,ei){return ec.encode(this._encode(ei),et)},h.prototype.precompute=function(et){if(this.precomputed)return this;var ei={doubles:null,naf:null,beta:null};return ei.naf=this._getNAFPoints(8),ei.doubles=this._getDoubles(4,et),ei.beta=this._getBeta(),this.precomputed=ei,this},h.prototype._hasDoubles=function(et){if(!this.precomputed)return!1;var ei=this.precomputed.doubles;return!!ei&&ei.points.length>=Math.ceil((et.bitLength()+1)/ei.step)},h.prototype._getDoubles=function(et,ei){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var eo=[this],ea=this,ec=0;ec<ei;ec+=et){for(var eh=0;eh<et;eh++)ea=ea.dbl();eo.push(ea)}return{step:et,points:eo}},h.prototype._getNAFPoints=function(et){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var ei=[this],eo=(1<<et)-1,ea=1===eo?null:this.dbl(),ec=1;ec<eo;ec++)ei[ec]=ei[ec-1].add(ea);return{wnd:et,points:ei}},h.prototype._getBeta=function(){return null},h.prototype.dblp=function(et){for(var ei=this,eo=0;eo<et;eo++)ei=ei.dbl();return ei}},493:(et,ei,eo)=>{"use strict";var ea=eo(932),ec=eo(4619),eh=eo(1193),eu=eo(1288),ed=ea.assert;function c(et){this.twisted=1!=(0|et.a),this.mOneA=this.twisted&&-1==(0|et.a),this.extended=this.mOneA,eu.call(this,"edwards",et),this.a=new ec(et.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new ec(et.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new ec(et.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),ed(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|et.c)}function h(et,ei,eo,ea,eh){eu.BasePoint.call(this,et,"projective"),null===ei&&null===eo&&null===ea?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new ec(ei,16),this.y=new ec(eo,16),this.z=ea?new ec(ea,16):this.curve.one,this.t=eh&&new ec(eh,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}eh(c,eu),et.exports=c,c.prototype._mulA=function(et){return this.mOneA?et.redNeg():this.a.redMul(et)},c.prototype._mulC=function(et){return this.oneC?et:this.c.redMul(et)},c.prototype.jpoint=function(et,ei,eo,ea){return this.point(et,ei,eo,ea)},c.prototype.pointFromX=function(et,ei){(et=new ec(et,16)).red||(et=et.toRed(this.red));var eo=et.redSqr(),ea=this.c2.redSub(this.a.redMul(eo)),eh=this.one.redSub(this.c2.redMul(this.d).redMul(eo)),eu=ea.redMul(eh.redInvm()),ed=eu.redSqrt();if(0!==ed.redSqr().redSub(eu).cmp(this.zero))throw Error("invalid point");var ef=ed.fromRed().isOdd();return(ei&&!ef||!ei&&ef)&&(ed=ed.redNeg()),this.point(et,ed)},c.prototype.pointFromY=function(et,ei){(et=new ec(et,16)).red||(et=et.toRed(this.red));var eo=et.redSqr(),ea=eo.redSub(this.c2),eh=eo.redMul(this.d).redMul(this.c2).redSub(this.a),eu=ea.redMul(eh.redInvm());if(0===eu.cmp(this.zero)){if(ei)throw Error("invalid point");return this.point(this.zero,et)}var ed=eu.redSqrt();if(0!==ed.redSqr().redSub(eu).cmp(this.zero))throw Error("invalid point");return ed.fromRed().isOdd()!==ei&&(ed=ed.redNeg()),this.point(ed,et)},c.prototype.validate=function(et){if(et.isInfinity())return!0;et.normalize();var ei=et.x.redSqr(),eo=et.y.redSqr(),ea=ei.redMul(this.a).redAdd(eo),ec=this.c2.redMul(this.one.redAdd(this.d.redMul(ei).redMul(eo)));return 0===ea.cmp(ec)},eh(h,eu.BasePoint),c.prototype.pointFromJSON=function(et){return h.fromJSON(this,et)},c.prototype.point=function(et,ei,eo,ea){return new h(this,et,ei,eo,ea)},h.fromJSON=function(et,ei){return new h(et,ei[0],ei[1],ei[2])},h.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},h.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},h.prototype._extDbl=function(){var et=this.x.redSqr(),ei=this.y.redSqr(),eo=this.z.redSqr();eo=eo.redIAdd(eo);var ea=this.curve._mulA(et),ec=this.x.redAdd(this.y).redSqr().redISub(et).redISub(ei),eh=ea.redAdd(ei),eu=eh.redSub(eo),ed=ea.redSub(ei),ef=ec.redMul(eu),el=eh.redMul(ed),ep=ec.redMul(ed),eb=eu.redMul(eh);return this.curve.point(ef,el,eb,ep)},h.prototype._projDbl=function(){var et,ei,eo,ea,ec,eh,eu=this.x.redAdd(this.y).redSqr(),ed=this.x.redSqr(),ef=this.y.redSqr();if(this.curve.twisted){var el=(ea=this.curve._mulA(ed)).redAdd(ef);this.zOne?(et=eu.redSub(ed).redSub(ef).redMul(el.redSub(this.curve.two)),ei=el.redMul(ea.redSub(ef)),eo=el.redSqr().redSub(el).redSub(el)):(ec=this.z.redSqr(),eh=el.redSub(ec).redISub(ec),et=eu.redSub(ed).redISub(ef).redMul(eh),ei=el.redMul(ea.redSub(ef)),eo=el.redMul(eh))}else ea=ed.redAdd(ef),ec=this.curve._mulC(this.z).redSqr(),eh=ea.redSub(ec).redSub(ec),et=this.curve._mulC(eu.redISub(ea)).redMul(eh),ei=this.curve._mulC(ea).redMul(ed.redISub(ef)),eo=ea.redMul(eh);return this.curve.point(et,ei,eo)},h.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},h.prototype._extAdd=function(et){var ei=this.y.redSub(this.x).redMul(et.y.redSub(et.x)),eo=this.y.redAdd(this.x).redMul(et.y.redAdd(et.x)),ea=this.t.redMul(this.curve.dd).redMul(et.t),ec=this.z.redMul(et.z.redAdd(et.z)),eh=eo.redSub(ei),eu=ec.redSub(ea),ed=ec.redAdd(ea),ef=eo.redAdd(ei),el=eh.redMul(eu),ep=ed.redMul(ef),eb=eh.redMul(ef),eg=eu.redMul(ed);return this.curve.point(el,ep,eg,eb)},h.prototype._projAdd=function(et){var ei,eo,ea=this.z.redMul(et.z),ec=ea.redSqr(),eh=this.x.redMul(et.x),eu=this.y.redMul(et.y),ed=this.curve.d.redMul(eh).redMul(eu),ef=ec.redSub(ed),el=ec.redAdd(ed),ep=this.x.redAdd(this.y).redMul(et.x.redAdd(et.y)).redISub(eh).redISub(eu),eb=ea.redMul(ef).redMul(ep);return this.curve.twisted?(ei=ea.redMul(el).redMul(eu.redSub(this.curve._mulA(eh))),eo=ef.redMul(el)):(ei=ea.redMul(el).redMul(eu.redSub(eh)),eo=this.curve._mulC(ef).redMul(el)),this.curve.point(eb,ei,eo)},h.prototype.add=function(et){return this.isInfinity()?et:et.isInfinity()?this:this.curve.extended?this._extAdd(et):this._projAdd(et)},h.prototype.mul=function(et){return this._hasDoubles(et)?this.curve._fixedNafMul(this,et):this.curve._wnafMul(this,et)},h.prototype.mulAdd=function(et,ei,eo){return this.curve._wnafMulAdd(1,[this,ei],[et,eo],2,!1)},h.prototype.jmulAdd=function(et,ei,eo){return this.curve._wnafMulAdd(1,[this,ei],[et,eo],2,!0)},h.prototype.normalize=function(){if(this.zOne)return this;var et=this.z.redInvm();return this.x=this.x.redMul(et),this.y=this.y.redMul(et),this.t&&(this.t=this.t.redMul(et)),this.z=this.curve.one,this.zOne=!0,this},h.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},h.prototype.getX=function(){return this.normalize(),this.x.fromRed()},h.prototype.getY=function(){return this.normalize(),this.y.fromRed()},h.prototype.eq=function(et){return this===et||0===this.getX().cmp(et.getX())&&0===this.getY().cmp(et.getY())},h.prototype.eqXToP=function(et){var ei=et.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(ei))return!0;for(var eo=et.clone(),ea=this.curve.redN.redMul(this.z);;){if(eo.iadd(this.curve.n),eo.cmp(this.curve.p)>=0)return!1;if(ei.redIAdd(ea),0===this.x.cmp(ei))return!0}},h.prototype.toP=h.prototype.normalize,h.prototype.mixedAdd=h.prototype.add},7053:(et,ei,eo)=>{"use strict";ei.base=eo(1288),ei.short=eo(8855),ei.mont=eo(2535),ei.edwards=eo(493)},2535:(et,ei,eo)=>{"use strict";var ea=eo(4619),ec=eo(1193),eh=eo(1288),eu=eo(932);function a(et){eh.call(this,"mont",et),this.a=new ea(et.a,16).toRed(this.red),this.b=new ea(et.b,16).toRed(this.red),this.i4=new ea(4).toRed(this.red).redInvm(),this.two=new ea(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function c(et,ei,eo){eh.BasePoint.call(this,et,"projective"),null===ei&&null===eo?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new ea(ei,16),this.z=new ea(eo,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}ec(a,eh),et.exports=a,a.prototype.validate=function(et){var ei=et.normalize().x,eo=ei.redSqr(),ea=eo.redMul(ei).redAdd(eo.redMul(this.a)).redAdd(ei);return 0===ea.redSqrt().redSqr().cmp(ea)},ec(c,eh.BasePoint),a.prototype.decodePoint=function(et,ei){return this.point(eu.toArray(et,ei),1)},a.prototype.point=function(et,ei){return new c(this,et,ei)},a.prototype.pointFromJSON=function(et){return c.fromJSON(this,et)},c.prototype.precompute=function(){},c.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},c.fromJSON=function(et,ei){return new c(et,ei[0],ei[1]||et.one)},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},c.prototype.dbl=function(){var et=this.x.redAdd(this.z).redSqr(),ei=this.x.redSub(this.z).redSqr(),eo=et.redSub(ei),ea=et.redMul(ei),ec=eo.redMul(ei.redAdd(this.curve.a24.redMul(eo)));return this.curve.point(ea,ec)},c.prototype.add=function(){throw Error("Not supported on Montgomery curve")},c.prototype.diffAdd=function(et,ei){var eo=this.x.redAdd(this.z),ea=this.x.redSub(this.z),ec=et.x.redAdd(et.z),eh=et.x.redSub(et.z).redMul(eo),eu=ec.redMul(ea),ed=ei.z.redMul(eh.redAdd(eu).redSqr()),ef=ei.x.redMul(eh.redISub(eu).redSqr());return this.curve.point(ed,ef)},c.prototype.mul=function(et){for(var ei=et.clone(),eo=this,ea=this.curve.point(null,null),ec=[];0!==ei.cmpn(0);ei.iushrn(1))ec.push(ei.andln(1));for(var eh=ec.length-1;eh>=0;eh--)0===ec[eh]?(eo=eo.diffAdd(ea,this),ea=ea.dbl()):(ea=eo.diffAdd(ea,this),eo=eo.dbl());return ea},c.prototype.mulAdd=function(){throw Error("Not supported on Montgomery curve")},c.prototype.jumlAdd=function(){throw Error("Not supported on Montgomery curve")},c.prototype.eq=function(et){return 0===this.getX().cmp(et.getX())},c.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},8855:(et,ei,eo)=>{"use strict";var ea=eo(932),ec=eo(4619),eh=eo(1193),eu=eo(1288),ed=ea.assert;function c(et){eu.call(this,"short",et),this.a=new ec(et.a,16).toRed(this.red),this.b=new ec(et.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(et),this._endoWnafT1=[,,,,],this._endoWnafT2=[,,,,]}function h(et,ei,eo,ea){eu.BasePoint.call(this,et,"affine"),null===ei&&null===eo?(this.x=null,this.y=null,this.inf=!0):(this.x=new ec(ei,16),this.y=new ec(eo,16),ea&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function u(et,ei,eo,ea){eu.BasePoint.call(this,et,"jacobian"),null===ei&&null===eo&&null===ea?(this.x=this.curve.one,this.y=this.curve.one,this.z=new ec(0)):(this.x=new ec(ei,16),this.y=new ec(eo,16),this.z=new ec(ea,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}eh(c,eu),et.exports=c,c.prototype._getEndomorphism=function(et){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var ei,eo;if(et.beta)ei=new ec(et.beta,16).toRed(this.red);else{var ea=this._getEndoRoots(this.p);ei=(ei=0>ea[0].cmp(ea[1])?ea[0]:ea[1]).toRed(this.red)}if(et.lambda)eo=new ec(et.lambda,16);else{var eh=this._getEndoRoots(this.n);0===this.g.mul(eh[0]).x.cmp(this.g.x.redMul(ei))?eo=eh[0]:(eo=eh[1],ed(0===this.g.mul(eo).x.cmp(this.g.x.redMul(ei))))}return{beta:ei,lambda:eo,basis:et.basis?et.basis.map(function(et){return{a:new ec(et.a,16),b:new ec(et.b,16)}}):this._getEndoBasis(eo)}}},c.prototype._getEndoRoots=function(et){var ei=et===this.p?this.red:ec.mont(et),eo=new ec(2).toRed(ei).redInvm(),ea=eo.redNeg(),eh=new ec(3).toRed(ei).redNeg().redSqrt().redMul(eo);return[ea.redAdd(eh).fromRed(),ea.redSub(eh).fromRed()]},c.prototype._getEndoBasis=function(et){for(var ei,eo,ea,eh,eu,ed,ef,el,ep,eb=this.n.ushrn(Math.floor(this.n.bitLength()/2)),eg=et,em=this.n.clone(),ey=new ec(1),ev=new ec(0),ew=new ec(0),e_=new ec(1),eE=0;0!==eg.cmpn(0);){var eS=em.div(eg);el=em.sub(eS.mul(eg)),ep=ew.sub(eS.mul(ey));var eA=e_.sub(eS.mul(ev));if(!ea&&0>el.cmp(eb))ei=ef.neg(),eo=ey,ea=el.neg(),eh=ep;else if(ea&&2==++eE)break;ef=el,em=eg,eg=el,ew=ey,ey=ep,e_=ev,ev=eA}eu=el.neg(),ed=ep;var eM=ea.sqr().add(eh.sqr());return eu.sqr().add(ed.sqr()).cmp(eM)>=0&&(eu=ei,ed=eo),ea.negative&&(ea=ea.neg(),eh=eh.neg()),eu.negative&&(eu=eu.neg(),ed=ed.neg()),[{a:ea,b:eh},{a:eu,b:ed}]},c.prototype._endoSplit=function(et){var ei=this.endo.basis,eo=ei[0],ea=ei[1],ec=ea.b.mul(et).divRound(this.n),eh=eo.b.neg().mul(et).divRound(this.n),eu=ec.mul(eo.a),ed=eh.mul(ea.a),ef=ec.mul(eo.b),el=eh.mul(ea.b);return{k1:et.sub(eu).sub(ed),k2:ef.add(el).neg()}},c.prototype.pointFromX=function(et,ei){(et=new ec(et,16)).red||(et=et.toRed(this.red));var eo=et.redSqr().redMul(et).redIAdd(et.redMul(this.a)).redIAdd(this.b),ea=eo.redSqrt();if(0!==ea.redSqr().redSub(eo).cmp(this.zero))throw Error("invalid point");var eh=ea.fromRed().isOdd();return(ei&&!eh||!ei&&eh)&&(ea=ea.redNeg()),this.point(et,ea)},c.prototype.validate=function(et){if(et.inf)return!0;var ei=et.x,eo=et.y,ea=this.a.redMul(ei),ec=ei.redSqr().redMul(ei).redIAdd(ea).redIAdd(this.b);return 0===eo.redSqr().redISub(ec).cmpn(0)},c.prototype._endoWnafMulAdd=function(et,ei,eo){for(var ea=this._endoWnafT1,ec=this._endoWnafT2,eh=0;eh<et.length;eh++){var eu=this._endoSplit(ei[eh]),ed=et[eh],ef=ed._getBeta();eu.k1.negative&&(eu.k1.ineg(),ed=ed.neg(!0)),eu.k2.negative&&(eu.k2.ineg(),ef=ef.neg(!0)),ea[2*eh]=ed,ea[2*eh+1]=ef,ec[2*eh]=eu.k1,ec[2*eh+1]=eu.k2}for(var el=this._wnafMulAdd(1,ea,ec,2*eh,eo),ep=0;ep<2*eh;ep++)ea[ep]=null,ec[ep]=null;return el},eh(h,eu.BasePoint),c.prototype.point=function(et,ei,eo){return new h(this,et,ei,eo)},c.prototype.pointFromJSON=function(et,ei){return h.fromJSON(this,et,ei)},h.prototype._getBeta=function(){if(this.curve.endo){var et=this.precomputed;if(et&&et.beta)return et.beta;var ei=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(et){var eo=this.curve,n=function(et){return eo.point(et.x.redMul(eo.endo.beta),et.y)};et.beta=ei,ei.precomputed={beta:null,naf:et.naf&&{wnd:et.naf.wnd,points:et.naf.points.map(n)},doubles:et.doubles&&{step:et.doubles.step,points:et.doubles.points.map(n)}}}return ei}},h.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},h.fromJSON=function(et,ei,eo){"string"==typeof ei&&(ei=JSON.parse(ei));var ea=et.point(ei[0],ei[1],eo);if(!ei[2])return ea;function i(ei){return et.point(ei[0],ei[1],eo)}var ec=ei[2];return ea.precomputed={beta:null,doubles:ec.doubles&&{step:ec.doubles.step,points:[ea].concat(ec.doubles.points.map(i))},naf:ec.naf&&{wnd:ec.naf.wnd,points:[ea].concat(ec.naf.points.map(i))}},ea},h.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},h.prototype.isInfinity=function(){return this.inf},h.prototype.add=function(et){if(this.inf)return et;if(et.inf)return this;if(this.eq(et))return this.dbl();if(this.neg().eq(et)||0===this.x.cmp(et.x))return this.curve.point(null,null);var ei=this.y.redSub(et.y);0!==ei.cmpn(0)&&(ei=ei.redMul(this.x.redSub(et.x).redInvm()));var eo=ei.redSqr().redISub(this.x).redISub(et.x),ea=ei.redMul(this.x.redSub(eo)).redISub(this.y);return this.curve.point(eo,ea)},h.prototype.dbl=function(){if(this.inf)return this;var et=this.y.redAdd(this.y);if(0===et.cmpn(0))return this.curve.point(null,null);var ei=this.curve.a,eo=this.x.redSqr(),ea=et.redInvm(),ec=eo.redAdd(eo).redIAdd(eo).redIAdd(ei).redMul(ea),eh=ec.redSqr().redISub(this.x.redAdd(this.x)),eu=ec.redMul(this.x.redSub(eh)).redISub(this.y);return this.curve.point(eh,eu)},h.prototype.getX=function(){return this.x.fromRed()},h.prototype.getY=function(){return this.y.fromRed()},h.prototype.mul=function(et){return et=new ec(et,16),this.isInfinity()?this:this._hasDoubles(et)?this.curve._fixedNafMul(this,et):this.curve.endo?this.curve._endoWnafMulAdd([this],[et]):this.curve._wnafMul(this,et)},h.prototype.mulAdd=function(et,ei,eo){var ea=[this,ei],ec=[et,eo];return this.curve.endo?this.curve._endoWnafMulAdd(ea,ec):this.curve._wnafMulAdd(1,ea,ec,2)},h.prototype.jmulAdd=function(et,ei,eo){var ea=[this,ei],ec=[et,eo];return this.curve.endo?this.curve._endoWnafMulAdd(ea,ec,!0):this.curve._wnafMulAdd(1,ea,ec,2,!0)},h.prototype.eq=function(et){return this===et||this.inf===et.inf&&(this.inf||0===this.x.cmp(et.x)&&0===this.y.cmp(et.y))},h.prototype.neg=function(et){if(this.inf)return this;var ei=this.curve.point(this.x,this.y.redNeg());if(et&&this.precomputed){var eo=this.precomputed,n=function(et){return et.neg()};ei.precomputed={naf:eo.naf&&{wnd:eo.naf.wnd,points:eo.naf.points.map(n)},doubles:eo.doubles&&{step:eo.doubles.step,points:eo.doubles.points.map(n)}}}return ei},h.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},eh(u,eu.BasePoint),c.prototype.jpoint=function(et,ei,eo){return new u(this,et,ei,eo)},u.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var et=this.z.redInvm(),ei=et.redSqr(),eo=this.x.redMul(ei),ea=this.y.redMul(ei).redMul(et);return this.curve.point(eo,ea)},u.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},u.prototype.add=function(et){if(this.isInfinity())return et;if(et.isInfinity())return this;var ei=et.z.redSqr(),eo=this.z.redSqr(),ea=this.x.redMul(ei),ec=et.x.redMul(eo),eh=this.y.redMul(ei.redMul(et.z)),eu=et.y.redMul(eo.redMul(this.z)),ed=ea.redSub(ec),ef=eh.redSub(eu);if(0===ed.cmpn(0))return 0!==ef.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var el=ed.redSqr(),ep=el.redMul(ed),eb=ea.redMul(el),eg=ef.redSqr().redIAdd(ep).redISub(eb).redISub(eb),em=ef.redMul(eb.redISub(eg)).redISub(eh.redMul(ep)),ey=this.z.redMul(et.z).redMul(ed);return this.curve.jpoint(eg,em,ey)},u.prototype.mixedAdd=function(et){if(this.isInfinity())return et.toJ();if(et.isInfinity())return this;var ei=this.z.redSqr(),eo=this.x,ea=et.x.redMul(ei),ec=this.y,eh=et.y.redMul(ei).redMul(this.z),eu=eo.redSub(ea),ed=ec.redSub(eh);if(0===eu.cmpn(0))return 0!==ed.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var ef=eu.redSqr(),el=ef.redMul(eu),ep=eo.redMul(ef),eb=ed.redSqr().redIAdd(el).redISub(ep).redISub(ep),eg=ed.redMul(ep.redISub(eb)).redISub(ec.redMul(el)),em=this.z.redMul(eu);return this.curve.jpoint(eb,eg,em)},u.prototype.dblp=function(et){if(0===et||this.isInfinity())return this;if(!et)return this.dbl();if(this.curve.zeroA||this.curve.threeA){var ei,eo=this;for(ei=0;ei<et;ei++)eo=eo.dbl();return eo}var ea=this.curve.a,ec=this.curve.tinv,eh=this.x,eu=this.y,ed=this.z,ef=ed.redSqr().redSqr(),el=eu.redAdd(eu);for(ei=0;ei<et;ei++){var ep=eh.redSqr(),eb=el.redSqr(),eg=eb.redSqr(),em=ep.redAdd(ep).redIAdd(ep).redIAdd(ea.redMul(ef)),ey=eh.redMul(eb),ev=em.redSqr().redISub(ey.redAdd(ey)),ew=ey.redISub(ev),e_=em.redMul(ew);e_=e_.redIAdd(e_).redISub(eg);var eE=el.redMul(ed);ei+1<et&&(ef=ef.redMul(eg)),eh=ev,ed=eE,el=e_}return this.curve.jpoint(eh,el.redMul(ec),ed)},u.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},u.prototype._zeroDbl=function(){var et,ei,eo;if(this.zOne){var ea=this.x.redSqr(),ec=this.y.redSqr(),eh=ec.redSqr(),eu=this.x.redAdd(ec).redSqr().redISub(ea).redISub(eh);eu=eu.redIAdd(eu);var ed=ea.redAdd(ea).redIAdd(ea),ef=ed.redSqr().redISub(eu).redISub(eu),el=eh.redIAdd(eh);el=(el=el.redIAdd(el)).redIAdd(el),et=ef,ei=ed.redMul(eu.redISub(ef)).redISub(el),eo=this.y.redAdd(this.y)}else{var ep=this.x.redSqr(),eb=this.y.redSqr(),eg=eb.redSqr(),em=this.x.redAdd(eb).redSqr().redISub(ep).redISub(eg);em=em.redIAdd(em);var ey=ep.redAdd(ep).redIAdd(ep),ev=ey.redSqr(),ew=eg.redIAdd(eg);ew=(ew=ew.redIAdd(ew)).redIAdd(ew),et=ev.redISub(em).redISub(em),ei=ey.redMul(em.redISub(et)).redISub(ew),eo=(eo=this.y.redMul(this.z)).redIAdd(eo)}return this.curve.jpoint(et,ei,eo)},u.prototype._threeDbl=function(){var et,ei,eo;if(this.zOne){var ea=this.x.redSqr(),ec=this.y.redSqr(),eh=ec.redSqr(),eu=this.x.redAdd(ec).redSqr().redISub(ea).redISub(eh);eu=eu.redIAdd(eu);var ed=ea.redAdd(ea).redIAdd(ea).redIAdd(this.curve.a),ef=ed.redSqr().redISub(eu).redISub(eu);et=ef;var el=eh.redIAdd(eh);el=(el=el.redIAdd(el)).redIAdd(el),ei=ed.redMul(eu.redISub(ef)).redISub(el),eo=this.y.redAdd(this.y)}else{var ep=this.z.redSqr(),eb=this.y.redSqr(),eg=this.x.redMul(eb),em=this.x.redSub(ep).redMul(this.x.redAdd(ep));em=em.redAdd(em).redIAdd(em);var ey=eg.redIAdd(eg),ev=(ey=ey.redIAdd(ey)).redAdd(ey);et=em.redSqr().redISub(ev),eo=this.y.redAdd(this.z).redSqr().redISub(eb).redISub(ep);var ew=eb.redSqr();ew=(ew=(ew=ew.redIAdd(ew)).redIAdd(ew)).redIAdd(ew),ei=em.redMul(ey.redISub(et)).redISub(ew)}return this.curve.jpoint(et,ei,eo)},u.prototype._dbl=function(){var et=this.curve.a,ei=this.x,eo=this.y,ea=this.z,ec=ea.redSqr().redSqr(),eh=ei.redSqr(),eu=eo.redSqr(),ed=eh.redAdd(eh).redIAdd(eh).redIAdd(et.redMul(ec)),ef=ei.redAdd(ei),el=(ef=ef.redIAdd(ef)).redMul(eu),ep=ed.redSqr().redISub(el.redAdd(el)),eb=el.redISub(ep),eg=eu.redSqr();eg=(eg=(eg=eg.redIAdd(eg)).redIAdd(eg)).redIAdd(eg);var em=ed.redMul(eb).redISub(eg),ey=eo.redAdd(eo).redMul(ea);return this.curve.jpoint(ep,em,ey)},u.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var et=this.x.redSqr(),ei=this.y.redSqr(),eo=this.z.redSqr(),ea=ei.redSqr(),ec=et.redAdd(et).redIAdd(et),eh=ec.redSqr(),eu=this.x.redAdd(ei).redSqr().redISub(et).redISub(ea),ed=(eu=(eu=(eu=eu.redIAdd(eu)).redAdd(eu).redIAdd(eu)).redISub(eh)).redSqr(),ef=ea.redIAdd(ea);ef=(ef=(ef=ef.redIAdd(ef)).redIAdd(ef)).redIAdd(ef);var el=ec.redIAdd(eu).redSqr().redISub(eh).redISub(ed).redISub(ef),ep=ei.redMul(el);ep=(ep=ep.redIAdd(ep)).redIAdd(ep);var eb=this.x.redMul(ed).redISub(ep);eb=(eb=eb.redIAdd(eb)).redIAdd(eb);var eg=this.y.redMul(el.redMul(ef.redISub(el)).redISub(eu.redMul(ed)));eg=(eg=(eg=eg.redIAdd(eg)).redIAdd(eg)).redIAdd(eg);var em=this.z.redAdd(eu).redSqr().redISub(eo).redISub(ed);return this.curve.jpoint(eb,eg,em)},u.prototype.mul=function(et,ei){return et=new ec(et,ei),this.curve._wnafMul(this,et)},u.prototype.eq=function(et){if("affine"===et.type)return this.eq(et.toJ());if(this===et)return!0;var ei=this.z.redSqr(),eo=et.z.redSqr();if(0!==this.x.redMul(eo).redISub(et.x.redMul(ei)).cmpn(0))return!1;var ea=ei.redMul(this.z),ec=eo.redMul(et.z);return 0===this.y.redMul(ec).redISub(et.y.redMul(ea)).cmpn(0)},u.prototype.eqXToP=function(et){var ei=this.z.redSqr(),eo=et.toRed(this.curve.red).redMul(ei);if(0===this.x.cmp(eo))return!0;for(var ea=et.clone(),ec=this.curve.redN.redMul(ei);;){if(ea.iadd(this.curve.n),ea.cmp(this.curve.p)>=0)return!1;if(eo.redIAdd(ec),0===this.x.cmp(eo))return!0}},u.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},u.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},85:(et,ei,eo)=>{"use strict";var ea,ec=eo(1631),eh=eo(7053),eu=eo(932).assert;function c(et){"short"===et.type?this.curve=new eh.short(et):"edwards"===et.type?this.curve=new eh.edwards(et):this.curve=new eh.mont(et),this.g=this.curve.g,this.n=this.curve.n,this.hash=et.hash,eu(this.g.validate(),"Invalid curve"),eu(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function h(et,eo){Object.defineProperty(ei,et,{configurable:!0,enumerable:!0,get:function(){var ea=new c(eo);return Object.defineProperty(ei,et,{configurable:!0,enumerable:!0,value:ea}),ea}})}ei.PresetCurve=c,h("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:ec.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),h("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:ec.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),h("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:ec.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),h("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:ec.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),h("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:ec.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),h("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:ec.sha256,gRed:!1,g:["9"]}),h("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:ec.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{ea=eo(748)}catch(et){ea=void 0}h("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:ec.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",ea]})},5774:(et,ei,eo)=>{"use strict";var ea=eo(4619),ec=eo(2519),eh=eo(932),eu=eo(85),ed=eo(5442),ef=eh.assert,el=eo(9801),ep=eo(480);function d(et){if(!(this instanceof d))return new d(et);"string"==typeof et&&(ef(Object.prototype.hasOwnProperty.call(eu,et),"Unknown curve "+et),et=eu[et]),et instanceof eu.PresetCurve&&(et={curve:et}),this.curve=et.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=et.curve.g,this.g.precompute(et.curve.n.bitLength()+1),this.hash=et.hash||et.curve.hash}et.exports=d,d.prototype.keyPair=function(et){return new el(this,et)},d.prototype.keyFromPrivate=function(et,ei){return el.fromPrivate(this,et,ei)},d.prototype.keyFromPublic=function(et,ei){return el.fromPublic(this,et,ei)},d.prototype.genKeyPair=function(et){et||(et={});for(var ei=new ec({hash:this.hash,pers:et.pers,persEnc:et.persEnc||"utf8",entropy:et.entropy||ed(this.hash.hmacStrength),entropyEnc:et.entropy&&et.entropyEnc||"utf8",nonce:this.n.toArray()}),eo=this.n.byteLength(),eh=this.n.sub(new ea(2));;){var eu=new ea(ei.generate(eo));if(!(eu.cmp(eh)>0))return eu.iaddn(1),this.keyFromPrivate(eu)}},d.prototype._truncateToN=function(et,ei,eo){if(ea.isBN(et)||"number"==typeof et)ec=(et=new ea(et,16)).byteLength();else if("object"==typeof et)ec=et.length,et=new ea(et,16);else{var ec,eh=et.toString();ec=eh.length+1>>>1,et=new ea(eh,16)}"number"!=typeof eo&&(eo=8*ec);var eu=eo-this.n.bitLength();return eu>0&&(et=et.ushrn(eu)),!ei&&et.cmp(this.n)>=0?et.sub(this.n):et},d.prototype.sign=function(et,ei,eo,eh){"object"==typeof eo&&(eh=eo,eo=null),eh||(eh={}),ei=this.keyFromPrivate(ei,eo),et=this._truncateToN(et,!1,eh.msgBitLength);for(var eu=this.n.byteLength(),ed=ei.getPrivate().toArray("be",eu),ef=et.toArray("be",eu),el=new ec({hash:this.hash,entropy:ed,nonce:ef,pers:eh.pers,persEnc:eh.persEnc||"utf8"}),eb=this.n.sub(new ea(1)),eg=0;;eg++){var em=eh.k?eh.k(eg):new ea(el.generate(this.n.byteLength()));if(!(0>=(em=this._truncateToN(em,!0)).cmpn(1)||em.cmp(eb)>=0)){var ey=this.g.mul(em);if(!ey.isInfinity()){var ev=ey.getX(),ew=ev.umod(this.n);if(0!==ew.cmpn(0)){var e_=em.invm(this.n).mul(ew.mul(ei.getPrivate()).iadd(et));if(0!==(e_=e_.umod(this.n)).cmpn(0)){var eE=(ey.getY().isOdd()?1:0)|(0!==ev.cmp(ew)?2:0);return eh.canonical&&e_.cmp(this.nh)>0&&(e_=this.n.sub(e_),eE^=1),new ep({r:ew,s:e_,recoveryParam:eE})}}}}}},d.prototype.verify=function(et,ei,eo,ea,ec){ec||(ec={}),et=this._truncateToN(et,!1,ec.msgBitLength),eo=this.keyFromPublic(eo,ea);var eh=(ei=new ep(ei,"hex")).r,eu=ei.s;if(0>eh.cmpn(1)||eh.cmp(this.n)>=0||0>eu.cmpn(1)||eu.cmp(this.n)>=0)return!1;var ed,ef=eu.invm(this.n),el=ef.mul(et).umod(this.n),eb=ef.mul(eh).umod(this.n);return this.curve._maxwellTrick?!(ed=this.g.jmulAdd(el,eo.getPublic(),eb)).isInfinity()&&ed.eqXToP(eh):!(ed=this.g.mulAdd(el,eo.getPublic(),eb)).isInfinity()&&0===ed.getX().umod(this.n).cmp(eh)},d.prototype.recoverPubKey=function(et,ei,eo,ec){ef((3&eo)===eo,"The recovery param is more than two bits"),ei=new ep(ei,ec);var eh=this.n,eu=new ea(et),ed=ei.r,el=ei.s,eb=1&eo,eg=eo>>1;if(ed.cmp(this.curve.p.umod(this.curve.n))>=0&&eg)throw Error("Unable to find sencond key candinate");ed=eg?this.curve.pointFromX(ed.add(this.curve.n),eb):this.curve.pointFromX(ed,eb);var em=ei.r.invm(eh),ey=eh.sub(eu).mul(em).umod(eh),ev=el.mul(em).umod(eh);return this.g.mulAdd(ey,ed,ev)},d.prototype.getKeyRecoveryParam=function(et,ei,eo,ea){if(null!==(ei=new ep(ei,ea)).recoveryParam)return ei.recoveryParam;for(var ec,eh=0;eh<4;eh++){try{ec=this.recoverPubKey(et,ei,eh)}catch(et){continue}if(ec.eq(eo))return eh}throw Error("Unable to find valid recovery factor")}},9801:(et,ei,eo)=>{"use strict";var ea=eo(4619),ec=eo(932).assert;function s(et,ei){this.ec=et,this.priv=null,this.pub=null,ei.priv&&this._importPrivate(ei.priv,ei.privEnc),ei.pub&&this._importPublic(ei.pub,ei.pubEnc)}et.exports=s,s.fromPublic=function(et,ei,eo){return ei instanceof s?ei:new s(et,{pub:ei,pubEnc:eo})},s.fromPrivate=function(et,ei,eo){return ei instanceof s?ei:new s(et,{priv:ei,privEnc:eo})},s.prototype.validate=function(){var et=this.getPublic();return et.isInfinity()?{result:!1,reason:"Invalid public key"}:et.validate()?et.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},s.prototype.getPublic=function(et,ei){return"string"==typeof et&&(ei=et,et=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),ei?this.pub.encode(ei,et):this.pub},s.prototype.getPrivate=function(et){return"hex"===et?this.priv.toString(16,2):this.priv},s.prototype._importPrivate=function(et,ei){this.priv=new ea(et,ei||16),this.priv=this.priv.umod(this.ec.curve.n)},s.prototype._importPublic=function(et,ei){if(et.x||et.y)return"mont"===this.ec.curve.type?ec(et.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||ec(et.x&&et.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(et.x,et.y));this.pub=this.ec.curve.decodePoint(et,ei)},s.prototype.derive=function(et){return et.validate()||ec(et.validate(),"public point not validated"),et.mul(this.priv).getX()},s.prototype.sign=function(et,ei,eo){return this.ec.sign(et,this,ei,eo)},s.prototype.verify=function(et,ei,eo){return this.ec.verify(et,ei,this,void 0,eo)},s.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},480:(et,ei,eo)=>{"use strict";var ea=eo(4619),ec=eo(932),eh=ec.assert;function o(et,ei){if(et instanceof o)return et;this._importDER(et,ei)||(eh(et.r&&et.s,"Signature without r or s"),this.r=new ea(et.r,16),this.s=new ea(et.s,16),void 0===et.recoveryParam?this.recoveryParam=null:this.recoveryParam=et.recoveryParam)}function a(){this.place=0}function c(et,ei){var eo=et[ei.place++];if(!(128&eo))return eo;var ea=15&eo;if(0===ea||ea>4||0===et[ei.place])return!1;for(var ec=0,eh=0,eu=ei.place;eh<ea;eh++,eu++)ec<<=8,ec|=et[eu],ec>>>=0;return!(ec<=127)&&(ei.place=eu,ec)}function h(et){for(var ei=0,eo=et.length-1;!et[ei]&&!(128&et[ei+1])&&ei<eo;)ei++;return 0===ei?et:et.slice(ei)}function u(et,ei){if(ei<128)et.push(ei);else{var eo=1+(Math.log(ei)/Math.LN2>>>3);for(et.push(128|eo);--eo;)et.push(ei>>>(eo<<3)&255);et.push(ei)}}et.exports=o,o.prototype._importDER=function(et,ei){et=ec.toArray(et,ei);var eo=new a;if(48!==et[eo.place++])return!1;var eh=c(et,eo);if(!1===eh||eh+eo.place!==et.length||2!==et[eo.place++])return!1;var eu=c(et,eo);if(!1===eu||128&et[eo.place])return!1;var ed=et.slice(eo.place,eu+eo.place);if(eo.place+=eu,2!==et[eo.place++])return!1;var ef=c(et,eo);if(!1===ef||et.length!==ef+eo.place||128&et[eo.place])return!1;var el=et.slice(eo.place,ef+eo.place);if(0===ed[0]){if(!(128&ed[1]))return!1;ed=ed.slice(1)}if(0===el[0]){if(!(128&el[1]))return!1;el=el.slice(1)}return this.r=new ea(ed),this.s=new ea(el),this.recoveryParam=null,!0},o.prototype.toDER=function(et){var ei=this.r.toArray(),eo=this.s.toArray();for(128&ei[0]&&(ei=[0].concat(ei)),128&eo[0]&&(eo=[0].concat(eo)),ei=h(ei),eo=h(eo);!(eo[0]||128&eo[1]);)eo=eo.slice(1);var ea=[2];u(ea,ei.length),(ea=ea.concat(ei)).push(2),u(ea,eo.length);var eh=ea.concat(eo),eu=[48];return u(eu,eh.length),eu=eu.concat(eh),ec.encode(eu,et)}},4905:(et,ei,eo)=>{"use strict";var ea=eo(1631),ec=eo(85),eh=eo(932),eu=eh.assert,ed=eh.parseBytes,ef=eo(1242),el=eo(6335);function u(et){if(eu("ed25519"===et,"only tested with ed25519 so far"),!(this instanceof u))return new u(et);et=ec[et].curve,this.curve=et,this.g=et.g,this.g.precompute(et.n.bitLength()+1),this.pointClass=et.point().constructor,this.encodingLength=Math.ceil(et.n.bitLength()/8),this.hash=ea.sha512}et.exports=u,u.prototype.sign=function(et,ei){et=ed(et);var eo=this.keyFromSecret(ei),ea=this.hashInt(eo.messagePrefix(),et),ec=this.g.mul(ea),eh=this.encodePoint(ec),eu=this.hashInt(eh,eo.pubBytes(),et).mul(eo.priv()),ef=ea.add(eu).umod(this.curve.n);return this.makeSignature({R:ec,S:ef,Rencoded:eh})},u.prototype.verify=function(et,ei,eo){if(et=ed(et),(ei=this.makeSignature(ei)).S().gte(ei.eddsa.curve.n)||ei.S().isNeg())return!1;var ea=this.keyFromPublic(eo),ec=this.hashInt(ei.Rencoded(),ea.pubBytes(),et),eh=this.g.mul(ei.S());return ei.R().add(ea.pub().mul(ec)).eq(eh)},u.prototype.hashInt=function(){for(var et=this.hash(),ei=0;ei<arguments.length;ei++)et.update(arguments[ei]);return eh.intFromLE(et.digest()).umod(this.curve.n)},u.prototype.keyFromPublic=function(et){return ef.fromPublic(this,et)},u.prototype.keyFromSecret=function(et){return ef.fromSecret(this,et)},u.prototype.makeSignature=function(et){return et instanceof el?et:new el(this,et)},u.prototype.encodePoint=function(et){var ei=et.getY().toArray("le",this.encodingLength);return ei[this.encodingLength-1]|=et.getX().isOdd()?128:0,ei},u.prototype.decodePoint=function(et){var ei=(et=eh.parseBytes(et)).length-1,eo=et.slice(0,ei).concat(-129&et[ei]),ea=!!(128&et[ei]),ec=eh.intFromLE(eo);return this.curve.pointFromY(ec,ea)},u.prototype.encodeInt=function(et){return et.toArray("le",this.encodingLength)},u.prototype.decodeInt=function(et){return eh.intFromLE(et)},u.prototype.isPoint=function(et){return et instanceof this.pointClass}},1242:(et,ei,eo)=>{"use strict";var ea=eo(932),ec=ea.assert,eh=ea.parseBytes,eu=ea.cachedProperty;function a(et,ei){this.eddsa=et,this._secret=eh(ei.secret),et.isPoint(ei.pub)?this._pub=ei.pub:this._pubBytes=eh(ei.pub)}a.fromPublic=function(et,ei){return ei instanceof a?ei:new a(et,{pub:ei})},a.fromSecret=function(et,ei){return ei instanceof a?ei:new a(et,{secret:ei})},a.prototype.secret=function(){return this._secret},eu(a,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),eu(a,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),eu(a,"privBytes",function(){var et=this.eddsa,ei=this.hash(),eo=et.encodingLength-1,ea=ei.slice(0,et.encodingLength);return ea[0]&=248,ea[eo]&=127,ea[eo]|=64,ea}),eu(a,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),eu(a,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),eu(a,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),a.prototype.sign=function(et){return ec(this._secret,"KeyPair can only verify"),this.eddsa.sign(et,this)},a.prototype.verify=function(et,ei){return this.eddsa.verify(et,ei,this)},a.prototype.getSecret=function(et){return ec(this._secret,"KeyPair is public only"),ea.encode(this.secret(),et)},a.prototype.getPublic=function(et){return ea.encode(this.pubBytes(),et)},et.exports=a},6335:(et,ei,eo)=>{"use strict";var ea=eo(4619),ec=eo(932),eh=ec.assert,eu=ec.cachedProperty,ed=ec.parseBytes;function c(et,ei){this.eddsa=et,"object"!=typeof ei&&(ei=ed(ei)),Array.isArray(ei)&&(eh(ei.length===2*et.encodingLength,"Signature has invalid size"),ei={R:ei.slice(0,et.encodingLength),S:ei.slice(et.encodingLength)}),eh(ei.R&&ei.S,"Signature without R or S"),et.isPoint(ei.R)&&(this._R=ei.R),ei.S instanceof ea&&(this._S=ei.S),this._Rencoded=Array.isArray(ei.R)?ei.R:ei.Rencoded,this._Sencoded=Array.isArray(ei.S)?ei.S:ei.Sencoded}eu(c,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),eu(c,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),eu(c,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),eu(c,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),c.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},c.prototype.toHex=function(){return ec.encode(this.toBytes(),"hex").toUpperCase()},et.exports=c},748:et=>{et.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},932:(et,ei,eo)=>{"use strict";var ea=eo(4619),ec=eo(5578),eh=eo(4209);ei.assert=ec,ei.toArray=eh.toArray,ei.zero2=eh.zero2,ei.toHex=eh.toHex,ei.encode=eh.encode,ei.getNAF=function(et,ei,eo){var ea,ec=Array(Math.max(et.bitLength(),eo)+1);for(ea=0;ea<ec.length;ea+=1)ec[ea]=0;var eh=1<<ei+1,eu=et.clone();for(ea=0;ea<ec.length;ea++){var ed,ef=eu.andln(eh-1);eu.isOdd()?(ed=ef>(eh>>1)-1?(eh>>1)-ef:ef,eu.isubn(ed)):ed=0,ec[ea]=ed,eu.iushrn(1)}return ec},ei.getJSF=function(et,ei){var eo=[[],[]];et=et.clone(),ei=ei.clone();for(var ea,ec=0,eh=0;et.cmpn(-ec)>0||ei.cmpn(-eh)>0;){var eu,ed,ef=et.andln(3)+ec&3,el=ei.andln(3)+eh&3;3===ef&&(ef=-1),3===el&&(el=-1),eu=1&ef?3!=(ea=et.andln(7)+ec&7)&&5!==ea||2!==el?ef:-ef:0,eo[0].push(eu),ed=1&el?3!=(ea=ei.andln(7)+eh&7)&&5!==ea||2!==ef?el:-el:0,eo[1].push(ed),2*ec===eu+1&&(ec=1-ec),2*eh===ed+1&&(eh=1-eh),et.iushrn(1),ei.iushrn(1)}return eo},ei.cachedProperty=function(et,ei,eo){var ea="_"+ei;et.prototype[ei]=function(){return void 0!==this[ea]?this[ea]:this[ea]=eo.call(this)}},ei.parseBytes=function(et){return"string"==typeof et?ei.toArray(et,"hex"):et},ei.intFromLE=function(et){return new ea(et,"hex","le")}},2579:et=>{"use strict";var ei=Object.prototype.hasOwnProperty,eo="~";function n(){}function i(et,ei,eo){this.fn=et,this.context=ei,this.once=eo||!1}function s(et,ei,ea,ec,eh){if("function"!=typeof ea)throw TypeError("The listener must be a function");var eu=new i(ea,ec||et,eh),ed=eo?eo+ei:ei;return et._events[ed]?et._events[ed].fn?et._events[ed]=[et._events[ed],eu]:et._events[ed].push(eu):(et._events[ed]=eu,et._eventsCount++),et}function o(et,ei){0==--et._eventsCount?et._events=new n:delete et._events[ei]}function a(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(eo=!1)),a.prototype.eventNames=function(){var et,ea,ec=[];if(0===this._eventsCount)return ec;for(ea in et=this._events)ei.call(et,ea)&&ec.push(eo?ea.slice(1):ea);return Object.getOwnPropertySymbols?ec.concat(Object.getOwnPropertySymbols(et)):ec},a.prototype.listeners=function(et){var ei=eo?eo+et:et,ea=this._events[ei];if(!ea)return[];if(ea.fn)return[ea.fn];for(var ec=0,eh=ea.length,eu=Array(eh);ec<eh;ec++)eu[ec]=ea[ec].fn;return eu},a.prototype.listenerCount=function(et){var ei=eo?eo+et:et,ea=this._events[ei];return ea?ea.fn?1:ea.length:0},a.prototype.emit=function(et,ei,ea,ec,eh,eu){var ed=eo?eo+et:et;if(!this._events[ed])return!1;var ef,el,ep=this._events[ed],eb=arguments.length;if(ep.fn){switch(ep.once&&this.removeListener(et,ep.fn,void 0,!0),eb){case 1:return ep.fn.call(ep.context),!0;case 2:return ep.fn.call(ep.context,ei),!0;case 3:return ep.fn.call(ep.context,ei,ea),!0;case 4:return ep.fn.call(ep.context,ei,ea,ec),!0;case 5:return ep.fn.call(ep.context,ei,ea,ec,eh),!0;case 6:return ep.fn.call(ep.context,ei,ea,ec,eh,eu),!0}for(el=1,ef=Array(eb-1);el<eb;el++)ef[el-1]=arguments[el];ep.fn.apply(ep.context,ef)}else{var eg,em=ep.length;for(el=0;el<em;el++)switch(ep[el].once&&this.removeListener(et,ep[el].fn,void 0,!0),eb){case 1:ep[el].fn.call(ep[el].context);break;case 2:ep[el].fn.call(ep[el].context,ei);break;case 3:ep[el].fn.call(ep[el].context,ei,ea);break;case 4:ep[el].fn.call(ep[el].context,ei,ea,ec);break;default:if(!ef)for(eg=1,ef=Array(eb-1);eg<eb;eg++)ef[eg-1]=arguments[eg];ep[el].fn.apply(ep[el].context,ef)}}return!0},a.prototype.on=function(et,ei,eo){return s(this,et,ei,eo,!1)},a.prototype.once=function(et,ei,eo){return s(this,et,ei,eo,!0)},a.prototype.removeListener=function(et,ei,ea,ec){var eh=eo?eo+et:et;if(!this._events[eh])return this;if(!ei)return o(this,eh),this;var eu=this._events[eh];if(eu.fn)eu.fn!==ei||ec&&!eu.once||ea&&eu.context!==ea||o(this,eh);else{for(var ed=0,ef=[],el=eu.length;ed<el;ed++)(eu[ed].fn!==ei||ec&&!eu[ed].once||ea&&eu[ed].context!==ea)&&ef.push(eu[ed]);ef.length?this._events[eh]=1===ef.length?ef[0]:ef:o(this,eh)}return this},a.prototype.removeAllListeners=function(et){var ei;return et?(ei=eo?eo+et:et,this._events[ei]&&o(this,ei)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=eo,a.EventEmitter=a,et.exports=a},381:et=>{"use strict";var ei,eo="object"==typeof Reflect?Reflect:null,ea=eo&&"function"==typeof eo.apply?eo.apply:function(et,ei,eo){return Function.prototype.apply.call(et,ei,eo)};ei=eo&&"function"==typeof eo.ownKeys?eo.ownKeys:Object.getOwnPropertySymbols?function(et){return Object.getOwnPropertyNames(et).concat(Object.getOwnPropertySymbols(et))}:function(et){return Object.getOwnPropertyNames(et)};var ec=Number.isNaN||function(et){return et!=et};function s(){s.init.call(this)}et.exports=s,et.exports.once=function(et,ei){return new Promise(function(eo,ea){function i(eo){et.removeListener(ei,s),ea(eo)}function s(){"function"==typeof et.removeListener&&et.removeListener("error",i),eo([].slice.call(arguments))}b(et,ei,s,{once:!0}),"error"!==ei&&"function"==typeof et.on&&b(et,"error",i,{once:!0})})},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var eh=10;function a(et){if("function"!=typeof et)throw TypeError('The "listener" argument must be of type Function. Received type '+typeof et)}function c(et){return void 0===et._maxListeners?s.defaultMaxListeners:et._maxListeners}function h(et,ei,eo,ea){var ec,eh,eu;if(a(eo),void 0===(eh=et._events)?(eh=et._events=Object.create(null),et._eventsCount=0):(void 0!==eh.newListener&&(et.emit("newListener",ei,eo.listener?eo.listener:eo),eh=et._events),eu=eh[ei]),void 0===eu)eu=eh[ei]=eo,++et._eventsCount;else if("function"==typeof eu?eu=eh[ei]=ea?[eo,eu]:[eu,eo]:ea?eu.unshift(eo):eu.push(eo),(ec=c(et))>0&&eu.length>ec&&!eu.warned){eu.warned=!0;var ed=Error("Possible EventEmitter memory leak detected. "+eu.length+" "+String(ei)+" listeners added. Use emitter.setMaxListeners() to increase limit");ed.name="MaxListenersExceededWarning",ed.emitter=et,ed.type=ei,ed.count=eu.length,console&&console.warn&&console.warn(ed)}return et}function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0==arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(et,ei,eo){var ea={fired:!1,wrapFn:void 0,target:et,type:ei,listener:eo},ec=u.bind(ea);return ec.listener=eo,ea.wrapFn=ec,ec}function f(et,ei,eo){var ea=et._events;if(void 0===ea)return[];var ec=ea[ei];return void 0===ec?[]:"function"==typeof ec?eo?[ec.listener||ec]:[ec]:eo?function(et){for(var ei=Array(et.length),eo=0;eo<ei.length;++eo)ei[eo]=et[eo].listener||et[eo];return ei}(ec):p(ec,ec.length)}function l(et){var ei=this._events;if(void 0!==ei){var eo=ei[et];if("function"==typeof eo)return 1;if(void 0!==eo)return eo.length}return 0}function p(et,ei){for(var eo=Array(ei),ea=0;ea<ei;++ea)eo[ea]=et[ea];return eo}function b(et,ei,eo,ea){if("function"==typeof et.on)ea.once?et.once(ei,eo):et.on(ei,eo);else{if("function"!=typeof et.addEventListener)throw TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof et);et.addEventListener(ei,function i(ec){ea.once&&et.removeEventListener(ei,i),eo(ec)})}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return eh},set:function(et){if("number"!=typeof et||et<0||ec(et))throw RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+et+".");eh=et}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(et){if("number"!=typeof et||et<0||ec(et))throw RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+et+".");return this._maxListeners=et,this},s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(et){for(var ei=[],eo=1;eo<arguments.length;eo++)ei.push(arguments[eo]);var ec="error"===et,eh=this._events;if(void 0!==eh)ec=ec&&void 0===eh.error;else if(!ec)return!1;if(ec){if(ei.length>0&&(eu=ei[0]),eu instanceof Error)throw eu;var eu,ed=Error("Unhandled error."+(eu?" ("+eu.message+")":""));throw ed.context=eu,ed}var ef=eh[et];if(void 0===ef)return!1;if("function"==typeof ef)ea(ef,this,ei);else{var el=ef.length,ep=p(ef,el);for(eo=0;eo<el;++eo)ea(ep[eo],this,ei)}return!0},s.prototype.addListener=function(et,ei){return h(this,et,ei,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(et,ei){return h(this,et,ei,!0)},s.prototype.once=function(et,ei){return a(ei),this.on(et,d(this,et,ei)),this},s.prototype.prependOnceListener=function(et,ei){return a(ei),this.prependListener(et,d(this,et,ei)),this},s.prototype.removeListener=function(et,ei){var eo,ea,ec,eh,eu;if(a(ei),void 0===(ea=this._events)||void 0===(eo=ea[et]))return this;if(eo===ei||eo.listener===ei)0==--this._eventsCount?this._events=Object.create(null):(delete ea[et],ea.removeListener&&this.emit("removeListener",et,eo.listener||ei));else if("function"!=typeof eo){for(ec=-1,eh=eo.length-1;eh>=0;eh--)if(eo[eh]===ei||eo[eh].listener===ei){eu=eo[eh].listener,ec=eh;break}if(ec<0)return this;0===ec?eo.shift():function(et,ei){for(;ei+1<et.length;ei++)et[ei]=et[ei+1];et.pop()}(eo,ec),1===eo.length&&(ea[et]=eo[0]),void 0!==ea.removeListener&&this.emit("removeListener",et,eu||ei)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(et){var ei,eo,ea;if(void 0===(eo=this._events))return this;if(void 0===eo.removeListener)return 0==arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==eo[et]&&(0==--this._eventsCount?this._events=Object.create(null):delete eo[et]),this;if(0==arguments.length){var ec,eh=Object.keys(eo);for(ea=0;ea<eh.length;++ea)"removeListener"!==(ec=eh[ea])&&this.removeAllListeners(ec);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(ei=eo[et]))this.removeListener(et,ei);else if(void 0!==ei)for(ea=ei.length-1;ea>=0;ea--)this.removeListener(et,ei[ea]);return this},s.prototype.listeners=function(et){return f(this,et,!0)},s.prototype.rawListeners=function(et){return f(this,et,!1)},s.listenerCount=function(et,ei){return"function"==typeof et.listenerCount?et.listenerCount(ei):l.call(et,ei)},s.prototype.listenerCount=l,s.prototype.eventNames=function(){return this._eventsCount>0?ei(this._events):[]}},1804:(et,ei,eo)=>{var ea=eo(6608).Buffer,ec=eo(5035);et.exports=function(et,ei,eo,eh){if(ea.isBuffer(et)||(et=ea.from(et,"binary")),ei&&(ea.isBuffer(ei)||(ei=ea.from(ei,"binary")),8!==ei.length))throw RangeError("salt should be Buffer with 8 byte length");for(var eu=eo/8,ed=ea.alloc(eu),ef=ea.alloc(eh||0),el=ea.alloc(0);eu>0||eh>0;){var ep=new ec;ep.update(el),ep.update(et),ei&&ep.update(ei),el=ep.digest();var eb=0;if(eu>0){var eg=ed.length-eu;eb=Math.min(eu,el.length),el.copy(ed,eg,0,eb),eu-=eb}if(eb<el.length&&eh>0){var em=ef.length-eh,ey=Math.min(eh,el.length-eb);el.copy(ef,em,eb,eb+ey),eh-=ey}}return el.fill(0),{key:ed,iv:ef}}},800:(et,ei,eo)=>{"use strict";var ea=eo(6608).Buffer,ec=eo(1094).Transform;function s(et){ec.call(this),this._block=ea.allocUnsafe(et),this._blockSize=et,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}eo(1193)(s,ec),s.prototype._transform=function(et,ei,eo){var ea=null;try{this.update(et,ei)}catch(et){ea=et}eo(ea)},s.prototype._flush=function(et){var ei=null;try{this.push(this.digest())}catch(et){ei=et}et(ei)},s.prototype.update=function(et,ei){if(function(et){if(!ea.isBuffer(et)&&"string"!=typeof et)throw TypeError("Data must be a string or a buffer")}(et),this._finalized)throw Error("Digest already called");ea.isBuffer(et)||(et=ea.from(et,ei));for(var eo=this._block,ec=0;this._blockOffset+et.length-ec>=this._blockSize;){for(var eh=this._blockOffset;eh<this._blockSize;)eo[eh++]=et[ec++];this._update(),this._blockOffset=0}for(;ec<et.length;)eo[this._blockOffset++]=et[ec++];for(var eu=0,ed=8*et.length;ed>0;++eu)this._length[eu]+=ed,(ed=this._length[eu]/4294967296|0)>0&&(this._length[eu]-=4294967296*ed);return this},s.prototype._update=function(){throw Error("_update is not implemented")},s.prototype.digest=function(et){if(this._finalized)throw Error("Digest already called");this._finalized=!0;var ei=this._digest();void 0!==et&&(ei=ei.toString(et)),this._block.fill(0),this._blockOffset=0;for(var eo=0;eo<4;++eo)this._length[eo]=0;return ei},s.prototype._digest=function(){throw Error("_digest is not implemented")},et.exports=s},1631:(et,ei,eo)=>{ei.utils=eo(7905),ei.common=eo(4427),ei.sha=eo(1822),ei.ripemd=eo(7317),ei.hmac=eo(7309),ei.sha1=ei.sha.sha1,ei.sha256=ei.sha.sha256,ei.sha224=ei.sha.sha224,ei.sha384=ei.sha.sha384,ei.sha512=ei.sha.sha512,ei.ripemd160=ei.ripemd.ripemd160},4427:(et,ei,eo)=>{"use strict";var ea=eo(7905),ec=eo(5578);function s(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}ei.BlockHash=s,s.prototype.update=function(et,ei){if(et=ea.toArray(et,ei),this.pending?this.pending=this.pending.concat(et):this.pending=et,this.pendingTotal+=et.length,this.pending.length>=this._delta8){var eo=(et=this.pending).length%this._delta8;this.pending=et.slice(et.length-eo,et.length),0===this.pending.length&&(this.pending=null),et=ea.join32(et,0,et.length-eo,this.endian);for(var ec=0;ec<et.length;ec+=this._delta32)this._update(et,ec,ec+this._delta32)}return this},s.prototype.digest=function(et){return this.update(this._pad()),ec(null===this.pending),this._digest(et)},s.prototype._pad=function(){var et=this.pendingTotal,ei=this._delta8,eo=ei-(et+this.padLength)%ei,ea=Array(eo+this.padLength);ea[0]=128;for(var ec=1;ec<eo;ec++)ea[ec]=0;if(et<<=3,"big"===this.endian){for(var eh=8;eh<this.padLength;eh++)ea[ec++]=0;ea[ec++]=0,ea[ec++]=0,ea[ec++]=0,ea[ec++]=0,ea[ec++]=et>>>24&255,ea[ec++]=et>>>16&255,ea[ec++]=et>>>8&255,ea[ec++]=255&et}else for(ea[ec++]=255&et,ea[ec++]=et>>>8&255,ea[ec++]=et>>>16&255,ea[ec++]=et>>>24&255,ea[ec++]=0,ea[ec++]=0,ea[ec++]=0,ea[ec++]=0,eh=8;eh<this.padLength;eh++)ea[ec++]=0;return ea}},7309:(et,ei,eo)=>{"use strict";var ea=eo(7905),ec=eo(5578);function s(et,ei,eo){if(!(this instanceof s))return new s(et,ei,eo);this.Hash=et,this.blockSize=et.blockSize/8,this.outSize=et.outSize/8,this.inner=null,this.outer=null,this._init(ea.toArray(ei,eo))}et.exports=s,s.prototype._init=function(et){et.length>this.blockSize&&(et=(new this.Hash).update(et).digest()),ec(et.length<=this.blockSize);for(var ei=et.length;ei<this.blockSize;ei++)et.push(0);for(ei=0;ei<et.length;ei++)et[ei]^=54;for(this.inner=(new this.Hash).update(et),ei=0;ei<et.length;ei++)et[ei]^=106;this.outer=(new this.Hash).update(et)},s.prototype.update=function(et,ei){return this.inner.update(et,ei),this},s.prototype.digest=function(et){return this.outer.update(this.inner.digest()),this.outer.digest(et)}},7317:(et,ei,eo)=>{"use strict";var ea=eo(7905),ec=eo(4427),eh=ea.rotl32,eu=ea.sum32,ed=ea.sum32_3,ef=ea.sum32_4,el=ec.BlockHash;function u(){if(!(this instanceof u))return new u;el.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function d(et,ei,eo,ea){return et<=15?ei^eo^ea:et<=31?ei&eo|~ei&ea:et<=47?(ei|~eo)^ea:et<=63?ei&ea|eo&~ea:ei^(eo|~ea)}ea.inherits(u,el),ei.ripemd160=u,u.blockSize=512,u.outSize=160,u.hmacStrength=192,u.padLength=64,u.prototype._update=function(et,ei){for(var eo=this.h[0],ea=this.h[1],ec=this.h[2],el=this.h[3],ey=this.h[4],ev=eo,ew=ea,e_=ec,eE=el,eS=ey,eA=0;eA<80;eA++){var eM,eI,eT=eu(eh(ef(eo,d(eA,ea,ec,el),et[ep[eA]+ei],(eM=eA)<=15?0:eM<=31?1518500249:eM<=47?1859775393:eM<=63?2400959708:2840853838),eg[eA]),ey);eo=ey,ey=el,el=eh(ec,10),ec=ea,ea=eT,eT=eu(eh(ef(ev,d(79-eA,ew,e_,eE),et[eb[eA]+ei],(eI=eA)<=15?1352829926:eI<=31?1548603684:eI<=47?1836072691:eI<=63?2053994217:0),em[eA]),eS),ev=eS,eS=eE,eE=eh(e_,10),e_=ew,ew=eT}eT=ed(this.h[1],ec,eE),this.h[1]=ed(this.h[2],el,eS),this.h[2]=ed(this.h[3],ey,ev),this.h[3]=ed(this.h[4],eo,ew),this.h[4]=ed(this.h[0],ea,e_),this.h[0]=eT},u.prototype._digest=function(et){return"hex"===et?ea.toHex32(this.h,"little"):ea.split32(this.h,"little")};var ep=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],eb=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],eg=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],em=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},1822:(et,ei,eo)=>{"use strict";ei.sha1=eo(2750),ei.sha224=eo(7485),ei.sha256=eo(7292),ei.sha384=eo(696),ei.sha512=eo(8889)},2750:(et,ei,eo)=>{"use strict";var ea=eo(7905),ec=eo(4427),eh=eo(5660),eu=ea.rotl32,ed=ea.sum32,ef=ea.sum32_5,el=eh.ft_1,ep=ec.BlockHash,eb=[1518500249,1859775393,2400959708,3395469782];function f(){if(!(this instanceof f))return new f;ep.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=Array(80)}ea.inherits(f,ep),et.exports=f,f.blockSize=512,f.outSize=160,f.hmacStrength=80,f.padLength=64,f.prototype._update=function(et,ei){for(var eo=this.W,ea=0;ea<16;ea++)eo[ea]=et[ei+ea];for(;ea<eo.length;ea++)eo[ea]=eu(eo[ea-3]^eo[ea-8]^eo[ea-14]^eo[ea-16],1);var ec=this.h[0],eh=this.h[1],ep=this.h[2],eg=this.h[3],em=this.h[4];for(ea=0;ea<eo.length;ea++){var ey=~~(ea/20),ev=ef(eu(ec,5),el(ey,eh,ep,eg),em,eo[ea],eb[ey]);em=eg,eg=ep,ep=eu(eh,30),eh=ec,ec=ev}this.h[0]=ed(this.h[0],ec),this.h[1]=ed(this.h[1],eh),this.h[2]=ed(this.h[2],ep),this.h[3]=ed(this.h[3],eg),this.h[4]=ed(this.h[4],em)},f.prototype._digest=function(et){return"hex"===et?ea.toHex32(this.h,"big"):ea.split32(this.h,"big")}},7485:(et,ei,eo)=>{"use strict";var ea=eo(7905),ec=eo(7292);function s(){if(!(this instanceof s))return new s;ec.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}ea.inherits(s,ec),et.exports=s,s.blockSize=512,s.outSize=224,s.hmacStrength=192,s.padLength=64,s.prototype._digest=function(et){return"hex"===et?ea.toHex32(this.h.slice(0,7),"big"):ea.split32(this.h.slice(0,7),"big")}},7292:(et,ei,eo)=>{"use strict";var ea=eo(7905),ec=eo(4427),eh=eo(5660),eu=eo(5578),ed=ea.sum32,ef=ea.sum32_4,el=ea.sum32_5,ep=eh.ch32,eb=eh.maj32,eg=eh.s0_256,em=eh.s1_256,ey=eh.g0_256,ev=eh.g1_256,ew=ec.BlockHash,e_=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function y(){if(!(this instanceof y))return new y;ew.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=e_,this.W=Array(64)}ea.inherits(y,ew),et.exports=y,y.blockSize=512,y.outSize=256,y.hmacStrength=192,y.padLength=64,y.prototype._update=function(et,ei){for(var eo=this.W,ea=0;ea<16;ea++)eo[ea]=et[ei+ea];for(;ea<eo.length;ea++)eo[ea]=ef(ev(eo[ea-2]),eo[ea-7],ey(eo[ea-15]),eo[ea-16]);var ec=this.h[0],eh=this.h[1],ew=this.h[2],e_=this.h[3],eE=this.h[4],eS=this.h[5],eA=this.h[6],eM=this.h[7];for(eu(this.k.length===eo.length),ea=0;ea<eo.length;ea++){var eI=el(eM,em(eE),ep(eE,eS,eA),this.k[ea],eo[ea]),eT=ed(eg(ec),eb(ec,eh,ew));eM=eA,eA=eS,eS=eE,eE=ed(e_,eI),e_=ew,ew=eh,eh=ec,ec=ed(eI,eT)}this.h[0]=ed(this.h[0],ec),this.h[1]=ed(this.h[1],eh),this.h[2]=ed(this.h[2],ew),this.h[3]=ed(this.h[3],e_),this.h[4]=ed(this.h[4],eE),this.h[5]=ed(this.h[5],eS),this.h[6]=ed(this.h[6],eA),this.h[7]=ed(this.h[7],eM)},y.prototype._digest=function(et){return"hex"===et?ea.toHex32(this.h,"big"):ea.split32(this.h,"big")}},696:(et,ei,eo)=>{"use strict";var ea=eo(7905),ec=eo(8889);function s(){if(!(this instanceof s))return new s;ec.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}ea.inherits(s,ec),et.exports=s,s.blockSize=1024,s.outSize=384,s.hmacStrength=192,s.padLength=128,s.prototype._digest=function(et){return"hex"===et?ea.toHex32(this.h.slice(0,12),"big"):ea.split32(this.h.slice(0,12),"big")}},8889:(et,ei,eo)=>{"use strict";var ea=eo(7905),ec=eo(4427),eh=eo(5578),eu=ea.rotr64_hi,ed=ea.rotr64_lo,ef=ea.shr64_hi,el=ea.shr64_lo,ep=ea.sum64,eb=ea.sum64_hi,eg=ea.sum64_lo,em=ea.sum64_4_hi,ey=ea.sum64_4_lo,ev=ea.sum64_5_hi,ew=ea.sum64_5_lo,e_=ec.BlockHash,eE=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function v(){if(!(this instanceof v))return new v;e_.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=eE,this.W=Array(160)}ea.inherits(v,e_),et.exports=v,v.blockSize=1024,v.outSize=512,v.hmacStrength=192,v.padLength=128,v.prototype._prepareBlock=function(et,ei){for(var eo,ea,ec,eh=this.W,ep=0;ep<32;ep++)eh[ep]=et[ei+ep];for(;ep<eh.length;ep+=2){var eb=(eo=eh[ep-4],ea=eh[ep-3],ec=void 0,(ec=eu(eo,ea,19)^eu(ea,eo,29)^ef(eo,ea,6))<0&&(ec+=4294967296),ec),eg=function(et,ei){var eo=ed(et,ei,19)^ed(ei,et,29)^el(et,ei,6);return eo<0&&(eo+=4294967296),eo}(eh[ep-4],eh[ep-3]),ev=eh[ep-14],ew=eh[ep-13],e_=function(et,ei){var eo=eu(et,ei,1)^eu(et,ei,8)^ef(et,ei,7);return eo<0&&(eo+=4294967296),eo}(eh[ep-30],eh[ep-29]),eE=function(et,ei){var eo=ed(et,ei,1)^ed(et,ei,8)^el(et,ei,7);return eo<0&&(eo+=4294967296),eo}(eh[ep-30],eh[ep-29]),eS=eh[ep-32],eA=eh[ep-31];eh[ep]=em(eb,eg,ev,ew,e_,eE,eS,eA),eh[ep+1]=ey(eb,eg,ev,ew,e_,eE,eS,eA)}},v.prototype._update=function(et,ei){this._prepareBlock(et,ei);var eo,ea,ec,ef=this.W,el=this.h[0],em=this.h[1],ey=this.h[2],e_=this.h[3],eE=this.h[4],eS=this.h[5],eA=this.h[6],eM=this.h[7],eI=this.h[8],eT=this.h[9],ex=this.h[10],eC=this.h[11],eR=this.h[12],ek=this.h[13],eP=this.h[14],eO=this.h[15];eh(this.k.length===ef.length);for(var eN=0;eN<ef.length;eN+=2){var eU=eP,eB=eO,eL=(ec=void 0,(ec=eu(eo=eI,ea=eT,14)^eu(eo,ea,18)^eu(ea,eo,9))<0&&(ec+=4294967296),ec),eD=function(et,ei){var eo=ed(et,ei,14)^ed(et,ei,18)^ed(ei,et,9);return eo<0&&(eo+=4294967296),eo}(eI,eT),ej=function(et,ei,eo,ea,ec){var eh=et&eo^~et&ec;return eh<0&&(eh+=4294967296),eh}(eI,0,ex,0,eR),eq=function(et,ei,eo,ea,ec,eh){var eu=ei&ea^~ei&eh;return eu<0&&(eu+=4294967296),eu}(0,eT,0,eC,0,ek),eF=this.k[eN],eH=this.k[eN+1],eV=ef[eN],ez=ef[eN+1],e$=ev(eU,eB,eL,eD,ej,eq,eF,eH,eV,ez),eK=ew(eU,eB,eL,eD,ej,eq,eF,eH,eV,ez),eG=eb(eU=function(et,ei){var eo=eu(et,ei,28)^eu(ei,et,2)^eu(ei,et,7);return eo<0&&(eo+=4294967296),eo}(el,em),eB=function(et,ei){var eo=ed(et,ei,28)^ed(ei,et,2)^ed(ei,et,7);return eo<0&&(eo+=4294967296),eo}(el,em),eL=function(et,ei,eo,ea,ec){var eh=et&eo^et&ec^eo&ec;return eh<0&&(eh+=4294967296),eh}(el,0,ey,0,eE),eD=function(et,ei,eo,ea,ec,eh){var eu=ei&ea^ei&eh^ea&eh;return eu<0&&(eu+=4294967296),eu}(0,em,0,e_,0,eS)),eW=eg(eU,eB,eL,eD);eP=eR,eO=ek,eR=ex,ek=eC,ex=eI,eC=eT,eI=eb(eA,eM,e$,eK),eT=eg(eM,eM,e$,eK),eA=eE,eM=eS,eE=ey,eS=e_,ey=el,e_=em,el=eb(e$,eK,eG,eW),em=eg(e$,eK,eG,eW)}ep(this.h,0,el,em),ep(this.h,2,ey,e_),ep(this.h,4,eE,eS),ep(this.h,6,eA,eM),ep(this.h,8,eI,eT),ep(this.h,10,ex,eC),ep(this.h,12,eR,ek),ep(this.h,14,eP,eO)},v.prototype._digest=function(et){return"hex"===et?ea.toHex32(this.h,"big"):ea.split32(this.h,"big")}},5660:(et,ei,eo)=>{"use strict";var ea=eo(7905).rotr32;function s(et,ei,eo){return et&ei^et&eo^ei&eo}ei.ft_1=function(et,ei,eo,ea){return 0===et?ei&eo^~ei&ea:1===et||3===et?ei^eo^ea:2===et?s(ei,eo,ea):void 0},ei.ch32=function(et,ei,eo){return et&ei^~et&eo},ei.maj32=s,ei.p32=function(et,ei,eo){return et^ei^eo},ei.s0_256=function(et){return ea(et,2)^ea(et,13)^ea(et,22)},ei.s1_256=function(et){return ea(et,6)^ea(et,11)^ea(et,25)},ei.g0_256=function(et){return ea(et,7)^ea(et,18)^et>>>3},ei.g1_256=function(et){return ea(et,17)^ea(et,19)^et>>>10}},7905:(et,ei,eo)=>{"use strict";var ea=eo(5578),ec=eo(1193);function o(et){return(et>>>24|et>>>8&65280|et<<8&16711680|(255&et)<<24)>>>0}function a(et){return 1===et.length?"0"+et:et}function c(et){return 7===et.length?"0"+et:6===et.length?"00"+et:5===et.length?"000"+et:4===et.length?"0000"+et:3===et.length?"00000"+et:2===et.length?"000000"+et:1===et.length?"0000000"+et:et}ei.inherits=ec,ei.toArray=function(et,ei){if(Array.isArray(et))return et.slice();if(!et)return[];var eo=[];if("string"==typeof et){if(ei){if("hex"===ei)for((et=et.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(et="0"+et),ec=0;ec<et.length;ec+=2)eo.push(parseInt(et[ec]+et[ec+1],16))}else for(var ea=0,ec=0;ec<et.length;ec++){var eh,eu,ed=et.charCodeAt(ec);ed<128?eo[ea++]=ed:(ed<2048?eo[ea++]=ed>>6|192:((eh=et,eu=ec,55296!=(64512&eh.charCodeAt(eu))||eu<0||eu+1>=eh.length||56320!=(64512&eh.charCodeAt(eu+1)))?eo[ea++]=ed>>12|224:(ed=65536+((1023&ed)<<10)+(1023&et.charCodeAt(++ec)),eo[ea++]=ed>>18|240,eo[ea++]=ed>>12&63|128),eo[ea++]=ed>>6&63|128),eo[ea++]=63&ed|128)}}else for(ec=0;ec<et.length;ec++)eo[ec]=0|et[ec];return eo},ei.toHex=function(et){for(var ei="",eo=0;eo<et.length;eo++)ei+=a(et[eo].toString(16));return ei},ei.htonl=o,ei.toHex32=function(et,ei){for(var eo="",ea=0;ea<et.length;ea++){var ec=et[ea];"little"===ei&&(ec=o(ec)),eo+=c(ec.toString(16))}return eo},ei.zero2=a,ei.zero8=c,ei.join32=function(et,ei,eo,ec){var eh,eu=eo-ei;ea(eu%4==0);for(var ed=Array(eu/4),ef=0,el=ei;ef<ed.length;ef++,el+=4)eh="big"===ec?et[el]<<24|et[el+1]<<16|et[el+2]<<8|et[el+3]:et[el+3]<<24|et[el+2]<<16|et[el+1]<<8|et[el],ed[ef]=eh>>>0;return ed},ei.split32=function(et,ei){for(var eo=Array(4*et.length),ea=0,ec=0;ea<et.length;ea++,ec+=4){var eh=et[ea];"big"===ei?(eo[ec]=eh>>>24,eo[ec+1]=eh>>>16&255,eo[ec+2]=eh>>>8&255,eo[ec+3]=255&eh):(eo[ec+3]=eh>>>24,eo[ec+2]=eh>>>16&255,eo[ec+1]=eh>>>8&255,eo[ec]=255&eh)}return eo},ei.rotr32=function(et,ei){return et>>>ei|et<<32-ei},ei.rotl32=function(et,ei){return et<<ei|et>>>32-ei},ei.sum32=function(et,ei){return et+ei>>>0},ei.sum32_3=function(et,ei,eo){return et+ei+eo>>>0},ei.sum32_4=function(et,ei,eo,ea){return et+ei+eo+ea>>>0},ei.sum32_5=function(et,ei,eo,ea,ec){return et+ei+eo+ea+ec>>>0},ei.sum64=function(et,ei,eo,ea){var ec=et[ei],eh=ea+et[ei+1]>>>0;et[ei]=(eh<ea?1:0)+eo+ec>>>0,et[ei+1]=eh},ei.sum64_hi=function(et,ei,eo,ea){return(ei+ea>>>0<ei?1:0)+et+eo>>>0},ei.sum64_lo=function(et,ei,eo,ea){return ei+ea>>>0},ei.sum64_4_hi=function(et,ei,eo,ea,ec,eh,eu,ed){var ef=ei;return et+eo+ec+eu+(0+(((ef=ef+ea>>>0)<ei?1:0)+((ef=ef+eh>>>0)<eh?1:0)+((ef=ef+ed>>>0)<ed?1:0)))>>>0},ei.sum64_4_lo=function(et,ei,eo,ea,ec,eh,eu,ed){return ei+ea+eh+ed>>>0},ei.sum64_5_hi=function(et,ei,eo,ea,ec,eh,eu,ed,ef,el){var ep=ei;return et+eo+ec+eu+ef+(0+(((ep=ep+ea>>>0)<ei?1:0)+((ep=ep+eh>>>0)<eh?1:0)+((ep=ep+ed>>>0)<ed?1:0)+((ep=ep+el>>>0)<el?1:0)))>>>0},ei.sum64_5_lo=function(et,ei,eo,ea,ec,eh,eu,ed,ef,el){return ei+ea+eh+ed+el>>>0},ei.rotr64_hi=function(et,ei,eo){return(ei<<32-eo|et>>>eo)>>>0},ei.rotr64_lo=function(et,ei,eo){return(et<<32-eo|ei>>>eo)>>>0},ei.shr64_hi=function(et,ei,eo){return et>>>eo},ei.shr64_lo=function(et,ei,eo){return(et<<32-eo|ei>>>eo)>>>0}},2519:(et,ei,eo)=>{"use strict";var ea=eo(1631),ec=eo(4209),eh=eo(5578);function o(et){if(!(this instanceof o))return new o(et);this.hash=et.hash,this.predResist=!!et.predResist,this.outLen=this.hash.outSize,this.minEntropy=et.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var ei=ec.toArray(et.entropy,et.entropyEnc||"hex"),eo=ec.toArray(et.nonce,et.nonceEnc||"hex"),ea=ec.toArray(et.pers,et.persEnc||"hex");eh(ei.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(ei,eo,ea)}et.exports=o,o.prototype._init=function(et,ei,eo){var ea=et.concat(ei).concat(eo);this.K=Array(this.outLen/8),this.V=Array(this.outLen/8);for(var ec=0;ec<this.V.length;ec++)this.K[ec]=0,this.V[ec]=1;this._update(ea),this._reseed=1,this.reseedInterval=281474976710656},o.prototype._hmac=function(){return new ea.hmac(this.hash,this.K)},o.prototype._update=function(et){var ei=this._hmac().update(this.V).update([0]);et&&(ei=ei.update(et)),this.K=ei.digest(),this.V=this._hmac().update(this.V).digest(),et&&(this.K=this._hmac().update(this.V).update([1]).update(et).digest(),this.V=this._hmac().update(this.V).digest())},o.prototype.reseed=function(et,ei,eo,ea){"string"!=typeof ei&&(ea=eo,eo=ei,ei=null),et=ec.toArray(et,ei),eo=ec.toArray(eo,ea),eh(et.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(et.concat(eo||[])),this._reseed=1},o.prototype.generate=function(et,ei,eo,ea){if(this._reseed>this.reseedInterval)throw Error("Reseed is required");"string"!=typeof ei&&(ea=eo,eo=ei,ei=null),eo&&(eo=ec.toArray(eo,ea||"hex"),this._update(eo));for(var eh=[];eh.length<et;)this.V=this._hmac().update(this.V).digest(),eh=eh.concat(this.V);var eu=eh.slice(0,et);return this._update(eo),this._reseed++,ec.encode(eu,ei)}},3328:(et,ei)=>{ei.read=function(et,ei,eo,ea,ec){var eh,eu,ed=8*ec-ea-1,ef=(1<<ed)-1,el=ef>>1,ep=-7,eb=eo?ec-1:0,eg=eo?-1:1,em=et[ei+eb];for(eb+=eg,eh=em&(1<<-ep)-1,em>>=-ep,ep+=ed;ep>0;eh=256*eh+et[ei+eb],eb+=eg,ep-=8);for(eu=eh&(1<<-ep)-1,eh>>=-ep,ep+=ea;ep>0;eu=256*eu+et[ei+eb],eb+=eg,ep-=8);if(0===eh)eh=1-el;else{if(eh===ef)return eu?NaN:1/0*(em?-1:1);eu+=Math.pow(2,ea),eh-=el}return(em?-1:1)*eu*Math.pow(2,eh-ea)},ei.write=function(et,ei,eo,ea,ec,eh){var eu,ed,ef,el=8*eh-ec-1,ep=(1<<el)-1,eb=ep>>1,eg=23===ec?5960464477539062e-23:0,em=ea?0:eh-1,ey=ea?1:-1,ev=ei<0||0===ei&&1/ei<0?1:0;for(isNaN(ei=Math.abs(ei))||ei===1/0?(ed=isNaN(ei)?1:0,eu=ep):(eu=Math.floor(Math.log(ei)/Math.LN2),ei*(ef=Math.pow(2,-eu))<1&&(eu--,ef*=2),(ei+=eu+eb>=1?eg/ef:eg*Math.pow(2,1-eb))*ef>=2&&(eu++,ef/=2),eu+eb>=ep?(ed=0,eu=ep):eu+eb>=1?(ed=(ei*ef-1)*Math.pow(2,ec),eu+=eb):(ed=ei*Math.pow(2,eb-1)*Math.pow(2,ec),eu=0));ec>=8;et[eo+em]=255&ed,em+=ey,ed/=256,ec-=8);for(eu=eu<<ec|ed,el+=ec;el>0;et[eo+em]=255&eu,em+=ey,eu/=256,el-=8);et[eo+em-ey]|=128*ev}},1193:et=>{"function"==typeof Object.create?et.exports=function(et,ei){ei&&(et.super_=ei,et.prototype=Object.create(ei.prototype,{constructor:{value:et,enumerable:!1,writable:!0,configurable:!0}}))}:et.exports=function(et,ei){if(ei){et.super_=ei;var r=function(){};r.prototype=ei.prototype,et.prototype=new r,et.prototype.constructor=et}}},5035:(et,ei,eo)=>{"use strict";var ea=eo(1193),ec=eo(800),eh=eo(6608).Buffer,eu=Array(16);function a(){ec.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function c(et,ei){return et<<ei|et>>>32-ei}function h(et,ei,eo,ea,ec,eh,eu){return c(et+(ei&eo|~ei&ea)+ec+eh|0,eu)+ei|0}function u(et,ei,eo,ea,ec,eh,eu){return c(et+(ei&ea|eo&~ea)+ec+eh|0,eu)+ei|0}function d(et,ei,eo,ea,ec,eh,eu){return c(et+(ei^eo^ea)+ec+eh|0,eu)+ei|0}function f(et,ei,eo,ea,ec,eh,eu){return c(et+(eo^(ei|~ea))+ec+eh|0,eu)+ei|0}ea(a,ec),a.prototype._update=function(){for(var et=0;et<16;++et)eu[et]=this._block.readInt32LE(4*et);var ei=this._a,eo=this._b,ea=this._c,ec=this._d;ei=h(ei,eo,ea,ec,eu[0],3614090360,7),ec=h(ec,ei,eo,ea,eu[1],3905402710,12),ea=h(ea,ec,ei,eo,eu[2],606105819,17),eo=h(eo,ea,ec,ei,eu[3],3250441966,22),ei=h(ei,eo,ea,ec,eu[4],4118548399,7),ec=h(ec,ei,eo,ea,eu[5],1200080426,12),ea=h(ea,ec,ei,eo,eu[6],2821735955,17),eo=h(eo,ea,ec,ei,eu[7],4249261313,22),ei=h(ei,eo,ea,ec,eu[8],1770035416,7),ec=h(ec,ei,eo,ea,eu[9],2336552879,12),ea=h(ea,ec,ei,eo,eu[10],4294925233,17),eo=h(eo,ea,ec,ei,eu[11],2304563134,22),ei=h(ei,eo,ea,ec,eu[12],1804603682,7),ec=h(ec,ei,eo,ea,eu[13],4254626195,12),ea=h(ea,ec,ei,eo,eu[14],2792965006,17),ei=u(ei,eo=h(eo,ea,ec,ei,eu[15],1236535329,22),ea,ec,eu[1],4129170786,5),ec=u(ec,ei,eo,ea,eu[6],3225465664,9),ea=u(ea,ec,ei,eo,eu[11],643717713,14),eo=u(eo,ea,ec,ei,eu[0],3921069994,20),ei=u(ei,eo,ea,ec,eu[5],3593408605,5),ec=u(ec,ei,eo,ea,eu[10],38016083,9),ea=u(ea,ec,ei,eo,eu[15],3634488961,14),eo=u(eo,ea,ec,ei,eu[4],3889429448,20),ei=u(ei,eo,ea,ec,eu[9],568446438,5),ec=u(ec,ei,eo,ea,eu[14],3275163606,9),ea=u(ea,ec,ei,eo,eu[3],4107603335,14),eo=u(eo,ea,ec,ei,eu[8],1163531501,20),ei=u(ei,eo,ea,ec,eu[13],2850285829,5),ec=u(ec,ei,eo,ea,eu[2],4243563512,9),ea=u(ea,ec,ei,eo,eu[7],1735328473,14),ei=d(ei,eo=u(eo,ea,ec,ei,eu[12],2368359562,20),ea,ec,eu[5],4294588738,4),ec=d(ec,ei,eo,ea,eu[8],2272392833,11),ea=d(ea,ec,ei,eo,eu[11],1839030562,16),eo=d(eo,ea,ec,ei,eu[14],4259657740,23),ei=d(ei,eo,ea,ec,eu[1],2763975236,4),ec=d(ec,ei,eo,ea,eu[4],1272893353,11),ea=d(ea,ec,ei,eo,eu[7],4139469664,16),eo=d(eo,ea,ec,ei,eu[10],3200236656,23),ei=d(ei,eo,ea,ec,eu[13],681279174,4),ec=d(ec,ei,eo,ea,eu[0],3936430074,11),ea=d(ea,ec,ei,eo,eu[3],3572445317,16),eo=d(eo,ea,ec,ei,eu[6],76029189,23),ei=d(ei,eo,ea,ec,eu[9],3654602809,4),ec=d(ec,ei,eo,ea,eu[12],3873151461,11),ea=d(ea,ec,ei,eo,eu[15],530742520,16),ei=f(ei,eo=d(eo,ea,ec,ei,eu[2],3299628645,23),ea,ec,eu[0],4096336452,6),ec=f(ec,ei,eo,ea,eu[7],1126891415,10),ea=f(ea,ec,ei,eo,eu[14],2878612391,15),eo=f(eo,ea,ec,ei,eu[5],4237533241,21),ei=f(ei,eo,ea,ec,eu[12],1700485571,6),ec=f(ec,ei,eo,ea,eu[3],2399980690,10),ea=f(ea,ec,ei,eo,eu[10],4293915773,15),eo=f(eo,ea,ec,ei,eu[1],2240044497,21),ei=f(ei,eo,ea,ec,eu[8],1873313359,6),ec=f(ec,ei,eo,ea,eu[15],4264355552,10),ea=f(ea,ec,ei,eo,eu[6],2734768916,15),eo=f(eo,ea,ec,ei,eu[13],1309151649,21),ei=f(ei,eo,ea,ec,eu[4],4149444226,6),ec=f(ec,ei,eo,ea,eu[11],3174756917,10),ea=f(ea,ec,ei,eo,eu[2],718787259,15),eo=f(eo,ea,ec,ei,eu[9],3951481745,21),this._a=this._a+ei|0,this._b=this._b+eo|0,this._c=this._c+ea|0,this._d=this._d+ec|0},a.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var et=eh.allocUnsafe(16);return et.writeInt32LE(this._a,0),et.writeInt32LE(this._b,4),et.writeInt32LE(this._c,8),et.writeInt32LE(this._d,12),et},et.exports=a},4442:(et,ei,eo)=>{var ea=eo(4619),ec=eo(5442);function s(et){this.rand=et||new ec.Rand}et.exports=s,s.create=function(et){return new s(et)},s.prototype._randbelow=function(et){var ei=Math.ceil(et.bitLength()/8);do var eo=new ea(this.rand.generate(ei));while(eo.cmp(et)>=0);return eo},s.prototype._randrange=function(et,ei){var eo=ei.sub(et);return et.add(this._randbelow(eo))},s.prototype.test=function(et,ei,eo){var ec=et.bitLength(),eh=ea.mont(et),eu=new ea(1).toRed(eh);ei||(ei=Math.max(1,ec/48|0));for(var ed=et.subn(1),ef=0;!ed.testn(ef);ef++);for(var el=et.shrn(ef),ep=ed.toRed(eh);ei>0;ei--){var eb=this._randrange(new ea(2),ed);eo&&eo(eb);var eg=eb.toRed(eh).redPow(el);if(0!==eg.cmp(eu)&&0!==eg.cmp(ep)){for(var em=1;em<ef;em++){if(0===(eg=eg.redSqr()).cmp(eu))return!1;if(0===eg.cmp(ep))break}if(em===ef)return!1}}return!0},s.prototype.getDivisor=function(et,ei){var eo=et.bitLength(),ec=ea.mont(et),eh=new ea(1).toRed(ec);ei||(ei=Math.max(1,eo/48|0));for(var eu=et.subn(1),ed=0;!eu.testn(ed);ed++);for(var ef=et.shrn(ed),el=eu.toRed(ec);ei>0;ei--){var ep=this._randrange(new ea(2),eu),eb=et.gcd(ep);if(0!==eb.cmpn(1))return eb;var eg=ep.toRed(ec).redPow(ef);if(0!==eg.cmp(eh)&&0!==eg.cmp(el)){for(var em=1;em<ed;em++){if(0===(eg=eg.redSqr()).cmp(eh))return eg.fromRed().subn(1).gcd(et);if(0===eg.cmp(el))break}if(em===ed)return(eg=eg.redSqr()).fromRed().subn(1).gcd(et)}}return!1}},5578:et=>{function t(et,ei){if(!et)throw Error(ei||"Assertion failed")}et.exports=t,t.equal=function(et,ei,eo){if(et!=ei)throw Error(eo||"Assertion failed: "+et+" != "+ei)}},4209:(et,ei)=>{"use strict";function n(et){return 1===et.length?"0"+et:et}function i(et){for(var ei="",eo=0;eo<et.length;eo++)ei+=n(et[eo].toString(16));return ei}ei.toArray=function(et,ei){if(Array.isArray(et))return et.slice();if(!et)return[];var eo=[];if("string"!=typeof et){for(var ea=0;ea<et.length;ea++)eo[ea]=0|et[ea];return eo}if("hex"===ei)for((et=et.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(et="0"+et),ea=0;ea<et.length;ea+=2)eo.push(parseInt(et[ea]+et[ea+1],16));else for(ea=0;ea<et.length;ea++){var ec=et.charCodeAt(ea),eh=ec>>8,eu=255&ec;eh?eo.push(eh,eu):eo.push(eu)}return eo},ei.zero2=n,ei.toHex=i,ei.encode=function(et,ei){return"hex"===ei?i(et):et}},5651:(et,ei,eo)=>{"use strict";var ea=eo(5737);ei.certificate=eo(7467);var ec=ea.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});ei.RSAPrivateKey=ec;var eh=ea.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});ei.RSAPublicKey=eh;var eu=ea.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(ed),this.key("subjectPublicKey").bitstr())});ei.PublicKey=eu;var ed=ea.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),ef=ea.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(ed),this.key("subjectPrivateKey").octstr())});ei.PrivateKey=ef;var el=ea.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});ei.EncryptedPrivateKey=el;var ep=ea.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});ei.DSAPrivateKey=ep,ei.DSAparam=ea.define("DSAparam",function(){this.int()});var eb=ea.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(eg),this.key("publicKey").optional().explicit(1).bitstr())});ei.ECPrivateKey=eb;var eg=ea.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});ei.signature=ea.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},7467:(et,ei,eo)=>{"use strict";var ea=eo(5737),ec=ea.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),eh=ea.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),eu=ea.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),ed=ea.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(eu),this.key("subjectPublicKey").bitstr())}),ef=ea.define("RelativeDistinguishedName",function(){this.setof(eh)}),el=ea.define("RDNSequence",function(){this.seqof(ef)}),ep=ea.define("Name",function(){this.choice({rdnSequence:this.use(el)})}),eb=ea.define("Validity",function(){this.seq().obj(this.key("notBefore").use(ec),this.key("notAfter").use(ec))}),eg=ea.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),em=ea.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(eu),this.key("issuer").use(ep),this.key("validity").use(eb),this.key("subject").use(ep),this.key("subjectPublicKeyInfo").use(ed),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(eg).optional())}),ey=ea.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(em),this.key("signatureAlgorithm").use(eu),this.key("signatureValue").bitstr())});et.exports=ey},2011:(et,ei,eo)=>{var ea=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,ec=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,eh=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,eu=eo(1804),ed=eo(5007),ef=eo(6608).Buffer;et.exports=function(et,ei){var eo,el=et.toString(),ep=el.match(ea);if(ep){var eb="aes"+ep[1],eg=ef.from(ep[2],"hex"),em=ef.from(ep[3].replace(/[\r\n]/g,""),"base64"),ey=eu(ei,eg.slice(0,8),parseInt(ep[1],10)).key,ev=[],ew=ed.createDecipheriv(eb,ey,eg);ev.push(ew.update(em)),ev.push(ew.final()),eo=ef.concat(ev)}else{var e_=el.match(eh);eo=ef.from(e_[2].replace(/[\r\n]/g,""),"base64")}return{tag:el.match(ec)[1],data:eo}}},780:(et,ei,eo)=>{var ea=eo(5651),ec=eo(2853),eh=eo(2011),eu=eo(5007),ed=eo(3166),ef=eo(6608).Buffer;function h(et){"object"!=typeof et||ef.isBuffer(et)||(eE=et.passphrase,et=et.key),"string"==typeof et&&(et=ef.from(et));var ei,eo,el,ep,eb,eg,em,ey,ev,ew,e_,eE,eS,eA,eM=eh(et,eE),eI=eM.tag,eT=eM.data;switch(eI){case"CERTIFICATE":eA=ea.certificate.decode(eT,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(eA||(eA=ea.PublicKey.decode(eT,"der")),eS=eA.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return ea.RSAPublicKey.decode(eA.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return eA.subjectPrivateKey=eA.subjectPublicKey,{type:"ec",data:eA};case"1.2.840.10040.4.1":return eA.algorithm.params.pub_key=ea.DSAparam.decode(eA.subjectPublicKey.data,"der"),{type:"dsa",data:eA.algorithm.params};default:throw Error("unknown key id "+eS)}case"ENCRYPTED PRIVATE KEY":ei=eT=ea.EncryptedPrivateKey.decode(eT,"der"),eo=eE,el=ei.algorithm.decrypt.kde.kdeparams.salt,ep=parseInt(ei.algorithm.decrypt.kde.kdeparams.iters.toString(),10),eb=ec[ei.algorithm.decrypt.cipher.algo.join(".")],eg=ei.algorithm.decrypt.cipher.iv,em=ei.subjectPrivateKey,ey=parseInt(eb.split("-")[1],10)/8,ev=ed.pbkdf2Sync(eo,el,ep,ey,"sha1"),ew=eu.createDecipheriv(eb,ev,eg),(e_=[]).push(ew.update(em)),e_.push(ew.final()),eT=ef.concat(e_);case"PRIVATE KEY":switch(eS=(eA=ea.PrivateKey.decode(eT,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return ea.RSAPrivateKey.decode(eA.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:eA.algorithm.curve,privateKey:ea.ECPrivateKey.decode(eA.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return eA.algorithm.params.priv_key=ea.DSAparam.decode(eA.subjectPrivateKey,"der"),{type:"dsa",params:eA.algorithm.params};default:throw Error("unknown key id "+eS)}case"RSA PUBLIC KEY":return ea.RSAPublicKey.decode(eT,"der");case"RSA PRIVATE KEY":return ea.RSAPrivateKey.decode(eT,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:ea.DSAPrivateKey.decode(eT,"der")};case"EC PRIVATE KEY":return{curve:(eT=ea.ECPrivateKey.decode(eT,"der")).parameters.value,privateKey:eT.privateKey};default:throw Error("unknown key type "+eI)}}et.exports=h,h.signature=ea.signature},3166:(et,ei,eo)=>{ei.pbkdf2=eo(7638),ei.pbkdf2Sync=eo(8674)},7638:(et,ei,eo)=>{var ea,ec,eh=eo(6608).Buffer,eu=eo(362),ed=eo(9749),ef=eo(8674),el=eo(4300),ep=eo.g.crypto&&eo.g.crypto.subtle,eb={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},eg=[];function l(){return ec||(ec=eo.g.process&&eo.g.process.nextTick?eo.g.process.nextTick:eo.g.queueMicrotask?eo.g.queueMicrotask:eo.g.setImmediate?eo.g.setImmediate:eo.g.setTimeout)}function p(et,ei,eo,ea,ec){return ep.importKey("raw",et,{name:"PBKDF2"},!1,["deriveBits"]).then(function(et){return ep.deriveBits({name:"PBKDF2",salt:ei,iterations:eo,hash:{name:ec}},et,ea<<3)}).then(function(et){return eh.from(et)})}et.exports=function(et,ei,ec,em,ey,ev){"function"==typeof ey&&(ev=ey,ey=void 0);var ew=eb[(ey=ey||"sha1").toLowerCase()];if(ew&&"function"==typeof eo.g.Promise){if(eu(ec,em),et=el(et,ed,"Password"),ei=el(ei,ed,"Salt"),"function"!=typeof ev)throw Error("No callback provided to pbkdf2");!function(et,ei){et.then(function(et){l()(function(){ei(null,et)})},function(et){l()(function(){ei(et)})})}((function(et){if(eo.g.process&&!eo.g.process.browser||!ep||!ep.importKey||!ep.deriveBits)return Promise.resolve(!1);if(void 0!==eg[et])return eg[et];var ei=p(ea=ea||eh.alloc(8),ea,10,128,et).then(function(){return!0}).catch(function(){return!1});return eg[et]=ei,ei})(ew).then(function(eo){return eo?p(et,ei,ec,em,ew):ef(et,ei,ec,em,ey)}),ev)}else l()(function(){var eo;try{eo=ef(et,ei,ec,em,ey)}catch(et){return ev(et)}ev(null,eo)})}},9749:(et,ei,eo)=>{var ec;ec=eo.g.process&&eo.g.process.browser?"utf-8":eo.g.process&&eo.g.process.version?parseInt(ea.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":"utf-8",et.exports=ec},362:et=>{et.exports=function(et,ei){if("number"!=typeof et)throw TypeError("Iterations not a number");if(et<0)throw TypeError("Bad iterations");if("number"!=typeof ei)throw TypeError("Key length not a number");if(ei<0||ei>1073741823||ei!=ei)throw TypeError("Bad key length")}},8674:(et,ei,eo)=>{var ea=eo(6159),ec=eo(3934),eh=eo(5244),eu=eo(6608).Buffer,ed=eo(362),ef=eo(9749),el=eo(4300),ep=eu.alloc(128),eb={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function f(et,ei,eo){var ed="rmd160"===et||"ripemd160"===et?function(et){return(new ec).update(et).digest()}:"md5"===et?ea:function(ei){return eh(et).update(ei).digest()},ef="sha512"===et||"sha384"===et?128:64;ei.length>ef?ei=ed(ei):ei.length<ef&&(ei=eu.concat([ei,ep],ef));for(var el=eu.allocUnsafe(ef+eb[et]),eg=eu.allocUnsafe(ef+eb[et]),em=0;em<ef;em++)el[em]=54^ei[em],eg[em]=92^ei[em];var ey=eu.allocUnsafe(ef+eo+4);el.copy(ey,0,0,ef),this.ipad1=ey,this.ipad2=el,this.opad=eg,this.alg=et,this.blocksize=ef,this.hash=ed,this.size=eb[et]}f.prototype.run=function(et,ei){return et.copy(ei,this.blocksize),this.hash(ei).copy(this.opad,this.blocksize),this.hash(this.opad)},et.exports=function(et,ei,eo,ea,ec){ed(eo,ea);var eh=new f(ec=ec||"sha1",et=el(et,ef,"Password"),(ei=el(ei,ef,"Salt")).length),ep=eu.allocUnsafe(ea),eg=eu.allocUnsafe(ei.length+4);ei.copy(eg,0,0,ei.length);for(var em=0,ey=eb[ec],ev=Math.ceil(ea/ey),ew=1;ew<=ev;ew++){eg.writeUInt32BE(ew,ei.length);for(var e_=eh.run(eg,eh.ipad1),eE=e_,eS=1;eS<eo;eS++){eE=eh.run(eE,eh.ipad2);for(var eA=0;eA<ey;eA++)e_[eA]^=eE[eA]}e_.copy(ep,em),em+=ey}return ep}},4300:(et,ei,eo)=>{var ea=eo(6608).Buffer;et.exports=function(et,ei,eo){if(ea.isBuffer(et))return et;if("string"==typeof et)return ea.from(et,ei);if(ArrayBuffer.isView(et))return ea.from(et.buffer);throw TypeError(eo+" must be a string, a Buffer, a typed array or a DataView")}},2211:(et,ei,eo)=>{ei.publicEncrypt=eo(3909),ei.privateDecrypt=eo(2399),ei.privateEncrypt=function(et,eo){return ei.publicEncrypt(et,eo,!0)},ei.publicDecrypt=function(et,eo){return ei.privateDecrypt(et,eo,!0)}},8929:(et,ei,eo)=>{var ea=eo(8955),ec=eo(6608).Buffer;et.exports=function(et,ei){for(var eo,eh=ec.alloc(0),eu=0;eh.length<ei;)eo=function(et){var ei=ec.allocUnsafe(4);return ei.writeUInt32BE(et,0),ei}(eu++),eh=ec.concat([eh,ea("sha1").update(et).update(eo).digest()]);return eh.slice(0,ei)}},2399:(et,ei,eo)=>{var ea=eo(780),ec=eo(8929),eh=eo(7794),eu=eo(4619),ed=eo(1377),ef=eo(8955),el=eo(7390),ep=eo(6608).Buffer;et.exports=function(et,ei,eo){eb=et.padding?et.padding:eo?1:4;var eb,eg,em=ea(et),ey=em.modulus.byteLength();if(ei.length>ey||new eu(ei).cmp(em.modulus)>=0)throw Error("decryption error");eg=eo?el(new eu(ei),em):ed(ei,em);var ev=ep.alloc(ey-eg.length);if(eg=ep.concat([ev,eg],ey),4===eb)return function(et,ei){var eo=et.modulus.byteLength(),ea=ef("sha1").update(ep.alloc(0)).digest(),eu=ea.length;if(0!==ei[0])throw Error("decryption error");var ed=ei.slice(1,eu+1),el=ei.slice(eu+1),eb=eh(ed,ec(el,eu)),eg=eh(el,ec(eb,eo-eu-1));if(function(et,ei){et=ep.from(et),ei=ep.from(ei);var eo=0,ea=et.length;et.length!==ei.length&&(eo++,ea=Math.min(et.length,ei.length));for(var ec=-1;++ec<ea;)eo+=et[ec]^ei[ec];return eo}(ea,eg.slice(0,eu)))throw Error("decryption error");for(var em=eu;0===eg[em];)em++;if(1!==eg[em++])throw Error("decryption error");return eg.slice(em)}(em,eg);if(1===eb)return function(et,ei,eo){for(var ea=ei.slice(0,2),ec=2,eh=0;0!==ei[ec++];)if(ec>=ei.length){eh++;break}var eu=ei.slice(2,ec-1);if(("0002"!==ea.toString("hex")&&!eo||"0001"!==ea.toString("hex")&&eo)&&eh++,eu.length<8&&eh++,eh)throw Error("decryption error");return ei.slice(ec)}(0,eg,eo);if(3===eb)return eg;throw Error("unknown padding")}},3909:(et,ei,eo)=>{var ea=eo(780),ec=eo(2869),eh=eo(8955),eu=eo(8929),ed=eo(7794),ef=eo(4619),el=eo(7390),ep=eo(1377),eb=eo(6608).Buffer;et.exports=function(et,ei,eo){eg=et.padding?et.padding:eo?1:4;var eg,em,ey=ea(et);if(4===eg)em=function(et,ei){var eo=et.modulus.byteLength(),ea=ei.length,el=eh("sha1").update(eb.alloc(0)).digest(),ep=el.length,eg=2*ep;if(ea>eo-eg-2)throw Error("message too long");var em=eb.alloc(eo-ea-eg-2),ey=eo-ep-1,ev=ec(ep),ew=ed(eb.concat([el,em,eb.alloc(1,1),ei],ey),eu(ev,ey)),e_=ed(ev,eu(ew,ep));return new ef(eb.concat([eb.alloc(1),e_,ew],eo))}(ey,ei);else if(1===eg)em=function(et,ei,eo){var ea,eh=ei.length,eu=et.modulus.byteLength();if(eh>eu-11)throw Error("message too long");return ea=eo?eb.alloc(eu-eh-3,255):function(et){for(var ei,eo=eb.allocUnsafe(et),ea=0,eh=ec(2*et),eu=0;ea<et;)eu===eh.length&&(eh=ec(2*et),eu=0),(ei=eh[eu++])&&(eo[ea++]=ei);return eo}(eu-eh-3),new ef(eb.concat([eb.from([0,eo?1:2]),ea,eb.alloc(1),ei],eu))}(ey,ei,eo);else{if(3!==eg)throw Error("unknown padding");if((em=new ef(ei)).cmp(ey.modulus)>=0)throw Error("data too long for modulus")}return eo?ep(em,ey):el(em,ey)}},7390:(et,ei,eo)=>{var ea=eo(4619),ec=eo(6608).Buffer;et.exports=function(et,ei){return ec.from(et.toRed(ea.mont(ei.modulus)).redPow(new ea(ei.publicExponent)).fromRed().toArray())}},7794:et=>{et.exports=function(et,ei){for(var eo=et.length,ea=-1;++ea<eo;)et[ea]^=ei[ea];return et}},2869:(et,ei,eo)=>{"use strict";var ec=eo(6608).Buffer,eh=eo.g.crypto||eo.g.msCrypto;eh&&eh.getRandomValues?et.exports=function(et,ei){if(et>4294967295)throw RangeError("requested too many random bytes");var eo=ec.allocUnsafe(et);if(et>0){if(et>65536)for(var eu=0;eu<et;eu+=65536)eh.getRandomValues(eo.slice(eu,eu+65536));else eh.getRandomValues(eo)}return"function"==typeof ei?ea.nextTick(function(){ei(null,eo)}):eo}:et.exports=function(){throw Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}},4925:(et,ei,eo)=>{"use strict";function n(){throw Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}var ec=eo(6608),eh=(eo(2869),ec.Buffer),eu=ec.kMaxLength,ed=eo.g.crypto||eo.g.msCrypto;function u(et,ei){if("number"!=typeof et||et!=et)throw TypeError("offset must be a number");if(et>4294967295||et<0)throw TypeError("offset must be a uint32");if(et>eu||et>ei)throw RangeError("offset out of range")}function d(et,ei,eo){if("number"!=typeof et||et!=et)throw TypeError("size must be a number");if(et>4294967295||et<0)throw TypeError("size must be a uint32");if(et+ei>eo||et>eu)throw RangeError("buffer too small")}function f(et,ei,eo,ec){var eh=et.buffer,eu=new Uint8Array(eh,ei,eo);return ed.getRandomValues(eu),ec?void ea.nextTick(function(){ec(null,et)}):et}ed&&ed.getRandomValues?(ei.randomFill=function(et,ei,ea,ec){if(!(eh.isBuffer(et)||et instanceof eo.g.Uint8Array))throw TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"==typeof ei)ec=ei,ei=0,ea=et.length;else if("function"==typeof ea)ec=ea,ea=et.length-ei;else if("function"!=typeof ec)throw TypeError('"cb" argument must be a function');return u(ei,et.length),d(ea,ei,et.length),f(et,ei,ea,ec)},ei.randomFillSync=function(et,ei,ea){if(void 0===ei&&(ei=0),!(eh.isBuffer(et)||et instanceof eo.g.Uint8Array))throw TypeError('"buf" argument must be a Buffer or Uint8Array');return u(ei,et.length),void 0===ea&&(ea=et.length-ei),d(ea,ei,et.length),f(et,ei,ea)}):(ei.randomFill=n,ei.randomFillSync=n)},289:et=>{"use strict";var ei={};function r(et,eo,ea){ea||(ea=Error);var ec=function(et){function i(ei,ea,ec){return et.call(this,"string"==typeof eo?eo:eo(ei,ea,ec))||this}return i.prototype=Object.create(et.prototype),i.prototype.constructor=i,i.__proto__=et,i}(ea);ec.prototype.name=ea.name,ec.prototype.code=et,ei[et]=ec}function n(et,ei){if(Array.isArray(et)){var eo=et.length;return et=et.map(function(et){return String(et)}),eo>2?"one of ".concat(ei," ").concat(et.slice(0,eo-1).join(", "),", or ")+et[eo-1]:2===eo?"one of ".concat(ei," ").concat(et[0]," or ").concat(et[1]):"of ".concat(ei," ").concat(et[0])}return"of ".concat(ei," ").concat(String(et))}r("ERR_INVALID_OPT_VALUE",function(et,ei){return'The value "'+ei+'" is invalid for option "'+et+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(et,ei,eo){if("string"==typeof ei&&"not "===ei.substr(0,4)?(ea="must not be",ei=ei.replace(/^not /,"")):ea="must be",(void 0===eu||eu>et.length)&&(eu=et.length)," argument"===et.substring(eu-9,eu))ec="The ".concat(et," ").concat(ea," ").concat(n(ei,"type"));else{var ea,ec,eh,eu,ed=("number"!=typeof eh&&(eh=0),eh+1>et.length||-1===et.indexOf(".",eh)?"argument":"property");ec='The "'.concat(et,'" ').concat(ed," ").concat(ea," ").concat(n(ei,"type"))}return ec+". Received type ".concat(typeof eo)},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(et){return"The "+et+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(et){return"Cannot call "+et+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(et){return"Unknown encoding: "+et},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),et.exports.F=ei},5707:(et,ei,eo)=>{"use strict";var ec=Object.keys||function(et){var ei=[];for(var eo in et)ei.push(eo);return ei};et.exports=h;var eh=eo(3033),eu=eo(2553);eo(1193)(h,eh);for(var ed=ec(eu.prototype),ef=0;ef<ed.length;ef++){var el=ed[ef];h.prototype[el]||(h.prototype[el]=eu.prototype[el])}function h(et){if(!(this instanceof h))return new h(et);eh.call(this,et),eu.call(this,et),this.allowHalfOpen=!0,et&&(!1===et.readable&&(this.readable=!1),!1===et.writable&&(this.writable=!1),!1===et.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",u)))}function u(){this._writableState.ended||ea.nextTick(d,this)}function d(et){et.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(h.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(h.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(et){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=et,this._writableState.destroyed=et)}})},5271:(et,ei,eo)=>{"use strict";et.exports=i;var ea=eo(141);function i(et){if(!(this instanceof i))return new i(et);ea.call(this,et)}eo(1193)(i,ea),i.prototype._transform=function(et,ei,eo){eo(null,et)}},3033:(et,ei,eo)=>{"use strict";et.exports=A,A.ReadableState=S,eo(381).EventEmitter;var ec,eh,s=function(et,ei){return et.listeners(ei).length},eu=eo(2534),ed=eo(6533).Buffer,ef=(void 0!==eo.g?eo.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){},el=eo(6429);eh=el&&el.debuglog?el.debuglog("stream"):function(){};var ep,eb,eg,em=eo(20),ey=eo(917),ev=eo(5750).getHighWaterMark,ew=eo(289).F,e_=ew.ERR_INVALID_ARG_TYPE,eE=ew.ERR_STREAM_PUSH_AFTER_EOF,eS=ew.ERR_METHOD_NOT_IMPLEMENTED,eA=ew.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;eo(1193)(A,eu);var eM=ey.errorOrDestroy,eI=["error","close","destroy","pause","resume"];function S(et,ei,ea){ec=ec||eo(5707),et=et||{},"boolean"!=typeof ea&&(ea=ei instanceof ec),this.objectMode=!!et.objectMode,ea&&(this.objectMode=this.objectMode||!!et.readableObjectMode),this.highWaterMark=ev(this,et,"readableHighWaterMark",ea),this.buffer=new em,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==et.emitClose,this.autoDestroy=!!et.autoDestroy,this.destroyed=!1,this.defaultEncoding=et.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,et.encoding&&(ep||(ep=eo(6704).I),this.decoder=new ep(et.encoding),this.encoding=et.encoding)}function A(et){if(ec=ec||eo(5707),!(this instanceof A))return new A(et);var ei=this instanceof ec;this._readableState=new S(et,this,ei),this.readable=!0,et&&("function"==typeof et.read&&(this._read=et.read),"function"==typeof et.destroy&&(this._destroy=et.destroy)),eu.call(this)}function M(et,ei,eo,ea,ec){eh("readableAddChunk",ei);var eu,el,ep,eb,eg=et._readableState;if(null===ei)eg.reading=!1,function(et,ei){if(eh("onEofChunk"),!ei.ended){if(ei.decoder){var eo=ei.decoder.end();eo&&eo.length&&(ei.buffer.push(eo),ei.length+=ei.objectMode?1:eo.length)}ei.ended=!0,ei.sync?C(et):(ei.needReadable=!1,ei.emittedReadable||(ei.emittedReadable=!0,R(et)))}}(et,eg);else if(ec||(eu=ei,ed.isBuffer(eu)||eu instanceof ef||"string"==typeof eu||void 0===eu||eg.objectMode||(el=new e_("chunk",["string","Buffer","Uint8Array"],eu)),eb=el),eb)eM(et,eb);else if(eg.objectMode||ei&&ei.length>0){if("string"==typeof ei||eg.objectMode||Object.getPrototypeOf(ei)===ed.prototype||(ep=ei,ei=ed.from(ep)),ea)eg.endEmitted?eM(et,new eA):I(et,eg,ei,!0);else if(eg.ended)eM(et,new eE);else{if(eg.destroyed)return!1;eg.reading=!1,eg.decoder&&!eo?(ei=eg.decoder.write(ei),eg.objectMode||0!==ei.length?I(et,eg,ei,!1):k(et,eg)):I(et,eg,ei,!1)}}else ea||(eg.reading=!1,k(et,eg));return!eg.ended&&(eg.length<eg.highWaterMark||0===eg.length)}function I(et,ei,eo,ea){ei.flowing&&0===ei.length&&!ei.sync?(ei.awaitDrain=0,et.emit("data",eo)):(ei.length+=ei.objectMode?1:eo.length,ea?ei.buffer.unshift(eo):ei.buffer.push(eo),ei.needReadable&&C(et)),k(et,ei)}function x(et,ei){var eo;return et<=0||0===ei.length&&ei.ended?0:ei.objectMode?1:et!=et?ei.flowing&&ei.length?ei.buffer.head.data.length:ei.length:(et>ei.highWaterMark&&(ei.highWaterMark=((eo=et)>=1073741824?eo=1073741824:(eo--,eo|=eo>>>1,eo|=eo>>>2,eo|=eo>>>4,eo|=eo>>>8,eo|=eo>>>16,eo++),eo)),et<=ei.length?et:ei.ended?ei.length:(ei.needReadable=!0,0))}function C(et){var ei=et._readableState;eh("emitReadable",ei.needReadable,ei.emittedReadable),ei.needReadable=!1,ei.emittedReadable||(eh("emitReadable",ei.flowing),ei.emittedReadable=!0,ea.nextTick(R,et))}function R(et){var ei=et._readableState;eh("emitReadable_",ei.destroyed,ei.length,ei.ended),!ei.destroyed&&(ei.length||ei.ended)&&(et.emit("readable"),ei.emittedReadable=!1),ei.needReadable=!ei.flowing&&!ei.ended&&ei.length<=ei.highWaterMark,B(et)}function k(et,ei){ei.readingMore||(ei.readingMore=!0,ea.nextTick(P,et,ei))}function P(et,ei){for(;!ei.reading&&!ei.ended&&(ei.length<ei.highWaterMark||ei.flowing&&0===ei.length);){var eo=ei.length;if(eh("maybeReadMore read 0"),et.read(0),eo===ei.length)break}ei.readingMore=!1}function O(et){var ei=et._readableState;ei.readableListening=et.listenerCount("readable")>0,ei.resumeScheduled&&!ei.paused?ei.flowing=!0:et.listenerCount("data")>0&&et.resume()}function N(et){eh("readable nexttick read 0"),et.read(0)}function U(et,ei){eh("resume",ei.reading),ei.reading||et.read(0),ei.resumeScheduled=!1,et.emit("resume"),B(et),ei.flowing&&!ei.reading&&et.read(0)}function B(et){var ei=et._readableState;for(eh("flow",ei.flowing);ei.flowing&&null!==et.read(););}function L(et,ei){var eo;return 0===ei.length?null:(ei.objectMode?eo=ei.buffer.shift():!et||et>=ei.length?(eo=ei.decoder?ei.buffer.join(""):1===ei.buffer.length?ei.buffer.first():ei.buffer.concat(ei.length),ei.buffer.clear()):eo=ei.buffer.consume(et,ei.decoder),eo)}function j(et){var ei=et._readableState;eh("endReadable",ei.endEmitted),ei.endEmitted||(ei.ended=!0,ea.nextTick(D,ei,et))}function D(et,ei){if(eh("endReadableNT",et.endEmitted,et.length),!et.endEmitted&&0===et.length&&(et.endEmitted=!0,ei.readable=!1,ei.emit("end"),et.autoDestroy)){var eo=ei._writableState;(!eo||eo.autoDestroy&&eo.finished)&&ei.destroy()}}function q(et,ei){for(var eo=0,ea=et.length;eo<ea;eo++)if(et[eo]===ei)return eo;return -1}Object.defineProperty(A.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(et){this._readableState&&(this._readableState.destroyed=et)}}),A.prototype.destroy=ey.destroy,A.prototype._undestroy=ey.undestroy,A.prototype._destroy=function(et,ei){ei(et)},A.prototype.push=function(et,ei){var eo,ea=this._readableState;return ea.objectMode?eo=!0:"string"==typeof et&&((ei=ei||ea.defaultEncoding)!==ea.encoding&&(et=ed.from(et,ei),ei=""),eo=!0),M(this,et,ei,!1,eo)},A.prototype.unshift=function(et){return M(this,et,null,!0,!1)},A.prototype.isPaused=function(){return!1===this._readableState.flowing},A.prototype.setEncoding=function(et){ep||(ep=eo(6704).I);var ei=new ep(et);this._readableState.decoder=ei,this._readableState.encoding=this._readableState.decoder.encoding;for(var ea=this._readableState.buffer.head,ec="";null!==ea;)ec+=ei.write(ea.data),ea=ea.next;return this._readableState.buffer.clear(),""!==ec&&this._readableState.buffer.push(ec),this._readableState.length=ec.length,this},A.prototype.read=function(et){eh("read",et),et=parseInt(et,10);var ei=this._readableState,eo=et;if(0!==et&&(ei.emittedReadable=!1),0===et&&ei.needReadable&&((0!==ei.highWaterMark?ei.length>=ei.highWaterMark:ei.length>0)||ei.ended))return eh("read: emitReadable",ei.length,ei.ended),0===ei.length&&ei.ended?j(this):C(this),null;if(0===(et=x(et,ei))&&ei.ended)return 0===ei.length&&j(this),null;var ea,ec=ei.needReadable;return eh("need readable",ec),(0===ei.length||ei.length-et<ei.highWaterMark)&&eh("length less than watermark",ec=!0),ei.ended||ei.reading?eh("reading or ended",ec=!1):ec&&(eh("do read"),ei.reading=!0,ei.sync=!0,0===ei.length&&(ei.needReadable=!0),this._read(ei.highWaterMark),ei.sync=!1,ei.reading||(et=x(eo,ei))),null===(ea=et>0?L(et,ei):null)?(ei.needReadable=ei.length<=ei.highWaterMark,et=0):(ei.length-=et,ei.awaitDrain=0),0===ei.length&&(ei.ended||(ei.needReadable=!0),eo!==et&&ei.ended&&j(this)),null!==ea&&this.emit("data",ea),ea},A.prototype._read=function(et){eM(this,new eS("_read()"))},A.prototype.pipe=function(et,ei){var eo=this,ec=this._readableState;switch(ec.pipesCount){case 0:ec.pipes=et;break;case 1:ec.pipes=[ec.pipes,et];break;default:ec.pipes.push(et)}ec.pipesCount+=1,eh("pipe count=%d opts=%j",ec.pipesCount,ei);var eu=ei&&!1===ei.end||et===ea.stdout||et===ea.stderr?p:a;function a(){eh("onend"),et.end()}ec.endEmitted?ea.nextTick(eu):eo.once("end",eu),et.on("unpipe",function t(ei,ea){eh("onunpipe"),ei===eo&&ea&&!1===ea.hasUnpiped&&(ea.hasUnpiped=!0,eh("cleanup"),et.removeListener("close",f),et.removeListener("finish",l),et.removeListener("drain",c),et.removeListener("error",d),et.removeListener("unpipe",t),eo.removeListener("end",a),eo.removeListener("end",p),eo.removeListener("data",u),ed=!0,ec.awaitDrain&&(!et._writableState||et._writableState.needDrain)&&c())});var c=function(){var et=eo._readableState;eh("pipeOnDrain",et.awaitDrain),et.awaitDrain&&et.awaitDrain--,0===et.awaitDrain&&s(eo,"data")&&(et.flowing=!0,B(eo))};et.on("drain",c);var ed=!1;function u(ei){eh("ondata");var ea=et.write(ei);eh("dest.write",ea),!1===ea&&((1===ec.pipesCount&&ec.pipes===et||ec.pipesCount>1&&-1!==q(ec.pipes,et))&&!ed&&(eh("false write response, pause",ec.awaitDrain),ec.awaitDrain++),eo.pause())}function d(ei){eh("onerror",ei),p(),et.removeListener("error",d),0===s(et,"error")&&eM(et,ei)}function f(){et.removeListener("finish",l),p()}function l(){eh("onfinish"),et.removeListener("close",f),p()}function p(){eh("unpipe"),eo.unpipe(et)}return eo.on("data",u),function(et,ei,eo){if("function"==typeof et.prependListener)return et.prependListener(ei,eo);et._events&&et._events[ei]?Array.isArray(et._events[ei])?et._events[ei].unshift(eo):et._events[ei]=[eo,et._events[ei]]:et.on(ei,eo)}(et,"error",d),et.once("close",f),et.once("finish",l),et.emit("pipe",eo),ec.flowing||(eh("pipe resume"),eo.resume()),et},A.prototype.unpipe=function(et){var ei=this._readableState,eo={hasUnpiped:!1};if(0===ei.pipesCount)return this;if(1===ei.pipesCount)return et&&et!==ei.pipes||(et||(et=ei.pipes),ei.pipes=null,ei.pipesCount=0,ei.flowing=!1,et&&et.emit("unpipe",this,eo)),this;if(!et){var ea=ei.pipes,ec=ei.pipesCount;ei.pipes=null,ei.pipesCount=0,ei.flowing=!1;for(var eh=0;eh<ec;eh++)ea[eh].emit("unpipe",this,{hasUnpiped:!1});return this}var eu=q(ei.pipes,et);return -1===eu||(ei.pipes.splice(eu,1),ei.pipesCount-=1,1===ei.pipesCount&&(ei.pipes=ei.pipes[0]),et.emit("unpipe",this,eo)),this},A.prototype.on=function(et,ei){var eo=eu.prototype.on.call(this,et,ei),ec=this._readableState;return"data"===et?(ec.readableListening=this.listenerCount("readable")>0,!1!==ec.flowing&&this.resume()):"readable"===et&&(ec.endEmitted||ec.readableListening||(ec.readableListening=ec.needReadable=!0,ec.flowing=!1,ec.emittedReadable=!1,eh("on readable",ec.length,ec.reading),ec.length?C(this):ec.reading||ea.nextTick(N,this))),eo},A.prototype.addListener=A.prototype.on,A.prototype.removeListener=function(et,ei){var eo=eu.prototype.removeListener.call(this,et,ei);return"readable"===et&&ea.nextTick(O,this),eo},A.prototype.removeAllListeners=function(et){var ei=eu.prototype.removeAllListeners.apply(this,arguments);return"readable"!==et&&void 0!==et||ea.nextTick(O,this),ei},A.prototype.resume=function(){var et=this._readableState;return et.flowing||(eh("resume"),et.flowing=!et.readableListening,et.resumeScheduled||(et.resumeScheduled=!0,ea.nextTick(U,this,et))),et.paused=!1,this},A.prototype.pause=function(){return eh("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(eh("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},A.prototype.wrap=function(et){var ei=this,eo=this._readableState,ea=!1;for(var ec in et.on("end",function(){if(eh("wrapped end"),eo.decoder&&!eo.ended){var et=eo.decoder.end();et&&et.length&&ei.push(et)}ei.push(null)}),et.on("data",function(ec){eh("wrapped data"),eo.decoder&&(ec=eo.decoder.write(ec)),eo.objectMode&&null==ec||(eo.objectMode||ec&&ec.length)&&(ei.push(ec)||(ea=!0,et.pause()))}),et)void 0===this[ec]&&"function"==typeof et[ec]&&(this[ec]=function(ei){return function(){return et[ei].apply(et,arguments)}}(ec));for(var eu=0;eu<eI.length;eu++)et.on(eI[eu],this.emit.bind(this,eI[eu]));return this._read=function(ei){eh("wrapped _read",ei),ea&&(ea=!1,et.resume())},this},"function"==typeof Symbol&&(A.prototype[Symbol.asyncIterator]=function(){return void 0===eb&&(eb=eo(9536)),eb(this)}),Object.defineProperty(A.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(A.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(A.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(et){this._readableState&&(this._readableState.flowing=et)}}),A._fromList=L,Object.defineProperty(A.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(A.from=function(et,ei){return void 0===eg&&(eg=eo(4918)),eg(A,et,ei)})},141:(et,ei,eo)=>{"use strict";et.exports=u;var ea=eo(289).F,ec=ea.ERR_METHOD_NOT_IMPLEMENTED,eh=ea.ERR_MULTIPLE_CALLBACK,eu=ea.ERR_TRANSFORM_ALREADY_TRANSFORMING,ed=ea.ERR_TRANSFORM_WITH_LENGTH_0,ef=eo(5707);function h(et,ei){var eo=this._transformState;eo.transforming=!1;var ea=eo.writecb;if(null===ea)return this.emit("error",new eh);eo.writechunk=null,eo.writecb=null,null!=ei&&this.push(ei),ea(et);var ec=this._readableState;ec.reading=!1,(ec.needReadable||ec.length<ec.highWaterMark)&&this._read(ec.highWaterMark)}function u(et){if(!(this instanceof u))return new u(et);ef.call(this,et),this._transformState={afterTransform:h.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,et&&("function"==typeof et.transform&&(this._transform=et.transform),"function"==typeof et.flush&&(this._flush=et.flush)),this.on("prefinish",d)}function d(){var et=this;"function"!=typeof this._flush||this._readableState.destroyed?f(this,null,null):this._flush(function(ei,eo){f(et,ei,eo)})}function f(et,ei,eo){if(ei)return et.emit("error",ei);if(null!=eo&&et.push(eo),et._writableState.length)throw new ed;if(et._transformState.transforming)throw new eu;return et.push(null)}eo(1193)(u,ef),u.prototype.push=function(et,ei){return this._transformState.needTransform=!1,ef.prototype.push.call(this,et,ei)},u.prototype._transform=function(et,ei,eo){eo(new ec("_transform()"))},u.prototype._write=function(et,ei,eo){var ea=this._transformState;if(ea.writecb=eo,ea.writechunk=et,ea.writeencoding=ei,!ea.transforming){var ec=this._readableState;(ea.needTransform||ec.needReadable||ec.length<ec.highWaterMark)&&this._read(ec.highWaterMark)}},u.prototype._read=function(et){var ei=this._transformState;null===ei.writechunk||ei.transforming?ei.needTransform=!0:(ei.transforming=!0,this._transform(ei.writechunk,ei.writeencoding,ei.afterTransform))},u.prototype._destroy=function(et,ei){ef.prototype._destroy.call(this,et,function(et){ei(et)})}},2553:(et,ei,eo)=>{"use strict";function n(et){var ei=this;this.next=null,this.entry=null,this.finish=function(){!function(et,ei){var eo=et.entry;for(et.entry=null;eo;){var ea=eo.callback;ei.pendingcb--,ea(void 0),eo=eo.next}ei.corkedRequestsFree.next=et}(ei,et)}}et.exports=A,A.WritableState=S;var ec,eh,eu={deprecate:eo(1947)},ed=eo(2534),ef=eo(6533).Buffer,el=(void 0!==eo.g?eo.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){},ep=eo(917),eb=eo(5750).getHighWaterMark,eg=eo(289).F,em=eg.ERR_INVALID_ARG_TYPE,ey=eg.ERR_METHOD_NOT_IMPLEMENTED,ev=eg.ERR_MULTIPLE_CALLBACK,ew=eg.ERR_STREAM_CANNOT_PIPE,e_=eg.ERR_STREAM_DESTROYED,eE=eg.ERR_STREAM_NULL_VALUES,eS=eg.ERR_STREAM_WRITE_AFTER_END,eA=eg.ERR_UNKNOWN_ENCODING,eM=ep.errorOrDestroy;function E(){}function S(et,ei,eh){ec=ec||eo(5707),et=et||{},"boolean"!=typeof eh&&(eh=ei instanceof ec),this.objectMode=!!et.objectMode,eh&&(this.objectMode=this.objectMode||!!et.writableObjectMode),this.highWaterMark=eb(this,et,"writableHighWaterMark",eh),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var eu=!1===et.decodeStrings;this.decodeStrings=!eu,this.defaultEncoding=et.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(et){!function(et,ei){var eo=et._writableState,ec=eo.sync,eh=eo.writecb;if("function"!=typeof eh)throw new ev;if(eo.writing=!1,eo.writecb=null,eo.length-=eo.writelen,eo.writelen=0,ei)--eo.pendingcb,ec?(ea.nextTick(eh,ei),ea.nextTick(R,et,eo),et._writableState.errorEmitted=!0,eM(et,ei)):(eh(ei),et._writableState.errorEmitted=!0,eM(et,ei),R(et,eo));else{var eu=x(eo)||et.destroyed;eu||eo.corked||eo.bufferProcessing||!eo.bufferedRequest||T(et,eo),ec?ea.nextTick(I,et,eo,eu,eh):I(et,eo,eu,eh)}}(ei,et)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==et.emitClose,this.autoDestroy=!!et.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new n(this)}function A(et){var ei=this instanceof(ec=ec||eo(5707));if(!ei&&!eh.call(A,this))return new A(et);this._writableState=new S(et,this,ei),this.writable=!0,et&&("function"==typeof et.write&&(this._write=et.write),"function"==typeof et.writev&&(this._writev=et.writev),"function"==typeof et.destroy&&(this._destroy=et.destroy),"function"==typeof et.final&&(this._final=et.final)),ed.call(this)}function M(et,ei,eo,ea,ec,eh,eu){ei.writelen=ea,ei.writecb=eu,ei.writing=!0,ei.sync=!0,ei.destroyed?ei.onwrite(new e_("write")):eo?et._writev(ec,ei.onwrite):et._write(ec,eh,ei.onwrite),ei.sync=!1}function I(et,ei,eo,ea){eo||0===ei.length&&ei.needDrain&&(ei.needDrain=!1,et.emit("drain")),ei.pendingcb--,ea(),R(et,ei)}function T(et,ei){ei.bufferProcessing=!0;var eo=ei.bufferedRequest;if(et._writev&&eo&&eo.next){var ea=Array(ei.bufferedRequestCount),ec=ei.corkedRequestsFree;ec.entry=eo;for(var eh=0,eu=!0;eo;)ea[eh]=eo,eo.isBuf||(eu=!1),eo=eo.next,eh+=1;ea.allBuffers=eu,M(et,ei,!0,ei.length,ea,"",ec.finish),ei.pendingcb++,ei.lastBufferedRequest=null,ec.next?(ei.corkedRequestsFree=ec.next,ec.next=null):ei.corkedRequestsFree=new n(ei),ei.bufferedRequestCount=0}else{for(;eo;){var ed=eo.chunk,ef=eo.encoding,el=eo.callback;if(M(et,ei,!1,ei.objectMode?1:ed.length,ed,ef,el),eo=eo.next,ei.bufferedRequestCount--,ei.writing)break}null===eo&&(ei.lastBufferedRequest=null)}ei.bufferedRequest=eo,ei.bufferProcessing=!1}function x(et){return et.ending&&0===et.length&&null===et.bufferedRequest&&!et.finished&&!et.writing}function C(et,ei){et._final(function(eo){ei.pendingcb--,eo&&eM(et,eo),ei.prefinished=!0,et.emit("prefinish"),R(et,ei)})}function R(et,ei){var eo=x(ei);if(eo&&(ei.prefinished||ei.finalCalled||("function"!=typeof et._final||ei.destroyed?(ei.prefinished=!0,et.emit("prefinish")):(ei.pendingcb++,ei.finalCalled=!0,ea.nextTick(C,et,ei))),0===ei.pendingcb&&(ei.finished=!0,et.emit("finish"),ei.autoDestroy))){var ec=et._readableState;(!ec||ec.autoDestroy&&ec.endEmitted)&&et.destroy()}return eo}eo(1193)(A,ed),S.prototype.getBuffer=function(){for(var et=this.bufferedRequest,ei=[];et;)ei.push(et),et=et.next;return ei},function(){try{Object.defineProperty(S.prototype,"buffer",{get:eu.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(et){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(eh=Function.prototype[Symbol.hasInstance],Object.defineProperty(A,Symbol.hasInstance,{value:function(et){return!!eh.call(this,et)||this===A&&et&&et._writableState instanceof S}})):eh=function(et){return et instanceof this},A.prototype.pipe=function(){eM(this,new ew)},A.prototype.write=function(et,ei,eo){var ec,eh,eu,ed,ep,eb,eg,ey=this._writableState,ev=!1,ew=!ey.objectMode&&(eg=et,ef.isBuffer(eg)||eg instanceof el);return ew&&!ef.isBuffer(et)&&(ec=et,et=ef.from(ec)),"function"==typeof ei&&(eo=ei,ei=null),ew?ei="buffer":ei||(ei=ey.defaultEncoding),"function"!=typeof eo&&(eo=E),ey.ending?(eh=eo,eM(this,eu=new eS),ea.nextTick(eh,eu)):!ew&&(ed=et,ep=eo,null===ed?eb=new eE:"string"==typeof ed||ey.objectMode||(eb=new em("chunk",["string","Buffer"],ed)),eb&&(eM(this,eb),ea.nextTick(ep,eb),1))||(ey.pendingcb++,ev=function(et,ei,eo,ea,ec,eh){if(!eo){var eu,ed,el=(eu=ea,ed=ec,ei.objectMode||!1===ei.decodeStrings||"string"!=typeof eu||(eu=ef.from(eu,ed)),eu);ea!==el&&(eo=!0,ec="buffer",ea=el)}var ep=ei.objectMode?1:ea.length;ei.length+=ep;var eb=ei.length<ei.highWaterMark;if(eb||(ei.needDrain=!0),ei.writing||ei.corked){var eg=ei.lastBufferedRequest;ei.lastBufferedRequest={chunk:ea,encoding:ec,isBuf:eo,callback:eh,next:null},eg?eg.next=ei.lastBufferedRequest:ei.bufferedRequest=ei.lastBufferedRequest,ei.bufferedRequestCount+=1}else M(et,ei,!1,ep,ea,ec,eh);return eb}(this,ey,ew,et,ei,eo)),ev},A.prototype.cork=function(){this._writableState.corked++},A.prototype.uncork=function(){var et=this._writableState;et.corked&&(et.corked--,et.writing||et.corked||et.bufferProcessing||!et.bufferedRequest||T(this,et))},A.prototype.setDefaultEncoding=function(et){if("string"==typeof et&&(et=et.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((et+"").toLowerCase())>-1))throw new eA(et);return this._writableState.defaultEncoding=et,this},Object.defineProperty(A.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(A.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),A.prototype._write=function(et,ei,eo){eo(new ey("_write()"))},A.prototype._writev=null,A.prototype.end=function(et,ei,eo){var ec,eh=this._writableState;return"function"==typeof et?(eo=et,et=null,ei=null):"function"==typeof ei&&(eo=ei,ei=null),null!=et&&this.write(et,ei),eh.corked&&(eh.corked=1,this.uncork()),eh.ending||(ec=eo,eh.ending=!0,R(this,eh),ec&&(eh.finished?ea.nextTick(ec):this.once("finish",ec)),eh.ended=!0,this.writable=!1),this},Object.defineProperty(A.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(A.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(et){this._writableState&&(this._writableState.destroyed=et)}}),A.prototype.destroy=ep.destroy,A.prototype._undestroy=ep.undestroy,A.prototype._destroy=function(et,ei){ei(et)}},9536:(et,ei,eo)=>{"use strict";function i(et,ei,eo){var ea;return(ei="symbol"==typeof(ea=function(et){if("object"!=typeof et||null===et)return et;var ei=et[Symbol.toPrimitive];if(void 0!==ei){var eo=ei.call(et,"string");if("object"!=typeof eo)return eo;throw TypeError("@@toPrimitive must return a primitive value.")}return String(et)}(ei))?ea:String(ea))in et?Object.defineProperty(et,ei,{value:eo,enumerable:!0,configurable:!0,writable:!0}):et[ei]=eo,et}var ec,eh=eo(2339),eu=Symbol("lastResolve"),ed=Symbol("lastReject"),ef=Symbol("error"),el=Symbol("ended"),ep=Symbol("lastPromise"),eb=Symbol("handlePromise"),eg=Symbol("stream");function l(et,ei){return{value:et,done:ei}}function p(et){var ei=et[eu];if(null!==ei){var eo=et[eg].read();null!==eo&&(et[ep]=null,et[eu]=null,et[ed]=null,ei(l(eo,!1)))}}function b(et){ea.nextTick(p,et)}var em=Object.getPrototypeOf(function(){}),ey=Object.setPrototypeOf((i(ec={get stream(){return this[eg]},next:function(){var et,ei=this,eo=this[ef];if(null!==eo)return Promise.reject(eo);if(this[el])return Promise.resolve(l(void 0,!0));if(this[eg].destroyed)return new Promise(function(et,eo){ea.nextTick(function(){ei[ef]?eo(ei[ef]):et(l(void 0,!0))})});var ec,eh=this[ep];if(eh)ec=new Promise((et=this,function(ei,eo){eh.then(function(){et[el]?ei(l(void 0,!0)):et[eb](ei,eo)},eo)}));else{var eu=this[eg].read();if(null!==eu)return Promise.resolve(l(eu,!1));ec=new Promise(this[eb])}return this[ep]=ec,ec}},Symbol.asyncIterator,function(){return this}),i(ec,"return",function(){var et=this;return new Promise(function(ei,eo){et[eg].destroy(null,function(et){et?eo(et):ei(l(void 0,!0))})})}),ec),em);et.exports=function(et){var ei,eo=Object.create(ey,(i(ei={},eg,{value:et,writable:!0}),i(ei,eu,{value:null,writable:!0}),i(ei,ed,{value:null,writable:!0}),i(ei,ef,{value:null,writable:!0}),i(ei,el,{value:et._readableState.endEmitted,writable:!0}),i(ei,eb,{value:function(et,ei){var ea=eo[eg].read();ea?(eo[ep]=null,eo[eu]=null,eo[ed]=null,et(l(ea,!1))):(eo[eu]=et,eo[ed]=ei)},writable:!0}),ei));return eo[ep]=null,eh(et,function(et){if(et&&"ERR_STREAM_PREMATURE_CLOSE"!==et.code){var ei=eo[ed];return null!==ei&&(eo[ep]=null,eo[eu]=null,eo[ed]=null,ei(et)),void(eo[ef]=et)}var ea=eo[eu];null!==ea&&(eo[ep]=null,eo[eu]=null,eo[ed]=null,ea(l(void 0,!0))),eo[el]=!0}),et.on("readable",b.bind(null,eo)),eo}},20:(et,ei,eo)=>{"use strict";function n(et,ei){var eo=Object.keys(et);if(Object.getOwnPropertySymbols){var ea=Object.getOwnPropertySymbols(et);ei&&(ea=ea.filter(function(ei){return Object.getOwnPropertyDescriptor(et,ei).enumerable})),eo.push.apply(eo,ea)}return eo}function i(et){for(var ei=1;ei<arguments.length;ei++){var eo=null!=arguments[ei]?arguments[ei]:{};ei%2?n(Object(eo),!0).forEach(function(ei){var ea,ec;ea=ei,ec=eo[ei],(ea=o(ea))in et?Object.defineProperty(et,ea,{value:ec,enumerable:!0,configurable:!0,writable:!0}):et[ea]=ec}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(eo)):n(Object(eo)).forEach(function(ei){Object.defineProperty(et,ei,Object.getOwnPropertyDescriptor(eo,ei))})}return et}function o(et){var ei=function(et){if("object"!=typeof et||null===et)return et;var ei=et[Symbol.toPrimitive];if(void 0!==ei){var eo=ei.call(et,"string");if("object"!=typeof eo)return eo;throw TypeError("@@toPrimitive must return a primitive value.")}return String(et)}(et);return"symbol"==typeof ei?ei:String(ei)}var ea=eo(6533).Buffer,ec=eo(3541).inspect,eh=ec&&ec.custom||"inspect";et.exports=function(){var et;function e(){(function(et,ei){if(!(et instanceof ei))throw TypeError("Cannot call a class as a function")})(this,e),this.head=null,this.tail=null,this.length=0}return et=[{key:"push",value:function(et){var ei={data:et,next:null};this.length>0?this.tail.next=ei:this.head=ei,this.tail=ei,++this.length}},{key:"unshift",value:function(et){var ei={data:et,next:this.head};0===this.length&&(this.tail=ei),this.head=ei,++this.length}},{key:"shift",value:function(){if(0!==this.length){var et=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,et}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(et){if(0===this.length)return"";for(var ei=this.head,eo=""+ei.data;ei=ei.next;)eo+=et+ei.data;return eo}},{key:"concat",value:function(et){if(0===this.length)return ea.alloc(0);for(var ei,eo,ec=ea.allocUnsafe(et>>>0),eh=this.head,eu=0;eh;)ei=eh.data,eo=eu,ea.prototype.copy.call(ei,ec,eo),eu+=eh.data.length,eh=eh.next;return ec}},{key:"consume",value:function(et,ei){var eo;return et<this.head.data.length?(eo=this.head.data.slice(0,et),this.head.data=this.head.data.slice(et)):eo=et===this.head.data.length?this.shift():ei?this._getString(et):this._getBuffer(et),eo}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(et){var ei=this.head,eo=1,ea=ei.data;for(et-=ea.length;ei=ei.next;){var ec=ei.data,eh=et>ec.length?ec.length:et;if(eh===ec.length?ea+=ec:ea+=ec.slice(0,et),0==(et-=eh)){eh===ec.length?(++eo,ei.next?this.head=ei.next:this.head=this.tail=null):(this.head=ei,ei.data=ec.slice(eh));break}++eo}return this.length-=eo,ea}},{key:"_getBuffer",value:function(et){var ei=ea.allocUnsafe(et),eo=this.head,ec=1;for(eo.data.copy(ei),et-=eo.data.length;eo=eo.next;){var eh=eo.data,eu=et>eh.length?eh.length:et;if(eh.copy(ei,ei.length-et,0,eu),0==(et-=eu)){eu===eh.length?(++ec,eo.next?this.head=eo.next:this.head=this.tail=null):(this.head=eo,eo.data=eh.slice(eu));break}++ec}return this.length-=ec,ei}},{key:eh,value:function(et,ei){return ec(this,i(i({},ei),{},{depth:0,customInspect:!1}))}}],function(et,ei){for(var eo=0;eo<ei.length;eo++){var ea=ei[eo];ea.enumerable=ea.enumerable||!1,ea.configurable=!0,"value"in ea&&(ea.writable=!0),Object.defineProperty(et,o(ea.key),ea)}}(e.prototype,et),Object.defineProperty(e,"prototype",{writable:!1}),e}()},917:et=>{"use strict";function t(et,ei){n(et,ei),r(et)}function r(et){et._writableState&&!et._writableState.emitClose||et._readableState&&!et._readableState.emitClose||et.emit("close")}function n(et,ei){et.emit("error",ei)}et.exports={destroy:function(et,ei){var eo=this,ec=this._readableState&&this._readableState.destroyed,eh=this._writableState&&this._writableState.destroyed;return ec||eh?ei?ei(et):et&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,ea.nextTick(n,this,et)):ea.nextTick(n,this,et)):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(et||null,function(et){!ei&&et?eo._writableState?eo._writableState.errorEmitted?ea.nextTick(r,eo):(eo._writableState.errorEmitted=!0,ea.nextTick(t,eo,et)):ea.nextTick(t,eo,et):ei?(ea.nextTick(r,eo),ei(et)):ea.nextTick(r,eo)})),this},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(et,ei){var eo=et._readableState,ea=et._writableState;eo&&eo.autoDestroy||ea&&ea.autoDestroy?et.destroy(ei):et.emit("error",ei)}}},2339:(et,ei,eo)=>{"use strict";var ea=eo(289).F.ERR_STREAM_PREMATURE_CLOSE;function i(){}et.exports=function e(et,ei,eo){if("function"==typeof ei)return e(et,null,ei);ei||(ei={}),ec=eo||i,eh=!1,eo=function(){if(!eh){eh=!0;for(var et=arguments.length,ei=Array(et),eo=0;eo<et;eo++)ei[eo]=arguments[eo];ec.apply(this,ei)}};var ec,eh,eu=ei.readable||!1!==ei.readable&&et.readable,ed=ei.writable||!1!==ei.writable&&et.writable,c=function(){et.writable||u()},ef=et._writableState&&et._writableState.finished,u=function(){ed=!1,ef=!0,eu||eo.call(et)},el=et._readableState&&et._readableState.endEmitted,f=function(){eu=!1,el=!0,ed||eo.call(et)},l=function(ei){eo.call(et,ei)},p=function(){var ei;return eu&&!el?(et._readableState&&et._readableState.ended||(ei=new ea),eo.call(et,ei)):ed&&!ef?(et._writableState&&et._writableState.ended||(ei=new ea),eo.call(et,ei)):void 0},b=function(){et.req.on("finish",u)};return et.setHeader&&"function"==typeof et.abort?(et.on("complete",u),et.on("abort",p),et.req?b():et.on("request",b)):ed&&!et._writableState&&(et.on("end",c),et.on("close",c)),et.on("end",f),et.on("finish",u),!1!==ei.error&&et.on("error",l),et.on("close",p),function(){et.removeListener("complete",u),et.removeListener("abort",p),et.removeListener("request",b),et.req&&et.req.removeListener("finish",u),et.removeListener("end",c),et.removeListener("close",c),et.removeListener("finish",u),et.removeListener("end",f),et.removeListener("error",l),et.removeListener("close",p)}}},4918:et=>{et.exports=function(){throw Error("Readable.from is not available in the browser")}},5481:(et,ei,eo)=>{"use strict";var ea,ec=eo(289).F,eh=ec.ERR_MISSING_ARGS,eu=ec.ERR_STREAM_DESTROYED;function a(et){if(et)throw et}function c(et){et()}function h(et,ei){return et.pipe(ei)}et.exports=function(){for(var et=arguments.length,ei=Array(et),ec=0;ec<et;ec++)ei[ec]=arguments[ec];var ed,ef,el=(ed=ei).length?"function"!=typeof ed[ed.length-1]?a:ed.pop():a;if(Array.isArray(ei[0])&&(ei=ei[0]),ei.length<2)throw new eh("streams");var ep=ei.map(function(et,ec){var eh,ed,eb,eg,em,ey=ec<ei.length-1;return ed=eh=function(et){ef||(ef=et),et&&ep.forEach(c),ey||(ep.forEach(c),el(ef))},eb=!1,eh=function(){eb||(eb=!0,ed.apply(void 0,arguments))},eg=!1,et.on("close",function(){eg=!0}),void 0===ea&&(ea=eo(2339)),ea(et,{readable:ey,writable:ec>0},function(et){if(et)return eh(et);eg=!0,eh()}),em=!1,function(ei){if(!eg&&!em)return em=!0,et.setHeader&&"function"==typeof et.abort?et.abort():"function"==typeof et.destroy?et.destroy():void eh(ei||new eu("pipe"))}});return ei.reduce(h)}},5750:(et,ei,eo)=>{"use strict";var ea=eo(289).F.ERR_INVALID_OPT_VALUE;et.exports={getHighWaterMark:function(et,ei,eo,ec){var eh=null!=ei.highWaterMark?ei.highWaterMark:ec?ei[eo]:null;if(null!=eh){if(!isFinite(eh)||Math.floor(eh)!==eh||eh<0)throw new ea(ec?eo:"highWaterMark",eh);return Math.floor(eh)}return et.objectMode?16:16384}}},2534:(et,ei,eo)=>{et.exports=eo(381).EventEmitter},1094:(et,ei,eo)=>{(ei=et.exports=eo(3033)).Stream=ei,ei.Readable=ei,ei.Writable=eo(2553),ei.Duplex=eo(5707),ei.Transform=eo(141),ei.PassThrough=eo(5271),ei.finished=eo(2339),ei.pipeline=eo(5481)},3934:(et,ei,eo)=>{"use strict";var ea=eo(6533).Buffer,ec=eo(1193),eh=eo(800),eu=Array(16),ed=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],ef=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],el=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],ep=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];function l(){eh.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function p(et,ei){return et<<ei|et>>>32-ei}ec(l,eh),l.prototype._update=function(){for(var et,ei,eo,ea,ec,eh,eb,eg,em,ey,ev,ew,e_,eE,eS,eA,eM,eI,eT,ex,eC,eR,ek,eP,eO,eN,eU,eB,eL,eD,ej,eq,eF,eH,eV,ez,e$,eK,eG,eW,eJ,eY,eX,eZ,eQ,e0,e1,e2,e6,e5,e3,e8,e4=0;e4<16;++e4)eu[e4]=this._block.readInt32LE(4*e4);for(var e7=0|this._a,e9=0|this._b,tt=0|this._c,to=0|this._d,ta=0|this._e,tc=0|this._a,th=0|this._b,tu=0|this._c,td=0|this._d,tf=0|this._e,tl=0;tl<80;tl+=1)tl<16?(et=e7,ei=e9,eo=tt,ea=to,ec=ta,e3=p(et+(ei^eo^ea)+eu[ed[tl]]+0|0,el[tl])+ec|0,eh=tc,eb=th,eg=tu,em=td,ey=tf,e8=p(eh+(eb^(eg|~em))+eu[ef[tl]]+1352829926|0,ep[tl])+ey|0):tl<32?(ev=e7,ew=e9,e_=tt,eE=to,eS=ta,e3=p(ev+(ew&e_|~ew&eE)+eu[ed[tl]]+1518500249|0,el[tl])+eS|0,eA=tc,eM=th,eI=tu,eT=td,ex=tf,e8=p(eA+(eM&eT|eI&~eT)+eu[ef[tl]]+1548603684|0,ep[tl])+ex|0):tl<48?(eC=e7,eR=e9,ek=tt,eP=to,eO=ta,e3=p(eC+((eR|~ek)^eP)+eu[ed[tl]]+1859775393|0,el[tl])+eO|0,eN=tc,eU=th,eB=tu,eL=td,eD=tf,e8=p(eN+((eU|~eB)^eL)+eu[ef[tl]]+1836072691|0,ep[tl])+eD|0):tl<64?(ej=e7,eq=e9,eF=tt,eH=to,eV=ta,e3=p(ej+(eq&eH|eF&~eH)+eu[ed[tl]]+2400959708|0,el[tl])+eV|0,ez=tc,e$=th,eK=tu,eG=td,eW=tf,e8=p(ez+(e$&eK|~e$&eG)+eu[ef[tl]]+2053994217|0,ep[tl])+eW|0):(eJ=e7,eY=e9,eX=tt,eZ=to,eQ=ta,e3=p(eJ+(eY^(eX|~eZ))+eu[ed[tl]]+2840853838|0,el[tl])+eQ|0,e0=tc,e1=th,e2=tu,e6=td,e5=tf,e8=p(e0+(e1^e2^e6)+eu[ef[tl]]+0|0,ep[tl])+e5|0),e7=ta,ta=to,to=p(tt,10),tt=e9,e9=e3,tc=tf,tf=td,td=p(tu,10),tu=th,th=e8;var tp=this._b+tt+td|0;this._b=this._c+to+tf|0,this._c=this._d+ta+tc|0,this._d=this._e+e7+th|0,this._e=this._a+e9+tu|0,this._a=tp},l.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var et=ea.alloc?ea.alloc(20):new ea(20);return et.writeInt32LE(this._a,0),et.writeInt32LE(this._b,4),et.writeInt32LE(this._c,8),et.writeInt32LE(this._d,12),et.writeInt32LE(this._e,16),et},et.exports=l},6608:(et,ei,eo)=>{var ea=eo(6533),ec=ea.Buffer;function s(et,ei){for(var eo in et)ei[eo]=et[eo]}function o(et,ei,eo){return ec(et,ei,eo)}ec.from&&ec.alloc&&ec.allocUnsafe&&ec.allocUnsafeSlow?et.exports=ea:(s(ea,ei),ei.Buffer=o),o.prototype=Object.create(ec.prototype),s(ec,o),o.from=function(et,ei,eo){if("number"==typeof et)throw TypeError("Argument must not be a number");return ec(et,ei,eo)},o.alloc=function(et,ei,eo){if("number"!=typeof et)throw TypeError("Argument must be a number");var ea=ec(et);return void 0!==ei?"string"==typeof eo?ea.fill(ei,eo):ea.fill(ei):ea.fill(0),ea},o.allocUnsafe=function(et){if("number"!=typeof et)throw TypeError("Argument must be a number");return ec(et)},o.allocUnsafeSlow=function(et){if("number"!=typeof et)throw TypeError("Argument must be a number");return ea.SlowBuffer(et)}},1628:(et,ei,eo)=>{"use strict";var ec,eh=eo(6533),eu=eh.Buffer,ed={};for(ec in eh)eh.hasOwnProperty(ec)&&"SlowBuffer"!==ec&&"Buffer"!==ec&&(ed[ec]=eh[ec]);var ef=ed.Buffer={};for(ec in eu)eu.hasOwnProperty(ec)&&"allocUnsafe"!==ec&&"allocUnsafeSlow"!==ec&&(ef[ec]=eu[ec]);if(ed.Buffer.prototype=eu.prototype,ef.from&&ef.from!==Uint8Array.from||(ef.from=function(et,ei,eo){if("number"==typeof et)throw TypeError('The "value" argument must not be of type number. Received type '+typeof et);if(et&&void 0===et.length)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof et);return eu(et,ei,eo)}),ef.alloc||(ef.alloc=function(et,ei,eo){if("number"!=typeof et)throw TypeError('The "size" argument must be of type number. Received type '+typeof et);if(et<0||et>=2*1073741824)throw RangeError('The value "'+et+'" is invalid for option "size"');var ea=eu(et);return ei&&0!==ei.length?"string"==typeof eo?ea.fill(ei,eo):ea.fill(ei):ea.fill(0),ea}),!ed.kStringMaxLength)try{ed.kStringMaxLength=ea.binding("buffer").kStringMaxLength}catch(et){}ed.constants||(ed.constants={MAX_LENGTH:ed.kMaxLength},ed.kStringMaxLength&&(ed.constants.MAX_STRING_LENGTH=ed.kStringMaxLength)),et.exports=ed},3366:(et,ei,eo)=>{var ea=eo(6608).Buffer;function i(et,ei){this._block=ea.alloc(et),this._finalSize=ei,this._blockSize=et,this._len=0}i.prototype.update=function(et,ei){"string"==typeof et&&(ei=ei||"utf8",et=ea.from(et,ei));for(var eo=this._block,ec=this._blockSize,eh=et.length,eu=this._len,ed=0;ed<eh;){for(var ef=eu%ec,el=Math.min(eh-ed,ec-ef),ep=0;ep<el;ep++)eo[ef+ep]=et[ed+ep];ed+=el,(eu+=el)%ec==0&&this._update(eo)}return this._len+=eh,this},i.prototype.digest=function(et){var ei=this._len%this._blockSize;this._block[ei]=128,this._block.fill(0,ei+1),ei>=this._finalSize&&(this._update(this._block),this._block.fill(0));var eo=8*this._len;if(eo<=4294967295)this._block.writeUInt32BE(eo,this._blockSize-4);else{var ea=(4294967295&eo)>>>0,ec=(eo-ea)/4294967296;this._block.writeUInt32BE(ec,this._blockSize-8),this._block.writeUInt32BE(ea,this._blockSize-4)}this._update(this._block);var eh=this._hash();return et?eh.toString(et):eh},i.prototype._update=function(){throw Error("_update must be implemented by subclass")},et.exports=i},5244:(et,ei,eo)=>{var ea=et.exports=function(et){var ei=ea[et=et.toLowerCase()];if(!ei)throw Error(et+" is not supported (we accept pull requests)");return new ei};ea.sha=eo(2954),ea.sha1=eo(6375),ea.sha224=eo(4012),ea.sha256=eo(8729),ea.sha384=eo(1453),ea.sha512=eo(1756)},2954:(et,ei,eo)=>{var ea=eo(1193),ec=eo(3366),eh=eo(6608).Buffer,eu=[1518500249,1859775393,-1894007588,-899497514],ed=Array(80);function c(){this.init(),this._w=ed,ec.call(this,64,56)}ea(c,ec),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(et){for(var ei,eo=this._w,ea=0|this._a,ec=0|this._b,eh=0|this._c,ed=0|this._d,ef=0|this._e,el=0;el<16;++el)eo[el]=et.readInt32BE(4*el);for(;el<80;++el)eo[el]=eo[el-3]^eo[el-8]^eo[el-14]^eo[el-16];for(var ep=0;ep<80;++ep){var eb,eg,em,ey,ev=~~(ep/20),ew=0|((ei=ea)<<5|ei>>>27)+(eb=ec,eg=eh,em=ed,0===ev?eb&eg|~eb&em:2===ev?eb&eg|eb&em|eg&em:eb^eg^em)+ef+eo[ep]+eu[ev];ef=ed,ed=eh,eh=(ey=ec)<<30|ey>>>2,ec=ea,ea=ew}this._a=ea+this._a|0,this._b=ec+this._b|0,this._c=eh+this._c|0,this._d=ed+this._d|0,this._e=ef+this._e|0},c.prototype._hash=function(){var et=eh.allocUnsafe(20);return et.writeInt32BE(0|this._a,0),et.writeInt32BE(0|this._b,4),et.writeInt32BE(0|this._c,8),et.writeInt32BE(0|this._d,12),et.writeInt32BE(0|this._e,16),et},et.exports=c},6375:(et,ei,eo)=>{var ea=eo(1193),ec=eo(3366),eh=eo(6608).Buffer,eu=[1518500249,1859775393,-1894007588,-899497514],ed=Array(80);function c(){this.init(),this._w=ed,ec.call(this,64,56)}ea(c,ec),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(et){for(var ei,eo=this._w,ea=0|this._a,ec=0|this._b,eh=0|this._c,ed=0|this._d,ef=0|this._e,el=0;el<16;++el)eo[el]=et.readInt32BE(4*el);for(;el<80;++el)eo[el]=(ei=eo[el-3]^eo[el-8]^eo[el-14]^eo[el-16])<<1|ei>>>31;for(var ep=0;ep<80;++ep){var eb,eg,em,ey,ev,ew=~~(ep/20),e_=((eb=ea)<<5|eb>>>27)+(eg=ec,em=eh,ey=ed,0===ew?eg&em|~eg&ey:2===ew?eg&em|eg&ey|em&ey:eg^em^ey)+ef+eo[ep]+eu[ew]|0;ef=ed,ed=eh,eh=(ev=ec)<<30|ev>>>2,ec=ea,ea=e_}this._a=ea+this._a|0,this._b=ec+this._b|0,this._c=eh+this._c|0,this._d=ed+this._d|0,this._e=ef+this._e|0},c.prototype._hash=function(){var et=eh.allocUnsafe(20);return et.writeInt32BE(0|this._a,0),et.writeInt32BE(0|this._b,4),et.writeInt32BE(0|this._c,8),et.writeInt32BE(0|this._d,12),et.writeInt32BE(0|this._e,16),et},et.exports=c},4012:(et,ei,eo)=>{var ea=eo(1193),ec=eo(8729),eh=eo(3366),eu=eo(6608).Buffer,ed=Array(64);function c(){this.init(),this._w=ed,eh.call(this,64,56)}ea(c,ec),c.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},c.prototype._hash=function(){var et=eu.allocUnsafe(28);return et.writeInt32BE(this._a,0),et.writeInt32BE(this._b,4),et.writeInt32BE(this._c,8),et.writeInt32BE(this._d,12),et.writeInt32BE(this._e,16),et.writeInt32BE(this._f,20),et.writeInt32BE(this._g,24),et},et.exports=c},8729:(et,ei,eo)=>{var ea=eo(1193),ec=eo(3366),eh=eo(6608).Buffer,eu=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],ed=Array(64);function c(){this.init(),this._w=ed,ec.call(this,64,56)}ea(c,ec),c.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},c.prototype._update=function(et){for(var ei,eo=this._w,ea=0|this._a,ec=0|this._b,eh=0|this._c,ed=0|this._d,ef=0|this._e,el=0|this._f,ep=0|this._g,eb=0|this._h,eg=0;eg<16;++eg)eo[eg]=et.readInt32BE(4*eg);for(;eg<64;++eg)eo[eg]=0|(((ei=eo[eg-2])>>>17|ei<<15)^(ei>>>19|ei<<13)^ei>>>10)+eo[eg-7]+(((ey=eo[eg-15])>>>7|ey<<25)^(ey>>>18|ey<<14)^ey>>>3)+eo[eg-16];for(var em=0;em<64;++em){var ey,ev,ew,e_,eE,eS,eA,eM,eI=eb+(((ev=ef)>>>6|ev<<26)^(ev>>>11|ev<<21)^(ev>>>25|ev<<7))+(ew=ef,e_=el,(eE=ep)^ew&(e_^eE))+eu[em]+eo[em]|0,eT=(((eS=ea)>>>2|eS<<30)^(eS>>>13|eS<<19)^(eS>>>22|eS<<10))+((eA=ea)&(eM=ec)|eh&(eA|eM))|0;eb=ep,ep=el,el=ef,ef=ed+eI|0,ed=eh,eh=ec,ec=ea,ea=eI+eT|0}this._a=ea+this._a|0,this._b=ec+this._b|0,this._c=eh+this._c|0,this._d=ed+this._d|0,this._e=ef+this._e|0,this._f=el+this._f|0,this._g=ep+this._g|0,this._h=eb+this._h|0},c.prototype._hash=function(){var et=eh.allocUnsafe(32);return et.writeInt32BE(this._a,0),et.writeInt32BE(this._b,4),et.writeInt32BE(this._c,8),et.writeInt32BE(this._d,12),et.writeInt32BE(this._e,16),et.writeInt32BE(this._f,20),et.writeInt32BE(this._g,24),et.writeInt32BE(this._h,28),et},et.exports=c},1453:(et,ei,eo)=>{var ea=eo(1193),ec=eo(1756),eh=eo(3366),eu=eo(6608).Buffer,ed=Array(160);function c(){this.init(),this._w=ed,eh.call(this,128,112)}ea(c,ec),c.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},c.prototype._hash=function(){var et=eu.allocUnsafe(48);function t(ei,eo,ea){et.writeInt32BE(ei,ea),et.writeInt32BE(eo,ea+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),et},et.exports=c},1756:(et,ei,eo)=>{var ea=eo(1193),ec=eo(3366),eh=eo(6608).Buffer,eu=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],ed=Array(160);function c(){this.init(),this._w=ed,ec.call(this,128,112)}function d(et,ei){return(et>>>28|ei<<4)^(ei>>>2|et<<30)^(ei>>>7|et<<25)}function f(et,ei){return(et>>>14|ei<<18)^(et>>>18|ei<<14)^(ei>>>9|et<<23)}function m(et,ei){return et>>>0<ei>>>0?1:0}ea(c,ec),c.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},c.prototype._update=function(et){for(var ei=this._w,eo=0|this._ah,ea=0|this._bh,ec=0|this._ch,eh=0|this._dh,ed=0|this._eh,ef=0|this._fh,el=0|this._gh,ep=0|this._hh,eb=0|this._al,eg=0|this._bl,em=0|this._cl,ey=0|this._dl,ev=0|this._el,ew=0|this._fl,e_=0|this._gl,eE=0|this._hl,eS=0;eS<32;eS+=2)ei[eS]=et.readInt32BE(4*eS),ei[eS+1]=et.readInt32BE(4*eS+4);for(;eS<160;eS+=2){var eA,eM,eI,eT,ex,eC,eR,ek,eP=ei[eS-30],eO=ei[eS-30+1],eN=((eA=eP)>>>1|(eM=eO)<<31)^(eA>>>8|eM<<24)^eA>>>7,eU=((eI=eO)>>>1|(eT=eP)<<31)^(eI>>>8|eT<<24)^(eI>>>7|eT<<25),eB=((ex=eP=ei[eS-4])>>>19|(eC=eO=ei[eS-4+1])<<13)^(eC>>>29|ex<<3)^ex>>>6,eL=((eR=eO)>>>19|(ek=eP)<<13)^(ek>>>29|eR<<3)^(eR>>>6|ek<<26),eD=ei[eS-14],ej=ei[eS-14+1],eq=ei[eS-32],eF=ei[eS-32+1],eH=eU+ej|0,eV=eN+eD+m(eH,eU)|0;eV=(eV=eV+eB+m(eH=eH+eL|0,eL)|0)+eq+m(eH=eH+eF|0,eF)|0,ei[eS]=eV,ei[eS+1]=eH}for(var ez=0;ez<160;ez+=2){eV=ei[ez],eH=ei[ez+1];var e$,eK,eG,eW,eJ,eY,eX,eZ,eQ,e0,e1=(e$=eo)&(eK=ea)|ec&(e$|eK),e2=(eG=eb)&(eW=eg)|em&(eG|eW),e6=d(eo,eb),e5=d(eb,eo),e3=f(ed,ev),e8=f(ev,ed),e4=eu[ez],e7=eu[ez+1],e9=(eJ=ed,eY=ef,(eX=el)^eJ&(eY^eX)),tt=(eZ=ev,eQ=ew,(e0=e_)^eZ&(eQ^e0)),to=eE+e8|0,ta=ep+e3+m(to,eE)|0;ta=(ta=(ta=ta+e9+m(to=to+tt|0,tt)|0)+e4+m(to=to+e7|0,e7)|0)+eV+m(to=to+eH|0,eH)|0;var tc=e5+e2|0,th=e6+e1+m(tc,e5)|0;ep=el,eE=e_,el=ef,e_=ew,ef=ed,ew=ev,ed=eh+ta+m(ev=ey+to|0,ey)|0,eh=ec,ey=em,ec=ea,em=eg,ea=eo,eg=eb,eo=ta+th+m(eb=to+tc|0,to)|0}this._al=this._al+eb|0,this._bl=this._bl+eg|0,this._cl=this._cl+em|0,this._dl=this._dl+ey|0,this._el=this._el+ev|0,this._fl=this._fl+ew|0,this._gl=this._gl+e_|0,this._hl=this._hl+eE|0,this._ah=this._ah+eo+m(this._al,eb)|0,this._bh=this._bh+ea+m(this._bl,eg)|0,this._ch=this._ch+ec+m(this._cl,em)|0,this._dh=this._dh+eh+m(this._dl,ey)|0,this._eh=this._eh+ed+m(this._el,ev)|0,this._fh=this._fh+ef+m(this._fl,ew)|0,this._gh=this._gh+el+m(this._gl,e_)|0,this._hh=this._hh+ep+m(this._hl,eE)|0},c.prototype._hash=function(){var et=eh.allocUnsafe(64);function t(ei,eo,ea){et.writeInt32BE(ei,ea),et.writeInt32BE(eo,ea+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),et},et.exports=c},3803:(et,ei,eo)=>{et.exports=i;var ea=eo(381).EventEmitter;function i(){ea.call(this)}eo(1193)(i,ea),i.Readable=eo(3033),i.Writable=eo(2553),i.Duplex=eo(5707),i.Transform=eo(141),i.PassThrough=eo(5271),i.finished=eo(2339),i.pipeline=eo(5481),i.Stream=i,i.prototype.pipe=function(et,ei){var eo=this;function i(ei){et.writable&&!1===et.write(ei)&&eo.pause&&eo.pause()}function s(){eo.readable&&eo.resume&&eo.resume()}eo.on("data",i),et.on("drain",s),et._isStdio||ei&&!1===ei.end||(eo.on("end",a),eo.on("close",c));var ec=!1;function a(){ec||(ec=!0,et.end())}function c(){ec||(ec=!0,"function"==typeof et.destroy&&et.destroy())}function h(et){if(u(),0===ea.listenerCount(this,"error"))throw et}function u(){eo.removeListener("data",i),et.removeListener("drain",s),eo.removeListener("end",a),eo.removeListener("close",c),eo.removeListener("error",h),et.removeListener("error",h),eo.removeListener("end",u),eo.removeListener("close",u),et.removeListener("close",u)}return eo.on("error",h),et.on("error",h),eo.on("end",u),eo.on("close",u),et.on("close",u),et.emit("pipe",eo),et}},6704:(et,ei,eo)=>{"use strict";var ea=eo(6608).Buffer,ec=ea.isEncoding||function(et){switch((et=""+et)&&et.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function s(et){var ei;switch(this.encoding=function(et){var ei=function(et){if(!et)return"utf8";for(var ei;;)switch(et){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return et;default:if(ei)return;et=(""+et).toLowerCase(),ei=!0}}(et);if("string"!=typeof ei&&(ea.isEncoding===ec||!ec(et)))throw Error("Unknown encoding: "+et);return ei||et}(et),this.encoding){case"utf16le":this.text=c,this.end=h,ei=4;break;case"utf8":this.fillLast=a,ei=4;break;case"base64":this.text=u,this.end=d,ei=3;break;default:return this.write=f,void(this.end=l)}this.lastNeed=0,this.lastTotal=0,this.lastChar=ea.allocUnsafe(ei)}function o(et){return et<=127?0:et>>5==6?2:et>>4==14?3:et>>3==30?4:et>>6==2?-1:-2}function a(et){var ei=this.lastTotal-this.lastNeed,eo=function(et,ei){if(128!=(192&ei[0]))return et.lastNeed=0,"�";if(et.lastNeed>1&&ei.length>1){if(128!=(192&ei[1]))return et.lastNeed=1,"�";if(et.lastNeed>2&&ei.length>2&&128!=(192&ei[2]))return et.lastNeed=2,"�"}}(this,et);return void 0!==eo?eo:this.lastNeed<=et.length?(et.copy(this.lastChar,ei,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(et.copy(this.lastChar,ei,0,et.length),void(this.lastNeed-=et.length))}function c(et,ei){if((et.length-ei)%2==0){var eo=et.toString("utf16le",ei);if(eo){var ea=eo.charCodeAt(eo.length-1);if(ea>=55296&&ea<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=et[et.length-2],this.lastChar[1]=et[et.length-1],eo.slice(0,-1)}return eo}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=et[et.length-1],et.toString("utf16le",ei,et.length-1)}function h(et){var ei=et&&et.length?this.write(et):"";if(this.lastNeed){var eo=this.lastTotal-this.lastNeed;return ei+this.lastChar.toString("utf16le",0,eo)}return ei}function u(et,ei){var eo=(et.length-ei)%3;return 0===eo?et.toString("base64",ei):(this.lastNeed=3-eo,this.lastTotal=3,1===eo?this.lastChar[0]=et[et.length-1]:(this.lastChar[0]=et[et.length-2],this.lastChar[1]=et[et.length-1]),et.toString("base64",ei,et.length-eo))}function d(et){var ei=et&&et.length?this.write(et):"";return this.lastNeed?ei+this.lastChar.toString("base64",0,3-this.lastNeed):ei}function f(et){return et.toString(this.encoding)}function l(et){return et&&et.length?this.write(et):""}ei.I=s,s.prototype.write=function(et){var ei,eo;if(0===et.length)return"";if(this.lastNeed){if(void 0===(ei=this.fillLast(et)))return"";eo=this.lastNeed,this.lastNeed=0}else eo=0;return eo<et.length?ei?ei+this.text(et,eo):this.text(et,eo):ei||""},s.prototype.end=function(et){var ei=et&&et.length?this.write(et):"";return this.lastNeed?ei+"�":ei},s.prototype.text=function(et,ei){var eo=function(et,ei,eo){var ea=ei.length-1;if(ea<eo)return 0;var ec=o(ei[ea]);return ec>=0?(ec>0&&(et.lastNeed=ec-1),ec):--ea<eo||-2===ec?0:(ec=o(ei[ea]))>=0?(ec>0&&(et.lastNeed=ec-2),ec):--ea<eo||-2===ec?0:(ec=o(ei[ea]))>=0?(ec>0&&(2===ec?ec=0:et.lastNeed=ec-3),ec):0}(this,et,ei);if(!this.lastNeed)return et.toString("utf8",ei);this.lastTotal=eo;var ea=et.length-(eo-this.lastNeed);return et.copy(this.lastChar,0,ea),et.toString("utf8",ei,ea)},s.prototype.fillLast=function(et){if(this.lastNeed<=et.length)return et.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);et.copy(this.lastChar,this.lastTotal-this.lastNeed,0,et.length),this.lastNeed-=et.length}},1947:(et,ei,eo)=>{function n(et){try{if(!eo.g.localStorage)return!1}catch(et){return!1}var ei=eo.g.localStorage[et];return null!=ei&&"true"===String(ei).toLowerCase()}et.exports=function(et,ei){if(n("noDeprecation"))return et;var eo=!1;return function(){if(!eo){if(n("throwDeprecation"))throw Error(ei);n("traceDeprecation")?console.trace(ei):console.warn(ei),eo=!0}return et.apply(this,arguments)}}},7998:()=>{},7175:()=>{},9322:()=>{},4507:()=>{},3541:()=>{},6429:()=>{},7077:()=>{},5569:function(et,ei,eo){"use strict";var ea,ec,eh=this&&this.__createBinding||(Object.create?function(et,ei,eo,ea){void 0===ea&&(ea=eo);var ec=Object.getOwnPropertyDescriptor(ei,eo);ec&&!("get"in ec?!ei.__esModule:ec.writable||ec.configurable)||(ec={enumerable:!0,get:function(){return ei[eo]}}),Object.defineProperty(et,ea,ec)}:function(et,ei,eo,ea){void 0===ea&&(ea=eo),et[ea]=ei[eo]}),eu=this&&this.__setModuleDefault||(Object.create?function(et,ei){Object.defineProperty(et,"default",{enumerable:!0,value:ei})}:function(et,ei){et.default=ei}),ed=this&&this.__importStar||function(et){if(et&&et.__esModule)return et;var ei={};if(null!=et)for(var eo in et)"default"!==eo&&Object.prototype.hasOwnProperty.call(et,eo)&&eh(ei,et,eo);return eu(ei,et),ei},ef=this&&this.__importDefault||function(et){return et&&et.__esModule?et:{default:et}};Object.defineProperty(ei,"__esModule",{value:!0}),ei.groupOfLockupScript=ei.subContractId=ei.contractIdFromTx=ei.addressFromTokenId=ei.addressFromContractId=ei.addressFromScript=ei.addressFromPublicKey=ei.publicKeyFromPrivateKey=ei.groupOfPrivateKey=ei.tokenIdFromAddress=ei.contractIdFromAddress=ei.groupOfAddress=ei.isContractAddress=ei.isAssetAddress=ei.isValidAddress=ei.validateAddress=ei.AddressType=void 0;let el=eo(3210),ep=ef(eo(3900)),eb=eo(7695),eg=ef(eo(1540)),em=ed(eo(4468)),ey=eo(664),ev=eo(1678),ew=eo(3651),e_=ef(eo(160)),eE=eo(4652),eS=new el.ec("secp256k1");function _(et){let ei=(0,em.base58ToBytes)(et);if(0===ei.length)throw Error("Address is empty");let eo=ei[0];if(eo===ec.P2MPKH){let eo;try{eo=ev.lockupScriptCodec.decode(ei).value}catch(ei){throw new eE.TraceableError(`Invalid multisig address: ${et}`,ei)}let ea=eo.publicKeyHashes.length,ec=eo.m;if(ea<ec||ec<=0)throw Error(`Invalid multisig address, n: ${ea}, m: ${ec}`);let eh=ew.i32Codec.encode(ea).length,eu=ew.i32Codec.encode(ec).length,ed=eh+32*ea+eu+1;if(ei.length===ed)return ei}else if((eo===ec.P2PKH||eo===ec.P2SH||eo===ec.P2C)&&33===ei.length)return ei;throw Error(`Invalid address: ${et}`)}function E(et){let ei=_(et),eo=ei[0],ea=ei.slice(1);if(eo==ec.P2PKH)return C(ea);if(eo==ec.P2MPKH)return C(ea.slice(1,33));if(eo==ec.P2SH)return C(ea);{let ei=A(et);return ei[""+(ei.length-1)]}}function A(et){let ei=(0,em.base58ToBytes)(et);if(0==ei.length)throw Error("Address string is empty");let eo=ei[0],ea=ei.slice(1);if(eo==ec.P2C)return ea;throw Error(`Invalid contract address type: ${eo}`)}function M(et,ei){return"default"===(ei??"default")?eS.keyFromPrivate(et).getPublic(!0,"hex"):eS.g.mul(new ep.default(et,16)).encode("hex",!0).slice(2)}function I(et,ei){if("default"===(ei??"default")){let ei=eg.default.blake2b((0,ey.hexToBinUnsafe)(et),void 0,32),eo=new Uint8Array([ec.P2PKH,...ei]);return em.default.encode(eo)}return T((0,ey.hexToBinUnsafe)(`0101000000000458144020${et}8685`))}function T(et){let ei=eg.default.blake2b(et,void 0,32);return em.default.encode(new Uint8Array([ec.P2SH,...ei]))}function x(et){let ei=(0,ey.hexToBinUnsafe)(et),eo=new Uint8Array([ec.P2C,...ei]);return em.default.encode(eo)}function C(et){let ei=1|(0,e_.default)(et);return(0,ey.xorByte)(ei)%eb.TOTAL_NUMBER_OF_GROUPS}(ea=ec=ei.AddressType||(ei.AddressType={}))[ea.P2PKH=0]="P2PKH",ea[ea.P2MPKH=1]="P2MPKH",ea[ea.P2SH=2]="P2SH",ea[ea.P2C=3]="P2C",ei.validateAddress=function(et){_(et)},ei.isValidAddress=function(et){try{return _(et),!0}catch{return!1}},ei.isAssetAddress=function(et){let ei=_(et)[0];return ei===ec.P2PKH||ei===ec.P2MPKH||ei===ec.P2SH},ei.isContractAddress=function(et){return _(et)[0]===ec.P2C},ei.groupOfAddress=E,ei.contractIdFromAddress=function(et){return A(et)},ei.tokenIdFromAddress=function(et){return A(et)},ei.groupOfPrivateKey=function(et,ei){return E(I(M(et,ei),ei))},ei.publicKeyFromPrivateKey=M,ei.addressFromPublicKey=I,ei.addressFromScript=T,ei.addressFromContractId=x,ei.addressFromTokenId=function(et){return x(et)},ei.contractIdFromTx=function(et,ei){let eo=(0,ey.hexToBinUnsafe)(et),ea=new Uint8Array([...eo,ei]),ec=eg.default.blake2b(ea,void 0,32);return(0,ey.binToHex)(ec)},ei.subContractId=function(et,ei,eo){if(eo<0||eo>=eb.TOTAL_NUMBER_OF_GROUPS)throw Error(`Invalid group ${eo}`);if(!(0,ey.isHexString)(et))throw Error(`Invalid parent contract ID: ${et}, expected hex string`);if(!(0,ey.isHexString)(ei))throw Error(`Invalid path: ${ei}, expected hex string`);let ea=(0,ey.concatBytes)([(0,ey.hexToBinUnsafe)(et),(0,ey.hexToBinUnsafe)(ei)]),ec=new Uint8Array([...eg.default.blake2b(eg.default.blake2b(ea,void 0,32),void 0,32).slice(0,-1),eo]);return(0,ey.binToHex)(ec)},ei.groupOfLockupScript=function(et){if("P2PKH"===et.kind)return C(et.value);if("P2MPKH"===et.kind)return C(et.value.publicKeyHashes[0]);if("P2SH"===et.kind)return C(et.value);{let ei=et.value;return ei[""+(ei.length-1)]}}},2581:function(et,ei,eo){"use strict";var ea=this&&this.__createBinding||(Object.create?function(et,ei,eo,ea){void 0===ea&&(ea=eo);var ec=Object.getOwnPropertyDescriptor(ei,eo);ec&&!("get"in ec?!ei.__esModule:ec.writable||ec.configurable)||(ec={enumerable:!0,get:function(){return ei[eo]}}),Object.defineProperty(et,ea,ec)}:function(et,ei,eo,ea){void 0===ea&&(ea=eo),et[ea]=ei[eo]}),ec=this&&this.__exportStar||function(et,ei){for(var eo in et)"default"===eo||Object.prototype.hasOwnProperty.call(ei,eo)||ea(ei,et,eo)};Object.defineProperty(ei,"__esModule",{value:!0}),ec(eo(5569),ei)},127:(et,ei,eo)=>{"use strict";var ea,ec;Object.defineProperty(ei,"__esModule",{value:!0}),ei.Api=ei.HttpClient=ei.ContentType=void 0,eo(9114);let eh=eo(3760);(ec=ea=ei.ContentType||(ei.ContentType={})).Json="application/json",ec.FormData="multipart/form-data",ec.UrlEncoded="application/x-www-form-urlencoded",ec.Text="text/plain";let s=class s{constructor(et={}){this.baseUrl="../",this.securityData=null,this.abortControllers=new Map,this.customFetch=(...et)=>fetch(...et),this.baseApiParams={credentials:"same-origin",headers:{},redirect:"follow",referrerPolicy:"no-referrer"},this.setSecurityData=et=>{this.securityData=et},this.contentFormatters={[ea.Json]:et=>null===et||"object"!=typeof et&&"string"!=typeof et?et:JSON.stringify(et),[ea.Text]:et=>null!==et&&"string"!=typeof et?JSON.stringify(et):et,[ea.FormData]:et=>Object.keys(et||{}).reduce((ei,eo)=>{let ea=et[eo];return ei.append(eo,ea instanceof Blob?ea:"object"==typeof ea&&null!==ea?JSON.stringify(ea):`${ea}`),ei},new FormData),[ea.UrlEncoded]:et=>this.toQueryString(et)},this.createAbortSignal=et=>{if(this.abortControllers.has(et)){let ei=this.abortControllers.get(et);return ei?ei.signal:void 0}let ei=new AbortController;return this.abortControllers.set(et,ei),ei.signal},this.abortRequest=et=>{let ei=this.abortControllers.get(et);ei&&(ei.abort(),this.abortControllers.delete(et))},this.request=async({body:et,secure:ei,path:eo,type:ec,query:eh,format:eu,baseUrl:ed,cancelToken:ef,...el})=>{let ep=("boolean"==typeof ei?ei:this.baseApiParams.secure)&&this.securityWorker&&await this.securityWorker(this.securityData)||{},eb=this.mergeRequestParams(el,ep),eg=eh&&this.toQueryString(eh),em=this.contentFormatters[ec||ea.Json],ey=eu||eb.format;return this.customFetch(`${ed||this.baseUrl||""}${eo}${eg?`?${eg}`:""}`,{...eb,headers:{...eb.headers||{},...ec&&ec!==ea.FormData?{"Content-Type":ec}:{}},signal:ef?this.createAbortSignal(ef):eb.signal,body:null==et?null:em(et)}).then(async et=>{et.data=null,et.error=null;let ei=ey?await et[ey]().then(ei=>(et.ok?et.data=ei:et.error=ei,et)).catch(ei=>(et.error=ei,et)):et;return ef&&this.abortControllers.delete(ef),ei})},Object.assign(this,et)}encodeQueryParam(et,ei){return`${encodeURIComponent(et)}=${encodeURIComponent("number"==typeof ei?ei:`${ei}`)}`}addQueryParam(et,ei){return this.encodeQueryParam(ei,et[ei])}addArrayQueryParam(et,ei){return et[ei].map(et=>this.encodeQueryParam(ei,et)).join("&")}toQueryString(et){let ei=et||{};return Object.keys(ei).filter(et=>void 0!==ei[et]).map(et=>Array.isArray(ei[et])?this.addArrayQueryParam(ei,et):this.addQueryParam(ei,et)).join("&")}addQueryParams(et){let ei=this.toQueryString(et);return ei?`?${ei}`:""}mergeRequestParams(et,ei){return{...this.baseApiParams,...et,...ei||{},headers:{...this.baseApiParams.headers||{},...et.headers||{},...ei&&ei.headers||{}}}}};ei.HttpClient=s,ei.Api=class extends s{constructor(){super(...arguments),this.wallets={getWallets:(et={})=>this.request({path:"/wallets",method:"GET",format:"json",...et}).then(eh.convertHttpResponse),putWallets:(et,ei={})=>this.request({path:"/wallets",method:"PUT",body:et,type:ea.Json,format:"json",...ei}).then(eh.convertHttpResponse),postWallets:(et,ei={})=>this.request({path:"/wallets",method:"POST",body:et,type:ea.Json,format:"json",...ei}).then(eh.convertHttpResponse),getWalletsWalletName:(et,ei={})=>this.request({path:`/wallets/${et}`,method:"GET",format:"json",...ei}).then(eh.convertHttpResponse),deleteWalletsWalletName:(et,ei,eo={})=>this.request({path:`/wallets/${et}`,method:"DELETE",query:ei,...eo}).then(eh.convertHttpResponse),postWalletsWalletNameLock:(et,ei={})=>this.request({path:`/wallets/${et}/lock`,method:"POST",...ei}).then(eh.convertHttpResponse),postWalletsWalletNameUnlock:(et,ei,eo={})=>this.request({path:`/wallets/${et}/unlock`,method:"POST",body:ei,type:ea.Json,...eo}).then(eh.convertHttpResponse),getWalletsWalletNameBalances:(et,ei={})=>this.request({path:`/wallets/${et}/balances`,method:"GET",format:"json",...ei}).then(eh.convertHttpResponse),postWalletsWalletNameRevealMnemonic:(et,ei,eo={})=>this.request({path:`/wallets/${et}/reveal-mnemonic`,method:"POST",body:ei,type:ea.Json,format:"json",...eo}).then(eh.convertHttpResponse),postWalletsWalletNameTransfer:(et,ei,eo={})=>this.request({path:`/wallets/${et}/transfer`,method:"POST",body:ei,type:ea.Json,format:"json",...eo}).then(eh.convertHttpResponse),postWalletsWalletNameSweepActiveAddress:(et,ei,eo={})=>this.request({path:`/wallets/${et}/sweep-active-address`,method:"POST",body:ei,type:ea.Json,format:"json",...eo}).then(eh.convertHttpResponse),postWalletsWalletNameSweepAllAddresses:(et,ei,eo={})=>this.request({path:`/wallets/${et}/sweep-all-addresses`,method:"POST",body:ei,type:ea.Json,format:"json",...eo}).then(eh.convertHttpResponse),postWalletsWalletNameSign:(et,ei,eo={})=>this.request({path:`/wallets/${et}/sign`,method:"POST",body:ei,type:ea.Json,format:"json",...eo}).then(eh.convertHttpResponse),getWalletsWalletNameAddresses:(et,ei={})=>this.request({path:`/wallets/${et}/addresses`,method:"GET",format:"json",...ei}).then(eh.convertHttpResponse),getWalletsWalletNameAddressesAddress:(et,ei,eo={})=>this.request({path:`/wallets/${et}/addresses/${ei}`,method:"GET",format:"json",...eo}).then(eh.convertHttpResponse),getWalletsWalletNameMinerAddresses:(et,ei={})=>this.request({path:`/wallets/${et}/miner-addresses`,method:"GET",format:"json",...ei}).then(eh.convertHttpResponse),postWalletsWalletNameDeriveNextAddress:(et,ei,eo={})=>this.request({path:`/wallets/${et}/derive-next-address`,method:"POST",query:ei,format:"json",...eo}).then(eh.convertHttpResponse),postWalletsWalletNameDeriveNextMinerAddresses:(et,ei={})=>this.request({path:`/wallets/${et}/derive-next-miner-addresses`,method:"POST",format:"json",...ei}).then(eh.convertHttpResponse),postWalletsWalletNameChangeActiveAddress:(et,ei,eo={})=>this.request({path:`/wallets/${et}/change-active-address`,method:"POST",body:ei,type:ea.Json,...eo}).then(eh.convertHttpResponse)},this.infos={getInfosNode:(et={})=>this.request({path:"/infos/node",method:"GET",format:"json",...et}).then(eh.convertHttpResponse),getInfosVersion:(et={})=>this.request({path:"/infos/version",method:"GET",format:"json",...et}).then(eh.convertHttpResponse),getInfosChainParams:(et={})=>this.request({path:"/infos/chain-params",method:"GET",format:"json",...et}).then(eh.convertHttpResponse),getInfosSelfClique:(et={})=>this.request({path:"/infos/self-clique",method:"GET",format:"json",...et}).then(eh.convertHttpResponse),getInfosInterCliquePeerInfo:(et={})=>this.request({path:"/infos/inter-clique-peer-info",method:"GET",format:"json",...et}).then(eh.convertHttpResponse),getInfosDiscoveredNeighbors:(et={})=>this.request({path:"/infos/discovered-neighbors",method:"GET",format:"json",...et}).then(eh.convertHttpResponse),getInfosMisbehaviors:(et={})=>this.request({path:"/infos/misbehaviors",method:"GET",format:"json",...et}).then(eh.convertHttpResponse),postInfosMisbehaviors:(et,ei={})=>this.request({path:"/infos/misbehaviors",method:"POST",body:et,type:ea.Json,...ei}).then(eh.convertHttpResponse),getInfosUnreachable:(et={})=>this.request({path:"/infos/unreachable",method:"GET",format:"json",...et}).then(eh.convertHttpResponse),postInfosDiscovery:(et,ei={})=>this.request({path:"/infos/discovery",method:"POST",body:et,type:ea.Json,...ei}).then(eh.convertHttpResponse),getInfosHistoryHashrate:(et,ei={})=>this.request({path:"/infos/history-hashrate",method:"GET",query:et,format:"json",...ei}).then(eh.convertHttpResponse),getInfosCurrentHashrate:(et,ei={})=>this.request({path:"/infos/current-hashrate",method:"GET",query:et,format:"json",...ei}).then(eh.convertHttpResponse),getInfosCurrentDifficulty:(et={})=>this.request({path:"/infos/current-difficulty",method:"GET",format:"json",...et}).then(eh.convertHttpResponse)},this.blockflow={getBlockflowBlocks:(et,ei={})=>this.request({path:"/blockflow/blocks",method:"GET",query:et,format:"json",...ei}).then(eh.convertHttpResponse),getBlockflowBlocksWithEvents:(et,ei={})=>this.request({path:"/blockflow/blocks-with-events",method:"GET",query:et,format:"json",...ei}).then(eh.convertHttpResponse),getBlockflowRichBlocks:(et,ei={})=>this.request({path:"/blockflow/rich-blocks",method:"GET",query:et,format:"json",...ei}).then(eh.convertHttpResponse),getBlockflowBlocksBlockHash:(et,ei={})=>this.request({path:`/blockflow/blocks/${et}`,method:"GET",format:"json",...ei}).then(eh.convertHttpResponse),getBlockflowMainChainBlockByGhostUncleGhostUncleHash:(et,ei={})=>this.request({path:`/blockflow/main-chain-block-by-ghost-uncle/${et}`,method:"GET",format:"json",...ei}).then(eh.convertHttpResponse),getBlockflowBlocksWithEventsBlockHash:(et,ei={})=>this.request({path:`/blockflow/blocks-with-events/${et}`,method:"GET",format:"json",...ei}).then(eh.convertHttpResponse),getBlockflowRichBlocksBlockHash:(et,ei={})=>this.request({path:`/blockflow/rich-blocks/${et}`,method:"GET",format:"json",...ei}).then(eh.convertHttpResponse),getBlockflowIsBlockInMainChain:(et,ei={})=>this.request({path:"/blockflow/is-block-in-main-chain",method:"GET",query:et,format:"json",...ei}).then(eh.convertHttpResponse),getBlockflowHashes:(et,ei={})=>this.request({path:"/blockflow/hashes",method:"GET",query:et,format:"json",...ei}).then(eh.convertHttpResponse),getBlockflowChainInfo:(et,ei={})=>this.request({path:"/blockflow/chain-info",method:"GET",query:et,format:"json",...ei}).then(eh.convertHttpResponse),getBlockflowHeadersBlockHash:(et,ei={})=>this.request({path:`/blockflow/headers/${et}`,method:"GET",format:"json",...ei}).then(eh.convertHttpResponse),getBlockflowRawBlocksBlockHash:(et,ei={})=>this.request({path:`/blockflow/raw-blocks/${et}`,method:"GET",format:"json",...ei}).then(eh.convertHttpResponse)},this.addresses={getAddressesAddressBalance:(et,ei,eo={})=>this.request({path:`/addresses/${et}/balance`,method:"GET",query:ei,format:"json",...eo}).then(eh.convertHttpResponse),getAddressesAddressUtxos:(et,ei={})=>this.request({path:`/addresses/${et}/utxos`,method:"GET",format:"json",...ei}).then(eh.convertHttpResponse),getAddressesAddressGroup:(et,ei={})=>this.request({path:`/addresses/${et}/group`,method:"GET",format:"json",...ei}).then(eh.convertHttpResponse)},this.transactions={postTransactionsBuild:(et,ei={})=>this.request({path:"/transactions/build",method:"POST",body:et,type:ea.Json,format:"json",...ei}).then(eh.convertHttpResponse),postTransactionsBuildTransferFromOneToManyGroups:(et,ei={})=>this.request({path:"/transactions/build-transfer-from-one-to-many-groups",method:"POST",body:et,type:ea.Json,format:"json",...ei}).then(eh.convertHttpResponse),postTransactionsBuildMultiAddresses:(et,ei={})=>this.request({path:"/transactions/build-multi-addresses",method:"POST",body:et,type:ea.Json,format:"json",...ei}).then(eh.convertHttpResponse),postTransactionsSweepAddressBuild:(et,ei={})=>this.request({path:"/transactions/sweep-address/build",method:"POST",body:et,type:ea.Json,format:"json",...ei}).then(eh.convertHttpResponse),postTransactionsSubmit:(et,ei={})=>this.request({path:"/transactions/submit",method:"POST",body:et,type:ea.Json,format:"json",...ei}).then(eh.convertHttpResponse),postTransactionsDecodeUnsignedTx:(et,ei={})=>this.request({path:"/transactions/decode-unsigned-tx",method:"POST",body:et,type:ea.Json,format:"json",...ei}).then(eh.convertHttpResponse),getTransactionsDetailsTxid:(et,ei,eo={})=>this.request({path:`/transactions/details/${et}`,method:"GET",query:ei,format:"json",...eo}).then(eh.convertHttpResponse),getTransactionsRichDetailsTxid:(et,ei,eo={})=>this.request({path:`/transactions/rich-details/${et}`,method:"GET",query:ei,format:"json",...eo}).then(eh.convertHttpResponse),getTransactionsRawTxid:(et,ei,eo={})=>this.request({path:`/transactions/raw/${et}`,method:"GET",query:ei,format:"json",...eo}).then(eh.convertHttpResponse),getTransactionsStatus:(et,ei={})=>this.request({path:"/transactions/status",method:"GET",query:et,format:"json",...ei}).then(eh.convertHttpResponse),getTransactionsTxIdFromOutputref:(et,ei={})=>this.request({path:"/transactions/tx-id-from-outputref",method:"GET",query:et,format:"json",...ei}).then(eh.convertHttpResponse),postTransactionsBuildChained:(et,ei={})=>this.request({path:"/transactions/build-chained",method:"POST",body:et,type:ea.Json,format:"json",...ei}).then(eh.convertHttpResponse)},this.mempool={getMempoolTransactions:(et={})=>this.request({path:"/mempool/transactions",method:"GET",format:"json",...et}).then(eh.convertHttpResponse),deleteMempoolTransactions:(et={})=>this.request({path:"/mempool/transactions",method:"DELETE",...et}).then(eh.convertHttpResponse),putMempoolTransactionsRebroadcast:(et,ei={})=>this.request({path:"/mempool/transactions/rebroadcast",method:"PUT",query:et,...ei}).then(eh.convertHttpResponse),putMempoolTransactionsValidate:(et={})=>this.request({path:"/mempool/transactions/validate",method:"PUT",...et}).then(eh.convertHttpResponse)},this.contracts={postContractsCompileScript:(et,ei={})=>this.request({path:"/contracts/compile-script",method:"POST",body:et,type:ea.Json,format:"json",...ei}).then(eh.convertHttpResponse),postContractsUnsignedTxExecuteScript:(et,ei={})=>this.request({path:"/contracts/unsigned-tx/execute-script",method:"POST",body:et,type:ea.Json,format:"json",...ei}).then(eh.convertHttpResponse),postContractsCompileContract:(et,ei={})=>this.request({path:"/contracts/compile-contract",method:"POST",body:et,type:ea.Json,format:"json",...ei}).then(eh.convertHttpResponse),postContractsCompileProject:(et,ei={})=>this.request({path:"/contracts/compile-project",method:"POST",body:et,type:ea.Json,format:"json",...ei}).then(eh.convertHttpResponse),postContractsUnsignedTxDeployContract:(et,ei={})=>this.request({path:"/contracts/unsigned-tx/deploy-contract",method:"POST",body:et,type:ea.Json,format:"json",...ei}).then(eh.convertHttpResponse),getContractsAddressState:(et,ei={})=>this.request({path:`/contracts/${et}/state`,method:"GET",format:"json",...ei}).then(eh.convertHttpResponse),getContractsCodehashCode:(et,ei={})=>this.request({path:`/contracts/${et}/code`,method:"GET",format:"json",...ei}).then(eh.convertHttpResponse),postContractsTestContract:(et,ei={})=>this.request({path:"/contracts/test-contract",method:"POST",body:et,type:ea.Json,format:"json",...ei}).then(eh.convertHttpResponse),postContractsCallContract:(et,ei={})=>this.request({path:"/contracts/call-contract",method:"POST",body:et,type:ea.Json,format:"json",...ei}).then(eh.convertHttpResponse),postContractsMulticallContract:(et,ei={})=>this.request({path:"/contracts/multicall-contract",method:"POST",body:et,type:ea.Json,format:"json",...ei}).then(eh.convertHttpResponse),getContractsAddressParent:(et,ei={})=>this.request({path:`/contracts/${et}/parent`,method:"GET",format:"json",...ei}).then(eh.convertHttpResponse),getContractsAddressSubContracts:(et,ei,eo={})=>this.request({path:`/contracts/${et}/sub-contracts`,method:"GET",query:ei,format:"json",...eo}).then(eh.convertHttpResponse),getContractsAddressSubContractsCurrentCount:(et,ei={})=>this.request({path:`/contracts/${et}/sub-contracts/current-count`,method:"GET",format:"json",...ei}).then(eh.convertHttpResponse),postContractsCallTxScript:(et,ei={})=>this.request({path:"/contracts/call-tx-script",method:"POST",body:et,type:ea.Json,format:"json",...ei}).then(eh.convertHttpResponse)},this.multisig={postMultisigAddress:(et,ei={})=>this.request({path:"/multisig/address",method:"POST",body:et,type:ea.Json,format:"json",...ei}).then(eh.convertHttpResponse),postMultisigBuild:(et,ei={})=>this.request({path:"/multisig/build",method:"POST",body:et,type:ea.Json,format:"json",...ei}).then(eh.convertHttpResponse),postMultisigSweep:(et,ei={})=>this.request({path:"/multisig/sweep",method:"POST",body:et,type:ea.Json,format:"json",...ei}).then(eh.convertHttpResponse),postMultisigSubmit:(et,ei={})=>this.request({path:"/multisig/submit",method:"POST",body:et,type:ea.Json,format:"json",...ei}).then(eh.convertHttpResponse)},this.miners={postMinersCpuMining:(et,ei={})=>this.request({path:"/miners/cpu-mining",method:"POST",query:et,format:"json",...ei}).then(eh.convertHttpResponse),postMinersCpuMiningMineOneBlock:(et,ei={})=>this.request({path:"/miners/cpu-mining/mine-one-block",method:"POST",query:et,format:"json",...ei}).then(eh.convertHttpResponse),getMinersAddresses:(et={})=>this.request({path:"/miners/addresses",method:"GET",format:"json",...et}).then(eh.convertHttpResponse),putMinersAddresses:(et,ei={})=>this.request({path:"/miners/addresses",method:"PUT",body:et,type:ea.Json,...ei}).then(eh.convertHttpResponse)},this.events={getEventsContractContractaddress:(et,ei,eo={})=>this.request({path:`/events/contract/${et}`,method:"GET",query:ei,format:"json",...eo}).then(eh.convertHttpResponse),getEventsContractContractaddressCurrentCount:(et,ei={})=>this.request({path:`/events/contract/${et}/current-count`,method:"GET",format:"json",...ei}).then(eh.convertHttpResponse),getEventsTxIdTxid:(et,ei,eo={})=>this.request({path:`/events/tx-id/${et}`,method:"GET",query:ei,format:"json",...eo}).then(eh.convertHttpResponse),getEventsBlockHashBlockhash:(et,ei,eo={})=>this.request({path:`/events/block-hash/${et}`,method:"GET",query:ei,format:"json",...eo}).then(eh.convertHttpResponse)},this.utils={postUtilsVerifySignature:(et,ei={})=>this.request({path:"/utils/verify-signature",method:"POST",body:et,type:ea.Json,format:"json",...ei}).then(eh.convertHttpResponse),postUtilsTargetToHashrate:(et,ei={})=>this.request({path:"/utils/target-to-hashrate",method:"POST",body:et,type:ea.Json,format:"json",...ei}).then(eh.convertHttpResponse),putUtilsCheckHashIndexing:(et={})=>this.request({path:"/utils/check-hash-indexing",method:"PUT",...et}).then(eh.convertHttpResponse)}}}},3877:(et,ei,eo)=>{"use strict";var ea,ec,eh,eu,ed,ef,el,ep,eb,eg,em;Object.defineProperty(ei,"__esModule",{value:!0}),ei.Api=ei.HttpClient=ei.ContentType=ei.Currencies=ei.MaxSizeAddresses=ei.MaxSizeAddressesForTokens=ei.MaxSizeTokens=ei.PaginationPageDefault=ei.PaginationLimitMax=ei.PaginationLimitDefault=ei.TokenStdInterfaceId=ei.IntervalType=void 0,(eb=ei.IntervalType||(ei.IntervalType={})).Daily="daily",eb.Hourly="hourly",eb.Weekly="weekly",(ep=ei.TokenStdInterfaceId||(ei.TokenStdInterfaceId={})).Fungible="fungible",ep.NonFungible="non-fungible",ep.NonStandard="non-standard",(el=ei.PaginationLimitDefault||(ei.PaginationLimitDefault={}))[el.Value20=20]="Value20",el[el.Value10=10]="Value10",(ef=ei.PaginationLimitMax||(ei.PaginationLimitMax={}))[ef.Value100=100]="Value100",ef[ef.Value20=20]="Value20",(ed=ei.PaginationPageDefault||(ei.PaginationPageDefault={}))[ed.Value1=1]="Value1",(eu=ei.MaxSizeTokens||(ei.MaxSizeTokens={}))[eu.Value80=80]="Value80",(eh=ei.MaxSizeAddressesForTokens||(ei.MaxSizeAddressesForTokens={}))[eh.Value80=80]="Value80",(ec=ei.MaxSizeAddresses||(ei.MaxSizeAddresses={}))[ec.Value80=80]="Value80",(ea=ei.Currencies||(ei.Currencies={})).Btc="btc",ea.Eth="eth",ea.Usd="usd",ea.Eur="eur",ea.Chf="chf",ea.Gbp="gbp",ea.Idr="idr",ea.Vnd="vnd",ea.Rub="rub",ea.Try="try",ea.Cad="cad",ea.Aud="aud",eo(9114);let ey=eo(3760);(em=eg=ei.ContentType||(ei.ContentType={})).Json="application/json",em.FormData="multipart/form-data",em.UrlEncoded="application/x-www-form-urlencoded",em.Text="text/plain";let p=class p{constructor(et={}){this.baseUrl="",this.securityData=null,this.abortControllers=new Map,this.customFetch=(...et)=>fetch(...et),this.baseApiParams={credentials:"same-origin",headers:{},redirect:"follow",referrerPolicy:"no-referrer"},this.setSecurityData=et=>{this.securityData=et},this.contentFormatters={[eg.Json]:et=>null===et||"object"!=typeof et&&"string"!=typeof et?et:JSON.stringify(et),[eg.Text]:et=>null!==et&&"string"!=typeof et?JSON.stringify(et):et,[eg.FormData]:et=>Object.keys(et||{}).reduce((ei,eo)=>{let ea=et[eo];return ei.append(eo,ea instanceof Blob?ea:"object"==typeof ea&&null!==ea?JSON.stringify(ea):`${ea}`),ei},new FormData),[eg.UrlEncoded]:et=>this.toQueryString(et)},this.createAbortSignal=et=>{if(this.abortControllers.has(et)){let ei=this.abortControllers.get(et);return ei?ei.signal:void 0}let ei=new AbortController;return this.abortControllers.set(et,ei),ei.signal},this.abortRequest=et=>{let ei=this.abortControllers.get(et);ei&&(ei.abort(),this.abortControllers.delete(et))},this.request=async({body:et,secure:ei,path:eo,type:ea,query:ec,format:eh,baseUrl:eu,cancelToken:ed,...ef})=>{let el=("boolean"==typeof ei?ei:this.baseApiParams.secure)&&this.securityWorker&&await this.securityWorker(this.securityData)||{},ep=this.mergeRequestParams(ef,el),eb=ec&&this.toQueryString(ec),em=this.contentFormatters[ea||eg.Json],ey=eh||ep.format;return this.customFetch(`${eu||this.baseUrl||""}${eo}${eb?`?${eb}`:""}`,{...ep,headers:{...ep.headers||{},...ea&&ea!==eg.FormData?{"Content-Type":ea}:{}},signal:ed?this.createAbortSignal(ed):ep.signal,body:null==et?null:em(et)}).then(async et=>{et.data=null,et.error=null;let ei=ey?await et[ey]().then(ei=>(et.ok?et.data=ei:et.error=ei,et)).catch(ei=>(et.error=ei,et)):et;return ed&&this.abortControllers.delete(ed),ei})},Object.assign(this,et)}encodeQueryParam(et,ei){return`${encodeURIComponent(et)}=${encodeURIComponent("number"==typeof ei?ei:`${ei}`)}`}addQueryParam(et,ei){return this.encodeQueryParam(ei,et[ei])}addArrayQueryParam(et,ei){return et[ei].map(et=>this.encodeQueryParam(ei,et)).join("&")}toQueryString(et){let ei=et||{};return Object.keys(ei).filter(et=>void 0!==ei[et]).map(et=>Array.isArray(ei[et])?this.addArrayQueryParam(ei,et):this.addQueryParam(ei,et)).join("&")}addQueryParams(et){let ei=this.toQueryString(et);return ei?`?${ei}`:""}mergeRequestParams(et,ei){return{...this.baseApiParams,...et,...ei||{},headers:{...this.baseApiParams.headers||{},...et.headers||{},...ei&&ei.headers||{}}}}};ei.HttpClient=p,ei.Api=class extends p{constructor(){super(...arguments),this.blocks={getBlocks:(et,ei={})=>this.request({path:"/blocks",method:"GET",query:et,format:"json",...ei}).then(ey.convertHttpResponse),getBlocksBlockHash:(et,ei={})=>this.request({path:`/blocks/${et}`,method:"GET",format:"json",...ei}).then(ey.convertHttpResponse),getBlocksBlockHashTransactions:(et,ei,eo={})=>this.request({path:`/blocks/${et}/transactions`,method:"GET",query:ei,format:"json",...eo}).then(ey.convertHttpResponse)},this.transactions={getTransactionsTransactionHash:(et,ei={})=>this.request({path:`/transactions/${et}`,method:"GET",format:"json",...ei}).then(ey.convertHttpResponse)},this.addresses={getAddressesAddress:(et,ei={})=>this.request({path:`/addresses/${et}`,method:"GET",format:"json",...ei}).then(ey.convertHttpResponse),getAddressesAddressTransactions:(et,ei,eo={})=>this.request({path:`/addresses/${et}/transactions`,method:"GET",query:ei,format:"json",...eo}).then(ey.convertHttpResponse),postAddressesTransactions:(et,ei,eo={})=>this.request({path:"/addresses/transactions",method:"POST",query:et,body:ei,type:eg.Json,format:"json",...eo}).then(ey.convertHttpResponse),getAddressesAddressTimerangedTransactions:(et,ei,eo={})=>this.request({path:`/addresses/${et}/timeranged-transactions`,method:"GET",query:ei,format:"json",...eo}).then(ey.convertHttpResponse),getAddressesAddressTotalTransactions:(et,ei={})=>this.request({path:`/addresses/${et}/total-transactions`,method:"GET",format:"json",...ei}).then(ey.convertHttpResponse),getAddressesAddressLatestTransaction:(et,ei={})=>this.request({path:`/addresses/${et}/latest-transaction`,method:"GET",format:"json",...ei}).then(ey.convertHttpResponse),getAddressesAddressMempoolTransactions:(et,ei={})=>this.request({path:`/addresses/${et}/mempool/transactions`,method:"GET",format:"json",...ei}).then(ey.convertHttpResponse),getAddressesAddressBalance:(et,ei={})=>this.request({path:`/addresses/${et}/balance`,method:"GET",format:"json",...ei}).then(ey.convertHttpResponse),getAddressesAddressTokens:(et,ei,eo={})=>this.request({path:`/addresses/${et}/tokens`,method:"GET",query:ei,format:"json",...eo}).then(ey.convertHttpResponse),getAddressesAddressTokensTokenIdTransactions:(et,ei,eo,ea={})=>this.request({path:`/addresses/${et}/tokens/${ei}/transactions`,method:"GET",query:eo,format:"json",...ea}).then(ey.convertHttpResponse),getAddressesAddressTokensTokenIdBalance:(et,ei,eo={})=>this.request({path:`/addresses/${et}/tokens/${ei}/balance`,method:"GET",format:"json",...eo}).then(ey.convertHttpResponse),getAddressesAddressPublicKey:(et,ei={})=>this.request({path:`/addresses/${et}/public-key`,method:"GET",format:"json",...ei}).then(ey.convertHttpResponse),getAddressesAddressTokensBalance:(et,ei,eo={})=>this.request({path:`/addresses/${et}/tokens-balance`,method:"GET",query:ei,format:"json",...eo}).then(ey.convertHttpResponse),postAddressesUsed:(et,ei={})=>this.request({path:"/addresses/used",method:"POST",body:et,type:eg.Json,format:"json",...ei}).then(ey.convertHttpResponse),getAddressesAddressExportTransactionsCsv:(et,ei,eo={})=>this.request({path:`/addresses/${et}/export-transactions/csv`,method:"GET",query:ei,format:"text",...eo}).then(ey.convertHttpResponse),getAddressesAddressAmountHistoryDeprecated:(et,ei,eo={})=>this.request({path:`/addresses/${et}/amount-history-DEPRECATED`,method:"GET",query:ei,format:"json",...eo}).then(ey.convertHttpResponse),getAddressesAddressAmountHistory:(et,ei,eo={})=>this.request({path:`/addresses/${et}/amount-history`,method:"GET",query:ei,format:"json",...eo}).then(ey.convertHttpResponse)},this.infos={getInfos:(et={})=>this.request({path:"/infos",method:"GET",format:"json",...et}).then(ey.convertHttpResponse),getInfosHeights:(et={})=>this.request({path:"/infos/heights",method:"GET",format:"json",...et}).then(ey.convertHttpResponse),getInfosSupply:(et,ei={})=>this.request({path:"/infos/supply",method:"GET",query:et,format:"json",...ei}).then(ey.convertHttpResponse),getInfosSupplyTotalAlph:(et={})=>this.request({path:"/infos/supply/total-alph",method:"GET",format:"text",...et}).then(ey.convertHttpResponse),getInfosSupplyCirculatingAlph:(et={})=>this.request({path:"/infos/supply/circulating-alph",method:"GET",format:"text",...et}).then(ey.convertHttpResponse),getInfosSupplyReservedAlph:(et={})=>this.request({path:"/infos/supply/reserved-alph",method:"GET",format:"text",...et}).then(ey.convertHttpResponse),getInfosSupplyLockedAlph:(et={})=>this.request({path:"/infos/supply/locked-alph",method:"GET",format:"text",...et}).then(ey.convertHttpResponse),getInfosTotalTransactions:(et={})=>this.request({path:"/infos/total-transactions",method:"GET",format:"text",...et}).then(ey.convertHttpResponse),getInfosAverageBlockTimes:(et={})=>this.request({path:"/infos/average-block-times",method:"GET",format:"json",...et}).then(ey.convertHttpResponse)},this.mempool={getMempoolTransactions:(et,ei={})=>this.request({path:"/mempool/transactions",method:"GET",query:et,format:"json",...ei}).then(ey.convertHttpResponse)},this.tokens={getTokens:(et,ei={})=>this.request({path:"/tokens",method:"GET",query:et,format:"json",...ei}).then(ey.convertHttpResponse),postTokens:(et,ei={})=>this.request({path:"/tokens",method:"POST",body:et,type:eg.Json,format:"json",...ei}).then(ey.convertHttpResponse),getTokensTokenIdTransactions:(et,ei,eo={})=>this.request({path:`/tokens/${et}/transactions`,method:"GET",query:ei,format:"json",...eo}).then(ey.convertHttpResponse),getTokensTokenIdAddresses:(et,ei,eo={})=>this.request({path:`/tokens/${et}/addresses`,method:"GET",query:ei,format:"json",...eo}).then(ey.convertHttpResponse),postTokensFungibleMetadata:(et,ei={})=>this.request({path:"/tokens/fungible-metadata",method:"POST",body:et,type:eg.Json,format:"json",...ei}).then(ey.convertHttpResponse),postTokensNftMetadata:(et,ei={})=>this.request({path:"/tokens/nft-metadata",method:"POST",body:et,type:eg.Json,format:"json",...ei}).then(ey.convertHttpResponse),postTokensNftCollectionMetadata:(et,ei={})=>this.request({path:"/tokens/nft-collection-metadata",method:"POST",body:et,type:eg.Json,format:"json",...ei}).then(ey.convertHttpResponse),getTokensHoldersAlph:(et,ei={})=>this.request({path:"/tokens/holders/alph",method:"GET",query:et,format:"json",...ei}).then(ey.convertHttpResponse),getTokensHoldersTokenTokenId:(et,ei,eo={})=>this.request({path:`/tokens/holders/token/${et}`,method:"GET",query:ei,format:"json",...eo}).then(ey.convertHttpResponse)},this.charts={getChartsHashrates:(et,ei={})=>this.request({path:"/charts/hashrates",method:"GET",query:et,format:"json",...ei}).then(ey.convertHttpResponse),getChartsTransactionsCount:(et,ei={})=>this.request({path:"/charts/transactions-count",method:"GET",query:et,format:"json",...ei}).then(ey.convertHttpResponse),getChartsTransactionsCountPerChain:(et,ei={})=>this.request({path:"/charts/transactions-count-per-chain",method:"GET",query:et,format:"json",...ei}).then(ey.convertHttpResponse)},this.contractEvents={getContractEventsTransactionIdTransactionId:(et,ei={})=>this.request({path:`/contract-events/transaction-id/${et}`,method:"GET",format:"json",...ei}).then(ey.convertHttpResponse),getContractEventsContractAddressContractAddress:(et,ei,eo={})=>this.request({path:`/contract-events/contract-address/${et}`,method:"GET",query:ei,format:"json",...eo}).then(ey.convertHttpResponse),getContractEventsContractAddressContractAddressInputAddressInputAddress:(et,ei,eo,ea={})=>this.request({path:`/contract-events/contract-address/${et}/input-address/${ei}`,method:"GET",query:eo,format:"json",...ea}).then(ey.convertHttpResponse)},this.contracts={getContractsContractAddressCurrentLiveness:(et,ei={})=>this.request({path:`/contracts/${et}/current-liveness`,method:"GET",format:"json",...ei}).then(ey.convertHttpResponse),getContractsContractAddressParent:(et,ei={})=>this.request({path:`/contracts/${et}/parent`,method:"GET",format:"json",...ei}).then(ey.convertHttpResponse),getContractsContractAddressSubContracts:(et,ei,eo={})=>this.request({path:`/contracts/${et}/sub-contracts`,method:"GET",query:ei,format:"json",...eo}).then(ey.convertHttpResponse)},this.market={postMarketPrices:(et,ei,eo={})=>this.request({path:"/market/prices",method:"POST",query:et,body:ei,type:eg.Json,format:"json",...eo}).then(ey.convertHttpResponse),getMarketPricesSymbolCharts:(et,ei,eo={})=>this.request({path:`/market/prices/${et}/charts`,method:"GET",query:ei,format:"json",...eo}).then(ey.convertHttpResponse)},this.utils={putUtilsSanityCheck:(et={})=>this.request({path:"/utils/sanity-check",method:"PUT",...et}).then(ey.convertHttpResponse),putUtilsUpdateGlobalLoglevel:(et,ei={})=>this.request({path:"/utils/update-global-loglevel",method:"PUT",body:et,...ei}).then(ey.convertHttpResponse),putUtilsUpdateLogConfig:(et,ei={})=>this.request({path:"/utils/update-log-config",method:"PUT",body:et,type:eg.Json,...ei}).then(ey.convertHttpResponse)}}}},1442:(et,ei,eo)=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0}),ei.ExplorerProvider=void 0;let ea=eo(4156),ec=eo(3877);let s=class s{constructor(et,ei,eo){let eh;this.request=et=>(0,ea.request)(this,et),"string"==typeof et?eh=function(et,ei,eo){let ea=new ec.Api({baseUrl:et,baseApiParams:{secure:!0},securityWorker:et=>null!==et?{headers:{"X-API-KEY":`${et}`}}:{},customFetch:eo??((...et)=>fetch(...et))});return ea.setSecurityData(ei??null),ea}(et,ei,eo):"function"==typeof et?(eh=new s("https://1.2.3.4:0"),(0,ea.forwardRequests)(eh,et)):eh=et,this.blocks={...eh.blocks},this.transactions={...eh.transactions},this.addresses={...eh.addresses},this.infos={...eh.infos},this.mempool={...eh.mempool},this.tokens={...eh.tokens},this.charts={...eh.charts},this.utils={...eh.utils},this.contracts={...eh.contracts},this.market={...eh.market},this.contractEvents={...eh.contractEvents}}static Proxy(et){return new s(et)}static Remote(et){return new s(et)}};ei.ExplorerProvider=s},3749:function(et,ei,eo){"use strict";var ea=this&&this.__createBinding||(Object.create?function(et,ei,eo,ea){void 0===ea&&(ea=eo);var ec=Object.getOwnPropertyDescriptor(ei,eo);ec&&!("get"in ec?!ei.__esModule:ec.writable||ec.configurable)||(ec={enumerable:!0,get:function(){return ei[eo]}}),Object.defineProperty(et,ea,ec)}:function(et,ei,eo,ea){void 0===ea&&(ea=eo),et[ea]=ei[eo]}),ec=this&&this.__setModuleDefault||(Object.create?function(et,ei){Object.defineProperty(et,"default",{enumerable:!0,value:ei})}:function(et,ei){et.default=ei}),eh=this&&this.__exportStar||function(et,ei){for(var eo in et)"default"===eo||Object.prototype.hasOwnProperty.call(ei,eo)||ea(ei,et,eo)},eu=this&&this.__importStar||function(et){if(et&&et.__esModule)return et;var ei={};if(null!=et)for(var eo in et)"default"!==eo&&Object.prototype.hasOwnProperty.call(et,eo)&&ea(ei,et,eo);return ec(ei,et),ei};Object.defineProperty(ei,"__esModule",{value:!0}),ei.explorer=ei.node=void 0,eh(eo(2707),ei),eh(eo(1442),ei),ei.node=eu(eo(127)),ei.explorer=eu(eo(3877)),eh(eo(4156),ei),eh(eo(3760),ei)},2707:(et,ei,eo)=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0}),ei.tryGetCallResult=ei.NodeProvider=void 0;let ea=eo(4156),ec=eo(127),eh=eo(664),eu=eo(2581);let a=class a{constructor(et,ei,eo){let ed;this.request=et=>(0,ea.request)(this,et),this.fetchFungibleTokenMetaData=async et=>{let ei=(0,eu.addressFromTokenId)(et),eo=(0,eu.groupOfAddress)(ei),ea=Array.from([0,1,2,3],et=>({methodIndex:et,group:eo,address:ei})),ec=(await this.contracts.postContractsMulticallContract({calls:ea})).results.map(et=>c(et));return{symbol:ec[0].returns[0].value,name:ec[1].returns[0].value,decimals:Number(ec[2].returns[0].value),totalSupply:BigInt(ec[3].returns[0].value)}},this.fetchNFTMetaData=async et=>{let ei=(0,eu.addressFromTokenId)(et),eo=(0,eu.groupOfAddress)(ei),ea=Array.from([0,1],et=>({methodIndex:et,group:eo,address:ei})),ec=await this.contracts.postContractsMulticallContract({calls:ea}),ed=(0,eh.hexToString)(c(ec.results[0]).returns[0].value);if("CallContractSucceeded"===ec.results[1].type){let et=ec.results[1];if(void 0===et.returns[0])throw Error("Deprecated NFT contract");let ei=et.returns[0].value;if(void 0===ei||!(0,eh.isHexString)(ei)||64!==ei.length)throw Error("Deprecated NFT contract");let eo=et.returns[1];if(void 0===eo)throw Error("Deprecated NFT contract");let ea=(0,eh.toNonNegativeBigInt)(eo.value);if(void 0===ea||void 0!==et.returns[2])throw Error("Deprecated NFT contract");return{tokenUri:ed,collectionId:ei,nftIndex:ea}}{let et=ec.results[1];throw et.error.startsWith("VM execution error: Invalid method index")?Error("Deprecated NFT contract"):Error(`Failed to call contract, error: ${et.error}`)}},this.fetchNFTCollectionMetaData=async et=>{let ei=(0,eu.addressFromContractId)(et),eo=(0,eu.groupOfAddress)(ei),ea=Array.from([0,1],et=>({methodIndex:et,group:eo,address:ei})),ec=(await this.contracts.postContractsMulticallContract({calls:ea})).results.map(et=>c(et));return{collectionUri:(0,eh.hexToString)(ec[0].returns[0].value),totalSupply:BigInt(ec[1].returns[0].value)}},this.fetchNFTRoyaltyAmount=async(et,ei,eo)=>{let ea=(0,eu.addressFromContractId)(et),ec=(0,eu.groupOfAddress)(ea),eh=c(await this.contracts.postContractsCallContract({address:ea,group:ec,methodIndex:4,args:[{type:"ByteVec",value:ei},{type:"U256",value:eo.toString()}]}));return BigInt(eh.returns[0].value)},this.guessStdInterfaceId=async et=>{let ei=(0,eu.addressFromTokenId)(et),eo=await this.contracts.getContractsAddressState(ei),ea=eo.immFields.slice(-1).pop()?.value;return"string"==typeof ea&&ea.startsWith("414c5048")?ea.slice(8):void 0},this.guessFollowsNFTCollectionStd=async et=>{let ei=await this.guessStdInterfaceId(et);return!!ei&&ei.startsWith(ea.StdInterfaceIds.NFTCollection)},this.guessFollowsNFTCollectionWithRoyaltyStd=async et=>await this.guessStdInterfaceId(et)===ea.StdInterfaceIds.NFTCollectionWithRoyalty,this.guessStdTokenType=async et=>{let ei=await this.guessStdInterfaceId(et);switch(!0){case ei?.startsWith(ea.StdInterfaceIds.FungibleToken):return"fungible";case ei?.startsWith(ea.StdInterfaceIds.NFT):return"non-fungible";default:return}},"string"==typeof et?ed=function(et,ei,eo){let ea=new ec.Api({baseUrl:et,baseApiParams:{secure:!0},securityWorker:et=>null!==et?{headers:{"X-API-KEY":`${et}`}}:{},customFetch:eo??((...et)=>fetch(...et))});return ea.setSecurityData(ei??null),ea}(et,ei,eo):"function"==typeof et?(ed=new a("https://1.2.3.4:0"),(0,ea.forwardRequests)(ed,et)):ed=et,this.wallets={...ed.wallets},this.infos={...ed.infos},this.blockflow={...ed.blockflow},this.addresses={...ed.addresses},this.transactions={...ed.transactions},this.mempool={...ed.mempool},this.contracts={...ed.contracts},this.multisig={...ed.multisig},this.utils={...ed.utils},this.miners={...ed.miners},this.events={...ed.events},(0,ea.requestWithLog)(this)}static Proxy(et){return new a(et)}static Remote(et){return new a(et)}};function c(et){if("CallContractFailed"===et.type)throw Error(`Failed to call contract, error: ${et.error}`);return et}ei.NodeProvider=a,ei.tryGetCallResult=c},4156:(et,ei,eo)=>{"use strict";var ea;Object.defineProperty(ei,"__esModule",{value:!0}),ei.StdInterfaceIds=ei.request=ei.requestWithLog=ei.forwardRequests=ei.getDefaultPrimitiveValue=ei.decodeArrayType=ei.fromApiPrimitiveVal=ei.toApiVal=ei.toApiArray=ei.toApiAddress=ei.toApiByteVec=ei.fromApiNumber256=ei.toApiNumber256Optional=ei.toApiNumber256=ei.toApiBoolean=ei.fromApiTokens=ei.fromApiToken=ei.toApiTokens=ei.toApiToken=ei.PrimitiveTypes=void 0;let ec=eo(7695),eh=eo(2505),eu=eo(4652),ed=eo(664);function a(et){return{id:et.id,amount:u(et.amount)}}function c(et){return{id:et.id,amount:d(et.amount)}}function h(et){if("boolean"==typeof et)return et;throw Error(`Invalid boolean value: ${et}`)}function u(et){if("number"==typeof et&&Number.isInteger(et)||"bigint"==typeof et)return et.toString();if("string"==typeof et)try{if(BigInt(et).toString()===et)return et}catch(ei){throw new eu.TraceableError(`Invalid value: ${et}, expected a 256 bit number`,ei)}throw Error(`Invalid value: ${et}, expected a 256 bit number`)}function d(et){return BigInt(et)}function f(et){if("string"!=typeof et)throw Error(`Invalid value: ${et}, expected a hex-string`);if((0,ed.isHexString)(et))return et;if((0,ed.isBase58)(et)){let ei=(0,ed.base58ToBytes)(et);if(33===ei.length&&3===ei[0])return(0,ed.binToHex)(ei.slice(1))}throw Error(`Invalid hex-string: ${et}`)}function l(et){if("string"==typeof et){if((0,ed.isBase58)(et))return et;throw Error(`Invalid base58 string: ${et}`)}throw Error(`Invalid value: ${et}, expected a base58 string`)}function p(et,ei){if(!Array.isArray(ei))throw Error(`Expected array, got ${ei}`);let eo=et.lastIndexOf(";");if(-1==eo)throw Error(`Invalid Val type: ${et}`);let ea=et.slice(1,eo),ec=parseInt(et.slice(eo+1,-1));if(ei.length!=ec)throw Error(`Invalid val dimension: ${ei}`);return{value:ei.map(et=>b(et,ea)),type:"Array"}}function b(et,ei){return"Bool"===ei?{value:h(et),type:ei}:"U256"===ei||"I256"===ei?{value:u(et),type:ei}:"ByteVec"===ei?{value:f(et),type:ei}:"Address"===ei?{value:l(et),type:ei}:p(ei,et)}async function g(et,ei){let eo=(0,eh.isDebugModeEnabled)(),{path:ea,method:ec,params:ed}=et;eo&&console.log(`[REQUEST] ${ea} ${ec} ${JSON.stringify(ed)}`);try{let eh=await ei(et);return eo&&console.log(`[RESPONSE] ${ea} ${ec} ${JSON.stringify(eh)}`),eh}catch(et){throw eo&&console.error(`[ERROR] ${ea} ${ec} `,et),new eu.TraceableError(`Failed to request ${ec}`,et)}}ei.PrimitiveTypes=["U256","I256","Bool","ByteVec","Address"],ed.assertType,ei.toApiToken=a,ei.toApiTokens=function(et){return et?.map(a)},ei.fromApiToken=c,ei.fromApiTokens=function(et){return et?.map(c)},ei.toApiBoolean=h,ei.toApiNumber256=u,ei.toApiNumber256Optional=function(et){return void 0===et?void 0:u(et)},ei.fromApiNumber256=d,ei.toApiByteVec=f,ei.toApiAddress=l,ei.toApiArray=p,ei.toApiVal=b,ei.fromApiPrimitiveVal=function(et,ei,eo=!1){if("Bool"===ei&&et.type===ei)return et.value;if("U256"!==ei&&"I256"!==ei||et.type!==ei){if("ByteVec"!==ei&&"Address"!==ei||et.type!==ei&&!eo)throw Error(`Expected primitive type, got ${ei}`);return et.value}return d(et.value)},ei.decodeArrayType=function(et){let ei=et.lastIndexOf(";");if(-1===ei)throw Error(`Invalid array type: ${et}`);return[et.slice(1,ei),parseInt(et.slice(ei+1,-1))]},ei.getDefaultPrimitiveValue=function(et){if("U256"===et||"I256"===et)return 0n;if("Bool"===et)return!1;if("ByteVec"===et)return"";if("Address"===et)return ec.ZERO_ADDRESS;throw Error(`Expected primitive type, got ${et}`)},ei.forwardRequests=function(et,ei){for(let[eo,ea]of Object.entries(et))for(let et of Object.keys(ea))ea[`${et}`]=async(...ea)=>g({path:eo,method:et,params:ea},ei)},ei.requestWithLog=function(et){for(let[ei,eo]of Object.entries(et))for(let[et,ea]of Object.entries(eo))eo[`${et}`]=async(...eo)=>g({path:ei,method:et,params:eo},()=>ea(...eo))},ei.request=async function(et,ei){return(0,et[`${ei.path}`][`${ei.method}`])(...ei.params)},(ea=ei.StdInterfaceIds||(ei.StdInterfaceIds={})).FungibleToken="0001",ea.NFTCollection="0002",ea.NFT="0003",ea.NFTCollectionWithRoyalty="000201"},3760:(et,ei,eo)=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0}),ei.isBalanceEqual=ei.convertHttpResponse=void 0,eo(9114),ei.convertHttpResponse=function(et){if(et.error){let ei=et.error.detail??"Unknown error";throw Error(`[API Error] - ${ei} - Status code: ${et.status}`)}return et.data},ei.isBalanceEqual=function(et,ei){let r=(et,ei)=>{let eo=et?.length??0;if(eo!==(ei?.length??0))return!1;if(0===eo)return!0;let ea=ei.map(et=>({...et,used:!1}));return et.every(et=>{let ei=ea.find(ei=>!ei.used&&et.id===ei.id&&et.amount===ei.amount);return void 0!==ei&&(ei.used=!0,!0)})},eo=et.balance===ei.balance&&et.lockedBalance===ei.lockedBalance;return et.utxoNum===ei.utxoNum&&eo&&r(et.tokenBalances,ei.tokenBalances)&&r(et.lockedTokenBalances,ei.lockedTokenBalances)}},645:function(et,ei,eo){"use strict";var ea=this&&this.__createBinding||(Object.create?function(et,ei,eo,ea){void 0===ea&&(ea=eo);var ec=Object.getOwnPropertyDescriptor(ei,eo);ec&&!("get"in ec?!ei.__esModule:ec.writable||ec.configurable)||(ec={enumerable:!0,get:function(){return ei[eo]}}),Object.defineProperty(et,ea,ec)}:function(et,ei,eo,ea){void 0===ea&&(ea=eo),et[ea]=ei[eo]}),ec=this&&this.__setModuleDefault||(Object.create?function(et,ei){Object.defineProperty(et,"default",{enumerable:!0,value:ei})}:function(et,ei){et.default=ei}),eh=this&&this.__importStar||function(et){if(et&&et.__esModule)return et;var ei={};if(null!=et)for(var eo in et)"default"!==eo&&Object.prototype.hasOwnProperty.call(et,eo)&&ea(ei,et,eo);return ec(ei,et),ei};Object.defineProperty(ei,"__esModule",{value:!0}),ei.BlockSubscription=ei.BlockSubscriptionBase=void 0;let eu=eo(531),ed=eh(eo(307)),ef=eo(7695);let u=class u extends eu.Subscription{getParentHash(et){let ei=Math.floor(et.deps.length/2)+et.chainTo;return et.deps[ei]}async handleReorg(et,ei,eo,ea){if(console.info(`reorg occur in chain ${et} -> ${ei}, orphan hash: ${eo}, new hash: ${ea}`),void 0===this.reorgCallback)return;let ec=[],eh,eu=eo;for(;;){let eo=await this.getBlockByHash(eu);ec.push(eo);let ea=await this.getHashesAtHeight(et,ei,eo.height-1),ed=this.getParentHash(eo);if(ea[0]===ed){eh=ea[0];break}eu=ed}let ed=[];for(eu=ea;eu!==eh;){let et=await this.getBlockByHash(eu);ed.push(et),eu=this.getParentHash(et)}let ef=ec.reverse(),el=ed.reverse();console.info(`orphan hashes: ${ef.map(et=>et.hash)}, new hashes: ${el.map(et=>et.hash)}`),await this.reorgCallback(et,ei,ef,el)}};ei.BlockSubscriptionBase=u,ei.BlockSubscription=class extends u{constructor(et,ei,eo){super(et),this.nodeProvider=eo??ed.getCurrentNodeProvider(),this.reorgCallback=et.reorgCallback,this.fromTimeStamp=ei,this.parents=Array(ef.TOTAL_NUMBER_OF_CHAINS).fill(void 0),this.cache=new Map}async getHashesAtHeight(et,ei,eo){return(await this.nodeProvider.blockflow.getBlockflowHashes({fromGroup:et,toGroup:ei,height:eo})).headers}async getBlockByHash(et){return await this.nodeProvider.blockflow.getBlockflowBlocksBlockHash(et)}async getMissingBlocksAndHandleReorg(et,ei,eo){let ea=[],ec=eo;for(;ec.height-1>ei;){let et=this.getParentHash(ec),ei=await this.getBlockByHash(et);ea.push(ei),ec=ei}let eh=this.getParentHash(ec);return eh!==et&&await this.handleReorg(eo.chainFrom,eo.chainTo,et,eh),ea.reverse()}async handleBlocks(et,ei){let eo=[];for(let ei=0;ei<et.length;ei+=1){let ea=et[ei].filter(et=>!this.cache.has(et.hash));if(0===ea.length)continue;eo.push(...ea);let ec=this.parents[ei];if(void 0!==ec){let et=await this.getMissingBlocksAndHandleReorg(ec.hash,ec.height,ea[0]);eo.push(...et)}let eh=ea[ea.length-1];this.parents[ei]={hash:eh.hash,height:eh.height}}let ea=eo.sort((et,ei)=>et.timestamp-ei.timestamp);try{await this.messageCallback(ea)}finally{let et=ei-2e4;Array.from(this.cache.entries()).forEach(([ei,eo])=>{eo<et&&this.cache.delete(ei)});let eo=ea.findIndex(ei=>ei.timestamp>=et);-1!==eo&&ea.slice(eo).forEach(et=>this.cache.set(et.hash,et.timestamp))}}async polling(){let et=Date.now();if(!(this.fromTimeStamp>=et))for(;this.fromTimeStamp<et;){if(this.isCancelled())return;let ei=Math.min(this.fromTimeStamp+6e4,et);try{let eo=await this.nodeProvider.blockflow.getBlockflowBlocks({fromTs:this.fromTimeStamp,toTs:ei});await this.handleBlocks(eo.blocks,et)}catch(et){await this.errorCallback(et,this)}if(!(this.fromTimeStamp+2e4<et))return;this.fromTimeStamp=Math.min(ei+1,et-2e4)}}}},4648:(et,ei,eo)=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0}),ei.BlockSubscription=void 0;var ea=eo(645);Object.defineProperty(ei,"BlockSubscription",{enumerable:!0,get:function(){return ea.BlockSubscription}})},2205:(et,ei,eo)=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0}),ei.ArrayCodec=void 0;let ea=eo(5617),ec=eo(2709),eh=eo(664);let o=class o extends ec.Codec{constructor(et){super(),this.childCodec=et}encode(et){let ei=[ea.i32Codec.encode(et.length)];for(let eo of et)ei.push(this.childCodec.encode(eo));return(0,eh.concatBytes)(ei)}_decode(et){let ei=ea.i32Codec._decode(et),eo=[];for(let ea=0;ea<ei;ea+=1)eo.push(this.childCodec._decode(et));return eo}};ei.ArrayCodec=o},406:(et,ei,eo)=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0}),ei.assetOutputsCodec=ei.assetOutputCodec=ei.AssetOutputCodec=void 0;let ea=eo(2205),ec=eo(5617),eh=eo(2768),eu=eo(7500),ed=eo(5675),ef=eo(1678),el=eo(7007),ep=eo(664),eb=eo(2709),eg=eo(6341);let l=class l extends eb.ObjectCodec{static toFixedAssetOutputs(et,ei){return ei.map((ei,eo)=>l.toFixedAssetOutput(et,ei,eo))}static toFixedAssetOutput(et,ei,eo){let ea;let ec=ei.amount.toString(),eu=Number(ei.lockTime),ed=ei.tokens.map(et=>({id:(0,ep.binToHex)(et.tokenId),amount:et.amount.toString()})),eb=(0,ep.binToHex)(ei.additionalData),eg=ei.lockupScript.kind,em=(0,ep.binToHex)((0,el.blakeHash)((0,ep.concatBytes)([et,eh.intAs4BytesCodec.encode(eo)]))),ey=ei.lockupScript.value,ev=ep.bs58.encode(ef.lockupScriptCodec.encode(ei.lockupScript));if("P2PKH"===eg)ea=(0,el.createHint)(ey);else if("P2MPKH"===eg)ea=(0,el.createHint)(ey.publicKeyHashes[0]);else{if("P2SH"!==eg)throw"P2C"===eg?Error("P2C script type not allowed for asset output"):Error(`Unexpected output script type: ${eg}`);ea=(0,el.createHint)(ey)}return{hint:ea,key:em,attoAlphAmount:ec,lockTime:eu,tokens:ed,address:ev,message:eb}}static fromFixedAssetOutputs(et){return et.map(et=>l.fromFixedAssetOutput(et))}static fromFixedAssetOutput(et){let ei=BigInt(et.attoAlphAmount),eo=BigInt(et.lockTime);return{amount:ei,lockupScript:ef.lockupScriptCodec.decode(ep.bs58.decode(et.address)),lockTime:eo,tokens:et.tokens.map(et=>({tokenId:(0,ep.hexToBinUnsafe)(et.id),amount:BigInt(et.amount)})),additionalData:(0,ep.hexToBinUnsafe)(et.message)}}};ei.AssetOutputCodec=l,ei.assetOutputCodec=new l({amount:ec.u256Codec,lockupScript:ef.lockupScriptCodec,lockTime:eu.timestampCodec,tokens:eg.tokensCodec,additionalData:ed.byteStringCodec}),ei.assetOutputsCodec=new ea.ArrayCodec(ei.assetOutputCodec)},3567:(et,ei)=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0}),ei.BigIntCodec=void 0,ei.BigIntCodec=class{static encode(et){if(0n===et)return new Uint8Array([0]);let ei=et<0n,eo=ei?-et:et,ea=[];for(;eo>0n;)ea.push(Number(255n&eo)),eo>>=8n;if(!ei&&128&ea[ea.length-1]&&ea.push(0),ei){let et=!0;for(let ei=0;ei<ea.length;ei++)ea[ei]=255&~ea[ei],et&&(255===ea[ei]?ea[ei]=0:(ea[ei]+=1,et=!1));!et&&0!==ea.length&&128&ea[ea.length-1]||ea.push(255)}return new Uint8Array(ea.reverse())}static decodeUnsigned(et){if(1===et.length&&0===et[0])return 0n;let ei=0n;for(let eo of et)ei=ei<<8n|BigInt(eo);return ei}static decodeSigned(et){if(1===et.length&&0===et[0])return 0n;let ei=!!(128&et[0]),eo=0n;for(let ei of et)eo=eo<<8n|BigInt(ei);return ei&&(eo=-(~eo&(1n<<8n*BigInt(et.length))-1n)-1n),eo}}},5675:(et,ei,eo)=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0}),ei.byteStringsCodec=ei.byteStringCodec=ei.ByteStringCodec=void 0;let ea=eo(5617),ec=eo(2709),eh=eo(664),eu=eo(2205);let a=class a extends ec.Codec{encode(et){return(0,eh.concatBytes)([ea.i32Codec.encode(et.length),et])}_decode(et){let ei=ea.i32Codec._decode(et);return et.consumeBytes(ei)}};ei.ByteStringCodec=a,ei.byteStringCodec=new a,ei.byteStringsCodec=new eu.ArrayCodec(ei.byteStringCodec)},2709:(et,ei,eo)=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0}),ei.boolCodec=ei.byteCodec=ei.byte32Codec=ei.EnumCodec=ei.ObjectCodec=ei.FixedSizeCodec=ei.assert=ei.Codec=void 0;let ea=eo(664),ec=eo(7248);let s=class s{decode(et){let ei=new ec.Reader(et);return this._decode(ei)}bimap(et,ei){return new class extends s{constructor(et){super(),this.codecT=et}encode(et){return this.codecT.encode(ei(et))}_decode(ei){return et(this.codecT._decode(ei))}}(this)}};function o(et,ei){if(!et)throw Error(ei)}ei.Codec=s,ei.assert=o;let a=class a extends s{constructor(et){super(),this.size=et}encode(et){return o(et.length===this.size,`Invalid length, expected ${this.size}, got ${et.length}`),et}_decode(et){return et.consumeBytes(this.size)}};ei.FixedSizeCodec=a,ei.ObjectCodec=class extends s{constructor(et){super(),this.codecs=et,this.keys=Object.keys(et)}encode(et){let ei=[];for(let eo of this.keys)ei.push(this.codecs[eo].encode(et[eo]));return(0,ea.concatBytes)(ei)}_decode(et){let ei={};for(let eo of this.keys)ei[eo]=this.codecs[eo]._decode(et);return ei}},ei.EnumCodec=class extends s{constructor(et,ei){super(),this.name=et,this.codecs=ei,this.kinds=Object.keys(ei)}encode(et){let ei=this.kinds.findIndex(ei=>ei===et.kind);if(-1===ei)throw Error(`Invalid ${this.name} kind ${et.kind}, expected one of ${this.kinds}`);let eo=this.codecs[et.kind];return new Uint8Array([ei,...eo.encode(et.value)])}_decode(et){let ei=et.consumeByte();if(ei>=0&&ei<this.kinds.length){let eo=this.kinds[`${ei}`];return{kind:eo,value:this.codecs[eo]._decode(et)}}throw Error(`Invalid encoded ${this.name} kind: ${ei}`)}},ei.byte32Codec=new a(32),ei.byteCodec=new class extends s{encode(et){return o(et>=0&&et<256,`Invalid byte: ${et}`),new Uint8Array([et])}_decode(et){return et.consumeByte()}},ei.boolCodec=new class extends s{encode(et){return new Uint8Array([et?1:0])}_decode(et){let ei=et.consumeByte();if(1===ei)return!0;if(0===ei)return!1;throw Error(`Invalid encoded bool value ${ei}, expected 0 or 1`)}}},5617:(et,ei,eo)=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0}),ei.i32Codec=ei.i256Codec=ei.Signed=ei.u32Codec=ei.u256Codec=ei.UnSigned=void 0;let ea=eo(2709),ec=eo(3567),eh={type:"SingleByte",prefix:0,negPrefix:192},eu={type:"TwoByte",prefix:64,negPrefix:128},ed={type:"FourByte",prefix:128,negPrefix:64},ef={type:"MultiByte",prefix:192};function u(et){let ei=et.consumeByte();switch(192&ei){case eh.prefix:return{mode:eh,body:new Uint8Array([ei])};case eu.prefix:return{mode:eu,body:new Uint8Array([ei,...et.consumeBytes(1)])};case ed.prefix:return{mode:ed,body:new Uint8Array([ei,...et.consumeBytes(3)])};default:{let eo=4+(63&ei);return{mode:ef,body:new Uint8Array([ei,...et.consumeBytes(eo)])}}}}let d=class d{static encodeU32(et){return(0,ea.assert)(et>=0&&et<d.u32UpperBound,`Invalid u32 value: ${et}`),new Uint8Array(et<d.oneByteBound?[eh.prefix+et&255]:et<d.twoByteBound?[eu.prefix+(et>>8)&255,255&et]:et<d.fourByteBound?[ed.prefix+(et>>24)&255,et>>16&255,et>>8&255,255&et]:[ef.prefix,et>>24&255,et>>16&255,et>>8&255,255&et])}static encodeU256(et){if((0,ea.assert)(et>=0n&&et<d.u256UpperBound,`Invalid u256 value: ${et}`),et<d.fourByteBound)return d.encodeU32(Number(et));{let ei=ec.BigIntCodec.encode(et);0===ei[0]&&(ei=ei.slice(1));let eo=ei.length-4+ef.prefix&255;return new Uint8Array([eo,...ei])}}static decodeInt(et,ei){switch(et.type){case"SingleByte":return(0,ea.assert)(1===ei.length,"Length should be 2"),ei[0];case"TwoByte":return(0,ea.assert)(2===ei.length,"Length should be 2"),(63&ei[0])<<8|255&ei[1];case"FourByte":return(0,ea.assert)(4===ei.length,"Length should be 4"),((63&ei[0])<<24|(255&ei[1])<<16|(255&ei[2])<<8|255&ei[3])>>>0}}static decodeU32(et,ei){switch(et.type){case"SingleByte":case"TwoByte":case"FourByte":return d.decodeInt(et,ei);case"MultiByte":if((0,ea.assert)(ei.length>=5,"Length should be greater than 5"),5===ei.length)return(ei[1]<<24|(255&ei[2])<<16|(255&ei[3])<<8|255&ei[4])>>>0;throw Error(`Expect 4 bytes int, but get ${ei.length-1} bytes int`)}}static decodeU256(et,ei){switch(et.type){case"SingleByte":case"TwoByte":case"FourByte":return BigInt(d.decodeInt(et,ei));case"MultiByte":return ec.BigIntCodec.decodeUnsigned(ei.slice(1,ei.length))}}};ei.UnSigned=d,d.oneByteBound=BigInt(64),d.twoByteBound=d.oneByteBound<<BigInt(8),d.fourByteBound=d.oneByteBound<<BigInt(24),d.u256UpperBound=BigInt(1)<<BigInt(256),d.u32UpperBound=4294967296,ei.u256Codec=new class extends ea.Codec{encode(et){return d.encodeU256(et)}_decode(et){let{mode:ei,body:eo}=u(et);return d.decodeU256(ei,eo)}},ei.u32Codec=new class extends ea.Codec{encode(et){return d.encodeU32(et)}_decode(et){let{mode:ei,body:eo}=u(et);return d.decodeU32(ei,eo)}};let f=class f{static encodeI32(et){return(0,ea.assert)(et>=f.i32LowerBound&&et<f.i32UpperBound,`Invalid i32 value: ${et}`),et>=0?f.encodePositiveI32(et):f.encodeNegativeI32(et)}static encodePositiveI32(et){return new Uint8Array(et<this.oneByteBound?[eh.prefix+et&255]:et<this.twoByteBound?[eu.prefix+(et>>8)&255,255&et]:et<this.fourByteBound?[ed.prefix+(et>>24)&255,et>>16&255,et>>8&255,255&et]:[ef.prefix,et>>24&255,et>>16&255,et>>8&255,255&et])}static encodeNegativeI32(et){return new Uint8Array(et>=-this.oneByteBound?[255&(et^eh.negPrefix)]:et>=-this.twoByteBound?[255&(et>>8^eu.negPrefix),255&et]:et>=-this.fourByteBound?[255&(et>>24^ed.negPrefix),et>>16&255,et>>8&255,255&et]:[ef.prefix,et>>24&255,et>>16&255,et>>8&255,255&et])}static encodeI256(et){if((0,ea.assert)(et>=f.i256LowerBound&&et<f.i256UpperBound,`Invalid i256 value: ${et}`),et>=-536870912&&et<536870912)return this.encodeI32(Number(et));{let ei=ec.BigIntCodec.encode(et),eo=ei.length-4+ef.prefix&255;return new Uint8Array([eo,...ei])}}static decodeInt(et,ei){return ei[0]&f.signFlag?f.decodeNegativeInt(et,ei):f.decodePositiveInt(et,ei)}static decodePositiveInt(et,ei){switch(et.type){case"SingleByte":return ei[0];case"TwoByte":return(0,ea.assert)(2===ei.length,"Length should be 2"),(63&ei[0])<<8|255&ei[1];case"FourByte":return(0,ea.assert)(4===ei.length,"Length should be 4"),(63&ei[0])<<24|(255&ei[1])<<16|(255&ei[2])<<8|255&ei[3]}}static decodeNegativeInt(et,ei){switch(et.type){case"SingleByte":return 4294967232|ei[0];case"TwoByte":return(0,ea.assert)(2===ei.length,"Length should be 2"),(4294967232|ei[0])<<8|255&ei[1];case"FourByte":return(0,ea.assert)(4===ei.length,"Length should be 4"),(4294967232|ei[0])<<24|(255&ei[1])<<16|(255&ei[2])<<8|255&ei[3]}}static decodeI32(et,ei){switch(et.type){case"SingleByte":case"TwoByte":case"FourByte":return f.decodeInt(et,ei);case"MultiByte":if(5===ei.length)return ei[1]<<24|(255&ei[2])<<16|(255&ei[3])<<8|255&ei[4];throw Error(`Expect 4 bytes int, but get ${ei.length-1} bytes int`)}}static decodeI256(et,ei){switch(et.type){case"SingleByte":case"TwoByte":case"FourByte":return BigInt(f.decodeInt(et,ei));case"MultiByte":let eo=ei.slice(1,ei.length);return(0,ea.assert)(eo.length<=32,"Expect <= 32 bytes for I256"),ec.BigIntCodec.decodeSigned(eo)}}};ei.Signed=f,f.signFlag=32,f.oneByteBound=BigInt(32),f.twoByteBound=f.oneByteBound<<BigInt(8),f.fourByteBound=f.oneByteBound<<BigInt(24),f.i256UpperBound=BigInt(1)<<BigInt(255),f.i256LowerBound=-f.i256UpperBound,f.i32UpperBound=2147483648,f.i32LowerBound=-f.i32UpperBound,ei.i256Codec=new class extends ea.Codec{encode(et){return f.encodeI256(et)}_decode(et){let{mode:ei,body:eo}=u(et);return f.decodeI256(ei,eo)}},ei.i32Codec=new class extends ea.Codec{encode(et){return f.encodeI32(et)}_decode(et){let{mode:ei,body:eo}=u(et);return f.decodeI32(ei,eo)}}},1486:(et,ei,eo)=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0}),ei.contractCodec=ei.ContractCodec=void 0;let ea=eo(2205),ec=eo(2709),eh=eo(5617),eu=eo(3049),ed=eo(664),ef=new ea.ArrayCodec(eh.i32Codec);let h=class h extends ec.Codec{encode(et){return(0,ed.concatBytes)([eh.i32Codec.encode(et.fieldLength),ef.encode(et.methodIndexes),et.methods])}_decode(et){return{fieldLength:eh.i32Codec._decode(et),methodIndexes:ef._decode(et),methods:et.consumeAll()}}decodeContract(et){let ei=this.decode(et),eo=ei.fieldLength,ea=ei.methodIndexes,ec=[];for(let et=0,eo=0;et<ea.length;et++){let eh=ea[et],ed=eu.methodCodec.decode(ei.methods.slice(eo,eh));ec.push(ed),eo=eh}return{fieldLength:eo,methods:ec}}encodeContract(et){let ei=et.fieldLength,eo=et.methods.map(et=>eu.methodCodec.encode(et)),ea=0,ec={fieldLength:ei,methodIndexes:Array.from(Array(eo.length).keys()).map(et=>ea+=eo[`${et}`].length),methods:(0,ed.concatBytes)(eo)};return this.encode(ec)}};ei.ContractCodec=h,ei.contractCodec=new h},1672:(et,ei,eo)=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0}),ei.contractOutputCodec=ei.ContractOutputCodec=void 0;let ea=eo(5617),ec=eo(1678),eh=eo(2709),eu=eo(6341),ed=eo(7007),ef=eo(664),el=eo(2768),ep=eo(1678);let d=class d extends eh.ObjectCodec{static convertToApiContractOutput(et,ei,eo){return{hint:(0,ed.createHint)(ei.lockupScript),key:(0,ef.binToHex)((0,ed.blakeHash)((0,ef.concatBytes)([et,el.intAs4BytesCodec.encode(eo)]))),attoAlphAmount:ei.amount.toString(),address:ef.bs58.encode(new Uint8Array([3,...ei.lockupScript])),tokens:ei.tokens.map(et=>({id:(0,ef.binToHex)(et.tokenId),amount:et.amount.toString()})),type:"ContractOutput"}}static convertToOutput(et){return{amount:BigInt(et.attoAlphAmount),lockupScript:ep.lockupScriptCodec.decode(ef.bs58.decode(et.address)).value,tokens:et.tokens.map(et=>({tokenId:(0,ef.hexToBinUnsafe)(et.id),amount:BigInt(et.amount)}))}}};ei.ContractOutputCodec=d,ei.contractOutputCodec=new d({amount:ea.u256Codec,lockupScript:ec.p2cCodec,tokens:eu.tokensCodec})},4464:(et,ei,eo)=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0}),ei.contractOutputRefsCodec=ei.contractOutputRefCodec=void 0;let ea=eo(2205),ec=eo(2709),eh=eo(2768);ei.contractOutputRefCodec=new ec.ObjectCodec({hint:eh.intAs4BytesCodec,key:ec.byte32Codec}),ei.contractOutputRefsCodec=new ea.ArrayCodec(ei.contractOutputRefCodec)},2577:(et,ei,eo)=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0}),ei.either=void 0;let ea=eo(2709);ei.either=function(et,ei,eo){return new ea.EnumCodec(et,{Left:ei,Right:eo})}},7007:function(et,ei,eo){"use strict";var ea=this&&this.__importDefault||function(et){return et&&et.__esModule?et:{default:et}};Object.defineProperty(ei,"__esModule",{value:!0}),ei.createHint=ei.djbIntHash=ei.blakeHash=void 0;let ec=ea(eo(1540));function s(et){let ei=5381;return et.forEach(et=>{ei=(ei<<5)+ei+(255&et)}),ei}ei.blakeHash=function(et){return ec.default.blake2b(et,void 0,32)},ei.djbIntHash=s,ei.createHint=function(et){return 1|s(et)}},3651:function(et,ei,eo){"use strict";var ea=this&&this.__createBinding||(Object.create?function(et,ei,eo,ea){void 0===ea&&(ea=eo);var ec=Object.getOwnPropertyDescriptor(ei,eo);ec&&!("get"in ec?!ei.__esModule:ec.writable||ec.configurable)||(ec={enumerable:!0,get:function(){return ei[eo]}}),Object.defineProperty(et,ea,ec)}:function(et,ei,eo,ea){void 0===ea&&(ea=eo),et[ea]=ei[eo]}),ec=this&&this.__setModuleDefault||(Object.create?function(et,ei){Object.defineProperty(et,"default",{enumerable:!0,value:ei})}:function(et,ei){et.default=ei}),eh=this&&this.__exportStar||function(et,ei){for(var eo in et)"default"===eo||Object.prototype.hasOwnProperty.call(ei,eo)||ea(ei,et,eo)},eu=this&&this.__importStar||function(et){if(et&&et.__esModule)return et;var ei={};if(null!=et)for(var eo in et)"default"!==eo&&Object.prototype.hasOwnProperty.call(et,eo)&&ea(ei,et,eo);return ec(ei,et),ei};Object.defineProperty(ei,"__esModule",{value:!0}),ei.contract=ei.token=ei.script=ei.val=ei.unlockScript=ei.lockupScript=ei.contractOutput=ei.boolCodec=ei.Codec=ei.assetOutput=void 0,eh(eo(2205),ei),ei.assetOutput=eu(eo(406)),eh(eo(3567),ei),eh(eo(5675),ei);var ed=eo(2709);Object.defineProperty(ei,"Codec",{enumerable:!0,get:function(){return ed.Codec}}),Object.defineProperty(ei,"boolCodec",{enumerable:!0,get:function(){return ed.boolCodec}}),eh(eo(5617),ei),ei.contractOutput=eu(eo(1672)),eh(eo(4464),ei),eh(eo(2577),ei),eh(eo(7544),ei),eh(eo(6210),ei),ei.lockupScript=eu(eo(1678)),ei.unlockScript=eu(eo(2976)),ei.val=eu(eo(1924)),eh(eo(7500),ei),eh(eo(3049),ei),eh(eo(6633),ei),ei.script=eu(eo(4459)),eh(eo(9510),ei),eh(eo(2768),ei),ei.token=eu(eo(6341)),eh(eo(1092),ei),eh(eo(2190),ei),ei.contract=eu(eo(1486))},7544:(et,ei,eo)=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0}),ei.inputsCodec=ei.inputCodec=ei.InputCodec=void 0;let ea=eo(664),ec=eo(2976),eh=eo(2709),eu=eo(2205),ed=eo(2768);let c=class c extends eh.ObjectCodec{static toAssetInputs(et){return et.map(et=>{let ei=et.hint,eo=(0,ea.binToHex)(et.key),eh=ec.unlockScriptCodec.encode(et.unlockScript);return{outputRef:{hint:ei,key:eo},unlockScript:(0,ea.binToHex)(eh)}})}static fromAssetInputs(et){return et.map(et=>({hint:et.outputRef.hint,key:(0,ea.hexToBinUnsafe)(et.outputRef.key),unlockScript:ec.unlockScriptCodec.decode((0,ea.hexToBinUnsafe)(et.unlockScript))}))}};ei.InputCodec=c,ei.inputCodec=new c({hint:ed.intAs4BytesCodec,key:eh.byte32Codec,unlockScript:ec.unlockScriptCodec}),ei.inputsCodec=new eu.ArrayCodec(ei.inputCodec)},6210:(et,ei,eo)=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0}),ei.I256Add=ei.BoolToByteVec=ei.BoolNeq=ei.BoolEq=ei.BoolOr=ei.BoolAnd=ei.BoolNot=ei.Pop=ei.StoreLocal=ei.LoadLocal=ei.AddressConst=ei.BytesConst=ei.U256Const=ei.I256Const=ei.U256Const5=ei.U256Const4=ei.U256Const3=ei.U256Const2=ei.U256Const1=ei.U256Const0=ei.I256ConstN1=ei.I256Const5=ei.I256Const4=ei.I256Const3=ei.I256Const2=ei.I256Const1=ei.I256Const0=ei.ConstFalse=ei.ConstTrue=ei.Return=ei.CallExternal=ei.CallLocal=ei.CallExternalBySelectorCode=ei.MethodSelectorCode=ei.CreateMapEntryCode=ei.LoadImmFieldCode=ei.StoreMutFieldCode=ei.LoadMutFieldCode=ei.DEBUGCode=ei.IfFalseCode=ei.IfTrueCode=ei.JumpCode=ei.StoreLocalCode=ei.LoadLocalCode=ei.AddressConstCode=ei.BytesConstCode=ei.U256ConstCode=ei.I256ConstCode=ei.CallExternalCode=ei.CallLocalCode=void 0,ei.Sha3=ei.Sha256=ei.Keccak256=ei.Blake2b=ei.Assert=ei.IfFalse=ei.IfTrue=ei.Jump=ei.IsContractAddress=ei.IsAssetAddress=ei.AddressToByteVec=ei.AddressNeq=ei.AddressEq=ei.ByteVecConcat=ei.ByteVecSize=ei.ByteVecNeq=ei.ByteVecEq=ei.U256ToByteVec=ei.U256ToI256=ei.I256ToByteVec=ei.I256ToU256=ei.U256SHR=ei.U256SHL=ei.U256Xor=ei.U256BitOr=ei.U256BitAnd=ei.U256ModMul=ei.U256ModSub=ei.U256ModAdd=ei.U256Ge=ei.U256Gt=ei.U256Le=ei.U256Lt=ei.U256Neq=ei.U256Eq=ei.U256Mod=ei.U256Div=ei.U256Mul=ei.U256Sub=ei.U256Add=ei.I256Ge=ei.I256Gt=ei.I256Le=ei.I256Lt=ei.I256Neq=ei.I256Eq=ei.I256Mod=ei.I256Div=ei.I256Mul=ei.I256Sub=void 0,ei.U256Exp=ei.I256Exp=ei.TxGasFee=ei.TxGasAmount=ei.TxGasPrice=ei.DEBUG=ei.BlockHash=ei.Swap=ei.AssertWithErrorCode=ei.Dup=ei.StoreLocalByIndex=ei.LoadLocalByIndex=ei.ContractIdToAddress=ei.Log9=ei.Log8=ei.Log7=ei.Log6=ei.EthEcRecover=ei.U256From32Byte=ei.U256From16Byte=ei.U256From8Byte=ei.U256From4Byte=ei.U256From2Byte=ei.U256From1Byte=ei.U256To32Byte=ei.U256To16Byte=ei.U256To8Byte=ei.U256To4Byte=ei.U256To2Byte=ei.U256To1Byte=ei.Zeros=ei.Encode=ei.ByteVecToAddress=ei.ByteVecSlice=ei.Log5=ei.Log4=ei.Log3=ei.Log2=ei.Log1=ei.VerifyRelativeLocktime=ei.VerifyAbsoluteLocktime=ei.TxInputsSize=ei.TxInputAddressAt=ei.TxId=ei.BlockTarget=ei.BlockTimeStamp=ei.NetworkId=ei.VerifyED25519=ei.VerifySecP256K1=ei.VerifyTxSignature=void 0,ei.CreateSubContractAndTransferToken=ei.CopyCreateContractAndTransferToken=ei.CreateContractAndTransferToken=ei.ContractExists=ei.StoreMutFieldByIndex=ei.LoadMutFieldByIndex=ei.CopyCreateSubContractWithToken=ei.CopyCreateSubContract=ei.CreateSubContractWithToken=ei.CreateSubContract=ei.LockApprovedAssets=ei.BurnToken=ei.CopyCreateContractWithToken=ei.MigrateWithFields=ei.MigrateSimple=ei.ContractCodeHash=ei.ContractInitialStateHash=ei.CallerCodeHash=ei.CallerInitialStateHash=ei.IsCalledFromTxScript=ei.CallerAddress=ei.CallerContractId=ei.SelfAddress=ei.SelfContractId=ei.DestroySelf=ei.CopyCreateContract=ei.CreateContractWithToken=ei.CreateContract=ei.TransferTokenToSelf=ei.TransferTokenFromSelf=ei.TransferToken=ei.TransferAlphToSelf=ei.TransferAlphFromSelf=ei.TransferAlph=ei.IsPaying=ei.TokenRemaining=ei.AlphRemaining=ei.ApproveToken=ei.ApproveAlph=ei.StoreMutField=ei.LoadMutField=ei.GroupOfAddress=ei.BoolToString=ei.I256ToString=ei.U256ToString=ei.AddModN=ei.MulModN=ei.GetSegregatedSignature=ei.VerifyBIP340Schnorr=ei.U256ModExp=void 0,ei.toI256=ei.toU256=ei.instrsCodec=ei.instrCodec=ei.InstrCodec=ei.CallExternalBySelector=ei.MethodSelector=ei.CreateMapEntry=ei.MinimalContractDeposit=ei.PayGasFee=ei.LoadImmFieldByIndex=ei.LoadImmField=ei.ALPHTokenId=ei.SubContractIdOf=ei.SubContractId=ei.NullContractAddress=ei.CopyCreateSubContractAndTransferToken=void 0;let ea=eo(2205),ec=eo(5617),eh=eo(5675),eu=eo(1678),ed=eo(2709),ef=eo(2768);ei.CallLocalCode=0,ei.CallExternalCode=1,ei.I256ConstCode=18,ei.U256ConstCode=19,ei.BytesConstCode=20,ei.AddressConstCode=21,ei.LoadLocalCode=22,ei.StoreLocalCode=23,ei.JumpCode=74,ei.IfTrueCode=75,ei.IfFalseCode=76,ei.DEBUGCode=126,ei.LoadMutFieldCode=160,ei.StoreMutFieldCode=161,ei.LoadImmFieldCode=206,ei.CreateMapEntryCode=210,ei.MethodSelectorCode=211,ei.CallExternalBySelectorCode=212,ei.CallLocal=et=>({name:"CallLocal",code:0,index:et}),ei.CallExternal=et=>({name:"CallExternal",code:1,index:et}),ei.Return={name:"Return",code:2},ei.ConstTrue={name:"ConstTrue",code:3},ei.ConstFalse={name:"ConstFalse",code:4},ei.I256Const0={name:"I256Const0",code:5},ei.I256Const1={name:"I256Const1",code:6},ei.I256Const2={name:"I256Const2",code:7},ei.I256Const3={name:"I256Const3",code:8},ei.I256Const4={name:"I256Const4",code:9},ei.I256Const5={name:"I256Const5",code:10},ei.I256ConstN1={name:"I256ConstN1",code:11},ei.U256Const0={name:"U256Const0",code:12},ei.U256Const1={name:"U256Const1",code:13},ei.U256Const2={name:"U256Const2",code:14},ei.U256Const3={name:"U256Const3",code:15},ei.U256Const4={name:"U256Const4",code:16},ei.U256Const5={name:"U256Const5",code:17},ei.I256Const=et=>({name:"I256Const",code:18,value:et}),ei.U256Const=et=>({name:"U256Const",code:19,value:et}),ei.BytesConst=et=>({name:"BytesConst",code:20,value:et}),ei.AddressConst=et=>({name:"AddressConst",code:21,value:et}),ei.LoadLocal=et=>({name:"LoadLocal",code:22,index:et}),ei.StoreLocal=et=>({name:"StoreLocal",code:23,index:et}),ei.Pop={name:"Pop",code:24},ei.BoolNot={name:"BoolNot",code:25},ei.BoolAnd={name:"BoolAnd",code:26},ei.BoolOr={name:"BoolOr",code:27},ei.BoolEq={name:"BoolEq",code:28},ei.BoolNeq={name:"BoolNeq",code:29},ei.BoolToByteVec={name:"BoolToByteVec",code:30},ei.I256Add={name:"I256Add",code:31},ei.I256Sub={name:"I256Sub",code:32},ei.I256Mul={name:"I256Mul",code:33},ei.I256Div={name:"I256Div",code:34},ei.I256Mod={name:"I256Mod",code:35},ei.I256Eq={name:"I256Eq",code:36},ei.I256Neq={name:"I256Neq",code:37},ei.I256Lt={name:"I256Lt",code:38},ei.I256Le={name:"I256Le",code:39},ei.I256Gt={name:"I256Gt",code:40},ei.I256Ge={name:"I256Ge",code:41},ei.U256Add={name:"U256Add",code:42},ei.U256Sub={name:"U256Sub",code:43},ei.U256Mul={name:"U256Mul",code:44},ei.U256Div={name:"U256Div",code:45},ei.U256Mod={name:"U256Mod",code:46},ei.U256Eq={name:"U256Eq",code:47},ei.U256Neq={name:"U256Neq",code:48},ei.U256Lt={name:"U256Lt",code:49},ei.U256Le={name:"U256Le",code:50},ei.U256Gt={name:"U256Gt",code:51},ei.U256Ge={name:"U256Ge",code:52},ei.U256ModAdd={name:"U256ModAdd",code:53},ei.U256ModSub={name:"U256ModSub",code:54},ei.U256ModMul={name:"U256ModMul",code:55},ei.U256BitAnd={name:"U256BitAnd",code:56},ei.U256BitOr={name:"U256BitOr",code:57},ei.U256Xor={name:"U256Xor",code:58},ei.U256SHL={name:"U256SHL",code:59},ei.U256SHR={name:"U256SHR",code:60},ei.I256ToU256={name:"I256ToU256",code:61},ei.I256ToByteVec={name:"I256ToByteVec",code:62},ei.U256ToI256={name:"U256ToI256",code:63},ei.U256ToByteVec={name:"U256ToByteVec",code:64},ei.ByteVecEq={name:"ByteVecEq",code:65},ei.ByteVecNeq={name:"ByteVecNeq",code:66},ei.ByteVecSize={name:"ByteVecSize",code:67},ei.ByteVecConcat={name:"ByteVecConcat",code:68},ei.AddressEq={name:"AddressEq",code:69},ei.AddressNeq={name:"AddressNeq",code:70},ei.AddressToByteVec={name:"AddressToByteVec",code:71},ei.IsAssetAddress={name:"IsAssetAddress",code:72},ei.IsContractAddress={name:"IsContractAddress",code:73},ei.Jump=et=>({name:"Jump",code:74,offset:et}),ei.IfTrue=et=>({name:"IfTrue",code:75,offset:et}),ei.IfFalse=et=>({name:"IfFalse",code:76,offset:et}),ei.Assert={name:"Assert",code:77},ei.Blake2b={name:"Blake2b",code:78},ei.Keccak256={name:"Keccak256",code:79},ei.Sha256={name:"Sha256",code:80},ei.Sha3={name:"Sha3",code:81},ei.VerifyTxSignature={name:"VerifyTxSignature",code:82},ei.VerifySecP256K1={name:"VerifySecP256K1",code:83},ei.VerifyED25519={name:"VerifyED25519",code:84},ei.NetworkId={name:"NetworkId",code:85},ei.BlockTimeStamp={name:"BlockTimeStamp",code:86},ei.BlockTarget={name:"BlockTarget",code:87},ei.TxId={name:"TxId",code:88},ei.TxInputAddressAt={name:"TxInputAddressAt",code:89},ei.TxInputsSize={name:"TxInputsSize",code:90},ei.VerifyAbsoluteLocktime={name:"VerifyAbsoluteLocktime",code:91},ei.VerifyRelativeLocktime={name:"VerifyRelativeLocktime",code:92},ei.Log1={name:"Log1",code:93},ei.Log2={name:"Log2",code:94},ei.Log3={name:"Log3",code:95},ei.Log4={name:"Log4",code:96},ei.Log5={name:"Log5",code:97},ei.ByteVecSlice={name:"ByteVecSlice",code:98},ei.ByteVecToAddress={name:"ByteVecToAddress",code:99},ei.Encode={name:"Encode",code:100},ei.Zeros={name:"Zeros",code:101},ei.U256To1Byte={name:"U256To1Byte",code:102},ei.U256To2Byte={name:"U256To2Byte",code:103},ei.U256To4Byte={name:"U256To4Byte",code:104},ei.U256To8Byte={name:"U256To8Byte",code:105},ei.U256To16Byte={name:"U256To16Byte",code:106},ei.U256To32Byte={name:"U256To32Byte",code:107},ei.U256From1Byte={name:"U256From1Byte",code:108},ei.U256From2Byte={name:"U256From2Byte",code:109},ei.U256From4Byte={name:"U256From4Byte",code:110},ei.U256From8Byte={name:"U256From8Byte",code:111},ei.U256From16Byte={name:"U256From16Byte",code:112},ei.U256From32Byte={name:"U256From32Byte",code:113},ei.EthEcRecover={name:"EthEcRecover",code:114},ei.Log6={name:"Log6",code:115},ei.Log7={name:"Log7",code:116},ei.Log8={name:"Log8",code:117},ei.Log9={name:"Log9",code:118},ei.ContractIdToAddress={name:"ContractIdToAddress",code:119},ei.LoadLocalByIndex={name:"LoadLocalByIndex",code:120},ei.StoreLocalByIndex={name:"StoreLocalByIndex",code:121},ei.Dup={name:"Dup",code:122},ei.AssertWithErrorCode={name:"AssertWithErrorCode",code:123},ei.Swap={name:"Swap",code:124},ei.BlockHash={name:"BlockHash",code:125},ei.DEBUG=et=>({name:"DEBUG",code:126,stringParts:et}),ei.TxGasPrice={name:"TxGasPrice",code:127},ei.TxGasAmount={name:"TxGasAmount",code:128},ei.TxGasFee={name:"TxGasFee",code:129},ei.I256Exp={name:"I256Exp",code:130},ei.U256Exp={name:"U256Exp",code:131},ei.U256ModExp={name:"U256ModExp",code:132},ei.VerifyBIP340Schnorr={name:"VerifyBIP340Schnorr",code:133},ei.GetSegregatedSignature={name:"GetSegregatedSignature",code:134},ei.MulModN={name:"MulModN",code:135},ei.AddModN={name:"AddModN",code:136},ei.U256ToString={name:"U256ToString",code:137},ei.I256ToString={name:"I256ToString",code:138},ei.BoolToString={name:"BoolToString",code:139},ei.GroupOfAddress={name:"GroupOfAddress",code:140},ei.LoadMutField=et=>({name:"LoadMutField",code:160,index:et}),ei.StoreMutField=et=>({name:"StoreMutField",code:161,index:et}),ei.ApproveAlph={name:"ApproveAlph",code:162},ei.ApproveToken={name:"ApproveToken",code:163},ei.AlphRemaining={name:"AlphRemaining",code:164},ei.TokenRemaining={name:"TokenRemaining",code:165},ei.IsPaying={name:"IsPaying",code:166},ei.TransferAlph={name:"TransferAlph",code:167},ei.TransferAlphFromSelf={name:"TransferAlphFromSelf",code:168},ei.TransferAlphToSelf={name:"TransferAlphToSelf",code:169},ei.TransferToken={name:"TransferToken",code:170},ei.TransferTokenFromSelf={name:"TransferTokenFromSelf",code:171},ei.TransferTokenToSelf={name:"TransferTokenToSelf",code:172},ei.CreateContract={name:"CreateContract",code:173},ei.CreateContractWithToken={name:"CreateContractWithToken",code:174},ei.CopyCreateContract={name:"CopyCreateContract",code:175},ei.DestroySelf={name:"DestroySelf",code:176},ei.SelfContractId={name:"SelfContractId",code:177},ei.SelfAddress={name:"SelfAddress",code:178},ei.CallerContractId={name:"CallerContractId",code:179},ei.CallerAddress={name:"CallerAddress",code:180},ei.IsCalledFromTxScript={name:"IsCalledFromTxScript",code:181},ei.CallerInitialStateHash={name:"CallerInitialStateHash",code:182},ei.CallerCodeHash={name:"CallerCodeHash",code:183},ei.ContractInitialStateHash={name:"ContractInitialStateHash",code:184},ei.ContractCodeHash={name:"ContractCodeHash",code:185},ei.MigrateSimple={name:"MigrateSimple",code:186},ei.MigrateWithFields={name:"MigrateWithFields",code:187},ei.CopyCreateContractWithToken={name:"CopyCreateContractWithToken",code:188},ei.BurnToken={name:"BurnToken",code:189},ei.LockApprovedAssets={name:"LockApprovedAssets",code:190},ei.CreateSubContract={name:"CreateSubContract",code:191},ei.CreateSubContractWithToken={name:"CreateSubContractWithToken",code:192},ei.CopyCreateSubContract={name:"CopyCreateSubContract",code:193},ei.CopyCreateSubContractWithToken={name:"CopyCreateSubContractWithToken",code:194},ei.LoadMutFieldByIndex={name:"LoadMutFieldByIndex",code:195},ei.StoreMutFieldByIndex={name:"StoreMutFieldByIndex",code:196},ei.ContractExists={name:"ContractExists",code:197},ei.CreateContractAndTransferToken={name:"CreateContractAndTransferToken",code:198},ei.CopyCreateContractAndTransferToken={name:"CopyCreateContractAndTransferToken",code:199},ei.CreateSubContractAndTransferToken={name:"CreateSubContractAndTransferToken",code:200},ei.CopyCreateSubContractAndTransferToken={name:"CopyCreateSubContractAndTransferToken",code:201},ei.NullContractAddress={name:"NullContractAddress",code:202},ei.SubContractId={name:"SubContractId",code:203},ei.SubContractIdOf={name:"SubContractIdOf",code:204},ei.ALPHTokenId={name:"ALPHTokenId",code:205},ei.LoadImmField=et=>({name:"LoadImmField",code:206,index:et}),ei.LoadImmFieldByIndex={name:"LoadImmFieldByIndex",code:207},ei.PayGasFee={name:"PayGasFee",code:208},ei.MinimalContractDeposit={name:"MinimalContractDeposit",code:209},ei.CreateMapEntry=(et,ei)=>({name:"CreateMapEntry",code:210,immFieldsNum:et,mutFieldsNum:ei}),ei.MethodSelector=et=>({name:"MethodSelector",code:211,selector:et}),ei.CallExternalBySelector=et=>({name:"CallExternalBySelector",code:212,selector:et});let h=class h extends ed.Codec{encode(et){switch(et.name){case"CallLocal":return new Uint8Array([0,...ed.byteCodec.encode(et.index)]);case"CallExternal":return new Uint8Array([1,...ed.byteCodec.encode(et.index)]);case"Return":return new Uint8Array([2]);case"ConstTrue":return new Uint8Array([3]);case"ConstFalse":return new Uint8Array([4]);case"I256Const0":return new Uint8Array([5]);case"I256Const1":return new Uint8Array([6]);case"I256Const2":return new Uint8Array([7]);case"I256Const3":return new Uint8Array([8]);case"I256Const4":return new Uint8Array([9]);case"I256Const5":return new Uint8Array([10]);case"I256ConstN1":return new Uint8Array([11]);case"U256Const0":return new Uint8Array([12]);case"U256Const1":return new Uint8Array([13]);case"U256Const2":return new Uint8Array([14]);case"U256Const3":return new Uint8Array([15]);case"U256Const4":return new Uint8Array([16]);case"U256Const5":return new Uint8Array([17]);case"I256Const":return new Uint8Array([18,...ec.i256Codec.encode(et.value)]);case"U256Const":return new Uint8Array([19,...ec.u256Codec.encode(et.value)]);case"BytesConst":return new Uint8Array([20,...eh.byteStringCodec.encode(et.value)]);case"AddressConst":return new Uint8Array([21,...eu.lockupScriptCodec.encode(et.value)]);case"LoadLocal":return new Uint8Array([22,...ed.byteCodec.encode(et.index)]);case"StoreLocal":return new Uint8Array([23,...ed.byteCodec.encode(et.index)]);case"Pop":return new Uint8Array([24]);case"BoolNot":return new Uint8Array([25]);case"BoolAnd":return new Uint8Array([26]);case"BoolOr":return new Uint8Array([27]);case"BoolEq":return new Uint8Array([28]);case"BoolNeq":return new Uint8Array([29]);case"BoolToByteVec":return new Uint8Array([30]);case"I256Add":return new Uint8Array([31]);case"I256Sub":return new Uint8Array([32]);case"I256Mul":return new Uint8Array([33]);case"I256Div":return new Uint8Array([34]);case"I256Mod":return new Uint8Array([35]);case"I256Eq":return new Uint8Array([36]);case"I256Neq":return new Uint8Array([37]);case"I256Lt":return new Uint8Array([38]);case"I256Le":return new Uint8Array([39]);case"I256Gt":return new Uint8Array([40]);case"I256Ge":return new Uint8Array([41]);case"U256Add":return new Uint8Array([42]);case"U256Sub":return new Uint8Array([43]);case"U256Mul":return new Uint8Array([44]);case"U256Div":return new Uint8Array([45]);case"U256Mod":return new Uint8Array([46]);case"U256Eq":return new Uint8Array([47]);case"U256Neq":return new Uint8Array([48]);case"U256Lt":return new Uint8Array([49]);case"U256Le":return new Uint8Array([50]);case"U256Gt":return new Uint8Array([51]);case"U256Ge":return new Uint8Array([52]);case"U256ModAdd":return new Uint8Array([53]);case"U256ModSub":return new Uint8Array([54]);case"U256ModMul":return new Uint8Array([55]);case"U256BitAnd":return new Uint8Array([56]);case"U256BitOr":return new Uint8Array([57]);case"U256Xor":return new Uint8Array([58]);case"U256SHL":return new Uint8Array([59]);case"U256SHR":return new Uint8Array([60]);case"I256ToU256":return new Uint8Array([61]);case"I256ToByteVec":return new Uint8Array([62]);case"U256ToI256":return new Uint8Array([63]);case"U256ToByteVec":return new Uint8Array([64]);case"ByteVecEq":return new Uint8Array([65]);case"ByteVecNeq":return new Uint8Array([66]);case"ByteVecSize":return new Uint8Array([67]);case"ByteVecConcat":return new Uint8Array([68]);case"AddressEq":return new Uint8Array([69]);case"AddressNeq":return new Uint8Array([70]);case"AddressToByteVec":return new Uint8Array([71]);case"IsAssetAddress":return new Uint8Array([72]);case"IsContractAddress":return new Uint8Array([73]);case"Jump":return new Uint8Array([74,...ec.i32Codec.encode(et.offset)]);case"IfTrue":return new Uint8Array([75,...ec.i32Codec.encode(et.offset)]);case"IfFalse":return new Uint8Array([76,...ec.i32Codec.encode(et.offset)]);case"Assert":return new Uint8Array([77]);case"Blake2b":return new Uint8Array([78]);case"Keccak256":return new Uint8Array([79]);case"Sha256":return new Uint8Array([80]);case"Sha3":return new Uint8Array([81]);case"VerifyTxSignature":return new Uint8Array([82]);case"VerifySecP256K1":return new Uint8Array([83]);case"VerifyED25519":return new Uint8Array([84]);case"NetworkId":return new Uint8Array([85]);case"BlockTimeStamp":return new Uint8Array([86]);case"BlockTarget":return new Uint8Array([87]);case"TxId":return new Uint8Array([88]);case"TxInputAddressAt":return new Uint8Array([89]);case"TxInputsSize":return new Uint8Array([90]);case"VerifyAbsoluteLocktime":return new Uint8Array([91]);case"VerifyRelativeLocktime":return new Uint8Array([92]);case"Log1":return new Uint8Array([93]);case"Log2":return new Uint8Array([94]);case"Log3":return new Uint8Array([95]);case"Log4":return new Uint8Array([96]);case"Log5":return new Uint8Array([97]);case"ByteVecSlice":return new Uint8Array([98]);case"ByteVecToAddress":return new Uint8Array([99]);case"Encode":return new Uint8Array([100]);case"Zeros":return new Uint8Array([101]);case"U256To1Byte":return new Uint8Array([102]);case"U256To2Byte":return new Uint8Array([103]);case"U256To4Byte":return new Uint8Array([104]);case"U256To8Byte":return new Uint8Array([105]);case"U256To16Byte":return new Uint8Array([106]);case"U256To32Byte":return new Uint8Array([107]);case"U256From1Byte":return new Uint8Array([108]);case"U256From2Byte":return new Uint8Array([109]);case"U256From4Byte":return new Uint8Array([110]);case"U256From8Byte":return new Uint8Array([111]);case"U256From16Byte":return new Uint8Array([112]);case"U256From32Byte":return new Uint8Array([113]);case"EthEcRecover":return new Uint8Array([114]);case"Log6":return new Uint8Array([115]);case"Log7":return new Uint8Array([116]);case"Log8":return new Uint8Array([117]);case"Log9":return new Uint8Array([118]);case"ContractIdToAddress":return new Uint8Array([119]);case"LoadLocalByIndex":return new Uint8Array([120]);case"StoreLocalByIndex":return new Uint8Array([121]);case"Dup":return new Uint8Array([122]);case"AssertWithErrorCode":return new Uint8Array([123]);case"Swap":return new Uint8Array([124]);case"BlockHash":return new Uint8Array([125]);case"DEBUG":return new Uint8Array([126,...eh.byteStringsCodec.encode(et.stringParts)]);case"TxGasPrice":return new Uint8Array([127]);case"TxGasAmount":return new Uint8Array([128]);case"TxGasFee":return new Uint8Array([129]);case"I256Exp":return new Uint8Array([130]);case"U256Exp":return new Uint8Array([131]);case"U256ModExp":return new Uint8Array([132]);case"VerifyBIP340Schnorr":return new Uint8Array([133]);case"GetSegregatedSignature":return new Uint8Array([134]);case"MulModN":return new Uint8Array([135]);case"AddModN":return new Uint8Array([136]);case"U256ToString":return new Uint8Array([137]);case"I256ToString":return new Uint8Array([138]);case"BoolToString":return new Uint8Array([139]);case"GroupOfAddress":return new Uint8Array([140]);case"LoadMutField":return new Uint8Array([160,...ed.byteCodec.encode(et.index)]);case"StoreMutField":return new Uint8Array([161,...ed.byteCodec.encode(et.index)]);case"ApproveAlph":return new Uint8Array([162]);case"ApproveToken":return new Uint8Array([163]);case"AlphRemaining":return new Uint8Array([164]);case"TokenRemaining":return new Uint8Array([165]);case"IsPaying":return new Uint8Array([166]);case"TransferAlph":return new Uint8Array([167]);case"TransferAlphFromSelf":return new Uint8Array([168]);case"TransferAlphToSelf":return new Uint8Array([169]);case"TransferToken":return new Uint8Array([170]);case"TransferTokenFromSelf":return new Uint8Array([171]);case"TransferTokenToSelf":return new Uint8Array([172]);case"CreateContract":return new Uint8Array([173]);case"CreateContractWithToken":return new Uint8Array([174]);case"CopyCreateContract":return new Uint8Array([175]);case"DestroySelf":return new Uint8Array([176]);case"SelfContractId":return new Uint8Array([177]);case"SelfAddress":return new Uint8Array([178]);case"CallerContractId":return new Uint8Array([179]);case"CallerAddress":return new Uint8Array([180]);case"IsCalledFromTxScript":return new Uint8Array([181]);case"CallerInitialStateHash":return new Uint8Array([182]);case"CallerCodeHash":return new Uint8Array([183]);case"ContractInitialStateHash":return new Uint8Array([184]);case"ContractCodeHash":return new Uint8Array([185]);case"MigrateSimple":return new Uint8Array([186]);case"MigrateWithFields":return new Uint8Array([187]);case"CopyCreateContractWithToken":return new Uint8Array([188]);case"BurnToken":return new Uint8Array([189]);case"LockApprovedAssets":return new Uint8Array([190]);case"CreateSubContract":return new Uint8Array([191]);case"CreateSubContractWithToken":return new Uint8Array([192]);case"CopyCreateSubContract":return new Uint8Array([193]);case"CopyCreateSubContractWithToken":return new Uint8Array([194]);case"LoadMutFieldByIndex":return new Uint8Array([195]);case"StoreMutFieldByIndex":return new Uint8Array([196]);case"ContractExists":return new Uint8Array([197]);case"CreateContractAndTransferToken":return new Uint8Array([198]);case"CopyCreateContractAndTransferToken":return new Uint8Array([199]);case"CreateSubContractAndTransferToken":return new Uint8Array([200]);case"CopyCreateSubContractAndTransferToken":return new Uint8Array([201]);case"NullContractAddress":return new Uint8Array([202]);case"SubContractId":return new Uint8Array([203]);case"SubContractIdOf":return new Uint8Array([204]);case"ALPHTokenId":return new Uint8Array([205]);case"LoadImmField":return new Uint8Array([206,...ed.byteCodec.encode(et.index)]);case"LoadImmFieldByIndex":return new Uint8Array([207]);case"PayGasFee":return new Uint8Array([208]);case"MinimalContractDeposit":return new Uint8Array([209]);case"CreateMapEntry":return new Uint8Array([210,...ed.byteCodec.encode(et.immFieldsNum),...ed.byteCodec.encode(et.mutFieldsNum)]);case"MethodSelector":return new Uint8Array([211,...ef.intAs4BytesCodec.encode(et.selector)]);case"CallExternalBySelector":return new Uint8Array([212,...ef.intAs4BytesCodec.encode(et.selector)])}}_decode(et){let eo=et.consumeByte();switch(eo){case 0:return(0,ei.CallLocal)(ed.byteCodec._decode(et));case 1:return(0,ei.CallExternal)(ed.byteCodec._decode(et));case 2:return ei.Return;case 3:return ei.ConstTrue;case 4:return ei.ConstFalse;case 5:return ei.I256Const0;case 6:return ei.I256Const1;case 7:return ei.I256Const2;case 8:return ei.I256Const3;case 9:return ei.I256Const4;case 10:return ei.I256Const5;case 11:return ei.I256ConstN1;case 12:return ei.U256Const0;case 13:return ei.U256Const1;case 14:return ei.U256Const2;case 15:return ei.U256Const3;case 16:return ei.U256Const4;case 17:return ei.U256Const5;case 18:return(0,ei.I256Const)(ec.i256Codec._decode(et));case 19:return(0,ei.U256Const)(ec.u256Codec._decode(et));case 20:return(0,ei.BytesConst)(eh.byteStringCodec._decode(et));case 21:return(0,ei.AddressConst)(eu.lockupScriptCodec._decode(et));case 22:return(0,ei.LoadLocal)(ed.byteCodec._decode(et));case 23:return(0,ei.StoreLocal)(ed.byteCodec._decode(et));case 24:return ei.Pop;case 25:return ei.BoolNot;case 26:return ei.BoolAnd;case 27:return ei.BoolOr;case 28:return ei.BoolEq;case 29:return ei.BoolNeq;case 30:return ei.BoolToByteVec;case 31:return ei.I256Add;case 32:return ei.I256Sub;case 33:return ei.I256Mul;case 34:return ei.I256Div;case 35:return ei.I256Mod;case 36:return ei.I256Eq;case 37:return ei.I256Neq;case 38:return ei.I256Lt;case 39:return ei.I256Le;case 40:return ei.I256Gt;case 41:return ei.I256Ge;case 42:return ei.U256Add;case 43:return ei.U256Sub;case 44:return ei.U256Mul;case 45:return ei.U256Div;case 46:return ei.U256Mod;case 47:return ei.U256Eq;case 48:return ei.U256Neq;case 49:return ei.U256Lt;case 50:return ei.U256Le;case 51:return ei.U256Gt;case 52:return ei.U256Ge;case 53:return ei.U256ModAdd;case 54:return ei.U256ModSub;case 55:return ei.U256ModMul;case 56:return ei.U256BitAnd;case 57:return ei.U256BitOr;case 58:return ei.U256Xor;case 59:return ei.U256SHL;case 60:return ei.U256SHR;case 61:return ei.I256ToU256;case 62:return ei.I256ToByteVec;case 63:return ei.U256ToI256;case 64:return ei.U256ToByteVec;case 65:return ei.ByteVecEq;case 66:return ei.ByteVecNeq;case 67:return ei.ByteVecSize;case 68:return ei.ByteVecConcat;case 69:return ei.AddressEq;case 70:return ei.AddressNeq;case 71:return ei.AddressToByteVec;case 72:return ei.IsAssetAddress;case 73:return ei.IsContractAddress;case 74:return(0,ei.Jump)(ec.i32Codec._decode(et));case 75:return(0,ei.IfTrue)(ec.i32Codec._decode(et));case 76:return(0,ei.IfFalse)(ec.i32Codec._decode(et));case 77:return ei.Assert;case 78:return ei.Blake2b;case 79:return ei.Keccak256;case 80:return ei.Sha256;case 81:return ei.Sha3;case 82:return ei.VerifyTxSignature;case 83:return ei.VerifySecP256K1;case 84:return ei.VerifyED25519;case 85:return ei.NetworkId;case 86:return ei.BlockTimeStamp;case 87:return ei.BlockTarget;case 88:return ei.TxId;case 89:return ei.TxInputAddressAt;case 90:return ei.TxInputsSize;case 91:return ei.VerifyAbsoluteLocktime;case 92:return ei.VerifyRelativeLocktime;case 93:return ei.Log1;case 94:return ei.Log2;case 95:return ei.Log3;case 96:return ei.Log4;case 97:return ei.Log5;case 98:return ei.ByteVecSlice;case 99:return ei.ByteVecToAddress;case 100:return ei.Encode;case 101:return ei.Zeros;case 102:return ei.U256To1Byte;case 103:return ei.U256To2Byte;case 104:return ei.U256To4Byte;case 105:return ei.U256To8Byte;case 106:return ei.U256To16Byte;case 107:return ei.U256To32Byte;case 108:return ei.U256From1Byte;case 109:return ei.U256From2Byte;case 110:return ei.U256From4Byte;case 111:return ei.U256From8Byte;case 112:return ei.U256From16Byte;case 113:return ei.U256From32Byte;case 114:return ei.EthEcRecover;case 115:return ei.Log6;case 116:return ei.Log7;case 117:return ei.Log8;case 118:return ei.Log9;case 119:return ei.ContractIdToAddress;case 120:return ei.LoadLocalByIndex;case 121:return ei.StoreLocalByIndex;case 122:return ei.Dup;case 123:return ei.AssertWithErrorCode;case 124:return ei.Swap;case 125:return ei.BlockHash;case 126:return(0,ei.DEBUG)(eh.byteStringsCodec._decode(et));case 127:return ei.TxGasPrice;case 128:return ei.TxGasAmount;case 129:return ei.TxGasFee;case 130:return ei.I256Exp;case 131:return ei.U256Exp;case 132:return ei.U256ModExp;case 133:return ei.VerifyBIP340Schnorr;case 134:return ei.GetSegregatedSignature;case 135:return ei.MulModN;case 136:return ei.AddModN;case 137:return ei.U256ToString;case 138:return ei.I256ToString;case 139:return ei.BoolToString;case 140:return ei.GroupOfAddress;case 160:return(0,ei.LoadMutField)(ed.byteCodec._decode(et));case 161:return(0,ei.StoreMutField)(ed.byteCodec._decode(et));case 162:return ei.ApproveAlph;case 163:return ei.ApproveToken;case 164:return ei.AlphRemaining;case 165:return ei.TokenRemaining;case 166:return ei.IsPaying;case 167:return ei.TransferAlph;case 168:return ei.TransferAlphFromSelf;case 169:return ei.TransferAlphToSelf;case 170:return ei.TransferToken;case 171:return ei.TransferTokenFromSelf;case 172:return ei.TransferTokenToSelf;case 173:return ei.CreateContract;case 174:return ei.CreateContractWithToken;case 175:return ei.CopyCreateContract;case 176:return ei.DestroySelf;case 177:return ei.SelfContractId;case 178:return ei.SelfAddress;case 179:return ei.CallerContractId;case 180:return ei.CallerAddress;case 181:return ei.IsCalledFromTxScript;case 182:return ei.CallerInitialStateHash;case 183:return ei.CallerCodeHash;case 184:return ei.ContractInitialStateHash;case 185:return ei.ContractCodeHash;case 186:return ei.MigrateSimple;case 187:return ei.MigrateWithFields;case 188:return ei.CopyCreateContractWithToken;case 189:return ei.BurnToken;case 190:return ei.LockApprovedAssets;case 191:return ei.CreateSubContract;case 192:return ei.CreateSubContractWithToken;case 193:return ei.CopyCreateSubContract;case 194:return ei.CopyCreateSubContractWithToken;case 195:return ei.LoadMutFieldByIndex;case 196:return ei.StoreMutFieldByIndex;case 197:return ei.ContractExists;case 198:return ei.CreateContractAndTransferToken;case 199:return ei.CopyCreateContractAndTransferToken;case 200:return ei.CreateSubContractAndTransferToken;case 201:return ei.CopyCreateSubContractAndTransferToken;case 202:return ei.NullContractAddress;case 203:return ei.SubContractId;case 204:return ei.SubContractIdOf;case 205:return ei.ALPHTokenId;case 206:return(0,ei.LoadImmField)(ed.byteCodec._decode(et));case 207:return ei.LoadImmFieldByIndex;case 208:return ei.PayGasFee;case 209:return ei.MinimalContractDeposit;case 210:return(0,ei.CreateMapEntry)(ed.byteCodec._decode(et),ed.byteCodec._decode(et));case 211:return(0,ei.MethodSelector)(ef.intAs4BytesCodec._decode(et));case 212:return(0,ei.CallExternalBySelector)(ef.intAs4BytesCodec._decode(et));default:throw Error(`Unknown instr code: ${eo}`)}}};ei.InstrCodec=h,ei.instrCodec=new h,ei.instrsCodec=new ea.ArrayCodec(ei.instrCodec),ei.toU256=function(et){switch(function(et){if(et<0n||et>=2n**256n)throw Error(`Invalid u256 number: ${et}`)}(et),et){case 0n:return ei.U256Const0;case 1n:return ei.U256Const1;case 2n:return ei.U256Const2;case 3n:return ei.U256Const3;case 4n:return ei.U256Const4;case 5n:return ei.U256Const5;default:return(0,ei.U256Const)(et)}},ei.toI256=function(et){switch(function(et){let ei=2n**255n;if(et<-ei||et>=ei)throw Error(`Invalid i256 number: ${et}`)}(et),et){case 0n:return ei.I256Const0;case 1n:return ei.I256Const1;case 2n:return ei.I256Const2;case 3n:return ei.I256Const3;case 4n:return ei.I256Const4;case 5n:return ei.I256Const5;case-1n:return ei.I256ConstN1;default:return(0,ei.I256Const)(et)}}},2768:(et,ei,eo)=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0}),ei.intAs4BytesCodec=ei.IntAs4BytesCodec=void 0;let ea=eo(2709);let i=class i extends ea.Codec{encode(et){return new Uint8Array([et>>24&255,et>>16&255,et>>8&255,255&et])}_decode(et){let ei=et.consumeBytes(4);return(255&ei[0])<<24|(255&ei[1])<<16|(255&ei[2])<<8|255&ei[3]}};ei.IntAs4BytesCodec=i,ei.intAs4BytesCodec=new i},1678:(et,ei,eo)=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0}),ei.lockupScriptCodec=ei.p2cCodec=void 0;let ea=eo(5617),ec=eo(2709),eh=eo(2205);ei.p2cCodec=ec.byte32Codec;let eu=new ec.ObjectCodec({publicKeyHashes:new eh.ArrayCodec(ec.byte32Codec),m:ea.i32Codec});ei.lockupScriptCodec=new ec.EnumCodec("lockup script",{P2PKH:ec.byte32Codec,P2MPKH:eu,P2SH:ec.byte32Codec,P2C:ec.byte32Codec})},3049:(et,ei,eo)=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0}),ei.methodsCodec=ei.methodCodec=ei.MethodCodec=void 0;let ea=eo(2205),ec=eo(5617),eh=eo(2709),eu=eo(6210),ed=eo(664);let c=class c extends eh.Codec{encode(et){let ei=[];return ei.push(eh.boolCodec.encode(et.isPublic)),ei.push(new Uint8Array([(et.usePreapprovedAssets||et.useContractAssets?et.usePreapprovedAssets&&et.useContractAssets?1:!et.usePreapprovedAssets&&et.useContractAssets?2:3:0)|(et.usePayToContractOnly?4:0)])),ei.push(ec.i32Codec.encode(et.argsLength)),ei.push(ec.i32Codec.encode(et.localsLength)),ei.push(ec.i32Codec.encode(et.returnLength)),ei.push(eu.instrsCodec.encode(et.instrs)),(0,ed.concatBytes)(ei)}_decode(et){let ei=eh.boolCodec._decode(et);return{...function(et){let ei=!!(4&et);switch(3&et){case 0:return{usePayToContractOnly:ei,usePreapprovedAssets:!1,useContractAssets:!1};case 1:return{usePayToContractOnly:ei,usePreapprovedAssets:!0,useContractAssets:!0};case 2:return{usePayToContractOnly:ei,usePreapprovedAssets:!1,useContractAssets:!0};case 3:return{usePayToContractOnly:ei,usePreapprovedAssets:!0,useContractAssets:!1};default:throw Error(`Invalid asset modifier: ${et}`)}}(eh.byteCodec._decode(et)),isPublic:ei,argsLength:ec.i32Codec._decode(et),localsLength:ec.i32Codec._decode(et),returnLength:ec.i32Codec._decode(et),instrs:eu.instrsCodec._decode(et)}}};ei.MethodCodec=c,ei.methodCodec=new c,ei.methodsCodec=new ea.ArrayCodec(ei.methodCodec)},6633:(et,ei,eo)=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0}),ei.option=void 0;let ea=eo(2709),ec=new class extends ea.Codec{encode(){return new Uint8Array([])}_decode(){}};ei.option=function(et){return new ea.EnumCodec("option",{None:ec,Some:et})}},7421:(et,ei,eo)=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0}),ei.outputsCodec=ei.outputCodec=void 0;let ea=eo(2205),ec=eo(2577),eh=eo(406),eu=eo(1672);ei.outputCodec=(0,ec.either)("output",eh.assetOutputCodec,eu.contractOutputCodec),ei.outputsCodec=new ea.ArrayCodec(ei.outputCodec)},7248:(et,ei)=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0}),ei.Reader=void 0,ei.Reader=class{constructor(et){this.index=0,this.bytes=et}consumeByte(){if(this.index>=this.bytes.length)throw Error(`Index out of range: unable to consume byte at index ${this.index}, data length: ${this.bytes.length}`);let et=this.bytes[`${this.index}`];return this.index+=1,et}consumeBytes(et){let ei=this.index,eo=this.index+et;if(ei>eo||eo>this.bytes.length)throw Error(`Index out of range: unable to consume bytes from index ${ei} to ${eo}, data length: ${this.bytes.length}`);let ea=this.bytes.slice(ei,eo);return this.index=eo,ea}consumeAll(){return this.consumeBytes(this.bytes.length-this.index)}}},4459:(et,ei,eo)=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0}),ei.statefulScriptCodecOpt=ei.scriptCodec=ei.ScriptCodec=void 0;let ea=eo(2709),ec=eo(3049),eh=eo(6633);let o=class o extends ea.Codec{encode(et){return ec.methodsCodec.encode(et.methods)}_decode(et){return{methods:ec.methodsCodec._decode(et)}}};ei.ScriptCodec=o,ei.scriptCodec=new o,ei.statefulScriptCodecOpt=(0,eh.option)(ei.scriptCodec)},9510:(et,ei,eo)=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0}),ei.signaturesCodec=ei.signatureCodec=void 0;let ea=eo(2205),ec=eo(2709);ei.signatureCodec=new ec.FixedSizeCodec(64),ei.signaturesCodec=new ea.ArrayCodec(ei.signatureCodec)},7500:(et,ei,eo)=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0}),ei.timestampCodec=ei.TimestampCodec=void 0;let ea=eo(664),ec=eo(2709);let s=class s extends ec.Codec{encode(et){(0,ec.assert)(et>=0n&&et<s.max,`Invalid timestamp: ${et}`);let ei=new Uint8Array(8);for(let eo=0;eo<8;eo+=1)ei[`${eo}`]=Number(et>>BigInt(8*(7-eo))&BigInt(255));return ei}_decode(et){let ei=et.consumeBytes(8);return BigInt(`0x${(0,ea.binToHex)(ei)}`)}};ei.TimestampCodec=s,s.max=1n<<64n,ei.timestampCodec=new s},6341:(et,ei,eo)=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0}),ei.tokensCodec=ei.tokenCodec=void 0;let ea=eo(5617),ec=eo(2709),eh=eo(2205);ei.tokenCodec=new ec.ObjectCodec({tokenId:ec.byte32Codec,amount:ea.u256Codec}),ei.tokensCodec=new eh.ArrayCodec(ei.tokenCodec)},1092:(et,ei,eo)=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0}),ei.transactionCodec=ei.TransactionCodec=void 0;let ea=eo(2190),ec=eo(9510),eh=eo(4464),eu=eo(406),ed=eo(1672),ef=eo(664),el=eo(2709),ep=eo(7421);let d=class d extends el.ObjectCodec{encodeApiTransaction(et){let ei=d.fromApiTransaction(et);return this.encode(ei)}decodeApiTransaction(et){let ei=this.decode(et);return d.toApiTransaction(ei)}static toApiTransaction(et){let ei=ea.UnsignedTxCodec.txId(et.unsigned),eo=ea.UnsignedTxCodec.toApiUnsignedTx(et.unsigned),ec=!!et.scriptExecutionOk,eh=et.contractInputs.map(et=>({hint:et.hint,key:(0,ef.binToHex)(et.key)})),el=(0,ef.hexToBinUnsafe)(ei);return{unsigned:eo,scriptExecutionOk:ec,contractInputs:eh,generatedOutputs:et.generatedOutputs.map((et,ei)=>"Left"===et.kind?{...eu.AssetOutputCodec.toFixedAssetOutput(el,et.value,ei),type:"AssetOutput"}:ed.ContractOutputCodec.convertToApiContractOutput(el,et.value,ei)),inputSignatures:et.inputSignatures.map(et=>(0,ef.binToHex)(et)),scriptSignatures:et.scriptSignatures.map(et=>(0,ef.binToHex)(et))}}static fromApiTransaction(et){return{unsigned:ea.UnsignedTxCodec.fromApiUnsignedTx(et.unsigned),scriptExecutionOk:et.scriptExecutionOk?1:0,contractInputs:et.contractInputs.map(et=>({hint:et.hint,key:(0,ef.hexToBinUnsafe)(et.key)})),generatedOutputs:et.generatedOutputs.map(et=>{if("AssetOutput"===et.type)return{kind:"Left",value:eu.AssetOutputCodec.fromFixedAssetOutput(et)};if("ContractOutput"===et.type)return{kind:"Right",value:ed.ContractOutputCodec.convertToOutput(et)};throw Error("Invalid output type")}),inputSignatures:et.inputSignatures.map(et=>(0,ef.hexToBinUnsafe)(et)),scriptSignatures:et.scriptSignatures.map(et=>(0,ef.hexToBinUnsafe)(et))}}};ei.TransactionCodec=d,ei.transactionCodec=new d({unsigned:ea.unsignedTxCodec,scriptExecutionOk:el.byteCodec,contractInputs:eh.contractOutputRefsCodec,generatedOutputs:ep.outputsCodec,inputSignatures:ec.signaturesCodec,scriptSignatures:ec.signaturesCodec})},2976:(et,ei,eo)=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0}),ei.encodedSameAsPrevious=ei.unlockScriptCodec=void 0;let ea=eo(2205),ec=eo(5617),eh=eo(2709),eu=eo(4459),ed=eo(1924),ef=new eh.FixedSizeCodec(33),el=new eh.ObjectCodec({publicKey:ef,index:ec.i32Codec}),ep=new ea.ArrayCodec(el),eb=new eh.ObjectCodec({script:eu.scriptCodec,params:ed.valsCodec}),eg=new class extends eh.Codec{encode(){return new Uint8Array([])}_decode(){return"SameAsPrevious"}};ei.unlockScriptCodec=new eh.EnumCodec("unlock script",{P2PKH:ef,P2MPKH:ep,P2SH:eb,SameAsPrevious:eg}),ei.encodedSameAsPrevious=ei.unlockScriptCodec.encode({kind:"SameAsPrevious",value:"SameAsPrevious"})},2190:(et,ei,eo)=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0}),ei.unsignedTxCodec=ei.UnsignedTxCodec=void 0;let ea=eo(664),ec=eo(4459),eh=eo(5617),eu=eo(7544),ed=eo(406),ef=eo(7007),el=eo(2709);let u=class u extends el.ObjectCodec{encodeApiUnsignedTx(et){let ei=u.fromApiUnsignedTx(et);return this.encode(ei)}decodeApiUnsignedTx(et){let ei=this.decode(et);return u.toApiUnsignedTx(ei)}static txId(et){return(0,ea.binToHex)((0,ef.blakeHash)(ei.unsignedTxCodec.encode(et)))}static toApiUnsignedTx(et){let ei;let eo=u.txId(et),eh=(0,ea.hexToBinUnsafe)(eo),ef=et.version,el=et.networkId,ep=et.gasAmount,eb=et.gasPrice.toString(),eg=eu.InputCodec.toAssetInputs(et.inputs),em=ed.AssetOutputCodec.toFixedAssetOutputs(eh,et.fixedOutputs);return"Some"===et.statefulScript.kind&&(ei=(0,ea.binToHex)(ec.scriptCodec.encode(et.statefulScript.value))),{txId:eo,version:ef,networkId:el,gasAmount:ep,scriptOpt:ei,gasPrice:eb,inputs:eg,fixedOutputs:em}}static fromApiUnsignedTx(et){return{version:et.version,networkId:et.networkId,gasAmount:et.gasAmount,gasPrice:BigInt(et.gasPrice),inputs:eu.InputCodec.fromAssetInputs(et.inputs),fixedOutputs:ed.AssetOutputCodec.fromFixedAssetOutputs(et.fixedOutputs),statefulScript:void 0!==et.scriptOpt?{kind:"Some",value:ec.scriptCodec.decode((0,ea.hexToBinUnsafe)(et.scriptOpt))}:{kind:"None",value:void 0}}}};ei.UnsignedTxCodec=u,ei.unsignedTxCodec=new u({version:el.byteCodec,networkId:el.byteCodec,statefulScript:ec.statefulScriptCodecOpt,gasAmount:eh.i32Codec,gasPrice:eh.u256Codec,inputs:eu.inputsCodec,fixedOutputs:ed.assetOutputsCodec})},1924:(et,ei,eo)=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0}),ei.valsCodec=ei.valCodec=void 0;let ea=eo(5617),ec=eo(5675),eh=eo(2709),eu=eo(1678),ed=eo(2205);ei.valCodec=new eh.EnumCodec("val",{Bool:eh.boolCodec,I256:ea.i256Codec,U256:ea.u256Codec,ByteVec:ec.byteStringCodec,Address:eu.lockupScriptCodec}),ei.valsCodec=new ed.ArrayCodec(ei.valCodec)},7695:(et,ei)=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0}),ei.MAP_ENTRY_DEPOSIT=ei.MINIMAL_CONTRACT_DEPOSIT=ei.DEFAULT_GAS_ALPH_AMOUNT=ei.DEFAULT_GAS_ATTOALPH_AMOUNT=ei.DEFAULT_GAS_PRICE=ei.DEFAULT_GAS_AMOUNT=ei.NULL_CONTRACT_ADDRESS=ei.ZERO_ADDRESS=ei.DUST_AMOUNT=ei.ONE_ALPH=ei.ALPH_TOKEN_ID=ei.MIN_UTXO_SET_AMOUNT=ei.TOTAL_NUMBER_OF_CHAINS=ei.TOTAL_NUMBER_OF_GROUPS=void 0,ei.TOTAL_NUMBER_OF_GROUPS=4,ei.TOTAL_NUMBER_OF_CHAINS=ei.TOTAL_NUMBER_OF_GROUPS*ei.TOTAL_NUMBER_OF_GROUPS,ei.MIN_UTXO_SET_AMOUNT=BigInt(1e12),ei.ALPH_TOKEN_ID="".padStart(64,"0"),ei.ONE_ALPH=10n**18n,ei.DUST_AMOUNT=10n**15n,ei.ZERO_ADDRESS="tgx7VNFoP9DJiFMFgXXtafQZkUvyEdDHT9ryamHJYrjq",ei.NULL_CONTRACT_ADDRESS="tgx7VNFoP9DJiFMFgXXtafQZkUvyEdDHT9ryamHJYrjq",ei.DEFAULT_GAS_AMOUNT=2e4,ei.DEFAULT_GAS_PRICE=10n**11n,ei.DEFAULT_GAS_ATTOALPH_AMOUNT=BigInt(ei.DEFAULT_GAS_AMOUNT)*ei.DEFAULT_GAS_PRICE,ei.DEFAULT_GAS_ALPH_AMOUNT=.002,ei.MINIMAL_CONTRACT_DEPOSIT=ei.ONE_ALPH/10n,ei.MAP_ENTRY_DEPOSIT=ei.ONE_ALPH/10n},5143:function(et,ei,eo){"use strict";var ea=this&&this.__createBinding||(Object.create?function(et,ei,eo,ea){void 0===ea&&(ea=eo);var ec=Object.getOwnPropertyDescriptor(ei,eo);ec&&!("get"in ec?!ei.__esModule:ec.writable||ec.configurable)||(ec={enumerable:!0,get:function(){return ei[eo]}}),Object.defineProperty(et,ea,ec)}:function(et,ei,eo,ea){void 0===ea&&(ea=eo),et[ea]=ei[eo]}),ec=this&&this.__setModuleDefault||(Object.create?function(et,ei){Object.defineProperty(et,"default",{enumerable:!0,value:ei})}:function(et,ei){et.default=ei}),eh=this&&this.__importStar||function(et){if(et&&et.__esModule)return et;var ei={};if(null!=et)for(var eo in et)"default"!==eo&&Object.prototype.hasOwnProperty.call(et,eo)&&ea(ei,et,eo);return ec(ei,et),ei};Object.defineProperty(ei,"__esModule",{value:!0}),ei.getContractCodeByCodeHash=ei.getTokenIdFromUnsignedTx=ei.getContractIdFromUnsignedTx=ei.getContractEventsCurrentCount=ei.multicallMethods=ei.signExecuteMethod=ei.callMethod=ei.subscribeContractEvents=ei.subscribeContractEvent=ei.decodeEvent=ei.subscribeContractDestroyedEvent=ei.subscribeContractCreatedEvent=ei.fetchContractState=ei.ContractInstance=ei.getMapItem=ei.RalphMap=ei.printDebugMessagesFromTx=ei.getDebugMessagesFromTx=ei.testMethod=ei.extractMapsFromApiResult=ei.addStdIdToFields=ei.subscribeEventsFromContract=ei.decodeContractDestroyedEvent=ei.decodeContractCreatedEvent=ei.DestroyContractEventAddresses=ei.CreateContractEventAddresses=ei.ExecutableScript=ei.ContractFactory=ei.randomTxId=ei.fromApiEventFields=ei.fromApiArray=ei.getDefaultValue=ei.fromApiFields=ei.Script=ei.Contract=ei.Artifact=ei.Struct=ei.DEFAULT_COMPILER_OPTIONS=ei.DEFAULT_NODE_COMPILER_OPTIONS=ei.StdIdFieldName=void 0;let eu=eo(7077),ed=eo(3749),ef=eh(eo(8486)),el=eo(664),ep=eo(2581),eb=eo(307),eg=eo(4964),em=eo(7695),ey=eh(eo(1540)),ev=eo(2505),ew=eo(3651),e_=eo(4652),eE=new el.WebCrypto;ei.StdIdFieldName="__stdInterfaceId",ei.DEFAULT_NODE_COMPILER_OPTIONS={ignoreUnusedConstantsWarnings:!1,ignoreUnusedVariablesWarnings:!1,ignoreUnusedFieldsWarnings:!1,ignoreUnusedPrivateFunctionsWarnings:!1,ignoreUpdateFieldsCheckWarnings:!1,ignoreCheckExternalCallerWarnings:!1,ignoreUnusedFunctionReturnWarnings:!1,skipAbstractContractCheck:!1},ei.DEFAULT_COMPILER_OPTIONS={errorOnWarnings:!0,...ei.DEFAULT_NODE_COMPILER_OPTIONS};let v=class v{constructor(et,ei,eo,ea){this.name=et,this.fieldNames=ei,this.fieldTypes=eo,this.isMutable=ea}static fromJson(et){if(null===et.name||null===et.fieldNames||null===et.fieldTypes||null===et.isMutable)throw Error("The JSON for struct is incomplete");return new v(et.name,et.fieldNames,et.fieldTypes,et.isMutable)}static fromStructSig(et){return new v(et.name,et.fieldNames,et.fieldTypes,et.isMutable)}toJson(){return{name:this.name,fieldNames:this.fieldNames,fieldTypes:this.fieldTypes,isMutable:this.isMutable}}};ei.Struct=v;let w=class w{constructor(et,ei,eo){this.version=et,this.name=ei,this.functions=eo}async isDevnet(et){if(!et.nodeProvider)return!1;let ei=await et.nodeProvider.infos.getInfosChainParams();return(0,el.isDevnet)(ei.networkId)}};function _(et){return{name:et.name,paramNames:et.paramNames,paramTypes:et.paramTypes,paramIsMutable:et.paramIsMutable,returnTypes:et.returnTypes}}ei.Artifact=w;let E=class E extends w{constructor(et,ei,eo,ea,ec,eh,eu,ed,ep,eb,eg,em,ey,ev){super(et,ei,ep),this.bytecode=eo,this.bytecodeDebugPatch=ea,this.codeHash=ec,this.fieldsSig=eu,this.eventsSig=ed,this.constants=eb,this.enums=eg,this.structs=em,this.mapsSig=ey,this.stdInterfaceId=ev,this.bytecodeDebug=ef.buildDebugBytecode(this.bytecode,this.bytecodeDebugPatch),this.codeHashDebug=eh,this.decodedContract=ew.contract.contractCodec.decodeContract((0,el.hexToBinUnsafe)(this.bytecode)),this.bytecodeForTesting=void 0,this.decodedTestingContract=void 0,this.codeHashForTesting=void 0}isInlineFunc(et){if(et>=this.functions.length)throw Error(`Invalid function index ${et}, function size: ${this.functions.length}`);return et>=this.decodedContract.methods.length}getByteCodeForTesting(){if(void 0!==this.bytecodeForTesting)return this.bytecodeForTesting;if(!(this.functions.length>this.decodedContract.methods.length)&&this.publicFunctions().length==this.functions.length)return this.bytecodeForTesting=this.bytecodeDebug,this.codeHashForTesting=this.codeHashDebug,this.bytecodeForTesting;let et=ew.contract.contractCodec.decodeContract((0,el.hexToBinUnsafe)(this.bytecodeDebug)),ei=et.methods.map(et=>({...et,isPublic:!0})),eo=ew.contract.contractCodec.encodeContract({fieldLength:et.fieldLength,methods:ei}),ea=ey.blake2b(eo,void 0,32);return this.bytecodeForTesting=(0,el.binToHex)(eo),this.codeHashForTesting=(0,el.binToHex)(ea),this.bytecodeForTesting}getDecodedTestingContract(){if(void 0!==this.decodedTestingContract)return this.decodedTestingContract;let et=(0,el.hexToBinUnsafe)(this.getByteCodeForTesting());return this.decodedTestingContract=ew.contract.contractCodec.decodeContract(et),this.decodedTestingContract}hasCodeHash(et){return this.codeHash===et||this.codeHashDebug===et||this.codeHashForTesting===et}getDecodedMethod(et){return this.decodedContract.methods[`${et}`]}publicFunctions(){return this.functions.filter((et,ei)=>this.getDecodedMethod(ei).isPublic)}usingPreapprovedAssetsFunctions(){return this.functions.filter((et,ei)=>this.getDecodedMethod(ei).usePreapprovedAssets)}usingAssetsInContractFunctions(){return this.functions.filter((et,ei)=>this.getDecodedMethod(ei).useContractAssets)}isMethodUsePreapprovedAssets(et,ei){return et&&this.isInlineFunc(ei)?this.getDecodedTestingContract().methods[`${ei}`].usePreapprovedAssets:this.getDecodedMethod(ei).usePreapprovedAssets}static fromJson(et,ei="",eo="",ea=[]){if(null==et.version||null==et.name||null==et.bytecode||null==et.codeHash||null==et.fieldsSig||null==et.eventsSig||null==et.constants||null==et.enums||null==et.functions)throw Error("The artifact JSON for contract is incomplete");return new E(et.version,et.name,et.bytecode,ei,et.codeHash,eo||et.codeHash,et.fieldsSig,et.eventsSig,et.functions,et.constants,et.enums,ea,null===et.mapsSig?void 0:et.mapsSig,null===et.stdInterfaceId?void 0:et.stdInterfaceId)}static fromCompileResult(et,ei=[]){return new E(et.version,et.name,et.bytecode,et.bytecodeDebugPatch,et.codeHash,et.codeHashDebug,et.fields,et.events,et.functions.map(_),et.constants,et.enums,ei,et.maps,et.stdInterfaceId)}static async fromArtifactFile(et,ei,eo,ea=[]){let ec=await eu.promises.readFile(et),eh=JSON.parse(ec.toString());return E.fromJson(eh,ei,eo,ea)}toString(){let et={version:this.version,name:this.name,bytecode:this.bytecode,codeHash:this.codeHash,fieldsSig:this.fieldsSig,eventsSig:this.eventsSig,functions:this.functions,constants:this.constants,enums:this.enums};return void 0!==this.mapsSig&&(et.mapsSig=this.mapsSig),void 0!==this.stdInterfaceId&&(et.stdInterfaceId=this.stdInterfaceId),JSON.stringify(et,null,2)}getInitialFieldsWithDefaultValues(){return T(void 0===this.stdInterfaceId?this.fieldsSig:{names:this.fieldsSig.names.slice(0,-1),types:this.fieldsSig.types.slice(0,-1),isMutable:this.fieldsSig.isMutable.slice(0,-1)},this.structs)}toState(et,ei,eo){let ea=void 0!==eo?eo:E.randomAddress();return{address:ea,contractId:(0,el.binToHex)((0,ep.contractIdFromAddress)(ea)),bytecode:this.bytecode,codeHash:this.codeHash,fields:et,fieldsSig:this.fieldsSig,asset:ei}}static randomAddress(){let et=new Uint8Array(33);return eE.getRandomValues(et),et[0]=3,el.bs58.encode(et)}printDebugMessages(et,ei){(0,ev.isContractDebugMessageEnabled)()&&0!=ei.length&&(console.log(`Testing ${this.name}.${et}:`),ei.forEach(et=>W(et)))}toApiFields(et){var ei,eo;return void 0===et?[]:(ei=this.fieldsSig,eo=this.structs,ef.flattenFields(et,ei.names,ei.types,ei.isMutable,eo).map(et=>(0,ed.toApiVal)(et.value,et.type)))}toApiArgs(et,ei){if(ei){let eo=this.functions.find(ei=>ei.name==et);if(null==eo)throw Error(`Invalid function name: ${et}`);return P(ei,eo,this.structs)}return[]}getMethodIndex(et){return this.functions.findIndex(ei=>ei.name===et)}toApiContractStates(et){return void 0!==et?et.map(et=>(function(et,ei){let eo=et.fields??{},ea=et.fieldsSig,ec=ef.flattenFields(eo,ea.names,ea.types,ea.isMutable,ei),eh=ec.filter(et=>!et.isMutable).map(et=>(0,ed.toApiVal)(et.value,et.type)),eu=ec.filter(et=>et.isMutable).map(et=>(0,ed.toApiVal)(et.value,et.type));return{address:et.address,bytecode:et.bytecode,codeHash:et.codeHash,initialStateHash:et.initialStateHash,immFields:eh,mutFields:eu,asset:k(et.asset)}})(et,this.structs)):void 0}toApiTestContractParams(et,ei){let eo=void 0===ei.initialFields?[]:ef.flattenFields(ei.initialFields,this.fieldsSig.names,this.fieldsSig.types,this.fieldsSig.isMutable,this.structs),ea=eo.filter(et=>!et.isMutable).map(et=>(0,ed.toApiVal)(et.value,et.type)),ec=eo.filter(et=>et.isMutable).map(et=>(0,ed.toApiVal)(et.value,et.type)),eh=this.getMethodIndex(et);return{group:ei.group,blockHash:ei.blockHash,blockTimeStamp:ei.blockTimeStamp,txId:ei.txId,address:ei.address,callerAddress:ei.callerAddress,bytecode:this.isInlineFunc(eh)?this.getByteCodeForTesting():this.bytecodeDebug,initialImmFields:ea,initialMutFields:ec,initialAsset:void 0!==ei.initialAsset?k(ei.initialAsset):void 0,methodIndex:eh,args:this.toApiArgs(et,ei.testArgs),existingContracts:this.toApiContractStates(ei.existingContracts),inputAssets:N(ei.inputAssets)}}fromApiContractState(et){var ei;return{address:et.address,contractId:(0,el.binToHex)((0,ep.contractIdFromAddress)(et.address)),bytecode:et.bytecode,initialStateHash:et.initialStateHash,codeHash:et.codeHash,fields:M(et.immFields,et.mutFields,this.fieldsSig,this.structs),fieldsSig:this.fieldsSig,asset:(ei=et.asset,{alphAmount:(0,ed.fromApiNumber256)(ei.attoAlphAmount),tokens:(0,ed.fromApiTokens)(ei.tokens)})}}static fromApiContractState(et,ei){return ei(et.codeHash).fromApiContractState(et)}static fromApiEvent(et,ei,eo,ea){let ec,eh;if(et.eventIndex==E.ContractCreatedEventIndex)ec=D(R(et.fields,E.ContractCreatedEvent,!0)),eh=E.ContractCreatedEvent.name;else if(et.eventIndex==E.ContractDestroyedEventIndex)ec=R(et.fields,E.ContractDestroyedEvent,!0),eh=E.ContractDestroyedEvent.name;else{let eo=ea(ei).eventsSig[et.eventIndex];ec=R(et.fields,eo),eh=eo.name}return{txId:eo,blockHash:et.blockHash,contractAddress:et.contractAddress,name:eh,eventIndex:et.eventIndex,fields:ec}}fromApiTestContractResult(et,ei,eo,ea){let ec=this.functions.findIndex(ei=>ei.name===et),eh=this.functions[`${ec}`].returnTypes,eu=C(ei.returns,eh,this.structs),ed=0===eu.length?null:1===eu.length?eu[0]:eu,ef=new Map;return ef.set(ei.address,ei.codeHash),ei.contracts.forEach(et=>ef.set(et.address,et.codeHash)),{contractId:(0,el.binToHex)((0,ep.contractIdFromAddress)(ei.address)),contractAddress:ei.address,returns:ed,gasUsed:ei.gasUsed,contracts:ei.contracts.map(et=>E.fromApiContractState(et,ea)),txOutputs:ei.txOutputs.map(U),events:E.fromApiEvents(ei.events,ef,eo,ea),debugMessages:ei.debugMessages}}async txParamsForDeployment(et,ei){let eo=await this.isDevnet(et),ea=ei.initialFields??{},ec=this.buildByteCodeToDeploy(z(this,ea),eo,ei.exposePrivateFunctions??!1),eh=await et.getSelectedAccount();return{signerAddress:eh.address,signerKeyType:eh.keyType,bytecode:ec,initialAttoAlphAmount:ei?.initialAttoAlphAmount,issueTokenAmount:ei?.issueTokenAmount,issueTokenTo:ei?.issueTokenTo,initialTokenAmounts:ei?.initialTokenAmounts,gasAmount:ei?.gasAmount,gasPrice:ei?.gasPrice}}buildByteCodeToDeploy(et,ei,eo=!1){if(eo&&!ei)throw Error("Cannot expose private functions in non-devnet environment");try{let ea=eo&&ei?this.getByteCodeForTesting():ei?this.bytecodeDebug:this.bytecode;return ef.buildContractByteCode(ea,et,this.fieldsSig,this.structs)}catch(et){throw new e_.TraceableError(`Failed to build bytecode for contract ${this.name}`,et)}}static fromApiEvents(et,ei,eo,ea){return et.map(et=>{let ec=et.contractAddress,eh=ei.get(ec);if(void 0!==eh||et.eventIndex<0)return E.fromApiEvent(et,eh,eo,ea);throw Error(`Cannot find codeHash for the contract address: ${ec}`)})}toApiCallContract(et,ei,eo,ea){let ec=this.functions[`${ea}`],eh=P(et.args??{},ec,this.structs);return{...et,group:ei,address:eo,methodIndex:ea,args:eh,inputAssets:N(et.inputAssets)}}fromApiCallContractResult(et,ei,eo,ea){let ec=this.functions[`${eo}`].returnTypes;return S((0,ed.tryGetCallResult)(et),ei,ec,this.structs,ea)}};function S(et,ei,eo,ea,ec){let eh=C(et.returns,eo,ea),eu=0===eh.length?null:1===eh.length?eh[0]:eh,ed=new Map;return et.contracts.forEach(et=>ed.set(et.address,et.codeHash)),{returns:eu,gasUsed:et.gasUsed,contracts:et.contracts.map(et=>E.fromApiContractState(et,ec)),txInputs:et.txInputs,txOutputs:et.txOutputs.map(et=>U(et)),events:E.fromApiEvents(et.events,ed,ei,ec),debugMessages:et.debugMessages}}ei.Contract=E,E.ContractCreatedEventIndex=-1,E.ContractCreatedEvent={name:"ContractCreated",fieldNames:["address","parentAddress","stdInterfaceId"],fieldTypes:["Address","Address","ByteVec"]},E.ContractDestroyedEventIndex=-2,E.ContractDestroyedEvent={name:"ContractDestroyed",fieldNames:["address"],fieldTypes:["Address"]},E.DebugEventIndex=-3;let A=class A extends w{constructor(et,ei,eo,ea,ec,eh,eu){super(et,ei,eh),this.bytecodeTemplate=eo,this.bytecodeDebugPatch=ea,this.fieldsSig=ec,this.structs=eu}static fromCompileResult(et,ei=[]){return new A(et.version,et.name,et.bytecodeTemplate,et.bytecodeDebugPatch,et.fields,et.functions.map(_),ei)}static fromJson(et,ei="",eo=[]){if(null==et.version||null==et.name||null==et.bytecodeTemplate||null==et.fieldsSig||null==et.functions)throw Error("The artifact JSON for script is incomplete");return new A(et.version,et.name,et.bytecodeTemplate,ei,et.fieldsSig,et.functions,eo)}static async fromArtifactFile(et,ei,eo=[]){let ea=await eu.promises.readFile(et),ec=JSON.parse(ea.toString());return this.fromJson(ec,ei,eo)}toString(){let et={version:this.version,name:this.name,bytecodeTemplate:this.bytecodeTemplate,fieldsSig:this.fieldsSig,functions:this.functions};return JSON.stringify(et,null,2)}async txParamsForExecution(et,ei){let eo=await et.getSelectedAccount();return{signerAddress:eo.address,signerKeyType:eo.keyType,bytecode:this.buildByteCodeToDeploy(ei.initialFields??{}),attoAlphAmount:ei.attoAlphAmount,tokens:ei.tokens,gasAmount:ei.gasAmount,gasPrice:ei.gasPrice}}buildByteCodeToDeploy(et){try{return ef.buildScriptByteCode(this.bytecodeTemplate,et,this.fieldsSig,this.structs)}catch(et){throw new e_.TraceableError(`Failed to build bytecode for script ${this.name}`,et)}}};function M(et,ei,eo,ea){let[ec,eh]=[0,0],o=(eo,ea)=>{let eu=ea?ei[eh++]:et[ec++];return(0,ed.fromApiPrimitiveVal)(eu,eo)};return eo.names.reduce((et,ei,ec)=>{let eh=eo.types[`${ec}`],eu=eo.isMutable[`${ec}`];return et[`${ei}`]=I(eu,eh,ea,o),et},{})}function I(et,ei,eo,ea){if(ei.startsWith("[")){let[ec,eh]=(0,ed.decodeArrayType)(ei);return Array.from(Array(eh).keys()).map(()=>I(et,ec,eo,ea))}let ec=eo.find(et=>et.name===ei);if(void 0!==ec)return ec.fieldNames.reduce((ei,eh,eu)=>{let ed=ec.fieldTypes[`${eu}`],ef=et&&ec.isMutable[`${eu}`];return ei[`${eh}`]=I(ef,ed,eo,ea),ei},{});let eh=ed.PrimitiveTypes.includes(ei)?ei:"ByteVec";return ea(eh,et)}function T(et,ei){return et.names.reduce((eo,ea,ec)=>{let eh=et.types[`${ec}`];return eo[`${ea}`]=I(!1,eh,ei,ed.getDefaultPrimitiveValue),eo},{})}function x(et,ei,eo,ea=!1){return I(!1,ei,eo,ei=>{let eo=et.next();if(eo.done)throw Error("Not enough vals");return(0,ed.fromApiPrimitiveVal)(eo.value,ei,ea)})}function C(et,ei,eo){let ea=et.values();return ei.map(et=>x(ea,et,eo))}function R(et,ei,eo=!1){let ea=et.values();return ei.fieldNames.reduce((et,ec,eh)=>{let eu=ei.fieldTypes[`${eh}`];return et[`${ec}`]=x(ea,eu,[],eo),et},{})}function k(et){return{attoAlphAmount:(0,ed.toApiNumber256)(et.alphAmount),tokens:void 0!==et.tokens?et.tokens.map(ed.toApiToken):[]}}function P(et,ei,eo){return ef.flattenFields(et,ei.paramNames,ei.paramTypes,ei.paramIsMutable,eo).map(et=>(0,ed.toApiVal)(et.value,et.type))}function O(et){return{address:et.address,asset:k(et.asset)}}function N(et){return void 0!==et?et.map(O):void 0}function U(et){if("AssetOutput"===et.type)return{type:"AssetOutput",address:et.address,alphAmount:(0,ed.fromApiNumber256)(et.attoAlphAmount),tokens:(0,ed.fromApiTokens)(et.tokens),lockTime:et.lockTime,message:et.message};if("ContractOutput"===et.type)return{type:"ContractOutput",address:et.address,alphAmount:(0,ed.fromApiNumber256)(et.attoAlphAmount),tokens:(0,ed.fromApiTokens)(et.tokens)};throw Error(`Unknown output type: ${et}`)}function B(){let et=new Uint8Array(32);return eE.getRandomValues(et),(0,el.binToHex)(et)}function L(et,ei){let eo=new Uint8Array(32).fill(0);return eo[30]=et,eo[31]=ei,(0,ep.addressFromContractId)((0,el.binToHex)(eo))}function j(et,ei,eo){if(et.eventIndex!==eo)throw Error(`Invalid event index: ${et.eventIndex}, expected: ${eo}`);return R(et.fields,ei,!0)}function D(et){let ei=et.parentAddress,eo=et.stdInterfaceId;return{address:et.address,parentAddress:""===ei?void 0:ei,stdInterfaceIdGuessed:""===eo?void 0:eo}}function q(et){let ei=j(et,E.ContractCreatedEvent,E.ContractCreatedEventIndex);return{blockHash:et.blockHash,txId:et.txId,eventIndex:et.eventIndex,name:E.ContractCreatedEvent.name,fields:D(ei)}}function F(et){let ei=j(et,E.ContractDestroyedEvent,E.ContractDestroyedEventIndex);return{blockHash:et.blockHash,txId:et.txId,eventIndex:et.eventIndex,name:E.ContractDestroyedEvent.name,fields:{address:ei.address}}}function H(et,ei,eo,ea,ec){let eh={pollingInterval:et.pollingInterval,messageCallback:ei=>ei.eventIndex!==eo?Promise.resolve():et.messageCallback(ea(ei)),errorCallback:(ei,eo)=>et.errorCallback(ei,eo),onEventCountChanged:et.onEventCountChanged};return(0,eg.subscribeToEvents)(eh,ei,ec)}function z(et,ei){return void 0===et.stdInterfaceId?ei:{...ei,__stdInterfaceId:"414c5048"+et.stdInterfaceId}}function V(et,ei,eo,ea,ec){let eh=ef.encodeMapPrefix(ei),eu=ef.encodeMapKey(eo,ea),ed=(0,el.binToHex)(eh)+(0,el.binToHex)(eu);return(0,ep.subContractId)(et,ed,ec)}function $(et){return{names:["value","parentContractId"],types:[et,"ByteVec"],isMutable:[!0,!1]}}function K(et,ei,eo,ea){let ec=et.mapsSig;if(void 0===ec)return[];let eh=[];return Object.keys(ea).forEach(eu=>{let ed=ec.names.findIndex(et=>et===eu);if(-1===ed)throw Error(`Map var ${eu} does not exist in contract ${et.name}`);let eb=ec.types[`${ed}`],eg=function(et,ei,eo,ea,ec,eh){let[eu,ed]=ef.parseMapType(eh),eb=function(et,ei){let{immFields:eo,mutFields:ea}=ef.calcFieldSize(et,!0,ei),ec={isPublic:!0,usePreapprovedAssets:!1,useContractAssets:!1,usePayToContractOnly:!1,argsLength:1,localsLength:1,returnLength:1,instrs:[(0,ew.LoadLocal)(0),ew.LoadImmFieldByIndex]},eh={fieldLength:eo+ea+1,methods:[ec,{...ec,instrs:[(0,ew.LoadLocal)(0),ew.LoadMutFieldByIndex]},{...ec,argsLength:2,localsLength:2,returnLength:0,instrs:[ew.CallerContractId,(0,ew.LoadImmField)(eo),ew.ByteVecEq,ew.Assert,(0,ew.LoadLocal)(0),(0,ew.LoadLocal)(1),ew.StoreMutFieldByIndex]},{isPublic:!0,usePreapprovedAssets:!1,useContractAssets:!0,usePayToContractOnly:!1,argsLength:1,localsLength:1,returnLength:0,instrs:[ew.CallerContractId,(0,ew.LoadImmField)(eo),ew.ByteVecEq,ew.Assert,(0,ew.LoadLocal)(0),ew.DestroySelf]}]},eu=ew.contract.contractCodec.encodeContract(eh),ed=ey.blake2b(eu,void 0,32);return{bytecode:(0,el.binToHex)(eu),codeHash:(0,el.binToHex)(ed)}}(ed,et.structs);return Array.from(ea.entries()).map(([et,ea])=>{let eh=V(ei,ec,et,eu,eo);return{...eb,address:(0,ep.addressFromContractId)(eh),contractId:eh,fieldsSig:$(ed),fields:{value:ea,parentContractId:ei},asset:{alphAmount:em.ONE_ALPH}}})}(et,ei,eo,ea[`${eu}`],ed,eb);eh.push(...eg)}),eh}function G(et,ei,eo,ea,ec){let eh=ei.initialMaps??{},eu=ei.existingContracts??[],ed=ea.contracts.filter(ei=>ei.address===et||void 0!==eu.find(et=>et.address===ei.address)),eb=[];return ed.forEach(ei=>{let ed=ec(ei.codeHash);if(void 0!==ed.mapsSig){let ec=ei.address===et?eh:eu.find(et=>et.address===ei.address).maps,eg=function(et,ei,eo,ea,ec){let eh=function(et,ei){let eo=et.mapsSig;return void 0===eo?[]:eo.names.map((et,ea)=>{let ec=eo.types[`${ea}`],eh=ei[`${et}`]??new Map,[eu,ed]=ef.parseMapType(ec);return{name:et,value:eh,keyType:eu,valueType:ed,index:ea}})}(et,ec),eu=function(et,ei,eo,ea,ec){let eh=(0,el.binToHex)((0,ep.contractIdFromAddress)(ea)),eu=[];return eo.forEach(eo=>{Array.from(eo.value.keys()).forEach(ea=>{let ed=V(eh,eo.index,ea,eo.keyType,ec),ef=ei.contracts.find(et=>et.address===(0,ep.addressFromContractId)(ed));if(void 0===ef)return;eu.push(ef.address);let el=$(eo.valueType),eb=M(ef.immFields,ef.mutFields,el,et.structs);eo.value.set(ea,eb.value)})}),eu}(et,ea,eh,ei,eo),ed=function(et,ei,eo,ea,ec){let eh=(0,el.binToHex)((0,ep.contractIdFromAddress)(ea)),eu=[];return ei.debugMessages.forEach(ed=>{if(ed.contractAddress!==ea)return;let el=ef.tryDecodeMapDebugLog(ed.message);if(void 0===el)return;let eb=eo[`${el.mapIndex}`],eg=ef.decodePrimitive(el.encodedKey,eb.keyType),em=(0,ep.subContractId)(eh,el.path,ec);if(!el.isInsert)return void eb.value.delete(eg);let ey=ei.contracts.find(et=>et.address===(0,ep.addressFromContractId)(em));if(void 0===ey)throw Error(`Cannot find contract state for map value, map field: ${eb.name}, value type: ${eb.valueType}`);eu.push(ey.address);let ev=$(eb.valueType),ew=M(ey.immFields,ey.mutFields,ev,et.structs);eb.value.set(eg,ew.value)}),eu}(et,ea,eh,ei,eo),eb=eu.concat(ed),eg=ea.contracts.filter(et=>void 0===eb.find(ei=>et.address===ei));return ea.contracts=eg,eh.reduce((et,ei)=>(et[`${ei.name}`]=ei.value,et),{})}(ed,ei.address,eo,ea,ec??{});eb.push({address:ei.address,maps:eg})}}),eb}function W(et){console.log(`> Contract @ ${et.contractAddress} - ${et.message}`)}async function J(et,ei){if((0,el.isHexString)(et)&&64===et.length){let eo=ei??(0,eb.getCurrentNodeProvider)();return(await eo.events.getEventsTxIdTxid(et)).events.filter(et=>et.eventIndex===E.DebugEventIndex).map(et=>{if(1===et.fields.length&&"ByteVec"===et.fields[0].type)return{contractAddress:et.contractAddress,message:(0,el.hexToString)(et.fields[0].value)};throw Error(`Invalid debug log: ${JSON.stringify(et.fields)}`)})}throw Error(`Invalid tx id: ${et}`)}async function Y(et,ei){let eo=await J(et,ei);eo.length>0&&eo.forEach(et=>W(et))}async function X(et,ei,eo,ea,ec){let eh=et.mapsSig?.names.findIndex(et=>et===ea),eu=void 0===eh?void 0:et.mapsSig?.types[`${eh}`];if(void 0===eu)throw Error(`Map ${ea} does not exist in contract ${et.name}`);let[ed,el]=ef.parseMapType(eu),eg=V(ei,eh,ec,ed,eo),em=(0,ep.addressFromContractId)(eg);try{let ei=await (0,eb.getCurrentNodeProvider)().contracts.getContractsAddressState(em),eo=$(el);return M(ei.immFields,ei.mutFields,eo,et.structs).value}catch(et){if(et instanceof Error&&et.message.includes("KeyNotFound"))return;throw new e_.TraceableError(`Failed to get value from map ${ea}, key: ${ec}, parent contract id: ${ei}`,et)}}function Z(et){if(et<0||et>=em.TOTAL_NUMBER_OF_GROUPS)throw Error(`Invalid group index ${et}, expected a value within the range [0, ${em.TOTAL_NUMBER_OF_GROUPS})`)}function Q(et,ei,eo,ea){if(eo.eventIndex!==ea&&!(ea>=0&&ea<et.eventsSig.length))throw Error("Invalid event index: "+eo.eventIndex+", expected: "+ea);let ec=et.eventsSig[`${ea}`],eh=R(eo.fields,ec);return{contractAddress:ei.address,blockHash:eo.blockHash,txId:eo.txId,eventIndex:eo.eventIndex,name:ec.name,fields:eh}}function re(et){return(0,el.binToHex)(ew.i32Codec.encode(et))}function ne(et){if(et<0)throw Error(`value ${et} must be non-negative`);return et<6?(BigInt(12)+et).toString(16).padStart(2,"0"):ie((0,ew.U256Const)(et))}function ie(et){return(0,el.binToHex)(ew.instrCodec.encode(et))}ei.Script=A,ei.fromApiFields=M,ei.getDefaultValue=T,ei.fromApiArray=C,ei.fromApiEventFields=R,ei.randomTxId=B,el.assertType,ei.ContractFactory=class{constructor(et){this.contract=et}async deploy(et,ei){let eo=await this.contract.txParamsForDeployment(et,{...ei,initialFields:z(this.contract,ei.initialFields)}),ea=await et.signAndSubmitDeployContractTx(eo);return{...ea,contractInstance:this.at(ea.contractAddress)}}async deployTemplate(et){return this.deploy(et,{initialFields:this.contract.getInitialFieldsWithDefaultValues()})}stateForTest_(et,ei,eo,ea){let ec={alphAmount:ei?.alphAmount??em.MINIMAL_CONTRACT_DEPOSIT,tokens:ei?.tokens};return{...this.contract.toState(z(this.contract,et),ec,eo),bytecode:this.contract.bytecodeDebug,codeHash:this.contract.codeHash,maps:ea}}},ei.ExecutableScript=class{constructor(et,ei){this.script=et,this.getContractByCodeHash=ei}async execute(et,ei){let eo=await this.script.txParamsForExecution(et,ei);return await et.signAndSubmitExecuteScriptTx(eo)}async call(et){let ei=this.script.functions.find(et=>"main"===et.name);if(void 0===ei)throw Error(`There is no main function in script ${this.script.name}`);let eo=this.script.buildByteCodeToDeploy(et.initialFields),ea=et.txId??B(),ec=(0,eb.getCurrentNodeProvider)();return S(await ec.contracts.postContractsCallTxScript({...et,group:et.groupIndex??0,bytecode:eo,inputAssets:N(et.inputAssets)}),ea,ei.returnTypes,this.script.structs,this.getContractByCodeHash)}},ei.CreateContractEventAddresses=Array.from(Array(em.TOTAL_NUMBER_OF_GROUPS).keys()).map(et=>L(E.ContractCreatedEventIndex,et)),ei.DestroyContractEventAddresses=Array.from(Array(em.TOTAL_NUMBER_OF_GROUPS).keys()).map(et=>L(E.ContractDestroyedEventIndex,et)),ei.decodeContractCreatedEvent=q,ei.decodeContractDestroyedEvent=F,ei.subscribeEventsFromContract=H,ei.addStdIdToFields=z,ei.extractMapsFromApiResult=G,ei.testMethod=async function(et,ei,eo,ea){let ec=eo?.txId??B(),eh=et.contract,eu=eo.address??(0,ep.addressFromContractId)((0,el.binToHex)(eE.getRandomValues(new Uint8Array(32)))),ed=(0,el.binToHex)((0,ep.contractIdFromAddress)(eu)),ef=eo.group??0,eg=function(et,ei,eo,ea,ec){let eh=ea.initialMaps??{},eu=K(et,ei,eo,eh),ed=ea.existingContracts??[],ef=ed.flatMap(et=>void 0!==et.maps?K(ec(et.codeHash),et.contractId,eo,et.maps??{}):[]);return ed.concat(eu,ef)}(eh,ed,ef,eo,ea),em=eh.toApiTestContractParams(ei,{...eo,address:eu,txId:ec,initialFields:z(eh,eo.initialFields??{}),testArgs:void 0===eo.testArgs?{}:eo.testArgs,existingContracts:eg}),ey=await (0,eb.getCurrentNodeProvider)().contracts.postContractsTestContract(em),ev=G(eu,eo,ef,ey,ea),ew=eh.fromApiTestContractResult(ei,ey,ec,ea);return ew.contracts.forEach(et=>{let ei=ev.find(ei=>ei.address===et.address)?.maps;void 0!==ei&&(et.maps=ei)}),eh.printDebugMessages(ei,ew.debugMessages),{...ew,maps:ev.find(et=>et.address===eu)?.maps}},ei.getDebugMessagesFromTx=J,ei.printDebugMessagesFromTx=Y,ei.RalphMap=class{constructor(et,ei,eo){this.parentContract=et,this.parentContractId=ei,this.mapName=eo,this.groupIndex=(0,ep.groupOfAddress)((0,ep.addressFromContractId)(ei))}async get(et){return X(this.parentContract,this.parentContractId,this.groupIndex,this.mapName,et)}async contains(et){return this.get(et).then(et=>void 0!==et)}toJSON(){return{parentContractId:this.parentContractId,mapName:this.mapName,groupIndex:this.groupIndex}}},ei.getMapItem=X,ei.ContractInstance=class{constructor(et){this.address=et,this.contractId=(0,el.binToHex)((0,ep.contractIdFromAddress)(et)),this.groupIndex=(0,ep.groupOfAddress)(et)}},ei.fetchContractState=async function(et,ei){let eo=await (0,eb.getCurrentNodeProvider)().contracts.getContractsAddressState(ei.address),ea=et.contract.fromApiContractState(eo);return{...ea,fields:ea.fields}},ei.subscribeContractCreatedEvent=function(et,eo,ea){Z(eo);let ec=ei.CreateContractEventAddresses[`${eo}`];return H(et,ec,E.ContractCreatedEventIndex,et=>({...q(et),contractAddress:ec}),ea)},ei.subscribeContractDestroyedEvent=function(et,eo,ea){Z(eo);let ec=ei.DestroyContractEventAddresses[`${eo}`];return H(et,ec,E.ContractDestroyedEventIndex,et=>({...F(et),contractAddress:ec}),ea)},ei.decodeEvent=Q,ei.subscribeContractEvent=function(et,ei,eo,ea,ec){let eh=et.eventsSig.findIndex(et=>et.name===ea);return H(eo,ei.address,eh,eo=>Q(et,ei,eo,eh),ec)},ei.subscribeContractEvents=function(et,ei,eo,ea){let ec={pollingInterval:eo.pollingInterval,messageCallback:ea=>eo.messageCallback({...Q(et,ei,ea,ea.eventIndex),contractAddress:ei.address}),errorCallback:(et,ei)=>eo.errorCallback(et,ei),onEventCountChanged:eo.onEventCountChanged};return(0,eg.subscribeToEvents)(ec,ei.address,ea)},ei.callMethod=async function(et,ei,eo,ea,ec){let eh=et.contract.getMethodIndex(eo),eu=ea?.txId??B(),ed=et.contract.toApiCallContract({...ea,txId:eu,args:void 0===ea.args?{}:ea.args},ei.groupIndex,ei.address,eh),ef=await (0,eb.getCurrentNodeProvider)().contracts.postContractsCallContract(ed),el=et.contract.fromApiCallContractResult(ef,eu,eh,ec);return et.contract.printDebugMessages(eo,el.debugMessages),el},ei.signExecuteMethod=async function(et,ei,eo,ea){var ec;let eh=et.contract.getMethodIndex(eo),eu=et.contract.functions[eh],ed=await et.contract.isDevnet(ea.signer),ep=function(et,ei,eo,ea,ec,eh){let eu=void 0!==ec||void 0!==eh;if(ei&&!eu)throw Error("The contract call requires preapproved assets but none are provided");let[ed,ep]=function(et,ei){let eo=1,ea=0,ec=[];return et.paramTypes.forEach(et=>{let eh=ef.typeLength(et,ei);if(eh>1){for(let et=0;et<eh;et++)ec.push(`{${eo+et}}`);for(let et=0;et<eh;et++)ec.push(function(et){if(et<0||et>255)throw Error(`StoreLocal index ${et} must be between 0 and 255 inclusive`);return ie((0,ew.StoreLocal)(et))}(ea+(eh-et-1)));ea+=eh}eo+=eh}),[ec,eo]}(eo,ea),eb=function(et){let ei=[];if(et){let eo=ne(BigInt(et));ei.push(eo),ei.push(ie(ew.ApproveAlph))}return ei}(ei?ec:void 0),eg=function(et){let ei=[];return et&&et.forEach(et=>{let eo=(0,el.hexToBinUnsafe)(et.id);ei.push(ie((0,ew.BytesConst)(eo))),ei.push(ne(BigInt(et.amount))),ei.push(ie(ew.ApproveToken))}),ei}(ei?eh:void 0),em=function(et){let ei=[];if(et>0){ei.push(ie(ew.CallerAddress));let eo=ie(ew.Dup);et>1&&ei.push(...Array(et-1).fill(eo))}return ei}(eb.length/2+eg.length/3),ey=ne(BigInt(ep-1)),ev=re(ed.length/2),e_=function(et,ei){let eo=1,ea=0,ec=[];return et.paramTypes.forEach(et=>{let eh=ef.typeLength(et,ei);if(1===eh&&ec.push(`{${eo}}`),eh>1){for(let et=0;et<eh;et++)ec.push(function(et){if(et<0||et>255)throw Error(`LoadLocal index ${et} must be between 0 and 255 inclusive`);return ie((0,ew.LoadLocal)(et))}(ea+et));ea+=eh}eo+=eh}),ec}(eo,ea),eE=eo.returnTypes.reduce((et,ei)=>et+ef.typeLength(ei,ea),0),eS=ie(ew.Pop).repeat(eE),eA=ne(BigInt(eE)),eM=ie((0,ew.CallExternal)(et));return"0101"+(eu?"03":"00")+"00"+ev+"00"+re(em.length+eb.length+eg.length+ed.length+e_.length+eE+4)+em.join("")+eb.join("")+eg.join("")+ed.join("")+e_.join("")+ey+eA+"{0}"+eM+eS}(eh,et.contract.isMethodUsePreapprovedAssets(ed,eh),eu,et.contract.structs,ea.attoAlphAmount,ea.tokens),eb=(ec=et.contract.name,{names:["__contract__"].concat(eu.paramNames),types:[ec].concat(eu.paramTypes),isMutable:[!1].concat(eu.paramIsMutable)}),eg=ef.buildScriptByteCode(ep,{__contract__:ei.contractId,...ea.args},eb,et.contract.structs),em=ea.signer,ey=await em.getSelectedAccount(),e_={signerAddress:ey.address,signerKeyType:ey.keyType,bytecode:eg,attoAlphAmount:ea.attoAlphAmount,tokens:ea.tokens,gasAmount:ea.gasAmount,gasPrice:ea.gasPrice},eE=await em.signAndSubmitExecuteScriptTx(e_);return(0,ev.isContractDebugMessageEnabled)()&&ed&&await Y(eE.txId,em.nodeProvider),eE},ei.multicallMethods=async function(et,ei,eo,ea){let ec=(Array.isArray(eo)?eo:[eo]).map(et=>Object.entries(et)),eh=ec.map(eo=>eo.map(eo=>{let[ea,ec]=eo,eh=et.contract.getMethodIndex(ea),eu=ec?.txId??B();return et.contract.toApiCallContract({...ec,txId:eu,args:void 0===ec.args?{}:ec.args},ei.groupIndex,ei.address,eh)})),eu=await (0,eb.getCurrentNodeProvider)().contracts.postContractsMulticallContract({calls:eh.flat()}),ed=0,ef=eh.map((ei,eo)=>{let eh={},ef=ec[`${eo}`];return ei.forEach((ei,eo)=>{let ec=ei.methodIndex,el=eu.results[`${ed}`],ep=ef[`${eo}`][0];eh[`${ep}`]=et.contract.fromApiCallContractResult(el,ei.txId,ec,ea),ed+=1}),eh});return Array.isArray(eo)?ef:ef[0]},ei.getContractEventsCurrentCount=async function(et){return(0,eb.getCurrentNodeProvider)().events.getEventsContractContractaddressCurrentCount(et).catch(ei=>{if(ei instanceof Error&&ei.message.includes(`${et} not found`))return 0;throw new e_.TraceableError(`Failed to get the event count for the contract ${et}`,ei)})},ei.getContractIdFromUnsignedTx=async(et,ei)=>{let eo=await et.transactions.postTransactionsDecodeUnsignedTx({unsignedTx:ei}),ea=eo.unsignedTx.fixedOutputs.length,ec=eo.unsignedTx.txId+ea.toString(16).padStart(8,"0");return(0,el.binToHex)(ey.blake2b((0,el.hexToBinUnsafe)(ec),void 0,32)).slice(0,62)+eo.fromGroup.toString(16).padStart(2,"0")},ei.getTokenIdFromUnsignedTx=ei.getContractIdFromUnsignedTx,ei.getContractCodeByCodeHash=async function(et,ei){if((0,el.isHexString)(ei)&&64===ei.length)try{return await et.contracts.getContractsCodehashCode(ei)}catch(et){if(et instanceof Error&&et.message.includes("not found"))return;throw new e_.TraceableError(`Failed to get contract by code hash ${ei}`,et)}throw Error(`Invalid code hash: ${ei}`)}},2897:(et,ei,eo)=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0}),ei.genArgs=ei.DappTransactionBuilder=void 0;let ea=eo(2581),ec=eo(3651),eh=eo(1678),eu=eo(4459),ed=eo(7695),ef=eo(4652),el=eo(664);function d(et){return et>=0?(0,ec.toU256)(et):(0,ec.toI256)(et)}function f(et){return et.flatMap(et=>{if("boolean"==typeof et)return et?[ec.ConstTrue]:[ec.ConstFalse];if("bigint"==typeof et)return d(et);if("string"==typeof et){if((0,el.isHexString)(et))return[(0,ec.BytesConst)((0,el.hexToBinUnsafe)(et))];let ei=function(et){if((0,el.isBase58)(et))try{return eh.lockupScriptCodec.decode((0,el.base58ToBytes)(et))}catch(et){return}}(et);return void 0!==ei?(0,ec.AddressConst)(ei):function(et){if(/^-?\d+[ui]?$/.test(et))return et.endsWith("i")?(0,ec.toI256)(BigInt(et.slice(0,et.length-1))):et.endsWith("u")?(0,ec.toU256)(BigInt(et.slice(0,et.length-1))):d(BigInt(et));throw Error(`Invalid number: ${et}`)}(et)}if(Array.isArray(et))return f(et);if(et instanceof Map)throw Error("Map cannot be used as a function argument");if("object"==typeof et)return f(Object.values(et));throw Error(`Unknown argument type: ${typeof et}, arg: ${et}`)})}ei.DappTransactionBuilder=class{constructor(et){this.callerAddress=et;try{if(this.callerLockupScript=eh.lockupScriptCodec.decode((0,el.base58ToBytes)(this.callerAddress)),"P2PKH"!==this.callerLockupScript.kind&&"P2SH"!==this.callerLockupScript.kind)throw Error("Expected a P2PKH address or P2SH address")}catch(ei){throw new ef.TraceableError(`Invalid caller address: ${et}`,ei)}this.approvedAssets=new Map,this.instrs=[]}callContract(et){if(!(0,el.isBase58)(et.contractAddress))throw Error(`Invalid contract address: ${et.contractAddress}, expected a base58 string`);if(!(0,ea.isContractAddress)(et.contractAddress))throw Error(`Invalid contract address: ${et.contractAddress}, expected a P2C address`);if(et.methodIndex<0)throw Error(`Invalid method index: ${et.methodIndex}`);let ei=(et.tokens??[]).concat([{id:ed.ALPH_TOKEN_ID,amount:et.attoAlphAmount??0n}]),eo=[...function(et,ei){if(0===ei.length)return[];let eo=ei.flatMap(et=>et.id===ed.ALPH_TOKEN_ID?[(0,ec.U256Const)(et.amount),ec.ApproveAlph]:[(0,ec.BytesConst)((0,el.hexToBinUnsafe)(et.id)),(0,ec.U256Const)(et.amount),ec.ApproveToken]);return[(0,ec.AddressConst)(et),...Array.from(Array(ei.length-1).keys()).map(()=>ec.Dup),...eo]}(this.callerLockupScript,this.approveTokens(ei)),...function(et,ei,eo,eh){let eu=f(eo);return[...eu,(0,ec.toU256)(BigInt(eu.length)),(0,ec.toU256)(BigInt(eh)),(0,ec.BytesConst)((0,ea.contractIdFromAddress)(et)),(0,ec.CallExternal)(ei),...Array.from(Array(eh).keys()).map(()=>ec.Pop)]}(et.contractAddress,et.methodIndex,et.args,et.retLength??0)];return this.instrs.push(...eo),this}getResult(){let et={methods:[{isPublic:!0,usePreapprovedAssets:this.approvedAssets.size>0,useContractAssets:!1,usePayToContractOnly:!1,argsLength:0,localsLength:0,returnLength:0,instrs:this.instrs}]},ei=eu.scriptCodec.encode(et),eo=Array.from(this.approvedAssets.entries()).map(([et,ei])=>({id:et,amount:ei}));return this.approvedAssets.clear(),this.instrs=[],{signerAddress:this.callerAddress,signerKeyType:"P2PKH"===this.callerLockupScript.kind?"default":"bip340-schnorr",bytecode:(0,el.binToHex)(ei),attoAlphAmount:eo.find(et=>et.id===ed.ALPH_TOKEN_ID)?.amount,tokens:eo.filter(et=>et.id!==ed.ALPH_TOKEN_ID)}}addTokenToMap(et,ei,eo){let ea=eo.get(et);void 0!==ea?eo.set(et,ea+ei):ei>0n&&eo.set(et,ei)}approveTokens(et){let ei=new Map;return et.forEach(et=>{if(!(0,el.isHexString)(et.id)||64!==et.id.length)throw Error(`Invalid token id: ${et.id}`);if(et.amount<0n)throw Error(`Invalid token amount: ${et.amount}`);this.addTokenToMap(et.id,et.amount,ei),this.addTokenToMap(et.id,et.amount,this.approvedAssets)}),Array.from(ei.entries()).map(([et,ei])=>({id:et,amount:ei}))}},ei.genArgs=f},2282:(et,ei)=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0})},4964:function(et,ei,eo){"use strict";var ea=this&&this.__createBinding||(Object.create?function(et,ei,eo,ea){void 0===ea&&(ea=eo);var ec=Object.getOwnPropertyDescriptor(ei,eo);ec&&!("get"in ec?!ei.__esModule:ec.writable||ec.configurable)||(ec={enumerable:!0,get:function(){return ei[eo]}}),Object.defineProperty(et,ea,ec)}:function(et,ei,eo,ea){void 0===ea&&(ea=eo),et[ea]=ei[eo]}),ec=this&&this.__setModuleDefault||(Object.create?function(et,ei){Object.defineProperty(et,"default",{enumerable:!0,value:ei})}:function(et,ei){et.default=ei}),eh=this&&this.__importStar||function(et){if(et&&et.__esModule)return et;var ei={};if(null!=et)for(var eo in et)"default"!==eo&&Object.prototype.hasOwnProperty.call(et,eo)&&ea(ei,et,eo);return ec(ei,et),ei};Object.defineProperty(ei,"__esModule",{value:!0}),ei.subscribeToEvents=ei.EventSubscription=void 0;let eu=eh(eo(307)),ed=eo(664);let c=class c extends ed.Subscription{constructor(et,ei,eo){super(et),this.contractAddress=ei,this.fromCount=void 0===eo?0:eo,this.onEventCountChanged=et.onEventCountChanged}currentEventCount(){return this.fromCount}async getEvents(et){try{return await eu.getCurrentNodeProvider().events.getEventsContractContractaddress(this.contractAddress,{start:et})}catch(ei){if(ei instanceof Error&&ei.message.includes(`Contract events of ${this.contractAddress} not found`))return{events:[],nextStart:et};throw ei}}async polling(){try{let et=await this.getEvents(this.fromCount);if(this.fromCount===et.nextStart)return;let ei=et.events.map(et=>this.messageCallback(et));await Promise.all(ei),this.fromCount=et.nextStart,void 0!==this.onEventCountChanged&&await this.onEventCountChanged(this.fromCount),await this.polling()}catch(et){await this.errorCallback(et,this)}}};ei.EventSubscription=c,ei.subscribeToEvents=function(et,ei,eo){let ea=new c(et,ei,eo);return ea.subscribe(),ea}},5033:function(et,ei,eo){"use strict";var ea=this&&this.__createBinding||(Object.create?function(et,ei,eo,ea){void 0===ea&&(ea=eo);var ec=Object.getOwnPropertyDescriptor(ei,eo);ec&&!("get"in ec?!ei.__esModule:ec.writable||ec.configurable)||(ec={enumerable:!0,get:function(){return ei[eo]}}),Object.defineProperty(et,ea,ec)}:function(et,ei,eo,ea){void 0===ea&&(ea=eo),et[ea]=ei[eo]}),ec=this&&this.__exportStar||function(et,ei){for(var eo in et)"default"===eo||Object.prototype.hasOwnProperty.call(ei,eo)||ea(ei,et,eo)};Object.defineProperty(ei,"__esModule",{value:!0}),ei.DappTransactionBuilder=void 0,ec(eo(8486),ei),ec(eo(5143),ei),ec(eo(4964),ei),ec(eo(4529),ei),ec(eo(2282),ei);var eh=eo(2897);Object.defineProperty(ei,"DappTransactionBuilder",{enumerable:!0,get:function(){return eh.DappTransactionBuilder}})},8486:(et,ei,eo)=>{"use strict";var ea,ec;Object.defineProperty(ei,"__esModule",{value:!0}),ei.buildDebugBytecode=ei.encodeContractField=ei.buildContractByteCode=ei.encodeContractFields=ei.buildScriptByteCode=ei.flattenFields=ei.typeLength=ei.encodeMapKey=ei.decodePrimitive=ei.tryDecodeMapDebugLog=ei.calcFieldSize=ei.encodeMapPrefix=ei.parseMapType=ei.splitFields=ei.encodeScriptField=ei.encodeScriptFieldAsString=ei.encodePrimitiveValues=ei.addressVal=ei.byteVecVal=ei.u256Val=ei.i256Val=ei.boolVal=ei.encodeVmAddress=ei.encodeVmByteVec=ei.encodeVmU256=ei.encodeVmI256=ei.encodeVmBool=ei.VmValType=ei.encodeAddress=ei.encodeByteVec=void 0;let eh=eo(3749),eu=eo(664),ed=eo(3651),ef=eo(2709),el=eo(4652);function c(et){if(!(0,eu.isHexString)(et))throw Error(`Given value ${et} is not a valid hex string`);let ei=(0,eu.hexToBinUnsafe)(et);return ed.byteStringCodec.encode(ei)}function h(et){return eu.bs58.decode(et)}function d(et){return new Uint8Array([ea.Bool,...ef.boolCodec.encode(et)])}function f(et){return new Uint8Array([ea.I256,...ed.i256Codec.encode(et)])}function l(et){return new Uint8Array([ea.U256,...ed.u256Codec.encode(et)])}function p(et){return new Uint8Array([ea.ByteVec,...c(et)])}function b(et){return new Uint8Array([ea.Address,...h(et)])}function g(et,ei){return(0,eu.binToHex)(m(et,ei))}function m(et,ei){var eo,ea;switch(et){case"Bool":let ec=(0,eh.toApiBoolean)(ei)?ed.ConstTrue.code:ed.ConstFalse.code;return new Uint8Array([ec]);case"I256":let eu=(0,eh.toApiNumber256)(ei);return eo=BigInt(eu),ed.instrCodec.encode((0,ed.toI256)(eo));case"U256":let ef=(0,eh.toApiNumber256)(ei);return ea=BigInt(ef),ed.instrCodec.encode((0,ed.toU256)(ea));case"Address":let el=(0,eh.toApiAddress)(ei);return new Uint8Array([ed.AddressConstCode,...h(el)]);default:let ep=(0,eh.toApiByteVec)(ei);return new Uint8Array([ed.BytesConstCode,...c(ep)])}throw Error(`Invalid script field ${ei} for type ${et}`)}function y(et,ei,eo,ea,ec){return ei.flatMap((ei,eu)=>{if(!(ei in et))throw Error(`The value of field ${ei} is not provided`);return function v(et,ei,eo,ea,ec){if(Array.isArray(ea)&&eo.startsWith("[")){let[eu,ed]=(0,eh.decodeArrayType)(eo);if(ea.length!==ed)throw Error(`Invalid array length, expected ${ed}, got ${ea.length}`);return ea.flatMap((eo,ea)=>v(et,`${ei}[${ea}]`,eu,eo,ec))}let eu=ec.find(et=>et.name===eo);if(void 0!==eu){if("object"!=typeof ea)throw Error("Expected an object, but got "+typeof ea);return eu.fieldNames.flatMap((eo,eh)=>{if(!(eo in ea))throw Error(`The value of field ${eo} is not provided`);let ed=eu.isMutable[`${eh}`],ef=eu.fieldTypes[`${eh}`],el=ea[`${eo}`];return v(et&&ed,`${ei}.${eo}`,ef,el,ec)})}let ed=function(et,ei,eo){let ea=typeof eo;if("Bool"===ei&&"boolean"===ea||!("U256"!==ei&&"I256"!==ei||"string"!==ea&&"number"!==ea&&"bigint"!==ea)||("Address"===ei||"ByteVec"===ei)&&"string"===ea)return ei;if(!ei.startsWith("[")&&"string"===ea)return"ByteVec";throw Error(`Invalid value ${eo} for ${et}, expected a value of type ${ei}`)}(ei,eo,ea);return[{name:ei,type:ed,value:ea,isMutable:et}]}(ea[`${eu}`],ei,eo[`${eu}`],et[`${ei}`],ec)})}ei.encodeByteVec=c,ei.encodeAddress=h,(ec=ea=ei.VmValType||(ei.VmValType={}))[ec.Bool=0]="Bool",ec[ec.I256=1]="I256",ec[ec.U256=2]="U256",ec[ec.ByteVec=3]="ByteVec",ec[ec.Address=4]="Address",ei.encodeVmBool=d,ei.encodeVmI256=f,ei.encodeVmU256=l,ei.encodeVmByteVec=p,ei.encodeVmAddress=b,ei.boolVal=function(et){return{type:"Bool",value:et}},ei.i256Val=function(et){return{type:"I256",value:BigInt(et)}},ei.u256Val=function(et){return{type:"U256",value:BigInt(et)}},ei.byteVecVal=function(et){return{type:"ByteVec",value:et}},ei.addressVal=function(et){return{type:"Address",value:et}},ei.encodePrimitiveValues=function(et){return E(et.map(({type:et,value:ei})=>({name:`${ei}`,type:et,value:ei})))},ei.encodeScriptFieldAsString=g,ei.encodeScriptField=m,ei.splitFields=function(et){return et.types.reduce(([ei,eo],ea,ec)=>{let eh=ea.startsWith("Map[")?ei:eo;return eh.names.push(et.names[`${ec}`]),eh.types.push(ea),eh.isMutable.push(et.isMutable[`${ec}`]),[ei,eo]},[{names:[],types:[],isMutable:[]},{names:[],types:[],isMutable:[]}])},ei.parseMapType=function(et){if(!et.startsWith("Map["))throw Error(`Expected map type, got ${et}`);let ei=et.indexOf("["),eo=et.indexOf(",");return[et.slice(ei+1,eo),et.slice(eo+1,et.length-1)]},ei.encodeMapPrefix=function(et){let ei=`__map__${et}__`,eo=new Uint8Array(ei.length);for(let et=0;et<ei.length;et+=1)eo[et]=ei.charCodeAt(et);return eo},ei.calcFieldSize=function e(et,ei,eo){let ea=eo.find(ei=>ei.name===et);if(void 0!==ea)return ea.fieldTypes.reduce((et,ec,eh)=>{let eu=e(ec,ei&&ea.isMutable[`${eh}`],eo);return{immFields:et.immFields+eu.immFields,mutFields:et.mutFields+eu.mutFields}},{immFields:0,mutFields:0});if(et.startsWith("[")){let[ea,ec]=(0,eh.decodeArrayType)(et),eu=e(ea,ei,eo);return{immFields:eu.immFields*ec,mutFields:eu.mutFields*ec}}return ei?{immFields:0,mutFields:1}:{immFields:1,mutFields:0}},ei.tryDecodeMapDebugLog=function(et){if(!et.startsWith("insert at map path: ")&&!et.startsWith("remove at map path: "))return;let ei=et.split(":");if(2!==ei.length)return;let eo=ei[1].slice(1);if(!(0,eu.isHexString)(eo))return;let ea=eo.slice(14),ec=ea.indexOf("5f5f");if(-1===ec)return;let eh=ea.slice(0,ec);return{path:eo,mapIndex:parseInt(function(et){let ei="";for(let eo=0;eo<et.length;eo+=2){let ea=parseInt(et.slice(eo,eo+2),16);ei+=String.fromCharCode(ea)}return ei}(eh)),encodedKey:(0,eu.hexToBinUnsafe)(ea.slice(ec+4)),isInsert:et.startsWith("insert")}},ei.decodePrimitive=function(et,ei){switch(ei){case"Bool":return ef.boolCodec.decode(et);case"I256":return ed.i256Codec.decode(et);case"U256":return ed.u256Codec.decode(et);case"ByteVec":return(0,eu.binToHex)(et);case"Address":return eu.bs58.encode(et);default:throw Error(`Expected primitive type, got ${ei}`)}},ei.encodeMapKey=function(et,ei){switch(ei){case"Bool":let eo=(0,eh.toApiBoolean)(et)?1:0;return new Uint8Array([eo]);case"I256":let ea=(0,eh.toApiNumber256)(et);return ed.i256Codec.encode(BigInt(ea));case"U256":let ec=(0,eh.toApiNumber256)(et);return ed.u256Codec.encode(BigInt(ec));case"ByteVec":let ef=(0,eh.toApiByteVec)(et);return(0,eu.hexToBinUnsafe)(ef);case"Address":return h((0,eh.toApiAddress)(et));default:throw Error(`Expected primitive type, got ${ei}`)}},ei.typeLength=function e(et,ei){if(eh.PrimitiveTypes.includes(et))return 1;if(et.startsWith("[")){let[eo,ea]=(0,eh.decodeArrayType)(et);return ea*e(eo,ei)}let eo=ei.find(ei=>ei.name===et);return void 0!==eo?eo.fieldTypes.reduce((et,eo)=>et+e(eo,ei),0):1},ei.flattenFields=y;let ep=/\{([0-9]*)\}/g;function _(et,ei){try{return ei()}catch(ei){throw new el.TraceableError(`Failed to encode the field ${et}`,ei)}}function E(et){let ei=ed.i32Codec.encode(et.length);return et.reduce((et,ei)=>{let eo=_(ei.name,()=>A(ei.type,ei.value)),ea=new Uint8Array(et.byteLength+eo.byteLength);return ea.set(et,0),ea.set(eo,et.byteLength),ea},ei)}function S(et,ei,eo){let ea=y(et,ei.names,ei.types,ei.isMutable,eo);return{encodedImmFields:E(ea.filter(et=>!et.isMutable)),encodedMutFields:E(ea.filter(et=>et.isMutable))}}function A(et,ei){switch(et){case"Bool":return d((0,eh.toApiBoolean)(ei));case"I256":return f(BigInt((0,eh.toApiNumber256)(ei)));case"U256":return l(BigInt((0,eh.toApiNumber256)(ei)));case"ByteVec":return p((0,eh.toApiByteVec)(ei));case"Address":return b((0,eh.toApiAddress)(ei));default:throw Error(`Expected primitive type, got ${et}`)}}ei.buildScriptByteCode=function(et,ei,eo,ea){let ec=y(ei,eo.names,eo.types,eo.isMutable,ea);return et.replace(ep,(et,ei)=>{let eo=ec[`${ei}`];return _(eo.name,()=>g(eo.type,eo.value))})},ei.encodeContractFields=S,ei.buildContractByteCode=function(et,ei,eo,ea){let{encodedImmFields:ec,encodedMutFields:eh}=S(ei,eo,ea);return et+(0,eu.binToHex)(ec)+(0,eu.binToHex)(eh)},ei.encodeContractField=A,ei.buildDebugBytecode=function(et,ei){if(""===ei)return et;let eo="",ea=0;for(let ec of ei.matchAll(/[=+-][0-9a-f]*/g)){let ei=ec[0],eh=ei[0];if("="===eh){let ec=parseInt(ei.substring(1));eo+=et.slice(ea,ea+ec),ea+=ec}else"+"===eh?eo+=ei.substring(1):ea+=parseInt(ei.substring(1))}return eo}},4529:(et,ei,eo)=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0}),ei.ScriptSimulator=void 0;let ea=eo(2581),ec=eo(3651),eh=eo(1678),eu=eo(7695),ed=eo(664);function c(et,ei,eo,ea){ea(et.kind.startsWith("Symbol")?et:ei.kind.startsWith("Symbol")?ei:{kind:et.kind,value:eo(et.value,ei.value)})}function h(et,ei,eo,ea){ea(et.kind.startsWith("Symbol")||ei.kind.startsWith("Symbol")?{kind:"Symbol-Bool",value:void 0}:{kind:"Bool",value:eo(et.value,ei.value)})}function u(et,ei){return et.length===ei.length&&et.every((et,eo)=>et===ei[`${eo}`])}ei.ScriptSimulator=class{static extractContractCalls(et){try{return this.extractContractCallsWithErrors(et)}catch(et){return console.debug("Error extracting contract calls from script",et),[]}}static extractContractCallsWithErrors(et){let ei=(0,ed.hexToBinUnsafe)(et),eo=ec.unsignedTxCodec.decode(ei).statefulScript;switch(eo.kind){case"Some":return this.extractContractCallsFromScript(eo.value);case"None":return[]}}static extractContractCallsFromScript(et){let ei=et.methods;if(0===ei.length)return[];let eo=ei[0];return this.extractContractCallsFromMainMethod(eo)}static extractContractCallsFromMainMethod(et){var ei,eo;let eu=new f,ef=new l,el=[],ep={kind:"Address",value:{kind:"P2PKH",value:function(){let et=new Uint8Array(32);for(let ei=0;ei<32;ei++)et[`${ei}`]=Math.floor(256*Math.random());return et}()}},eb=new g;for(let eg of et.instrs)switch(eg.name){case"ConstTrue":eu.push({kind:"Bool",value:!0});break;case"ConstFalse":eu.push({kind:"Bool",value:!1});break;case"I256Const0":eu.push({kind:"I256",value:0n});break;case"I256Const1":eu.push({kind:"I256",value:1n});break;case"I256Const2":eu.push({kind:"I256",value:2n});break;case"I256Const3":eu.push({kind:"I256",value:3n});break;case"I256Const4":eu.push({kind:"I256",value:4n});break;case"I256Const5":eu.push({kind:"I256",value:5n});break;case"I256ConstN1":eu.push({kind:"I256",value:-1n});break;case"I256Const":eu.push({kind:"I256",value:eg.value});break;case"U256Const0":eu.push({kind:"U256",value:0n});break;case"U256Const1":eu.push({kind:"U256",value:1n});break;case"U256Const2":eu.push({kind:"U256",value:2n});break;case"U256Const3":eu.push({kind:"U256",value:3n});break;case"U256Const4":eu.push({kind:"U256",value:4n});break;case"U256Const5":eu.push({kind:"U256",value:5n});break;case"U256Const":eu.push({kind:"U256",value:eg.value});break;case"BytesConst":eu.push({kind:"ByteVec",value:eg.value});break;case"AddressConst":eu.push({kind:"Address",value:eg.value});break;case"LoadLocal":eu.push(ef.get(eg.index));break;case"StoreLocal":ef.set(eg.index,eu.pop());break;case"Pop":eu.pop();break;case"Dup":let et=eu.pop();eu.push(et),eu.push(et);break;case"Swap":let em=eu.pop(),ey=eu.pop();eu.push(em),eu.push(ey);break;case"BoolNot":let ev=(eo=et=>!et,(ei=eu.popBool()).kind.startsWith("Symbol")?ei:{kind:ei.kind,value:eo(ei.value)});eu.push(ev);case"BoolAnd":c(eu.popBool(),eu.popBool(),(et,ei)=>et&&ei,eu.push);break;case"BoolOr":c(eu.popBool(),eu.popBool(),(et,ei)=>et||ei,eu.push);break;case"BoolEq":c(eu.popBool(),eu.popBool(),(et,ei)=>et===ei,eu.push);break;case"BoolNeq":c(eu.popBool(),eu.popBool(),(et,ei)=>et!==ei,eu.push);break;case"BoolToByteVec":{let et=eu.popBool();"Symbol-Bool"===et.kind?eu.push(et):eu.push({kind:"ByteVec",value:ec.boolCodec.encode(et.value)});break}case"I256Add":{let et=eu.popI256();c(eu.popI256(),et,(et,ei)=>et+ei,eu.push);break}case"I256Sub":{let et=eu.popI256();c(eu.popI256(),et,(et,ei)=>et-ei,eu.push);break}case"I256Mul":{let et=eu.popI256();c(eu.popI256(),et,(et,ei)=>et*ei,eu.push);break}case"I256Div":{let et=eu.popI256();c(eu.popI256(),et,(et,ei)=>et/ei,eu.push);break}case"I256Eq":{let et=eu.popI256();h(eu.popI256(),et,(et,ei)=>et===ei,eu.push);break}case"I256Neq":{let et=eu.popI256();h(eu.popI256(),et,(et,ei)=>et!==ei,eu.push);break}case"I256Lt":{let et=eu.popI256();h(eu.popI256(),et,(et,ei)=>et<ei,eu.push);break}case"I256Le":{let et=eu.popI256();h(eu.popI256(),et,(et,ei)=>et<=ei,eu.push);break}case"I256Gt":{let et=eu.popI256();h(eu.popI256(),et,(et,ei)=>et>ei,eu.push);break}case"I256Ge":{let et=eu.popI256();h(eu.popI256(),et,(et,ei)=>et>=ei,eu.push);break}case"U256Add":{let et=eu.popU256();c(eu.popU256(),et,(et,ei)=>et+ei,eu.push);break}case"U256Sub":{let et=eu.popU256();c(eu.popU256(),et,(et,ei)=>et-ei,eu.push);break}case"U256Mul":{let et=eu.popU256();c(eu.popU256(),et,(et,ei)=>et*ei,eu.push);break}case"U256Div":{let et=eu.popU256();c(eu.popU256(),et,(et,ei)=>et/ei,eu.push);break}case"U256Eq":{let et=eu.popU256();h(eu.popU256(),et,(et,ei)=>et===ei,eu.push);break}case"U256Neq":{let et=eu.popU256();h(eu.popU256(),et,(et,ei)=>et!==ei,eu.push);break}case"U256Lt":{let et=eu.popU256();h(eu.popU256(),et,(et,ei)=>et<ei,eu.push);break}case"U256Le":{let et=eu.popU256();h(eu.popU256(),et,(et,ei)=>et<=ei,eu.push);break}case"U256Gt":{let et=eu.popU256();h(eu.popU256(),et,(et,ei)=>et>ei,eu.push);break}case"U256Ge":{let et=eu.popU256();h(eu.popU256(),et,(et,ei)=>et>=ei,eu.push);break}case"ByteVecEq":h(eu.popByteVec(),eu.popByteVec(),(et,ei)=>u(et,ei),eu.push);break;case"ByteVecNeq":h(eu.popByteVec(),eu.popByteVec(),(et,ei)=>!u(et,ei),eu.push);break;case"ByteVecSize":{let et=eu.popByteVec();"Symbol-ByteVec"===et.kind?eu.push({kind:"Symbol-U256",value:void 0}):eu.push({kind:"U256",value:BigInt(et.value.length)});break}case"ByteVecConcat":{let et=eu.popByteVec();c(eu.popByteVec(),et,(et,ei)=>new Uint8Array([...et,...ei]),eu.push);break}case"ByteVecSlice":{let et=eu.popU256(),ei=eu.popU256(),eo=eu.popByteVec();"Symbol-ByteVec"===eo.kind||"Symbol-U256"===ei.kind||"Symbol-U256"===et.kind?eu.push({kind:"Symbol-ByteVec",value:void 0}):eu.push({kind:"ByteVec",value:eo.value.slice(Number(ei.value),Number(et.value))});break}case"AddressEq":h(eu.popAddress(),eu.popAddress(),(et,ei)=>u(eh.lockupScriptCodec.encode(et),eh.lockupScriptCodec.encode(ei)),eu.push);break;case"AddressNeq":h(eu.popAddress(),eu.popAddress(),(et,ei)=>!u(eh.lockupScriptCodec.encode(et),eh.lockupScriptCodec.encode(ei)),eu.push);break;case"AddressToByteVec":{let et=eu.popAddress();"Symbol-Address"===et.kind?eu.push({kind:"Symbol-ByteVec",value:void 0}):eu.push({kind:"ByteVec",value:eh.lockupScriptCodec.encode(et.value)});break}case"Assert":if(!eu.popBool())throw Error("Assertion failed");break;case"Blake2b":case"Sha256":case"Sha3":case"Keccak256":b(eg.name),eu.popByteVec(),eu.push({kind:"ByteVec",value:new Uint8Array(32)});break;case"ByteVecToAddress":{let et=eu.popByteVec();"Symbol-ByteVec"===et.kind?eu.push({kind:"Symbol-Address",value:void 0}):eu.push({kind:"Address",value:eh.lockupScriptCodec.decode(et.value)});break}case"Zeros":{let et=eu.popU256();if("Symbol-U256"===et.kind)eu.push({kind:"Symbol-ByteVec",value:void 0});else{if(et.value>4096)throw Error("Zeros size is too large");eu.push({kind:"ByteVec",value:new Uint8Array(Number(et.value))})}break}case"U256To1Byte":case"U256To2Byte":case"U256To4Byte":case"U256To8Byte":case"U256To16Byte":case"U256To32Byte":b(eg.name),eu.popU256(),eu.push({kind:"Symbol-ByteVec",value:void 0});break;case"U256From1Byte":case"U256From2Byte":case"U256From4Byte":case"U256From8Byte":case"U256From16Byte":case"U256From32Byte":b(eg.name),eu.popByteVec(),eu.push({kind:"Symbol-U256",value:void 0});break;case"CallExternal":case"CallExternalBySelector":{let et=eu.popByteVec(),ei=eu.popU256();if(eu.popU256(),"Symbol-ByteVec"!==et.kind&&el.push({contractAddress:(0,ea.addressFromContractId)((0,ed.binToHex)(et.value)),approvedAttoAlphAmount:eb.getApprovedAttoAlph(),approvedTokens:eb.getApprovedTokens()}),eb.reset(),"Symbol-U256"!==ei.kind)for(let et=0;et<ei.value;et++)eu.push({kind:"Symbol-Any",value:void 0});break}case"ContractIdToAddress":{let et=eu.popByteVec();"Symbol-ByteVec"===et.kind?eu.push({kind:"Symbol-Address",value:void 0}):eu.push({kind:"Address",value:{kind:"P2C",value:et.value}});break}case"LoadLocalByIndex":{let et=eu.popU256();if("Symbol-U256"===et.kind)throw Error("LoadLocalByIndex index is a symbol");eu.push(ef.get(Number(et.value)));break}case"StoreLocalByIndex":{let et=eu.popU256();if("Symbol-U256"===et.kind)throw Error("StoreLocalByIndex index is a symbol");ef.set(Number(et.value),eu.pop());break}case"CallerAddress":eu.push(ep);break;case"ApproveAlph":{let et=eu.popU256(),ei=eu.popAddress();ei.kind.startsWith("Symbol")?eb.setUnknown():ei===ep&&eb.addApprovedAttoAlph(et);break}case"ApproveToken":{let et=eu.popU256(),ei=eu.popByteVec(),eo=eu.popAddress();eo.kind.startsWith("Symbol")?eb.setUnknown():eo===ep&&eb.addApprovedToken(ei,et);break}case"CreateContractAndTransferToken":eu.popAddress();case"CreateContractWithToken":eu.popU256();case"CreateContract":eu.popByteVec(),eu.popByteVec(),eu.popByteVec(),eu.push({kind:"Symbol-ByteVec",value:void 0});break;case"TransferAlph":eu.popU256(),eu.popAddress(),eu.popAddress();break;case"TransferToken":eu.popU256(),eu.popByteVec(),eu.popAddress(),eu.popAddress();break;default:(function(et){throw Error(`Unimplemented instruction: ${et}`)})(eg.name)}return el}};let f=class f{constructor(){this.stack=[],this.push=et=>{this.stack.push(et)}}pop(){let et=this.stack.pop();if(void 0===et)throw Error("Stack is empty");return et}size(){return this.stack.length}checkedResult(et,ei){if(et.kind.startsWith("Symbol")){if(et.kind!==`Symbol-${ei}`)throw Error(`Expected a ${ei} value on the stack`);return et}if(et.kind!==ei)throw Error(`Expected a ${ei} value on the stack`);return et}popBool(){let et=this.pop();return this.checkedResult(et,"Bool")}popI256(){let et=this.pop();return this.checkedResult(et,"I256")}popU256(){let et=this.pop();return this.checkedResult(et,"U256")}popByteVec(){let et=this.pop();return this.checkedResult(et,"ByteVec")}popAddress(){let et=this.pop();return this.checkedResult(et,"Address")}};let l=class l{constructor(){this.locals=[]}get(et){let ei=this.locals[`${et}`];if(void 0===ei)throw Error(`Local variable at index ${et} is not set`);return ei}set(et,ei){this.locals[`${et}`]=ei}checkedResult(et,ei,eo){if(et.kind.startsWith("Symbol")){if(et.kind!==`Symbol-${eo}`)throw Error(`Local variable at index ${ei} is not a ${eo}`);return et}if(et.kind!==eo)throw Error(`Local variable at index ${ei} is not a ${eo}`);return et}getBool(et){let ei=this.get(et);return this.checkedResult(ei,et,"Bool")}getI256(et){let ei=this.get(et);return this.checkedResult(ei,et,"I256")}getU256(et){let ei=this.get(et);return this.checkedResult(ei,et,"U256")}getByteVec(et){let ei=this.get(et);return this.checkedResult(ei,et,"ByteVec")}getAddress(et){let ei=this.get(et);return this.checkedResult(ei,et,"Address")}};function b(et){console.debug(`Dummy implementation for instruction: ${et}`)}let g=class g{constructor(){this.approvedTokens=[],this.reset()}reset(){this.approvedTokens=[{id:eu.ALPH_TOKEN_ID,amount:0n}]}setUnknown(){this.approvedTokens="unknown"}getApprovedAttoAlph(){if("unknown"===this.approvedTokens)return"unknown";let et=this.approvedTokens[0].amount;return"unknown"===et?"unknown":0n===et?void 0:et}getApprovedTokens(){if("unknown"===this.approvedTokens)return"unknown";let et=this.approvedTokens.slice(1);return 0===et.length?void 0:et}addApprovedAttoAlph(et){this.addApprovedToken({kind:"ByteVec",value:(0,ed.hexToBinUnsafe)(eu.ALPH_TOKEN_ID)},et)}addApprovedToken(et,ei){if("unknown"===this.approvedTokens)return;if("Symbol-ByteVec"===et.kind)return void(this.approvedTokens="unknown");let eo=this.approvedTokens.findIndex(ei=>u((0,ed.hexToBinUnsafe)(ei.id),et.value));if(-1===eo)this.approvedTokens.push({id:(0,ed.binToHex)(et.value),amount:"Symbol-U256"===ei.kind?"unknown":ei.value});else{let et=this.approvedTokens[`${eo}`];if("unknown"===et.amount)return;"Symbol-U256"===ei.kind?et.amount="unknown":et.amount+=ei.value}}}},2505:(et,ei)=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0}),ei.disableContractDebugMessage=ei.enableContractDebugMessage=ei.isContractDebugMessageEnabled=ei.disableDebugMode=ei.enableDebugMode=ei.isDebugModeEnabled=void 0;let eo=!1;ei.isDebugModeEnabled=function(){return eo},ei.enableDebugMode=function(){eo=!0},ei.disableDebugMode=function(){eo=!1};let ea=!0;ei.isContractDebugMessageEnabled=function(){return ea},ei.enableContractDebugMessage=function(){ea=!0},ei.disableContractDebugMessage=function(){ea=!1}},4652:(et,ei)=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0}),ei.TraceableError=void 0,ei.TraceableError=class extends Error{constructor(et,ei){let eo=void 0===ei?void 0:ei instanceof Error?ei.message:`${ei}`;super(eo?`${et}, error: ${eo}`:et),this.trace=ei;let ea=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,ea):this.__proto__=ea}}},3869:(et,ei,eo)=>{"use strict";var ea,ec;Object.defineProperty(ei,"__esModule",{value:!0}),ei.isTransferTx=ei.getAddressFromUnlockScript=ei.getSenderAddress=ei.getDepositInfo=ei.getALPHDepositInfo=ei.isALPHTransferTx=ei.validateExchangeAddress=void 0;let eh=eo(2581),eu=eo(664),ed=eo(2976),ef=eo(4459),el=eo(4652);function c(et){return f(et)&&et.unsigned.fixedOutputs.every(et=>0===et.tokens.length)}function h(et){let ei=[];for(let eo of et.unsigned.inputs)try{if(eo.unlockScript===(0,eu.binToHex)(ed.encodedSameAsPrevious))continue;let et=d(eo.unlockScript);ei.includes(et)||ei.push(et)}catch(et){throw new el.TraceableError("Failed to decode address from unlock script",et)}return ei}function d(et){if(!(0,eu.isHexString)(et))throw Error(`Invalid unlock script ${et}, expected a hex string`);let ei=(0,eu.hexToBinUnsafe)(et);if(0===ei.length)throw Error("UnlockScript is empty");let eo=ei[0],ec=ei.slice(1);if(eo===ea.P2PKH){if(33!==ec.length)throw Error(`Invalid p2pkh unlock script: ${et}`);return(0,eh.addressFromPublicKey)((0,eu.binToHex)(ec))}if(eo===ea.P2MPKH)throw Error("Naive multi-sig address is not supported for exchanges as it will be replaced by P2SH");if(eo===ea.P2SH){let eo;try{eo=ed.unlockScriptCodec.decode(ei).value}catch(ei){throw new el.TraceableError(`Invalid p2sh unlock script: ${et}`,ei)}return(0,eh.addressFromScript)(ef.scriptCodec.encode(eo.script))}throw Error("Invalid unlock script type")}function f(et){return 0===et.contractInputs.length&&0===et.generatedOutputs.length&&0!==et.unsigned.inputs.length&&void 0===et.unsigned.scriptOpt}ei.validateExchangeAddress=function(et){let ei=(0,eu.base58ToBytes)(et);if(0===ei.length)throw Error("Address is empty");let eo=ei[0];if(eo!==eh.AddressType.P2PKH&&eo!==eh.AddressType.P2SH)throw Error("Invalid address type");if(33!==ei.length)throw Error("Invalid address length")},ei.isALPHTransferTx=c,ei.getALPHDepositInfo=function(et){if(!c(et))return[];let ei=h(et),eo=new Map;return et.unsigned.fixedOutputs.forEach(et=>{if(!ei.includes(et.address)){let ei=eo.get(et.address);void 0===ei?eo.set(et.address,BigInt(et.attoAlphAmount)):eo.set(et.address,BigInt(et.attoAlphAmount)+ei)}}),Array.from(eo.entries()).map(([et,ei])=>({targetAddress:et,depositAmount:ei}))},ei.getDepositInfo=function(et){if(!f(et))return{alph:[],tokens:[]};let ei=h(et),eo=new Map,ea=new Map;return et.unsigned.fixedOutputs.forEach(et=>{if(!ei.includes(et.address)){let ei=eo.get(et.address)??0n;eo.set(et.address,ei+BigInt(et.attoAlphAmount)),et.tokens.forEach(ei=>{let eo=ea.get(ei.id)??new Map,ec=eo.get(et.address)??0n;eo.set(et.address,ec+BigInt(ei.amount)),ea.set(ei.id,eo)})}}),{alph:Array.from(eo.entries()).map(([et,ei])=>({targetAddress:et,depositAmount:ei})),tokens:Array.from(ea.entries()).flatMap(([et,ei])=>Array.from(ei.entries()).map(([ei,eo])=>({tokenId:et,targetAddress:ei,depositAmount:eo})))}},ei.getSenderAddress=function(et){return d(et.unsigned.inputs[0].unlockScript)},(ec=ea||(ea={}))[ec.P2PKH=0]="P2PKH",ec[ec.P2MPKH=1]="P2MPKH",ec[ec.P2SH=2]="P2SH",ei.getAddressFromUnlockScript=d,ei.isTransferTx=f},5666:(et,ei,eo)=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0}),ei.getDepositInfo=ei.getALPHDepositInfo=ei.isALPHTransferTx=ei.getSenderAddress=ei.validateExchangeAddress=void 0;var ea=eo(3869);Object.defineProperty(ei,"validateExchangeAddress",{enumerable:!0,get:function(){return ea.validateExchangeAddress}}),Object.defineProperty(ei,"getSenderAddress",{enumerable:!0,get:function(){return ea.getSenderAddress}}),Object.defineProperty(ei,"isALPHTransferTx",{enumerable:!0,get:function(){return ea.isALPHTransferTx}}),Object.defineProperty(ei,"getALPHDepositInfo",{enumerable:!0,get:function(){return ea.getALPHDepositInfo}}),Object.defineProperty(ei,"getDepositInfo",{enumerable:!0,get:function(){return ea.getDepositInfo}})},307:(et,ei,eo)=>{"use strict";let ea,ec;Object.defineProperty(ei,"__esModule",{value:!0}),ei.getCurrentExplorerProvider=ei.setCurrentExplorerProvider=ei.getCurrentNodeProvider=ei.setCurrentNodeProvider=void 0;let eh=eo(3749);ei.setCurrentNodeProvider=function(et,ei,eo){ea="string"==typeof et?new eh.NodeProvider(et,ei,eo):et},ei.getCurrentNodeProvider=function(){if(void 0===ea)throw Error("No node provider is set.");return ea},ei.setCurrentExplorerProvider=function(et,ei,eo){ec="string"==typeof et?new eh.ExplorerProvider(et,ei,eo):et},ei.getCurrentExplorerProvider=function(){return ec}},2126:function(et,ei,eo){"use strict";var ea=this&&this.__createBinding||(Object.create?function(et,ei,eo,ea){void 0===ea&&(ea=eo);var ec=Object.getOwnPropertyDescriptor(ei,eo);ec&&!("get"in ec?!ei.__esModule:ec.writable||ec.configurable)||(ec={enumerable:!0,get:function(){return ei[eo]}}),Object.defineProperty(et,ea,ec)}:function(et,ei,eo,ea){void 0===ea&&(ea=eo),et[ea]=ei[eo]}),ec=this&&this.__setModuleDefault||(Object.create?function(et,ei){Object.defineProperty(et,"default",{enumerable:!0,value:ei})}:function(et,ei){et.default=ei}),eh=this&&this.__exportStar||function(et,ei){for(var eo in et)"default"===eo||Object.prototype.hasOwnProperty.call(ei,eo)||ea(ei,et,eo)},eu=this&&this.__importStar||function(et){if(et&&et.__esModule)return et;var ei={};if(null!=et)for(var eo in et)"default"!==eo&&Object.prototype.hasOwnProperty.call(et,eo)&&ea(ei,et,eo);return ec(ei,et),ei};Object.defineProperty(ei,"__esModule",{value:!0}),ei.utils=ei.codec=ei.web3=void 0,BigInt.prototype.toJSON=function(){return this.toString()},eh(eo(3749),ei),eh(eo(5033),ei),eh(eo(3693),ei),eh(eo(664),ei),eh(eo(6705),ei),eh(eo(3652),ei),eh(eo(7695),ei),ei.web3=eu(eo(307)),ei.codec=eu(eo(3651)),ei.utils=eu(eo(664)),eh(eo(2505),ei),eh(eo(4648),ei),eh(eo(2581),ei),eh(eo(5666),ei),eh(eo(4652),ei)},3693:function(et,ei,eo){"use strict";var ea=this&&this.__createBinding||(Object.create?function(et,ei,eo,ea){void 0===ea&&(ea=eo);var ec=Object.getOwnPropertyDescriptor(ei,eo);ec&&!("get"in ec?!ei.__esModule:ec.writable||ec.configurable)||(ec={enumerable:!0,get:function(){return ei[eo]}}),Object.defineProperty(et,ea,ec)}:function(et,ei,eo,ea){void 0===ea&&(ea=eo),et[ea]=ei[eo]}),ec=this&&this.__exportStar||function(et,ei){for(var eo in et)"default"===eo||Object.prototype.hasOwnProperty.call(ei,eo)||ea(ei,et,eo)};Object.defineProperty(ei,"__esModule",{value:!0}),ec(eo(9191),ei),ec(eo(2644),ei),ec(eo(7375),ei)},9191:function(et,ei,eo){"use strict";var ea=this&&this.__createBinding||(Object.create?function(et,ei,eo,ea){void 0===ea&&(ea=eo);var ec=Object.getOwnPropertyDescriptor(ei,eo);ec&&!("get"in ec?!ei.__esModule:ec.writable||ec.configurable)||(ec={enumerable:!0,get:function(){return ei[eo]}}),Object.defineProperty(et,ea,ec)}:function(et,ei,eo,ea){void 0===ea&&(ea=eo),et[ea]=ei[eo]}),ec=this&&this.__setModuleDefault||(Object.create?function(et,ei){Object.defineProperty(et,"default",{enumerable:!0,value:ei})}:function(et,ei){et.default=ei}),eh=this&&this.__importStar||function(et){if(et&&et.__esModule)return et;var ei={};if(null!=et)for(var eo in et)"default"!==eo&&Object.prototype.hasOwnProperty.call(et,eo)&&ea(ei,et,eo);return ec(ei,et),ei},eu=this&&this.__importDefault||function(et){return et&&et.__esModule?et:{default:et}};Object.defineProperty(ei,"__esModule",{value:!0}),ei.fromApiDestination=ei.toApiDestinations=ei.toApiDestination=ei.verifySignedMessage=ei.hashMessage=ei.extendMessage=ei.SignerProviderWithCachedAccounts=ei.SignerProviderWithMultipleAccounts=ei.SignerProviderSimple=ei.InteractiveSignerProvider=ei.SignerProvider=void 0;let ed=eo(4062),ef=eo(3749),el=eh(eo(664)),ep=eu(eo(1540)),eb=eo(7375),eg=eo(2581);let l=class l{async getSelectedAccount(){let et=await this.unsafeGetSelectedAccount();return l.validateAccount(et),et}static validateAccount(et){let ei=(0,eg.addressFromPublicKey)(et.publicKey,et.keyType),eo=(0,eg.groupOfAddress)(ei);if(ei!==et.address||eo!==et.group)throw Error(`Invalid accounot data: ${JSON.stringify(et)}`)}};ei.SignerProvider=l,ei.InteractiveSignerProvider=class extends l{async enable(et){let ei=await this.unsafeEnable(et);return l.validateAccount(ei),ei}};let p=class p extends l{async submitTransaction(et){let ei={unsignedTx:et.unsignedTx,signature:et.signature};return this.nodeProvider.transactions.postTransactionsSubmit(ei)}async signAndSubmitTransferTx(et){let ei=await this.signTransferTx(et);return await this.submitTransaction(ei),ei}async signAndSubmitDeployContractTx(et){let ei=await this.signDeployContractTx(et);return await this.submitTransaction(ei),ei}async signAndSubmitExecuteScriptTx(et){let ei=await this.signExecuteScriptTx(et);return await this.submitTransaction(ei),ei}async signAndSubmitUnsignedTx(et){let ei=await this.signUnsignedTx(et);return await this.submitTransaction(ei),ei}async signAndSubmitChainedTx(et){let ei=await this.signChainedTx(et);for(let et of ei)await this.submitTransaction(et);return ei}async signTransferTx(et){let ei=await this.buildTransferTx(et);return{signature:await this.signRaw(et.signerAddress,ei.txId),...ei}}async buildTransferTx(et){return eb.TransactionBuilder.from(this.nodeProvider).buildTransferTx(et,await this.getPublicKey(et.signerAddress))}async signDeployContractTx(et){let ei=await this.buildDeployContractTx(et);return{signature:await this.signRaw(et.signerAddress,ei.txId),...ei}}async buildDeployContractTx(et){return eb.TransactionBuilder.from(this.nodeProvider).buildDeployContractTx(et,await this.getPublicKey(et.signerAddress))}async signExecuteScriptTx(et){let ei=await this.buildExecuteScriptTx(et);return{signature:await this.signRaw(et.signerAddress,ei.txId),...ei}}async buildExecuteScriptTx(et){return eb.TransactionBuilder.from(this.nodeProvider).buildExecuteScriptTx(et,await this.getPublicKey(et.signerAddress))}async signChainedTx(et){let ei=await this.buildChainedTx(et),eo=await Promise.all(ei.map((ei,eo)=>this.signRaw(et[`${eo}`].signerAddress,ei.txId)));return ei.map((et,ei)=>({...et,signature:eo[`${ei}`]}))}async buildChainedTx(et){return eb.TransactionBuilder.from(this.nodeProvider).buildChainedTx(et,await Promise.all(et.map(et=>this.getPublicKey(et.signerAddress))))}async signUnsignedTx(et){let ei=eb.TransactionBuilder.buildUnsignedTx(et);return{signature:await this.signRaw(et.signerAddress,ei.txId),...ei}}async signMessage(et){let ei=m(et.message,et.messageHasher);return{signature:await this.signRaw(et.signerAddress,ei)}}};ei.SignerProviderSimple=p;let b=class b extends p{async getAccount(et){let ei=(await this.getAccounts()).find(ei=>ei.address===et);if(void 0===ei)throw Error("Unmatched signerAddress");return ei}async getPublicKey(et){return(await this.getAccount(et)).publicKey}};function g(et){return"Alephium Signed Message: "+et}function m(et,ei){switch(ei){case"alephium":return el.binToHex(ep.default.blake2b(g(et),void 0,32));case"sha256":let eo=(0,ed.createHash)("sha256");return eo.update((new TextEncoder).encode(et)),el.binToHex(eo.digest());case"blake2b":return el.binToHex(ep.default.blake2b(et,void 0,32));case"identity":return et;default:throw Error(`Invalid message hasher: ${ei}`)}}function y(et){return{...et,attoAlphAmount:(0,ef.toApiNumber256)(et.attoAlphAmount),tokens:(0,ef.toApiTokens)(et.tokens)}}ei.SignerProviderWithMultipleAccounts=b,ei.SignerProviderWithCachedAccounts=class extends b{constructor(){super(...arguments),this._selectedAccount=void 0,this._accounts=new Map}unsafeGetSelectedAccount(){if(void 0===this._selectedAccount)throw Error("No account is selected yet");return Promise.resolve(this._selectedAccount)}setSelectedAccount(et){let ei=this._accounts.get(et);if(void 0===ei)throw Error("The address is not in the accounts");return this._selectedAccount=ei,Promise.resolve()}getAccounts(){return Promise.resolve(Array.from(this._accounts.values()))}async getAccount(et){let ei=this._accounts.get(et);if(void 0===ei)throw Error("The address is not in the accounts");return Promise.resolve(ei)}},ei.extendMessage=g,ei.hashMessage=m,ei.verifySignedMessage=function(et,ei,eo,ea,ec){let eh=m(et,ei);return el.verifySignature(eh,eo,ea,ec)},ei.toApiDestination=y,ei.toApiDestinations=function(et){return et.map(y)},ei.fromApiDestination=function(et){return{...et,attoAlphAmount:(0,ef.fromApiNumber256)(et.attoAlphAmount),tokens:(0,ef.fromApiTokens)(et.tokens)}}},7375:(et,ei,eo)=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0}),ei.TransactionBuilder=void 0;let ea=eo(664),ec=eo(3749),eh=eo(2581),eu=eo(9191),ed=eo(3651),ef=eo(6705),el=eo(7007);let u=class u{static from(et,ei,eo){let ea="string"==typeof et?new ec.NodeProvider(et,ei,eo):et;return new class extends u{get nodeProvider(){return ea}}}static validatePublicKey(et,ei,eo){if((0,eh.addressFromPublicKey)(ei,eo)!==et.signerAddress)throw Error("Unmatched public key")}async buildTransferTx(et,ei){let eo=this.buildTransferTxParams(et,ei),ea=await this.nodeProvider.transactions.postTransactionsBuild(eo);return this.convertTransferTxResult(ea)}async buildDeployContractTx(et,ei){let eo=this.buildDeployContractTxParams(et,ei),ea=await this.nodeProvider.contracts.postContractsUnsignedTxDeployContract(eo);return this.convertDeployContractTxResult(ea)}async buildExecuteScriptTx(et,ei){let eo=this.buildExecuteScriptTxParams(et,ei),ea=await this.nodeProvider.contracts.postContractsUnsignedTxExecuteScript(eo);return this.convertExecuteScriptTxResult(ea)}async buildChainedTx(et,ei){if(et.length!==ei.length)throw Error("The number of build chained transaction parameters must match the number of public keys provided");let eo=et.map((et,eo)=>{let ea=et.type;switch(ea){case"Transfer":return{type:ea,value:this.buildTransferTxParams(et,ei[eo])};case"DeployContract":return{type:ea,value:this.buildDeployContractTxParams(et,ei[eo])};case"ExecuteScript":return{type:ea,value:this.buildExecuteScriptTxParams(et,ei[eo])};default:throw Error(`Unsupported transaction type: ${ea}`)}});return(await this.nodeProvider.transactions.postTransactionsBuildChained(eo)).map(et=>{let ei=et.type;switch(ei){case"Transfer":{let eo=et.value;return{...this.convertTransferTxResult(eo),type:ei}}case"DeployContract":{let eo=et.value;return{...this.convertDeployContractTxResult(eo),type:ei}}case"ExecuteScript":{let eo=et.value;return{...this.convertExecuteScriptTxResult(eo),type:ei}}default:throw Error(`Unexpected transaction type: ${ei} for ${et.value.txId}`)}})}static buildUnsignedTx(et){let ei=(0,ea.hexToBinUnsafe)(et.unsignedTx),eo=ed.unsignedTxCodec.decode(ei),ec=(0,ea.binToHex)((0,el.blakeHash)(ei)),[eh,eu]=(0,ef.groupIndexOfTransaction)(eo);return{fromGroup:eh,toGroup:eu,unsignedTx:et.unsignedTx,txId:ec,gasAmount:eo.gasAmount,gasPrice:eo.gasPrice}}buildTransferTxParams(et,ei){u.validatePublicKey(et,ei,et.signerKeyType);let{destinations:eo,gasPrice:ea,...eh}=et;return{fromPublicKey:ei,fromPublicKeyType:et.signerKeyType,destinations:(0,eu.toApiDestinations)(eo),gasPrice:(0,ec.toApiNumber256Optional)(ea),...eh}}buildDeployContractTxParams(et,ei){u.validatePublicKey(et,ei,et.signerKeyType);let{initialAttoAlphAmount:eo,initialTokenAmounts:ea,issueTokenAmount:eh,gasPrice:eu,...ed}=et;return{fromPublicKey:ei,fromPublicKeyType:et.signerKeyType,initialAttoAlphAmount:(0,ec.toApiNumber256Optional)(eo),initialTokenAmounts:(0,ec.toApiTokens)(ea),issueTokenAmount:(0,ec.toApiNumber256Optional)(eh),gasPrice:(0,ec.toApiNumber256Optional)(eu),...ed}}buildExecuteScriptTxParams(et,ei){u.validatePublicKey(et,ei,et.signerKeyType);let{attoAlphAmount:eo,tokens:ea,gasPrice:eh,...eu}=et;return{fromPublicKey:ei,fromPublicKeyType:et.signerKeyType,attoAlphAmount:(0,ec.toApiNumber256Optional)(eo),tokens:(0,ec.toApiTokens)(ea),gasPrice:(0,ec.toApiNumber256Optional)(eh),...eu}}convertTransferTxResult(et){return{...et,gasPrice:(0,ec.fromApiNumber256)(et.gasPrice)}}convertDeployContractTxResult(et){let ei=(0,ea.binToHex)((0,eh.contractIdFromAddress)(et.contractAddress));return{...et,groupIndex:et.fromGroup,contractId:ei,gasPrice:(0,ec.fromApiNumber256)(et.gasPrice)}}convertExecuteScriptTxResult(et){return{...et,groupIndex:et.fromGroup,gasPrice:(0,ec.fromApiNumber256)(et.gasPrice)}}};ei.TransactionBuilder=u},2644:(et,ei,eo)=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0});let ea=eo(664);ea.assertType,(0,ea.assertType)(),(0,ea.assertType)(),(0,ea.assertType)(),(0,ea.assertType)(),(0,ea.assertType)(),(0,ea.assertType)(),(0,ea.assertType)(),ea.assertType,(0,ea.assertType)()},3652:function(et,ei,eo){"use strict";var ea=this&&this.__createBinding||(Object.create?function(et,ei,eo,ea){void 0===ea&&(ea=eo);var ec=Object.getOwnPropertyDescriptor(ei,eo);ec&&!("get"in ec?!ei.__esModule:ec.writable||ec.configurable)||(ec={enumerable:!0,get:function(){return ei[eo]}}),Object.defineProperty(et,ea,ec)}:function(et,ei,eo,ea){void 0===ea&&(ea=eo),et[ea]=ei[eo]}),ec=this&&this.__exportStar||function(et,ei){for(var eo in et)"default"===eo||Object.prototype.hasOwnProperty.call(ei,eo)||ea(ei,et,eo)};Object.defineProperty(ei,"__esModule",{value:!0}),ec(eo(716),ei)},716:(et,ei,eo)=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0}),ei.validateNFTBaseUri=ei.validateNFTCollectionUriMetaData=ei.validateNFTTokenUriMetaData=ei.validNFTCollectionUriMetaDataFields=ei.validNFTUriMetaDataAttributeTypes=ei.validNFTTokenUriMetaDataAttributesFields=ei.validNFTTokenUriMetaDataFields=void 0,eo(9114);let ea=eo(4652);function i(et){return Object.keys(et).forEach(et=>{if(!ei.validNFTTokenUriMetaDataFields.includes(et))throw Error(`Invalid field ${et}, only ${ei.validNFTTokenUriMetaDataFields} are allowed`)}),{name:s(et,"name"),description:function(et,ei){let eo=et[`${ei}`];if(void 0!==eo&&("string"!=typeof eo||""===eo))throw Error(`JSON field '${ei}' is not a non empty string`);return eo}(et,"description"),image:s(et,"image"),attributes:function(et){if(et){if(!Array.isArray(et))throw Error("Field 'attributes' should be an array");et.forEach(et=>{if("object"!=typeof et)throw Error("Field 'attributes' should be an array of objects");Object.keys(et).forEach(et=>{if(!ei.validNFTTokenUriMetaDataAttributesFields.includes(et))throw Error(`Invalid field ${et} for attributes, only ${ei.validNFTTokenUriMetaDataAttributesFields} are allowed`)}),s(et,"trait_type"),function(et){let ei=et.value;if(("string"!=typeof ei||""===ei)&&"number"!=typeof ei&&"boolean"!=typeof ei)throw Error("Attribute value should be a non empty string, number or boolean")}(et)})}return et}(et.attributes)}}function s(et,ei){let eo=et[`${ei}`];if("string"!=typeof eo||""===eo)throw Error(`JSON field '${ei}' is not a non empty string`);return eo}async function o(et,ei){try{return await (await fetch(`${et}${ei}`)).json()}catch(eo){throw new ea.TraceableError(`Error fetching NFT metadata from ${et}${ei}`,eo)}}ei.validNFTTokenUriMetaDataFields=["name","description","image","attributes"],ei.validNFTTokenUriMetaDataAttributesFields=["trait_type","value"],ei.validNFTUriMetaDataAttributeTypes=["string","number","boolean"],ei.validNFTCollectionUriMetaDataFields=["name","description","image"],ei.validateNFTTokenUriMetaData=i,ei.validateNFTCollectionUriMetaData=function(et){return Object.keys(et).forEach(et=>{if(!ei.validNFTCollectionUriMetaDataFields.includes(et))throw Error(`Invalid field ${et}, only ${ei.validNFTCollectionUriMetaDataFields} are allowed`)}),{name:s(et,"name"),description:s(et,"description"),image:s(et,"image")}},ei.validateNFTBaseUri=async function(et,ei){if(ei===parseInt(ei.toString(),10)&&ei>0){let eo=[];for(let ea=0;ea<ei;ea++){let ei=i(await o(et,ea));eo.push(ei)}return eo}throw Error("maxSupply should be a positive integer")}},6705:function(et,ei,eo){"use strict";var ea=this&&this.__createBinding||(Object.create?function(et,ei,eo,ea){void 0===ea&&(ea=eo);var ec=Object.getOwnPropertyDescriptor(ei,eo);ec&&!("get"in ec?!ei.__esModule:ec.writable||ec.configurable)||(ec={enumerable:!0,get:function(){return ei[eo]}}),Object.defineProperty(et,ea,ec)}:function(et,ei,eo,ea){void 0===ea&&(ea=eo),et[ea]=ei[eo]}),ec=this&&this.__exportStar||function(et,ei){for(var eo in et)"default"===eo||Object.prototype.hasOwnProperty.call(ei,eo)||ea(ei,et,eo)};Object.defineProperty(ei,"__esModule",{value:!0}),ec(eo(8715),ei),ec(eo(6284),ei),ec(eo(8156),ei)},6284:function(et,ei,eo){"use strict";var ea=this&&this.__createBinding||(Object.create?function(et,ei,eo,ea){void 0===ea&&(ea=eo);var ec=Object.getOwnPropertyDescriptor(ei,eo);ec&&!("get"in ec?!ei.__esModule:ec.writable||ec.configurable)||(ec={enumerable:!0,get:function(){return ei[eo]}}),Object.defineProperty(et,ea,ec)}:function(et,ei,eo,ea){void 0===ea&&(ea=eo),et[ea]=ei[eo]}),ec=this&&this.__setModuleDefault||(Object.create?function(et,ei){Object.defineProperty(et,"default",{enumerable:!0,value:ei})}:function(et,ei){et.default=ei}),eh=this&&this.__importStar||function(et){if(et&&et.__esModule)return et;var ei={};if(null!=et)for(var eo in et)"default"!==eo&&Object.prototype.hasOwnProperty.call(et,eo)&&ea(ei,et,eo);return ec(ei,et),ei};Object.defineProperty(ei,"__esModule",{value:!0}),ei.transactionVerifySignature=ei.transactionSign=void 0;let eu=eh(eo(664));ei.transactionSign=function(et,ei,eo){return eu.sign(et,ei,eo)},ei.transactionVerifySignature=function(et,ei,eo,ea){return eu.verifySignature(et,ei,eo,ea)}},8715:function(et,ei,eo){"use strict";var ea=this&&this.__createBinding||(Object.create?function(et,ei,eo,ea){void 0===ea&&(ea=eo);var ec=Object.getOwnPropertyDescriptor(ei,eo);ec&&!("get"in ec?!ei.__esModule:ec.writable||ec.configurable)||(ec={enumerable:!0,get:function(){return ei[eo]}}),Object.defineProperty(et,ea,ec)}:function(et,ei,eo,ea){void 0===ea&&(ea=eo),et[ea]=ei[eo]}),ec=this&&this.__setModuleDefault||(Object.create?function(et,ei){Object.defineProperty(et,"default",{enumerable:!0,value:ei})}:function(et,ei){et.default=ei}),eh=this&&this.__importStar||function(et){if(et&&et.__esModule)return et;var ei={};if(null!=et)for(var eo in et)"default"!==eo&&Object.prototype.hasOwnProperty.call(et,eo)&&ea(ei,et,eo);return ec(ei,et),ei};Object.defineProperty(ei,"__esModule",{value:!0}),ei.subscribeToTxStatus=ei.TxStatusSubscription=void 0;let eu=eh(eo(307)),ed=eo(664);let c=class c extends ed.Subscription{constructor(et,ei,eo,ea,ec){super(et),this.txId=ei,this.fromGroup=eo,this.toGroup=ea,this.confirmations=ec??1}async polling(){try{let et=await eu.getCurrentNodeProvider().transactions.getTransactionsStatus({txId:this.txId,fromGroup:this.fromGroup,toGroup:this.toGroup});await this.messageCallback(et),"Confirmed"===et.type&&et.chainConfirmations>=this.confirmations&&this.unsubscribe()}catch(et){await this.errorCallback(et,this)}}};ei.TxStatusSubscription=c,ei.subscribeToTxStatus=function(et,ei,eo,ea,ec){let eh=new c(et,ei,eo,ea,ec);return eh.subscribe(),eh}},8156:(et,ei,eo)=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0}),ei.groupIndexOfTransaction=ei.waitForTxConfirmation=void 0;let ea=eo(2581),ec=eo(7695),eh=eo(307),eu=eo(664);ei.waitForTxConfirmation=async function e(et,ei,eo){let ea=(0,eh.getCurrentNodeProvider)(),ec=await ea.transactions.getTransactionsStatus({txId:et});return"Confirmed"===ec.type&&ec.chainConfirmations>=ei?ec:(await new Promise(et=>setTimeout(et,eo)),e(et,ei,eo))},ei.groupIndexOfTransaction=function(et){var ei;if(0===et.inputs.length)throw Error("Empty inputs for unsignedTx");let eo=(ei=et.inputs[0].hint,(0,eu.xorByte)(ei)%ec.TOTAL_NUMBER_OF_GROUPS),eh=eo;for(let ei of et.fixedOutputs){let et=(0,ea.groupOfLockupScript)(ei.lockupScript);if(et!==eo){eh=et;break}}return[eo,eh]}},4468:function(et,ei,eo){"use strict";var ea=this&&this.__importDefault||function(et){return et&&et.__esModule?et:{default:et}};Object.defineProperty(ei,"__esModule",{value:!0}),ei.base58ToBytes=ei.isBase58=ei.bs58=void 0;let ec=ea(eo(1219)),eh=eo(4652);ei.bs58=(0,ec.default)("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),ei.isBase58=function(et){if(""===et||""===et.trim())return!1;try{return ei.bs58.encode(ei.bs58.decode(et))===et}catch(et){return!1}},ei.base58ToBytes=function(et){try{return ei.bs58.decode(et)}catch(ei){throw new eh.TraceableError(`Invalid base58 string ${et}`,ei)}},ei.default=ei.bs58},160:(et,ei)=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0}),ei.default=function(et){let ei=5381;for(let eo=0;eo<et.length;eo++)ei=(ei<<5)+ei+(255&et[`${eo}`]);return ei}},664:function(et,ei,eo){"use strict";var ea=this&&this.__createBinding||(Object.create?function(et,ei,eo,ea){void 0===ea&&(ea=eo);var ec=Object.getOwnPropertyDescriptor(ei,eo);ec&&!("get"in ec?!ei.__esModule:ec.writable||ec.configurable)||(ec={enumerable:!0,get:function(){return ei[eo]}}),Object.defineProperty(et,ea,ec)}:function(et,ei,eo,ea){void 0===ea&&(ea=eo),et[ea]=ei[eo]}),ec=this&&this.__exportStar||function(et,ei){for(var eo in et)"default"===eo||Object.prototype.hasOwnProperty.call(ei,eo)||ea(ei,et,eo)};Object.defineProperty(ei,"__esModule",{value:!0}),ec(eo(7219),ei),ec(eo(4468),ei),ec(eo(160),ei),ec(eo(2737),ei),ec(eo(531),ei),ec(eo(1347),ei),ec(eo(6999),ei)},6999:function(et,ei,eo){"use strict";var ea=this&&this.__importDefault||function(et){return et&&et.__esModule?et:{default:et}};Object.defineProperty(ei,"__esModule",{value:!0}),ei.number256ToNumber=ei.number256ToBigint=ei.convertAlphAmountWithDecimals=ei.convertAmountWithDecimals=ei.prettifyNumber=ei.prettifyExactAmount=ei.prettifyTokenAmount=ei.prettifyAttoAlphAmount=ei.prettifyNumberConfig=ei.isNumeric=void 0;let ec=ea(eo(1594));function s(et,eo,ea){let eh;let eu=h(d(et),eo);if(!(0,ei.isNumeric)(eu))return;let ed=new ec.default(eu);if(ed.gte(1))eh=ed.toFormat(ea.minDecimalPlaces);else{let et=ed.toFormat(ea.maxDecimalPlaces).split(".")[1],ei=et?.match(/^0+/),eo=ei&&ei.length?ei[0].length:0,ec=Math.max(eo+ea.minDecimalSignificantDigits,ea.minDecimalPlaces);eh=ed.toFormat(ec)}let ef=eh.replace(/0+$/,""),el=1+eh.indexOf(".")+ea.decimalPlacesWhenZero;return ef.length<el&&(ef=eh.substring(0,el)),"."===ef[ef.length-1]&&(ef=ef.slice(0,-1)),ef}ei.isNumeric=et=>!isNaN(parseFloat(et))&&isFinite(et),ei.prettifyNumberConfig={ALPH:{minDecimalPlaces:2,maxDecimalPlaces:10,minDecimalSignificantDigits:2,decimalPlacesWhenZero:2},TOKEN:{minDecimalPlaces:4,maxDecimalPlaces:16,minDecimalSignificantDigits:2,decimalPlacesWhenZero:1},Exact:{minDecimalPlaces:18,maxDecimalPlaces:18,minDecimalSignificantDigits:0,decimalPlacesWhenZero:0}},ei.prettifyAttoAlphAmount=function(et){return s(et,18,ei.prettifyNumberConfig.ALPH)},ei.prettifyTokenAmount=function(et,eo){return s(et,eo,ei.prettifyNumberConfig.TOKEN)},ei.prettifyExactAmount=function(et,eo){return s(et,eo,ei.prettifyNumberConfig.Exact)},ei.prettifyNumber=s;let eh=BigInt(-1),eu=BigInt(0);function h(et,ei){let eo="";et<eu&&(eo="-",et*=eh);let ea=et.toString();if(0===ei)return eo+ea;for(;ea.length<=ei;)ea="0000"+ea;let ec=ea.length-ei;for(ea=ea.substring(0,ec)+"."+ea.substring(ec);"0"===ea[0]&&"."!==ea[1];)ea=ea.substring(1);for(;"0"===ea[ea.length-1]&&"."!==ea[ea.length-2];)ea=ea.substring(0,ea.length-1);return eo+ea}function u(et,ei){try{let eo=new ec.default(et).multipliedBy(Math.pow(10,ei));return BigInt(eo.toFormat(0,{groupSeparator:""}))}catch(et){return}}function d(et){return"string"==typeof et?BigInt(et):et}ei.convertAmountWithDecimals=u,ei.convertAlphAmountWithDecimals=function(et){return u(et,18)},ei.number256ToBigint=d,ei.number256ToNumber=function(et,ei){return parseFloat(h(d(et),ei))}},1347:function(et,ei,eo){"use strict";var ea=this&&this.__createBinding||(Object.create?function(et,ei,eo,ea){void 0===ea&&(ea=eo);var ec=Object.getOwnPropertyDescriptor(ei,eo);ec&&!("get"in ec?!ei.__esModule:ec.writable||ec.configurable)||(ec={enumerable:!0,get:function(){return ei[eo]}}),Object.defineProperty(et,ea,ec)}:function(et,ei,eo,ea){void 0===ea&&(ea=eo),et[ea]=ei[eo]}),ec=this&&this.__setModuleDefault||(Object.create?function(et,ei){Object.defineProperty(et,"default",{enumerable:!0,value:ei})}:function(et,ei){et.default=ei}),eh=this&&this.__importStar||function(et){if(et&&et.__esModule)return et;var ei={};if(null!=et)for(var eo in et)"default"!==eo&&Object.prototype.hasOwnProperty.call(et,eo)&&ea(ei,et,eo);return ec(ei,et),ei};Object.defineProperty(ei,"__esModule",{value:!0}),ei.verifySignature=ei.sign=void 0;let eu=eo(3210),ed=eo(664),ef=eh(eo(9695)),el=eo(4062),ep=new eu.ec("secp256k1");ef.utils.sha256Sync=(...et)=>{let ei=(0,el.createHash)("sha256");for(let eo of et)ei.update(eo);return ei.digest()},ef.utils.hmacSha256Sync=(et,...ei)=>{let eo=(0,el.createHmac)("sha256",et);return ei.forEach(et=>eo.update(et)),Uint8Array.from(eo.digest())},ei.sign=function(et,ei,eo){if("default"===(eo??"default")){let eo=ep.keyFromPrivate(ei).sign(et);return(0,ed.encodeSignature)(eo)}{let eo=ef.schnorr.signSync((0,ed.hexToBinUnsafe)(et),(0,ed.hexToBinUnsafe)(ei));return(0,ed.binToHex)(eo)}},ei.verifySignature=function(et,ei,eo,ea){try{return"default"===(ea??"default")?ep.keyFromPublic(ei,"hex").verify(et,(0,ed.signatureDecode)(ep,eo)):ef.schnorr.verifySync((0,ed.hexToBinUnsafe)(eo),(0,ed.hexToBinUnsafe)(et),(0,ed.hexToBinUnsafe)(ei))}catch(et){return!1}}},531:function(et,ei,eo){"use strict";var ea=this&&this.__importDefault||function(et){return et&&et.__esModule?et:{default:et}};Object.defineProperty(ei,"__esModule",{value:!0}),ei.Subscription=void 0;let ec=ea(eo(2579));ei.Subscription=class{constructor(et){this.pollingInterval=et.pollingInterval,this.messageCallback=et.messageCallback,this.errorCallback=et.errorCallback,this.task=void 0,this.cancelled=!1,this.eventEmitter=new ec.default}subscribe(){this.eventEmitter.on("tick",async()=>{await this.polling(),this.cancelled||(this.task=setTimeout(()=>this.eventEmitter.emit("tick"),this.pollingInterval))}),this.eventEmitter.emit("tick")}unsubscribe(){this.eventEmitter.removeAllListeners(),this.cancelled=!0,void 0!==this.task&&clearTimeout(this.task)}isCancelled(){return this.cancelled}}},2737:function(et,ei,eo){"use strict";var ea=this&&this.__importDefault||function(et){return et&&et.__esModule?et:{default:et}};Object.defineProperty(ei,"__esModule",{value:!0}),ei.assertType=ei.xorByte=ei.concatBytes=ei.difficultyToTarget=ei.targetToDifficulty=ei.isDevnet=ei.sleep=ei.hexToString=ei.stringToHex=ei.blockChainIndex=ei.binToHex=ei.hexToBinUnsafe=ei.toNonNegativeBigInt=ei.isHexString=ei.signatureDecode=ei.encodeHexSignature=ei.encodeSignature=ei.networkIds=void 0;let ec=eo(3210),eh=ea(eo(3900)),eu=eo(7695);ei.networkIds=["mainnet","testnet","devnet"];let ed=new ec.ec("secp256k1");function c(et){let ei=et.s;return ed.n&&1===et.s.cmp(ed.nh)&&(ei=ed.n.sub(et.s)),et.r.toString("hex",66).slice(2)+ei.toString("hex",66).slice(2)}function h(et){return et.length%2==0&&/^[0-9a-fA-F]*$/.test(et)}function u(et){let ei=[];for(let eo=0;eo<et.length;eo+=2)ei.push(parseInt(et.slice(eo,eo+2),16));return new Uint8Array(ei)}function d(et){return Array.from(et).map(et=>et.toString(16).padStart(2,"0")).join("")}ei.encodeSignature=c,ei.encodeHexSignature=function(et,ei){return c({r:new eh.default(et,"hex"),s:new eh.default(ei,"hex")})},ei.signatureDecode=function(et,ei){if(128!==ei.length)throw Error("Invalid signature length");let eo=ei.slice(64,128),ea=new eh.default(eo,"hex");if(et.n&&1>ea.cmp(et.nh))return{r:ei.slice(0,64),s:eo};throw Error("The signature is not normalized")},ei.isHexString=h,ei.toNonNegativeBigInt=function(et){try{let ei=BigInt(et);return ei<0n?void 0:ei}catch{return}},ei.hexToBinUnsafe=u,ei.binToHex=d,ei.blockChainIndex=function(et){if(64!=et.length)throw Error(`Invalid block hash: ${et}`);let ei=Number("0x"+et.slice(-4))%eu.TOTAL_NUMBER_OF_CHAINS;return{fromGroup:Math.floor(ei/eu.TOTAL_NUMBER_OF_GROUPS),toGroup:ei%eu.TOTAL_NUMBER_OF_GROUPS}},ei.stringToHex=function(et){let ei="";for(let eo=0;eo<et.length;eo++)ei+=""+et.charCodeAt(eo).toString(16);return ei},ei.hexToString=function(et){if(!h(et))throw Error(`Invalid hex string: ${et}`);let ei=u(et);return(new TextDecoder).decode(ei)},ei.sleep=function(et){return new Promise(ei=>setTimeout(ei,et))},ei.isDevnet=function(et){return 0!==et&&1!==et},ei.targetToDifficulty=function(et){if(!h(et)||8!==et.length)throw Error(`Invalid target ${et}, expected a hex string of length 8`);let ei=u(et.slice(0,2))[0],eo=BigInt("0x"+et.slice(2));return(1n<<256n)/(ei<=3?eo>>BigInt(8*(3-ei)):eo<<BigInt(8*(ei-3)))},ei.difficultyToTarget=function(et){let ei=1n<<256n,eo=1n===et?ei-1n:ei/et,ea=Math.floor((eo.toString(2).length+7)/8),ec=Number(ea<=3?BigInt.asIntN(32,eo)<<BigInt(8*(3-ea)):BigInt.asIntN(32,eo>>BigInt(8*(ea-3)))),eh=new Uint8Array(4);return eh[0]=ea,eh[1]=ec>>16&255,eh[2]=ec>>8&255,eh[3]=255&ec,d(eh)},ei.concatBytes=function(et){let ei=et.reduce((et,ei)=>et+ei.length,0),eo=new Uint8Array(ei),ea=0;for(let ei of et)eo.set(ei,ea),ea+=ei.length;return eo},ei.xorByte=function(et){return 255&(et>>24&255^et>>16&255^et>>8&255^255&et)},ei.assertType=function(){}},7219:(et,ei,eo)=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0}),ei.WebCrypto=void 0;let ea=eo(4062),ec="undefined"!=typeof window&&void 0!==window.document;ei.WebCrypto=class{constructor(){this.subtle=ec?globalThis.crypto.subtle:ea.webcrypto?ea.webcrypto.subtle:crypto.subtle}getRandomValues(et){if(!ArrayBuffer.isView(et))throw TypeError("Failed to execute 'getRandomValues' on 'Crypto': parameter 1 is not of type 'ArrayBufferView'");let ei=new Uint8Array(et.buffer,et.byteOffset,et.byteLength);return ec?globalThis.crypto.getRandomValues(ei):(0,ea.randomFillSync)(ei),et}}},3349:et=>{"use strict";et.exports=JSON.parse('{"aes-128-ecb":{"cipher":"AES","key":128,"iv":0,"mode":"ECB","type":"block"},"aes-192-ecb":{"cipher":"AES","key":192,"iv":0,"mode":"ECB","type":"block"},"aes-256-ecb":{"cipher":"AES","key":256,"iv":0,"mode":"ECB","type":"block"},"aes-128-cbc":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes-192-cbc":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes-256-cbc":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes128":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes192":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes256":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes-128-cfb":{"cipher":"AES","key":128,"iv":16,"mode":"CFB","type":"stream"},"aes-192-cfb":{"cipher":"AES","key":192,"iv":16,"mode":"CFB","type":"stream"},"aes-256-cfb":{"cipher":"AES","key":256,"iv":16,"mode":"CFB","type":"stream"},"aes-128-cfb8":{"cipher":"AES","key":128,"iv":16,"mode":"CFB8","type":"stream"},"aes-192-cfb8":{"cipher":"AES","key":192,"iv":16,"mode":"CFB8","type":"stream"},"aes-256-cfb8":{"cipher":"AES","key":256,"iv":16,"mode":"CFB8","type":"stream"},"aes-128-cfb1":{"cipher":"AES","key":128,"iv":16,"mode":"CFB1","type":"stream"},"aes-192-cfb1":{"cipher":"AES","key":192,"iv":16,"mode":"CFB1","type":"stream"},"aes-256-cfb1":{"cipher":"AES","key":256,"iv":16,"mode":"CFB1","type":"stream"},"aes-128-ofb":{"cipher":"AES","key":128,"iv":16,"mode":"OFB","type":"stream"},"aes-192-ofb":{"cipher":"AES","key":192,"iv":16,"mode":"OFB","type":"stream"},"aes-256-ofb":{"cipher":"AES","key":256,"iv":16,"mode":"OFB","type":"stream"},"aes-128-ctr":{"cipher":"AES","key":128,"iv":16,"mode":"CTR","type":"stream"},"aes-192-ctr":{"cipher":"AES","key":192,"iv":16,"mode":"CTR","type":"stream"},"aes-256-ctr":{"cipher":"AES","key":256,"iv":16,"mode":"CTR","type":"stream"},"aes-128-gcm":{"cipher":"AES","key":128,"iv":12,"mode":"GCM","type":"auth"},"aes-192-gcm":{"cipher":"AES","key":192,"iv":12,"mode":"GCM","type":"auth"},"aes-256-gcm":{"cipher":"AES","key":256,"iv":12,"mode":"GCM","type":"auth"}}')},6980:et=>{"use strict";et.exports=JSON.parse('{"sha224WithRSAEncryption":{"sign":"rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"RSA-SHA224":{"sign":"ecdsa/rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"sha256WithRSAEncryption":{"sign":"rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"RSA-SHA256":{"sign":"ecdsa/rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"sha384WithRSAEncryption":{"sign":"rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"RSA-SHA384":{"sign":"ecdsa/rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"sha512WithRSAEncryption":{"sign":"rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA512":{"sign":"ecdsa/rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA1":{"sign":"rsa","hash":"sha1","id":"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{"sign":"ecdsa","hash":"sha1","id":""},"sha256":{"sign":"ecdsa","hash":"sha256","id":""},"sha224":{"sign":"ecdsa","hash":"sha224","id":""},"sha384":{"sign":"ecdsa","hash":"sha384","id":""},"sha512":{"sign":"ecdsa","hash":"sha512","id":""},"DSA-SHA":{"sign":"dsa","hash":"sha1","id":""},"DSA-SHA1":{"sign":"dsa","hash":"sha1","id":""},"DSA":{"sign":"dsa","hash":"sha1","id":""},"DSA-WITH-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-WITH-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-WITH-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-WITH-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-RIPEMD160":{"sign":"dsa","hash":"rmd160","id":""},"ripemd160WithRSA":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"RSA-RIPEMD160":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"md5WithRSAEncryption":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"},"RSA-MD5":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"}}')},9262:et=>{"use strict";et.exports=JSON.parse('{"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}')},7821:et=>{"use strict";et.exports=JSON.parse('{"modp1":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},"modp2":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},"modp5":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},"modp14":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},"modp15":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},"modp16":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},"modp17":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},"modp18":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}')},117:et=>{"use strict";et.exports={rE:"6.6.0"}},2853:et=>{"use strict";et.exports=JSON.parse('{"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}')}},ei={};function r(eo){var ea=ei[eo];if(void 0!==ea)return ea.exports;var ec=ei[eo]={id:eo,loaded:!1,exports:{}};return et[eo].call(ec.exports,ec,ec.exports,r),ec.loaded=!0,ec.exports}return r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(et){if("object"==typeof window)return window}}(),r.nmd=et=>(et.paths=[],et.children||(et.children=[]),et),r(2126)})()},8484:(et,ei,eo)=>{"use strict";eo.d(ei,{Fo:()=>e5});var ea={};eo.r(ea),eo.d(ea,{identity:()=>eE});var ec={};eo.r(ec),eo.d(ec,{base2:()=>eS});var eh={};eo.r(eh),eo.d(eh,{base8:()=>eA});var eu={};eo.r(eu),eo.d(eu,{base10:()=>eM});var ed={};eo.r(ed),eo.d(ed,{base16:()=>eI,base16upper:()=>eT});var ef={};eo.r(ef),eo.d(ef,{base32:()=>ex,base32hex:()=>eP,base32hexpad:()=>eN,base32hexpadupper:()=>eU,base32hexupper:()=>eO,base32pad:()=>eR,base32padupper:()=>ek,base32upper:()=>eC,base32z:()=>eB});var el={};eo.r(el),eo.d(el,{base36:()=>eL,base36upper:()=>eD});var ep={};eo.r(ep),eo.d(ep,{base58btc:()=>ej,base58flickr:()=>eq});var eb={};eo.r(eb),eo.d(eb,{base64:()=>eF,base64pad:()=>eH,base64url:()=>eV,base64urlpad:()=>ez});var eg={};eo.r(eg),eo.d(eg,{base256emoji:()=>eW});var em={};eo.r(em),eo.d(em,{sha256:()=>eJ,sha512:()=>eY});var ey={};eo.r(ey),eo.d(ey,{identity:()=>eX});var ev={};eo.r(ev),eo.d(ev,{code:()=>eQ,decode:()=>Te,encode:()=>Ie,name:()=>eZ});var ew={};eo.r(ew),eo.d(ew,{code:()=>e6,decode:()=>Oe,encode:()=>Pe,name:()=>e2});let e_=(new Uint8Array(0),et=>{if(et instanceof Uint8Array&&"Uint8Array"===et.constructor.name)return et;if(et instanceof ArrayBuffer)return new Uint8Array(et);if(ArrayBuffer.isView(et))return new Uint8Array(et.buffer,et.byteOffset,et.byteLength);throw Error("Unknown type, must be binary type")});let y=class y{constructor(et,ei,eo){this.name=et,this.prefix=ei,this.baseEncode=eo}encode(et){if(et instanceof Uint8Array)return`${this.prefix}${this.baseEncode(et)}`;throw Error("Unknown type, must be binary type")}};let v=class v{constructor(et,ei,eo){if(this.name=et,this.prefix=ei,void 0===ei.codePointAt(0))throw Error("Invalid prefix character");this.prefixCodePoint=ei.codePointAt(0),this.baseDecode=eo}decode(et){if("string"==typeof et){if(et.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(et)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(et.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(et){return _(this,et)}};let w=class w{constructor(et){this.decoders=et}or(et){return _(this,et)}decode(et){let ei=et[0],eo=this.decoders[ei];if(eo)return eo.decode(et);throw RangeError(`Unable to decode multibase string ${JSON.stringify(et)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};let _=(et,ei)=>new w({...et.decoders||{[et.prefix]:et},...ei.decoders||{[ei.prefix]:ei}});let E=class E{constructor(et,ei,eo,ea){this.name=et,this.prefix=ei,this.baseEncode=eo,this.baseDecode=ea,this.encoder=new y(et,ei,eo),this.decoder=new v(et,ei,ea)}encode(et){return this.encoder.encode(et)}decode(et){return this.decoder.decode(et)}};let S=({name:et,prefix:ei,encode:eo,decode:ea})=>new E(et,ei,eo,ea),A=({prefix:et,name:ei,alphabet:eo})=>{let{encode:ea,decode:ec}=function(et,ei){if(et.length>=255)throw TypeError("Alphabet too long");for(var eo=new Uint8Array(256),ea=0;ea<eo.length;ea++)eo[ea]=255;for(var ec=0;ec<et.length;ec++){var eh=et.charAt(ec),eu=eh.charCodeAt(0);if(255!==eo[eu])throw TypeError(eh+" is ambiguous");eo[eu]=ec}var ed=et.length,ef=et.charAt(0),el=Math.log(ed)/Math.log(256),ep=Math.log(256)/Math.log(ed);function d(et){if("string"!=typeof et)throw TypeError("Expected String");if(0===et.length)return new Uint8Array;var ei=0;if(" "!==et[0]){for(var ea=0,ec=0;et[ei]===ef;)ea++,ei++;for(var eh=(et.length-ei)*el+1>>>0,eu=new Uint8Array(eh);et[ei];){var ep=eo[et.charCodeAt(ei)];if(255===ep)return;for(var eb=0,eg=eh-1;(0!==ep||eb<ec)&&-1!==eg;eg--,eb++)ep+=ed*eu[eg]>>>0,eu[eg]=ep%256>>>0,ep=ep/256>>>0;if(0!==ep)throw Error("Non-zero carry");ec=eb,ei++}if(" "!==et[ei]){for(var em=eh-ec;em!==eh&&0===eu[em];)em++;for(var ey=new Uint8Array(ea+(eh-em)),ev=ea;em!==eh;)ey[ev++]=eu[em++];return ey}}}return{encode:function(ei){if(ei instanceof Uint8Array||(ArrayBuffer.isView(ei)?ei=new Uint8Array(ei.buffer,ei.byteOffset,ei.byteLength):Array.isArray(ei)&&(ei=Uint8Array.from(ei))),!(ei instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===ei.length)return"";for(var eo=0,ea=0,ec=0,eh=ei.length;ec!==eh&&0===ei[ec];)ec++,eo++;for(var eu=(eh-ec)*ep+1>>>0,el=new Uint8Array(eu);ec!==eh;){for(var eb=ei[ec],eg=0,em=eu-1;(0!==eb||eg<ea)&&-1!==em;em--,eg++)eb+=256*el[em]>>>0,el[em]=eb%ed>>>0,eb=eb/ed>>>0;if(0!==eb)throw Error("Non-zero carry");ea=eg,ec++}for(var ey=eu-ea;ey!==eu&&0===el[ey];)ey++;for(var ev=ef.repeat(eo);ey<eu;++ey)ev+=et.charAt(el[ey]);return ev},decodeUnsafe:d,decode:function(et){var eo=d(et);if(eo)return eo;throw Error(`Non-${ei} character`)}}}(eo,ei);return S({prefix:et,name:ei,encode:ea,decode:et=>e_(ec(et))})},M=({name:et,prefix:ei,bitsPerChar:eo,alphabet:ea})=>S({prefix:ei,name:et,encode:et=>((et,ei,eo)=>{let ea="="===ei[ei.length-1],ec=(1<<eo)-1,eh="",eu=0,ed=0;for(let ea=0;ea<et.length;++ea)for(ed=ed<<8|et[ea],eu+=8;eu>eo;)eu-=eo,eh+=ei[ec&ed>>eu];if(eu&&(eh+=ei[ec&ed<<eo-eu]),ea)for(;eh.length*eo&7;)eh+="=";return eh})(et,ea,eo),decode:ei=>((et,ei,eo,ea)=>{let ec={};for(let et=0;et<ei.length;++et)ec[ei[et]]=et;let eh=et.length;for(;"="===et[eh-1];)--eh;let eu=new Uint8Array(eh*eo/8|0),ed=0,ef=0,el=0;for(let ei=0;ei<eh;++ei){let eh=ec[et[ei]];if(void 0===eh)throw SyntaxError(`Non-${ea} character`);ef=ef<<eo|eh,(ed+=eo)>=8&&(ed-=8,eu[el++]=255&ef>>ed)}if(ed>=eo||255&ef<<8-ed)throw SyntaxError("Unexpected end of data");return eu})(ei,ea,eo,et)}),eE=S({prefix:"\x00",name:"identity",encode:et=>(new TextDecoder).decode(et),decode:et=>(new TextEncoder).encode(et)}),eS=M({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),eA=M({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),eM=A({prefix:"9",name:"base10",alphabet:"0123456789"}),eI=M({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),eT=M({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),ex=M({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),eC=M({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),eR=M({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),ek=M({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),eP=M({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),eO=M({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),eN=M({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),eU=M({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),eB=M({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),eL=A({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),eD=A({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),ej=A({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),eq=A({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),eF=M({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),eH=M({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),eV=M({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),ez=M({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),e$=Array.from("\uD83D\uDE80\uD83E\uDE90☄\uD83D\uDEF0\uD83C\uDF0C\uD83C\uDF11\uD83C\uDF12\uD83C\uDF13\uD83C\uDF14\uD83C\uDF15\uD83C\uDF16\uD83C\uDF17\uD83C\uDF18\uD83C\uDF0D\uD83C\uDF0F\uD83C\uDF0E\uD83D\uDC09☀\uD83D\uDCBB\uD83D\uDDA5\uD83D\uDCBE\uD83D\uDCBF\uD83D\uDE02❤\uD83D\uDE0D\uD83E\uDD23\uD83D\uDE0A\uD83D\uDE4F\uD83D\uDC95\uD83D\uDE2D\uD83D\uDE18\uD83D\uDC4D\uD83D\uDE05\uD83D\uDC4F\uD83D\uDE01\uD83D\uDD25\uD83E\uDD70\uD83D\uDC94\uD83D\uDC96\uD83D\uDC99\uD83D\uDE22\uD83E\uDD14\uD83D\uDE06\uD83D\uDE44\uD83D\uDCAA\uD83D\uDE09☺\uD83D\uDC4C\uD83E\uDD17\uD83D\uDC9C\uD83D\uDE14\uD83D\uDE0E\uD83D\uDE07\uD83C\uDF39\uD83E\uDD26\uD83C\uDF89\uD83D\uDC9E✌✨\uD83E\uDD37\uD83D\uDE31\uD83D\uDE0C\uD83C\uDF38\uD83D\uDE4C\uD83D\uDE0B\uD83D\uDC97\uD83D\uDC9A\uD83D\uDE0F\uD83D\uDC9B\uD83D\uDE42\uD83D\uDC93\uD83E\uDD29\uD83D\uDE04\uD83D\uDE00\uD83D\uDDA4\uD83D\uDE03\uD83D\uDCAF\uD83D\uDE48\uD83D\uDC47\uD83C\uDFB6\uD83D\uDE12\uD83E\uDD2D❣\uD83D\uDE1C\uD83D\uDC8B\uD83D\uDC40\uD83D\uDE2A\uD83D\uDE11\uD83D\uDCA5\uD83D\uDE4B\uD83D\uDE1E\uD83D\uDE29\uD83D\uDE21\uD83E\uDD2A\uD83D\uDC4A\uD83E\uDD73\uD83D\uDE25\uD83E\uDD24\uD83D\uDC49\uD83D\uDC83\uD83D\uDE33✋\uD83D\uDE1A\uD83D\uDE1D\uD83D\uDE34\uD83C\uDF1F\uD83D\uDE2C\uD83D\uDE43\uD83C\uDF40\uD83C\uDF37\uD83D\uDE3B\uD83D\uDE13⭐✅\uD83E\uDD7A\uD83C\uDF08\uD83D\uDE08\uD83E\uDD18\uD83D\uDCA6✔\uD83D\uDE23\uD83C\uDFC3\uD83D\uDC90☹\uD83C\uDF8A\uD83D\uDC98\uD83D\uDE20☝\uD83D\uDE15\uD83C\uDF3A\uD83C\uDF82\uD83C\uDF3B\uD83D\uDE10\uD83D\uDD95\uD83D\uDC9D\uD83D\uDE4A\uD83D\uDE39\uD83D\uDDE3\uD83D\uDCAB\uD83D\uDC80\uD83D\uDC51\uD83C\uDFB5\uD83E\uDD1E\uD83D\uDE1B\uD83D\uDD34\uD83D\uDE24\uD83C\uDF3C\uD83D\uDE2B⚽\uD83E\uDD19☕\uD83C\uDFC6\uD83E\uDD2B\uD83D\uDC48\uD83D\uDE2E\uD83D\uDE46\uD83C\uDF7B\uD83C\uDF43\uD83D\uDC36\uD83D\uDC81\uD83D\uDE32\uD83C\uDF3F\uD83E\uDDE1\uD83C\uDF81⚡\uD83C\uDF1E\uD83C\uDF88❌✊\uD83D\uDC4B\uD83D\uDE30\uD83E\uDD28\uD83D\uDE36\uD83E\uDD1D\uD83D\uDEB6\uD83D\uDCB0\uD83C\uDF53\uD83D\uDCA2\uD83E\uDD1F\uD83D\uDE41\uD83D\uDEA8\uD83D\uDCA8\uD83E\uDD2C✈\uD83C\uDF80\uD83C\uDF7A\uD83E\uDD13\uD83D\uDE19\uD83D\uDC9F\uD83C\uDF31\uD83D\uDE16\uD83D\uDC76\uD83E\uDD74▶➡❓\uD83D\uDC8E\uD83D\uDCB8⬇\uD83D\uDE28\uD83C\uDF1A\uD83E\uDD8B\uD83D\uDE37\uD83D\uDD7A⚠\uD83D\uDE45\uD83D\uDE1F\uD83D\uDE35\uD83D\uDC4E\uD83E\uDD32\uD83E\uDD20\uD83E\uDD27\uD83D\uDCCC\uD83D\uDD35\uD83D\uDC85\uD83E\uDDD0\uD83D\uDC3E\uD83C\uDF52\uD83D\uDE17\uD83E\uDD11\uD83C\uDF0A\uD83E\uDD2F\uD83D\uDC37☎\uD83D\uDCA7\uD83D\uDE2F\uD83D\uDC86\uD83D\uDC46\uD83C\uDFA4\uD83D\uDE47\uD83C\uDF51❄\uD83C\uDF34\uD83D\uDCA3\uD83D\uDC38\uD83D\uDC8C\uD83D\uDCCD\uD83E\uDD40\uD83E\uDD22\uD83D\uDC45\uD83D\uDCA1\uD83D\uDCA9\uD83D\uDC50\uD83D\uDCF8\uD83D\uDC7B\uD83E\uDD10\uD83E\uDD2E\uD83C\uDFBC\uD83E\uDD75\uD83D\uDEA9\uD83C\uDF4E\uD83C\uDF4A\uD83D\uDC7C\uD83D\uDC8D\uD83D\uDCE3\uD83E\uDD42"),eK=e$.reduce((et,ei,eo)=>(et[eo]=ei,et),[]),eG=e$.reduce((et,ei,eo)=>(et[ei.codePointAt(0)]=eo,et),[]),eW=S({prefix:"\uD83D\uDE80",name:"base256emoji",encode:function(et){return et.reduce((et,ei)=>et+eK[ei],"")},decode:function(et){let ei=[];for(let eo of et){let et=eG[eo.codePointAt(0)];if(void 0===et)throw Error(`Non-base256emoji character: ${eo}`);ei.push(et)}return new Uint8Array(ei)}}),de=function e(et,ei,eo){ei=ei||[];for(var ea=eo=eo||0;et>=2147483648;)ei[eo++]=255&et|128,et/=128;for(;-128&et;)ei[eo++]=255&et|128,et>>>=7;return ei[eo]=0|et,e.bytes=eo-ea+1,ei},le=(et,ei,eo=0)=>(de(et,ei,eo),ei),pe=et=>et<128?1:et<16384?2:et<2097152?3:et<268435456?4:et<34359738368?5:et<4398046511104?6:et<562949953421312?7:et<72057594037927940?8:et<0x7fffffffffffffff?9:10,be=(et,ei)=>{let eo=ei.byteLength,ea=pe(et),ec=ea+pe(eo),eh=new Uint8Array(ec+eo);return le(et,eh,0),le(eo,eh,ea),eh.set(ei,ec),new ge(et,eo,ei,eh)};let ge=class ge{constructor(et,ei,eo,ea){this.code=et,this.size=ei,this.digest=eo,this.bytes=ea}};let me=({name:et,code:ei,encode:eo})=>new ye(et,ei,eo);let ye=class ye{constructor(et,ei,eo){this.name=et,this.code=ei,this.encode=eo}digest(et){if(et instanceof Uint8Array){let ei=this.encode(et);return ei instanceof Uint8Array?be(this.code,ei):ei.then(et=>be(this.code,et))}throw Error("Unknown type, must be binary type")}};let ve=et=>async ei=>new Uint8Array(await crypto.subtle.digest(et,ei)),eJ=me({name:"sha2-256",code:18,encode:ve("SHA-256")}),eY=me({name:"sha2-512",code:19,encode:ve("SHA-512")}),eX={code:0,name:"identity",encode:e_,digest:et=>be(0,e_(et))},eZ="raw",eQ=85,Ie=et=>e_(et),Te=et=>e_(et),e0=new TextEncoder,e1=new TextDecoder,e2="json",e6=512,Pe=et=>e0.encode(JSON.stringify(et)),Oe=et=>JSON.parse(e1.decode(et));Symbol.for("nodejs.util.inspect.custom"),Symbol.for("@ipld/js-cid/CID");let e5={...ea,...ec,...eh,...eu,...ed,...ef,...el,...ep,...eb,...eg}},2376:(et,ei,eo)=>{"use strict";function n(et=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?globalThis.Buffer.allocUnsafe(et):new Uint8Array(et)}function i(et,ei){ei||(ei=et.reduce((et,ei)=>et+ei.length,0));let eo=n(ei),ea=0;for(let ei of et)eo.set(ei,ea),ea+=ei.length;return eo}eo.d(ei,{xW:()=>i,sH:()=>u,dI:()=>d});var ea=eo(8484);function o(et,ei,eo,ea){return{name:et,prefix:ei,encoder:{name:et,prefix:ei,encode:eo},decoder:{decode:ea}}}let ec=o("utf8","u",et=>"u"+new TextDecoder("utf8").decode(et),et=>(new TextEncoder).encode(et.substring(1))),eh=o("ascii","a",et=>{let ei="a";for(let eo=0;eo<et.length;eo++)ei+=String.fromCharCode(et[eo]);return ei},et=>{let ei=n((et=et.substring(1)).length);for(let eo=0;eo<et.length;eo++)ei[eo]=et.charCodeAt(eo);return ei}),eu={utf8:ec,"utf-8":ec,hex:ea.Fo.base16,latin1:eh,ascii:eh,binary:eh,...ea.Fo};function u(et,ei="utf8"){let eo=eu[ei];if(!eo)throw Error(`Unsupported encoding "${ei}"`);return"utf8"!==ei&&"utf-8"!==ei||null==globalThis.Buffer||null==globalThis.Buffer.from?eo.decoder.decode(`${eo.prefix}${et}`):globalThis.Buffer.from(et,"utf8")}function d(et,ei="utf8"){let eo=eu[ei];if(!eo)throw Error(`Unsupported encoding "${ei}"`);return"utf8"!==ei&&"utf-8"!==ei||null==globalThis.Buffer||null==globalThis.Buffer.from?eo.encoder.encode(et).substring(1):globalThis.Buffer.from(et.buffer,et.byteOffset,et.byteLength).toString("utf8")}},117:et=>{"use strict";et.exports={rE:"6.6.0"}}},ei={};function r(eo){var ea=ei[eo];if(void 0!==ea)return ea.exports;var ec=ei[eo]={id:eo,loaded:!1,exports:{}};return et[eo].call(ec.exports,ec,ec.exports,r),ec.loaded=!0,ec.exports}return r.amdO={},r.n=et=>{var ei=et&&et.__esModule?()=>et.default:()=>et;return r.d(ei,{a:ei}),ei},r.d=(et,ei)=>{for(var eo in ei)r.o(ei,eo)&&!r.o(et,eo)&&Object.defineProperty(et,eo,{enumerable:!0,get:ei[eo]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(et){if("object"==typeof window)return window}}(),r.o=(et,ei)=>Object.prototype.hasOwnProperty.call(et,ei),r.r=et=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(et,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(et,"__esModule",{value:!0})},r.nmd=et=>(et.paths=[],et.children||(et.children=[]),et),r(2071)})()}}]);
//# sourceMappingURL=b6776b7a.d15976fc0cd79d3a.js.map