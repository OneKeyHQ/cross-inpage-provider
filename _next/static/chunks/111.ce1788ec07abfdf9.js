(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[111],{6793:function(e,n,t){"use strict";var a=t(85893);t(67294);var s=t(41664),r=t.n(s),o=t(51731);n.Z=e=>{let{dapps:n}=e;return(0,a.jsxs)(o.Zb,{children:[(0,a.jsx)(o.ll,{className:"text-xl",children:"Dapp Bookmarks"}),(0,a.jsx)(o.aY,{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:n.map((e,n)=>(0,a.jsx)("div",{className:"border p-2 rounded-lg shadow-sm hover:shadow-md",children:(0,a.jsx)(r(),{href:e.url,legacyBehavior:!0,children:(0,a.jsxs)("a",{className:"text-blue-500 hover:underline text-lg block",children:[e.name," →"]})})},n))})]})}},52176:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return NearExample}});var a=t(85893),s=t(67294),r=t(64640),o=t(68447),l=t(83608),c=t.n(l),i=t(13550),d=t.n(i),u=t(6793);let h=[{name:"Paras",url:"https://paras.id/"},{name:"Learn Near Club",url:"https://learnnear.club/"},{name:"Ref Finance",url:"https://app.ref.finance/"}];function toBN(e){return new(d())(null!=e?e:"",10)}function NearExample(){let[e,n]=(0,s.useState)(null),[t,l]=(0,s.useState)(""),[i,d]=(0,s.useState)(""),[g,f]=(0,s.useState)(""),w=(0,s.useCallback)(async()=>{if(!e)return[];let n=c()(100,900)/1e4,t=c()(100,900)/1e4,a=o.transactions.transfer(toBN(o.utils.format.parseNearAmount("".concat(n)))),s=o.transactions.transfer(toBN(o.utils.format.parseNearAmount("".concat(t)))),r=await e.createTransaction({receiverId:"bitcoinzhuo.testnet",actions:[a,s],nonceOffset:1}),l=await e.createTransaction({receiverId:"evmzyz.testnet",actions:[s],nonceOffset:2});return[r,l]},[e]),m=(0,s.useCallback)(e=>{var n,t,a,s;let r=(null==e?void 0:null===(t=e.accounts)||void 0===t?void 0:null===(n=t[0])||void 0===n?void 0:n.accountId)||"",o=(null==e?void 0:null===(s=e.accounts)||void 0===s?void 0:null===(a=s[0])||void 0===a?void 0:a.publicKey)||"";console.log("near onAccountsChanged >>>",r,o),l(r),d(o)},[]),x=(0,s.useCallback)(e=>{console.log("near onNetworkChanged >>>",e),f(e.networkId)},[]),v=(0,s.useMemo)(()=>({networkId:"testnet",nodeUrl:"https://rpc.testnet.near.org",headers:{},keyStore:new o.keyStores.BrowserLocalStorageKeyStore}),[]);return(0,s.useEffect)(()=>{let e=new r.qG({transactionCreator:void 0});return e.on("accountsChanged",m),e.on("networkChanged",x),window.provider=e,(async()=>{let t=await e.detectWalletInstalled();if(t){var a,s,r,o;n(e);let t=await e.request({method:"near_accounts"});l((null==t?void 0:null===(s=t.accounts)||void 0===s?void 0:null===(a=s[0])||void 0===a?void 0:a.accountId)||""),d((null==t?void 0:null===(o=t.accounts)||void 0===o?void 0:null===(r=o[0])||void 0===r?void 0:r.publicKey)||"");let c=await e.request({method:"near_networkInfo"});f((null==c?void 0:c.networkId)||"")}})(),()=>{e.off("accountsChanged",m),e.off("networkChanged",x)}},[v,m,x]),(0,a.jsxs)("div",{children:[(0,a.jsx)(u.Z,{dapps:h}),!e&&(0,a.jsx)("a",{target:"_blank",href:"https://www.onekey.so/download/",children:"Install OneKey Extension →"}),e&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{children:["accountId: ",(0,a.jsx)("strong",{children:t})]}),(0,a.jsxs)("div",{children:["publicKey: ",(0,a.jsx)("strong",{children:i})]}),(0,a.jsxs)("div",{children:["localNetworkId: ",(0,a.jsx)("strong",{children:e._networkId})," ",(0,a.jsx)("button",{children:"switch TODO"})]}),(0,a.jsxs)("div",{children:["walletNetworkId: ",(0,a.jsx)("strong",{children:g})]}),(0,a.jsxs)("div",{children:["providerVersion: ",(0,a.jsxs)("strong",{children:["v",e.version]})]}),(0,a.jsx)("hr",{}),(0,a.jsx)("button",{onClick:async()=>{let n=await (null==e?void 0:e.request({method:"near_requestAccounts"}));console.log("near_requestAccounts",n,n.accounts)},children:"near_requestAccounts"}),(0,a.jsx)("button",{onClick:async()=>{let n=await (null==e?void 0:e.requestSignIn());console.log("requestSignIn",n,n.accounts)},children:"requestSignIn"}),(0,a.jsx)("hr",{}),(0,a.jsx)("button",{onClick:()=>null==e?void 0:e.request({method:"near_signOut"}),children:"near_signOut"}),(0,a.jsx)("button",{onClick:()=>null==e?void 0:e.signOut(),children:"signOut"}),(0,a.jsx)("hr",{}),(0,a.jsx)("button",{onClick:async()=>{let n=await (null==e?void 0:e.request({method:"near_accounts",params:[]}));console.log("near_accounts",n,n.accounts)},children:"near_accounts"}),(0,a.jsx)("button",{onClick:async()=>{let n=await (null==e?void 0:e.request({method:"near_networkInfo",params:[]}));console.log("near_networkInfo",n,n.networkId)},children:"near_networkInfo"}),(0,a.jsx)("button",{onClick:async()=>{let n=await (null==e?void 0:e.request({method:"near_accountNonce",params:[]}));console.log("near_accountNonce",n)},children:"near_accountNonce"}),(0,a.jsx)("button",{onClick:async()=>{let n=await (null==e?void 0:e.request({method:"near_blockInfo",params:[]}));console.log("near_blockInfo",n)},children:"near_blockInfo"}),(0,a.jsx)("hr",{}),(0,a.jsxs)("div",{children:[(0,a.jsx)("button",{onClick:async()=>{let n=await w(),t=await e.request({method:"near_sendTransactions",params:{transactions:n}});console.log("near_sendTransactions",t,t.transactionHashes)},children:"near_sendTransactions"}),(0,a.jsx)("button",{onClick:async()=>{let n=await w(),t=await e.requestSignTransactions({transactions:n});console.log("requestSignTransactions",t,t.transactionHashes)},children:"requestSignTransactions"}),(0,a.jsx)("button",{onClick:async()=>{let n=await w(),t=await e.request({method:"near_signTransactions",params:{transactions:n}});console.log("near_signTransactions",t,t.signatures)},children:"near_signTransactions"}),(0,a.jsx)("button",{children:"TODO Send USDT Token (mainnet only)"}),(0,a.jsx)("button",{onClick:async()=>{let n=c()(100,900)/1e4,t=c()(100,900)/1e4,a=o.utils.format.parseNearAmount(n.toString()),s=o.transactions.transfer(toBN(a)),r=o.transactions.transfer(toBN(o.utils.format.parseNearAmount(t.toString()))),l=e.account(),i=await l.signAndSendTransaction({receiverId:"evmzyz.testnet",actions:[s,r]});console.log("signAndSendTransaction",i,i.status)},children:"signAndSendTransaction (legacy)"}),(0,a.jsx)("hr",{}),(0,a.jsx)("button",{onClick:async()=>{let n=await e.request({method:"near_signMessages",params:{messages:["hello world","onekey near wallet"]}});console.log("near_signMessages",n,n.signatures)},children:"near_signMessages"}),(0,a.jsx)("button",{onClick:async()=>{let n=await e.requestSignMessages({messages:["hello world","onekey near wallet"]});console.log("requestSignMessages",n,n.signatures)},children:"requestSignMessages"}),(0,a.jsx)("hr",{}),(0,a.jsx)("button",{onClick:async()=>{let n=await e.request({method:"query",params:{request_type:"view_access_key_list",account_id:"c3be856133196da252d0f1083614cdc87a85c8aa8abeaf87daff1520355eec53",finality:"optimistic"}});console.log("RPC Call: view_access_key_list",n)},children:"RPC Call: view_access_key_list"}),(0,a.jsx)("button",{onClick:async()=>{let n=await e.request({method:"gas_price",params:[null]});console.log("RPC Call: gas_price",n)},children:"RPC Call: gas_price"}),(0,a.jsx)("button",{onClick:async()=>{let n=await e.request({method:"status",params:[]});console.log("RPC Call: status",n)},children:"RPC Call: status"}),(0,a.jsx)("button",{onClick:async()=>{let n=await e.request({method:"network_info",params:[]});console.log("RPC Call: network_info",n)},children:"RPC Call: network_info"})]})]})]})}window.nearAPI=o,window.OneKeyNearProvider=r.qG},51731:function(e,n,t){"use strict";t.d(n,{Ol:function(){return l},SZ:function(){return i},Zb:function(){return o},aY:function(){return d},ll:function(){return c}});var a=t(85893),s=t(67294),r=t(13441);let o=s.forwardRef((e,n)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:n,className:(0,r.cn)("rounded-xl border bg-card text-card-foreground shadow-sm p-3",t),...s})});o.displayName="Card";let l=s.forwardRef((e,n)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:n,className:(0,r.cn)("flex p-1 flex-col space-y-1.5",t),...s})});l.displayName="CardHeader";let c=s.forwardRef((e,n)=>{let{className:t,...s}=e;return(0,a.jsx)("h3",{ref:n,className:(0,r.cn)("text-2xl font-semibold leading-none tracking-tight",t),...s})});c.displayName="CardTitle";let i=s.forwardRef((e,n)=>{let{className:t,...s}=e;return(0,a.jsx)("p",{ref:n,className:(0,r.cn)("px-3 text-base text-muted-foreground",t),...s})});i.displayName="CardDescription";let d=s.forwardRef((e,n)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:n,className:(0,r.cn)("p-1 pt-0",t),...s})});d.displayName="CardContent";let u=s.forwardRef((e,n)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:n,className:(0,r.cn)("flex items-center p-1 pt-0",t),...s})});u.displayName="CardFooter"},46601:function(){},73105:function(){},65308:function(){}}]);
//# sourceMappingURL=111.ce1788ec07abfdf9.js.map