"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1773],{6793:function(e,n,t){var a=t(85893);t(67294);var o=t(41664),r=t.n(o),l=t(51731);n.Z=e=>{let{dapps:n}=e;return(0,a.jsxs)(l.Zb,{children:[(0,a.jsx)(l.ll,{className:"text-xl",children:"Dapp Bookmarks"}),(0,a.jsx)(l.aY,{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:n.map((e,n)=>(0,a.jsx)("div",{className:"border p-2 rounded-lg shadow-sm hover:shadow-md",children:(0,a.jsx)(r(),{href:e.url,legacyBehavior:!0,children:(0,a.jsxs)("a",{className:"text-blue-500 hover:underline text-lg block",children:[e.name," →"]})})},n))})]})}},1773:function(e,n,t){t.r(n),t.d(n,{default:function(){return Example}});var a=t(85893);let o=[{name:"Tiny Man",url:"https://app.tinyman.org/#/swap?asset_in=0"},{name:"Humble Swap",url:"https://app.humble.sh/pool"},{name:"Folks Finnce",url:"https://app.folks.finance/markets"},{name:"Algofi",url:"https://app.algofi.org/"}];var r=t(6912),l=t(67294),s=t(27361),i=t.n(s),c=t(99710),d=t(23225),u=t(6793);function Example(){let e=(0,l.useRef)([{uuid:"injected",name:"Injected Wallet",inject:"algorand"},{uuid:"injected-onekey",name:"Injected OneKey",inject:"$onekey.algorand"}]),{provider:n,setAccount:t,account:s}=(0,d.O)(),onConnectWallet=async n=>{var t;let a=null===(t=e.current)||void 0===t?void 0:t.find(e=>e.uuid===n.id);if(!a)return Promise.reject("Wallet not found");let o=i()(window,a.inject),{address:r}=await (null==o?void 0:o.connect());return{provider:o,address:r}};return(0,l.useEffect)(()=>{let accountsChangedHandler=e=>{console.log("algo [accountChanged]",e),e&&t({...s,address:e})},connectHandler=e=>{console.log("algo [connect]",e)},disconnectHandler=()=>{console.log("algo [disconnect]")};return null==n||n.on("accountChanged",accountsChangedHandler),null==n||n.on("connect",connectHandler),null==n||n.on("disconnect",disconnectHandler),()=>{null==n||n.off("accountChanged",accountsChangedHandler),null==n||n.off("connect",connectHandler),null==n||n.off("disconnect",disconnectHandler)}},[s,n,t]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.Z,{fetchWallets:()=>Promise.resolve(e.current.map(e=>({id:e.uuid,name:e.inject?e.name:"".concat(e.name," (EIP6963)")}))),onConnect:onConnectWallet}),(0,a.jsx)(c.s,{title:"Legacy Basics",children:(0,a.jsx)(c.u,{title:"connect",description:"(Legacy) 连接钱包",onExecute:async e=>{let t=await (null==n?void 0:n.connect());return JSON.stringify(t)}})}),(0,a.jsx)(c.s,{title:"Basics",children:(0,a.jsx)(c.u,{title:"enable",description:"获取账户权限",onExecute:async e=>{let t=await (null==n?void 0:n.enable());return JSON.stringify(t)}})}),(0,a.jsx)(u.Z,{dapps:o})]})}},6912:function(e,n,t){t.d(n,{Z:function(){return ConnectButton}});var a=t(85893),o=t(67294),r=t(9663),l=t(51731),s=t(53617),i=t(23225),c=t(96544),d=t(27361),u=t.n(d),f=t(78299);let p={address:"地址",publicKey:"公钥",chainId:"网络"};function ConnectButton(e){let{fetchWallets:n,onConnect:t,onDisconnect:d}=e,{settings:g}=(0,f.r)(),m=(0,o.useRef)(null),x=(0,o.useRef)(!1),[h,j]=(0,o.useState)([]),{setProvider:v,setAccount:y,provider:w,account:b}=(0,i.O)(),C=(0,o.useCallback)(async e=>{try{let{provider:n,...a}=await t(e);v(n),y(a)}catch(e){console.log("connectWallet error",e),(0,c.Am)({title:"连接失败",description:u()(e,"message","")})}},[t,y,v]),N=(0,o.useCallback)(async()=>{x.current=!1,await (null==d?void 0:d()),v(null),y(null)},[d,y,v]),D=(0,o.useCallback)(()=>{setTimeout(()=>{try{var e;null===(e=m.current)||void 0===e||e.click()}catch(e){}},150)},[]),k=(0,o.useCallback)(async e=>{let t=await (null==n?void 0:n());if((null==t?void 0:t.length)===0){D();return}let{directConnection:a}=null!=e?e:{directConnection:!1};(null==t?void 0:t.length)===1||(null==t?void 0:t.length)>0&&a?(D(),await C(t[0])):j(t)},[D,C,n]);return(0,o.useEffect)(()=>{let e=setTimeout(async()=>{!x.current&&(console.log("settings.autoConnect",g.autoConnect),g.autoConnect&&(x.current=!0,await k({directConnection:!0})))},500);return()=>{clearTimeout(e)}},[g.autoConnect]),(0,a.jsx)(l.Zb,{children:(0,a.jsxs)(l.aY,{className:"flex flex-col flex-wrap gap-3",children:[(0,a.jsxs)("div",{className:"flex flex-row flex-wrap justify-between",children:[(0,a.jsxs)(s.Vq,{children:[(0,a.jsx)(s.hg,{asChild:!0,children:(0,a.jsx)(r.z,{onClick:()=>k(),children:"Connect Wallet"})}),(0,a.jsxs)(s.cZ,{children:[(0,a.jsx)(s.GG,{ref:m}),(0,a.jsxs)(s.fK,{children:[(0,a.jsx)(s.$N,{children:"选择钱包开始连接"}),!!h&&h.map(e=>{var n;return(0,a.jsx)(s.GG,{asChild:!0,children:(0,a.jsxs)(r.z,{onClick:()=>C(e),className:"gap-2",children:[e.logo&&(0,a.jsx)("img",{alt:e.name,src:e.logo,className:"w-5 h-5 rounded-full"}),(0,a.jsx)("span",{className:"font-medium",children:e.name}),null===(n=e.tags)||void 0===n?void 0:n.map(e=>(0,a.jsx)("span",{className:"text-xs font-light",children:e},e))]})},e.id)}),!h||0===h.length&&(0,a.jsxs)(s.Be,{children:["没有钱包可用，请安装 OneKey Extension",(0,a.jsx)("a",{target:"_blank",href:"https://www.onekey.so/download/",children:"Install OneKey Extension →"})]})]})]})]}),w&&(0,a.jsx)(r.z,{variant:"destructive",onClick:N,children:"断开链接"})]}),b&&(0,a.jsx)("div",{className:"flex grid-cols-1 xl:grid-cols-2 flex-wrap gap-x-6 gap-y-3 mt-4",children:Object.keys(b).map(e=>{var n;return(0,a.jsxs)("div",{children:[(0,a.jsxs)("span",{children:["".concat(null!==(n=null==p?void 0:p[e])&&void 0!==n?n:e),": "]}),(0,a.jsx)("span",{className:"font-normal flex flex-wrap text-break",children:"".concat(null==b?void 0:b[e])})]},e)})})]})})}},53617:function(e,n,t){t.d(n,{$N:function(){return g},Be:function(){return m},GG:function(){return u},Vq:function(){return i},cZ:function(){return p},fK:function(){return DialogHeader},hg:function(){return c}});var a=t(85893),o=t(67294),r=t(12854),l=t(41352),s=t(13441);let i=r.fC,c=r.xz,d=r.h_,u=r.x8,f=o.forwardRef((e,n)=>{let{className:t,...o}=e;return(0,a.jsx)(r.aV,{ref:n,className:(0,s.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...o})});f.displayName=r.aV.displayName;let p=o.forwardRef((e,n)=>{let{className:t,children:o,...i}=e;return(0,a.jsxs)(d,{children:[(0,a.jsx)(f,{}),(0,a.jsxs)(r.VY,{ref:n,className:(0,s.cn)("fixed left-[50%] top-[35%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...i,children:[o,(0,a.jsxs)(r.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,a.jsx)(l.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});p.displayName=r.VY.displayName;let DialogHeader=e=>{let{className:n,...t}=e;return(0,a.jsx)("div",{className:(0,s.cn)("flex flex-col space-y-1.5 text-center sm:text-left",n),...t})};DialogHeader.displayName="DialogHeader";let g=o.forwardRef((e,n)=>{let{className:t,...o}=e;return(0,a.jsx)(r.Dx,{ref:n,className:(0,s.cn)("text-lg font-semibold leading-none tracking-tight",t),...o})});g.displayName=r.Dx.displayName;let m=o.forwardRef((e,n)=>{let{className:t,...o}=e;return(0,a.jsx)(r.dk,{ref:n,className:(0,s.cn)("text-sm text-muted-foreground",t),...o})});m.displayName=r.dk.displayName},12854:function(e,n,t){t.d(n,{Dx:function(){return U},VY:function(){return L},aV:function(){return J},dk:function(){return X},fC:function(){return G},h_:function(){return q},x8:function(){return Q},xz:function(){return Y}});var a=t(67294),o=t(36206),r=t(28771),l=t(25360),s=t(91276),i=t(77342),c=t(46063),d=t(95420),u=t(42651),f=t(29115),p=t(75320),g=t(27552),m=t(91202),x=t(23541),h=t(88426),j=t(85893),v="Dialog",[y,w]=(0,l.b)(v),[b,C]=y(v),Dialog=e=>{let{__scopeDialog:n,children:t,open:o,defaultOpen:r,onOpenChange:l,modal:c=!0}=e,d=a.useRef(null),u=a.useRef(null),[f=!1,p]=(0,i.T)({prop:o,defaultProp:r,onChange:l});return(0,j.jsx)(b,{scope:n,triggerRef:d,contentRef:u,contentId:(0,s.M)(),titleId:(0,s.M)(),descriptionId:(0,s.M)(),open:f,onOpenChange:p,onOpenToggle:a.useCallback(()=>p(e=>!e),[p]),modal:c,children:t})};Dialog.displayName=v;var N="DialogTrigger",D=a.forwardRef((e,n)=>{let{__scopeDialog:t,...a}=e,l=C(N,t),s=(0,r.e)(n,l.triggerRef);return(0,j.jsx)(p.WV.button,{type:"button","aria-haspopup":"dialog","aria-expanded":l.open,"aria-controls":l.contentId,"data-state":getState(l.open),...a,ref:s,onClick:(0,o.M)(e.onClick,l.onOpenToggle)})});D.displayName=N;var k="DialogPortal",[R,E]=y(k,{forceMount:void 0}),DialogPortal=e=>{let{__scopeDialog:n,forceMount:t,children:o,container:r}=e,l=C(k,n);return(0,j.jsx)(R,{scope:n,forceMount:t,children:a.Children.map(o,e=>(0,j.jsx)(f.z,{present:t||l.open,children:(0,j.jsx)(u.h,{asChild:!0,container:r,children:e})}))})};DialogPortal.displayName=k;var I="DialogOverlay",O=a.forwardRef((e,n)=>{let t=E(I,e.__scopeDialog),{forceMount:a=t.forceMount,...o}=e,r=C(I,e.__scopeDialog);return r.modal?(0,j.jsx)(f.z,{present:a||r.open,children:(0,j.jsx)(W,{...o,ref:n})}):null});O.displayName=I;var W=a.forwardRef((e,n)=>{let{__scopeDialog:t,...a}=e,o=C(I,t);return(0,j.jsx)(m.Z,{as:h.g7,allowPinchZoom:!0,shards:[o.contentRef],children:(0,j.jsx)(p.WV.div,{"data-state":getState(o.open),...a,ref:n,style:{pointerEvents:"auto",...a.style}})})}),_="DialogContent",F=a.forwardRef((e,n)=>{let t=E(_,e.__scopeDialog),{forceMount:a=t.forceMount,...o}=e,r=C(_,e.__scopeDialog);return(0,j.jsx)(f.z,{present:a||r.open,children:r.modal?(0,j.jsx)(H,{...o,ref:n}):(0,j.jsx)(M,{...o,ref:n})})});F.displayName=_;var H=a.forwardRef((e,n)=>{let t=C(_,e.__scopeDialog),l=a.useRef(null),s=(0,r.e)(n,t.contentRef,l);return a.useEffect(()=>{let e=l.current;if(e)return(0,x.Ry)(e)},[]),(0,j.jsx)(P,{...e,ref:s,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,o.M)(e.onCloseAutoFocus,e=>{e.preventDefault(),t.triggerRef.current?.focus()}),onPointerDownOutside:(0,o.M)(e.onPointerDownOutside,e=>{let n=e.detail.originalEvent,t=0===n.button&&!0===n.ctrlKey,a=2===n.button||t;a&&e.preventDefault()}),onFocusOutside:(0,o.M)(e.onFocusOutside,e=>e.preventDefault())})}),M=a.forwardRef((e,n)=>{let t=C(_,e.__scopeDialog),o=a.useRef(!1),r=a.useRef(!1);return(0,j.jsx)(P,{...e,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:n=>{e.onCloseAutoFocus?.(n),n.defaultPrevented||(o.current||t.triggerRef.current?.focus(),n.preventDefault()),o.current=!1,r.current=!1},onInteractOutside:n=>{e.onInteractOutside?.(n),n.defaultPrevented||(o.current=!0,"pointerdown"!==n.detail.originalEvent.type||(r.current=!0));let a=n.target,l=t.triggerRef.current?.contains(a);l&&n.preventDefault(),"focusin"===n.detail.originalEvent.type&&r.current&&n.preventDefault()}})}),P=a.forwardRef((e,n)=>{let{__scopeDialog:t,trapFocus:o,onOpenAutoFocus:l,onCloseAutoFocus:s,...i}=e,u=C(_,t),f=a.useRef(null),p=(0,r.e)(n,f);return(0,g.EW)(),(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(d.M,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:l,onUnmountAutoFocus:s,children:(0,j.jsx)(c.XB,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":getState(u.open),...i,ref:p,onDismiss:()=>u.onOpenChange(!1)})}),(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(TitleWarning,{titleId:u.titleId}),(0,j.jsx)(DescriptionWarning,{contentRef:f,descriptionId:u.descriptionId})]})]})}),V="DialogTitle",z=a.forwardRef((e,n)=>{let{__scopeDialog:t,...a}=e,o=C(V,t);return(0,j.jsx)(p.WV.h2,{id:o.titleId,...a,ref:n})});z.displayName=V;var T="DialogDescription",B=a.forwardRef((e,n)=>{let{__scopeDialog:t,...a}=e,o=C(T,t);return(0,j.jsx)(p.WV.p,{id:o.descriptionId,...a,ref:n})});B.displayName=T;var Z="DialogClose",S=a.forwardRef((e,n)=>{let{__scopeDialog:t,...a}=e,r=C(Z,t);return(0,j.jsx)(p.WV.button,{type:"button",...a,ref:n,onClick:(0,o.M)(e.onClick,()=>r.onOpenChange(!1))})});function getState(e){return e?"open":"closed"}S.displayName=Z;var A="DialogTitleWarning",[$,K]=(0,l.k)(A,{contentName:_,titleName:V,docsSlug:"dialog"}),TitleWarning=({titleId:e})=>{let n=K(A),t=`\`${n.contentName}\` requires a \`${n.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${n.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${n.docsSlug}`;return a.useEffect(()=>{if(e){let n=document.getElementById(e);n||console.error(t)}},[t,e]),null},DescriptionWarning=({contentRef:e,descriptionId:n})=>{let t=K("DialogDescriptionWarning"),o=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${t.contentName}}.`;return a.useEffect(()=>{let t=e.current?.getAttribute("aria-describedby");if(n&&t){let e=document.getElementById(n);e||console.warn(o)}},[o,e,n]),null},G=Dialog,Y=D,q=DialogPortal,J=O,L=F,U=z,X=B,Q=S}}]);
//# sourceMappingURL=1773.61bb1d188542480c.js.map