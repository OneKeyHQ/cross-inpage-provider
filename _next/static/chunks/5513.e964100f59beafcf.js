(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5513],{6793:function(e,n,t){"use strict";var a=t(85893);t(67294);var s=t(41664),r=t.n(s),o=t(51731);n.Z=e=>{let{dapps:n}=e;return(0,a.jsxs)(o.Zb,{children:[(0,a.jsx)(o.ll,{className:"text-xl",children:"Dapp Bookmarks"}),(0,a.jsx)(o.aY,{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:n.map((e,n)=>(0,a.jsx)("div",{className:"border p-2 rounded-lg shadow-sm hover:shadow-md",children:(0,a.jsx)(r(),{href:e.url,legacyBehavior:!0,children:(0,a.jsxs)("a",{className:"text-blue-500 hover:underline text-lg block",children:[e.name," →"]})})},n))})]})}},51587:function(e,n,t){"use strict";t.d(n,{Fb:function(){return hasVersionedTx},QM:function(){return createVersionedTransaction},QS:function(){return createTransferTransaction},UP:function(){return createVersionedLegacyTransaction},aN:function(){return createTokenTransferTransaction}});var a=t(59917),s=t(45423),r=t(72655);let createTransferTransaction=(e,n,t,s)=>{let r=new a.nh(n),o=new a.YW().add(a.yc.transfer({fromPubkey:e,toPubkey:r,lamports:s}));return o.feePayer=e,o.recentBlockhash=t,o},hasVersionedTx=e=>"version"in e,createVersionedLegacyTransaction=(e,n,t,s)=>{let r=new a.nh(n),o=[a.yc.createAccount({fromPubkey:e,newAccountPubkey:r,lamports:s,space:0,programId:a.yc.programId}),a.yc.transfer({fromPubkey:e,toPubkey:r,lamports:s})],i=new a.$Z({payerKey:e,recentBlockhash:t,instructions:o}).compileToLegacyMessage(),l=new a.GS(i);return l},createVersionedTransaction=(e,n,t,s)=>{let r=new a.nh(n),o=[a.yc.transfer({fromPubkey:e,toPubkey:r,lamports:s})],i=new a.$Z({payerKey:e,recentBlockhash:t,instructions:o}).compileToV0Message(),l=new a.GS(i);return l},createTokenTransferTransaction=async(e,n,t,o,i,l,c)=>{let u=new a.YW,d=await (0,s.Am)(o,n),f=await (0,s.Am)(o,t);return u.add((0,r.$B)(d,f,n,BigInt(l*Math.pow(10,c)))),u.feePayer=n,u.recentBlockhash=i,u}},78782:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return Example}});var a=t(85893);let s=[{name:"Magic Eden",url:"https://magiceden.io/"},{name:"Jupiter",url:"https://jup.ag"},{name:"Mean Finance",url:"https://app.meanfi.com/"},{name:"Saber",url:"https://app.saber.so/"},{name:"ORCA",url:"https://www.orca.so/"},{name:"Rarible",url:"https://rarible.com/connect"},{name:"Raydium",url:"https://raydium.io/swap/"},{name:"官方测试",url:"https://r3byv.csb.app/"}];var r=t(6912),o=t(67294),i=t(26815),l=t(99710),c=t(23225),u=t(6793),d=t(59917),f=t(72269),g=t(51587),p=t(50780),m=t.n(p),h=t(96544),y=t(76894),x=t(70252),v=t(48764).Buffer;function Example(){let e=(0,o.useRef)([{uuid:"injected",name:"Injected Wallet",inject:"solana"},{uuid:"injected-onekey",name:"Injected OneKey",inject:"$onekey.solana"},{uuid:"injected-phantom",name:"Injected Phantom",inject:"phantom.solana"}]),{provider:n,setAccount:t,account:p}=(0,c.O)(),w=(0,o.useMemo)(()=>new d.ew("https://go.getblock.io/".concat((0,x.P)("DEwWFkUCHktXRF8YWw1QCQQcEgQWTE1QDlgKRRVDRw8="))),[]),onConnectWallet=async n=>{var t;let a=null===(t=e.current)||void 0===t?void 0:t.find(e=>e.uuid===n.id);if(!a)return Promise.reject("Wallet not found");let s=(0,i.Z)(window,a.inject);if(!s){(0,h.Am)({title:"Wallet not found",description:"Please install the wallet extension"});return}let{publicKey:r}=await (null==s?void 0:s.connect());return{provider:s,publicKey:r.toBase58()}},onDisconnectWallet=async()=>{await (null==n?void 0:n.disconnect())};return(0,o.useEffect)(()=>{if(!n)return;let onConnectListener=e=>{console.log("solana [connect] ".concat(e.toBase58())),t({...p,publicKey:e.toBase58()})},onDisconnectListener=()=>{console.log("solana [disconnect] \uD83D\uDC4B")},onAccountChangeListener=e=>{e?(console.log("solana [accountChanged] Switched account to ".concat(null==e?void 0:e.toBase58())),t({...p,publicKey:e.toBase58()})):console.log("solana [accountChanged] Switched unknown account")};return n.on("connect",onConnectListener),n.on("disconnect",onDisconnectListener),n.on("accountChanged",onAccountChangeListener),()=>{n.removeListener("connect",onConnectListener),n.removeListener("disconnect",onDisconnectListener),n.removeListener("accountChanged",onAccountChangeListener)}},[p,n,t]),console.log("createTokenTransferTransaction exists:",typeof g.aN),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.Z,{fetchWallets:()=>Promise.resolve(e.current.map(e=>({id:e.uuid,name:e.name}))),onConnect:onConnectWallet,onDisconnect:onDisconnectWallet}),(0,a.jsx)(l.s,{title:"Basics",children:(0,a.jsx)(l.u,{title:"connect",description:"连接钱包并获取公钥",disableRequestContent:!0,onExecute:async e=>{let t=await (null==n?void 0:n.connect());return JSON.stringify(t)}})}),(0,a.jsxs)(l.s,{title:"Sign Message",children:[(0,a.jsx)(l.u,{title:"signMessage",description:"签名消息(存在风险，硬件无法使用)",presupposeParams:f.Z.signMessage,onExecute:async e=>await (null==n?void 0:n.signMessage(v.from(e,"utf8"))),onValidate:(e,n)=>{let t;let{signature:a,publicKey:s}=JSON.parse(n);t=Array.isArray(a)?new Uint8Array(a):new Uint8Array(a.data);let r=new d.nh(s),o=m().sign.detached.verify(v.from(e,"utf8"),t,r.toBytes());return Promise.resolve(o.toString())}}),(0,a.jsx)(l.u,{title:"solSignOffchainMessage",description:"签名消息(OneKey 私有方法)",presupposeParams:f.Z.signMessage,onExecute:async e=>await (null==n?void 0:n.solSignOffchainMessage(v.from(e,"utf8"))),onValidate:(e,n)=>{let t;let{signature:a,publicKey:s}=JSON.parse(n);t=Array.isArray(a)?new Uint8Array(a):new Uint8Array(a.data);let r=new d.nh(s),o=new y.D({message:v.from(e,"utf8")}),i=m().sign.detached.verify(o.serialize(),t,r.toBytes());return Promise.resolve(i.toString())}})]}),(0,a.jsxs)(l.s,{title:"Transfer",children:[(0,a.jsx)(l.u,{title:"signAndSendTransaction",description:"签署并发送交易",presupposeParams:f.Z.signAndSendTransaction(null==p?void 0:p.publicKey),onExecute:async e=>{let{toPubkey:t,amount:a}=JSON.parse(e),s=(await w.getLatestBlockhash()).blockhash,r=(0,g.QS)(new d.nh(null==p?void 0:p.publicKey),t,s,a),o=await (null==n?void 0:n.signAndSendTransaction(r));return JSON.stringify(o)}}),(0,a.jsx)(l.u,{title:"signTransaction",description:"签署交易",presupposeParams:f.Z.signAndSendTransaction(null==p?void 0:p.publicKey),onExecute:async e=>{let{toPubkey:t,amount:a}=JSON.parse(e),s=(await w.getLatestBlockhash()).blockhash,r=(0,g.QS)(new d.nh(null==p?void 0:p.publicKey),t,s,a),o=await (null==n?void 0:n.signTransaction(r));return(0,g.Fb)(o)?"error: Tx is Versioned Transaction":v.from(o.serialize()).toString("hex")},onValidate:async(e,n)=>{let t=d.YW.from(v.from(n,"hex")),a=t.verifySignatures(),s=await w.simulateTransaction(t);return{success:null===s.value.err,verified:a,tryRun:s,tx:t}}}),(0,a.jsx)(l.u,{title:"signTransaction (Versioned)",description:"签署 Versioned 交易",presupposeParams:f.Z.signAndSendTransaction(null==p?void 0:p.publicKey),onExecute:async e=>{let{toPubkey:t,amount:a}=JSON.parse(e),s=(await w.getLatestBlockhash()).blockhash,r=(0,g.QM)(new d.nh(null==p?void 0:p.publicKey),t,s,a),o=await (null==n?void 0:n.signTransaction(r));return(0,g.Fb)(o)?v.from(o.serialize()).toString("hex"):"error: Tx is legacy Transaction"},onValidate:async(e,n)=>{let t=d.GS.deserialize(v.from(n,"hex")),a=await w.simulateTransaction(t);return{success:null===a.value.err,tryRun:a,tx:t}}}),(0,a.jsx)(l.u,{title:"signTransaction (Versioned legacy)",description:"签署 Versioned legacy 交易, legacy 旧版本交易，但是返回值是 Versioned 的 Tx",presupposeParams:f.Z.signAndSendTransaction(null==p?void 0:p.publicKey),onExecute:async e=>{let{toPubkey:t,amount:a}=JSON.parse(e),s=(await w.getLatestBlockhash()).blockhash,r=(0,g.UP)(new d.nh(null==p?void 0:p.publicKey),t,s,a);console.log("transfer",r);let o=await (null==n?void 0:n.signTransaction(r));return(console.log("res",o),(0,g.Fb)(o))?v.from(o.serialize()).toString("hex"):"error:Tx is legacy Transaction"}}),(0,a.jsx)(l.u,{title:"signAllTransactions",description:"签署多个交易",presupposeParams:f.Z.signMultipleTransaction(null==p?void 0:p.publicKey),onExecute:async e=>{let t=JSON.parse(e),a=(await w.getLatestBlockhash()).blockhash,s=t.map(e=>(0,g.QS)(new d.nh(null==p?void 0:p.publicKey),e.toPubkey,a,e.amount)),r=await (null==n?void 0:n.signAllTransactions(s));return r.map(e=>v.from(e.serialize()).toString("hex"))},onValidate:async(e,n)=>{let t=JSON.parse(n),a=t.map(e=>d.YW.from(v.from(e,"hex"))),s=[];for(let e of a){let n=e.verifySignatures(),t=await w.simulateTransaction(e);s.push({success:null===t.value.err,verified:n,tryRun:t})}return s}}),(0,a.jsx)(l.u,{title:"transferToken",description:"代币转账",presupposeParams:f.Z.signAndSendTokenTransaction(null==p?void 0:p.publicKey),onExecute:async e=>{let{tokenMint:t,toPubkey:a,amount:s,decimals:r}=JSON.parse(e),o=(await w.getLatestBlockhash()).blockhash,i=await (0,g.aN)(w,new d.nh(null==p?void 0:p.publicKey),new d.nh(a),new d.nh(t),o,s,r),l=await (null==n?void 0:n.signAndSendTransaction(i));return JSON.stringify(l)}})]}),(0,a.jsx)(u.Z,{dapps:s})]})}(0,d.Wf)("mainnet-beta")},72269:function(e,n){"use strict";let t=[{symbol:"USDT",tokenMint:"Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB",decimals:6},{symbol:"USDC",tokenMint:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",decimals:6}];n.Z={signMessage:[{id:"signMessage",name:"signMessage",value:"Hello OneKey"}],signAndSendTransaction:e=>[{id:"signAndSendTransaction",name:"Normal Transaction",value:JSON.stringify({toPubkey:e,amount:100})}],signAndSendTokenTransaction:e=>t.map(n=>({id:"signAndSendTokenTransaction_".concat(n.symbol),name:"Send ".concat(n.symbol," Token"),value:JSON.stringify({tokenMint:n.tokenMint,toPubkey:e,amount:1e-6,decimals:n.decimals})})),signMultipleTransaction:e=>[{id:"signMultipleTransaction",name:"Sign Multiple Transaction",value:JSON.stringify([{toPubkey:e,amount:100},{toPubkey:e,amount:100}])}],signRawTransaction:[{id:"sign raw tx Transaction",name:"stake io",value:JSON.stringify({message:"78NZKdHqXG3dk1M3BzEuRStNSqZs7R7HpJqDC4XseXJdjvXCyY637Gpod7K2qSccnHkBiNoNLbjtDp5CAXzZNhY35qhfdW6imBpT8UwJJArJukctXz9uGFezAMpmHC8qyeUKeeW9DL9UpVLPrjRcq8UXxv4NaoGLsTenuziN76voXyd5Lo44EsLysFNBGELtHKzGXGznAhmabQnqnBJn64HadjRfZvjprcNiy6nbcrvjQQEZnDEXZ4WunuR7zfCZZPk1TUW2KFDymfyLYcY44cJvYi9L5VZdxvG1ifHRrxXefagfwAjL5a1wTRConmZTcVx5ayZ2SYDGxVdkrGDqLaFonGHxrzJmk1gs1mrLjqiQvQn79EQdxyvZyUDgUEMzV18yjm6nya57VXQfvei93zPDesRQTYs3yQzD1aYSjy2up3cgFNhRPt9vYZFHNBFnd9v1kPzffGbyMeNbeK8M3TPBbCxP6NEgzxmDsihB2s9bajKb3tpgaVUKQQrJiK8c5AvXWcewVFfSWBk6R7whTunRfUVXotR4d9VRfCoYgVUFZoUpSHGh111kKd4aygt4q9vh2MzoNkyoPJU32WtA899rXZ1baNKrkoeLmS7FxaSBa6jJLr1F3BHMLCnzWvPG2EE3y1afpjwkKz7Hf59rfSQFMghkHYc9DJPkbLiE4DcZiBf4q1gAva32ZZaSBruzFwLMjkm5roBx7CsmQ5tFnBtcYrF5eTke9TNNRxSLeZwU6ht1yMBsScKogN9Kmgq5uXFyAQ8BXnero7UaV7CYxeYjzeCSvsv3R"})}]}},76894:function(e,n,t){"use strict";t.d(n,{D:function(){return OffchainMessage}});var a=t(48764).Buffer;let OffchainMessage=class OffchainMessage{static guessMessageFormat(e){if("[object Uint8Array]"===Object.prototype.toString.call(e)){if(e.length<=1212){if(OffchainMessage.isPrintableASCII(e))return 0;if(OffchainMessage.isUTF8(e))return 1}else if(e.length<=65515&&OffchainMessage.isUTF8(e))return 2}}static isPrintableASCII(e){return e&&e.every(e=>e>=32&&e<=126)}static isUTF8(e){return e&&function(e){let n=e.length,t=0;for(;t<n;)if(e[t]<128)++t;else if((224&e[t])==192){if(t+1>=n||(192&e[t+1])!=128||(254&e[t])==192)return!1;t+=2}else if((240&e[t])==224){if(t+2>=n||(192&e[t+1])!=128||(192&e[t+2])!=128||224==e[t]&&(224&e[t+1])==128||237==e[t]&&(224&e[t+1])==160||239==e[t]&&191==e[t+1]&&(254&e[t+2])==190)return!1;t+=3}else{if((248&e[t])!=240||t+3>=n||(192&e[t+1])!=128||(192&e[t+2])!=128||(192&e[t+3])!=128||240==e[t]&&(240&e[t+1])==128||244==e[t]&&e[t+1]>143||e[t]>244)return!1;t+=4}return!0}(e)}isValid(){if(0!==this.version||!this.message)return!1;let e=OffchainMessage.guessMessageFormat(this.message);return null!=e&&e===this.messageFormat}isLedgerSupported(e){return this.isValid()&&(0===this.messageFormat||1===this.messageFormat&&e)}serialize(){if(!this.isValid())throw Error("Invalid OffchainMessage: ".concat(JSON.stringify(this)));let e=a.alloc(4),n=e.writeUInt8(this.version);return n=e.writeUInt8(this.messageFormat,n),n=e.writeUInt16LE(this.message.length,n),a.concat([a.from([255]),a.from("solana offchain"),e,this.message])}constructor(e){if(this.version=0,this.messageFormat=void 0,this.message=void 0,!e)return;e.version&&(this.version=e.version),e.messageFormat&&(this.messageFormat=e.messageFormat),e.message&&(this.message=a.from(e.message),0!==this.version||this.messageFormat||(this.messageFormat=OffchainMessage.guessMessageFormat(this.message)))}}},6912:function(e,n,t){"use strict";t.d(n,{Z:function(){return ConnectButton}});var a=t(85893),s=t(67294),r=t(9663),o=t(51731),i=t(53617),l=t(23225),c=t(96544),u=t(27361),d=t.n(u),f=t(78299);let g={address:"地址",publicKey:"公钥",chainId:"网络"};function ConnectButton(e){let{fetchWallets:n,onConnect:t,onDisconnect:u}=e,{settings:p}=(0,f.r)(),m=(0,s.useRef)(null),h=(0,s.useRef)(!1),[y,x]=(0,s.useState)([]),{setProvider:v,setAccount:w,provider:b,account:j}=(0,l.O)(),k=(0,s.useCallback)(async e=>{try{let{provider:n,...a}=await t(e);v(n),w(a)}catch(e){console.log("connectWallet error",e),(0,c.Am)({title:"连接失败",description:d()(e,"message","")})}},[t,w,v]),T=(0,s.useCallback)(async()=>{h.current=!1,await (null==u?void 0:u()),v(null),w(null)},[u,w,v]),N=(0,s.useCallback)(()=>{setTimeout(()=>{try{var e;null===(e=m.current)||void 0===e||e.click()}catch(e){}},150)},[]),S=(0,s.useCallback)(async e=>{let t=await (null==n?void 0:n());if((null==t?void 0:t.length)===0){N();return}let{directConnection:a}=null!=e?e:{directConnection:!1};(null==t?void 0:t.length)===1||(null==t?void 0:t.length)>0&&a?(N(),await k(t[0])):x(t)},[N,k,n]);return(0,s.useEffect)(()=>{let e=setTimeout(async()=>{!h.current&&(console.log("settings.autoConnect",p.autoConnect),p.autoConnect&&(h.current=!0,await S({directConnection:!0})))},500);return()=>{clearTimeout(e)}},[p.autoConnect]),(0,a.jsx)(o.Zb,{children:(0,a.jsxs)(o.aY,{className:"flex flex-col flex-wrap gap-3",children:[(0,a.jsxs)("div",{className:"flex flex-row flex-wrap justify-between",children:[(0,a.jsxs)(i.Vq,{children:[(0,a.jsx)(i.hg,{asChild:!0,children:(0,a.jsx)(r.z,{onClick:()=>S(),children:"Connect Wallet"})}),(0,a.jsxs)(i.cZ,{children:[(0,a.jsx)(i.GG,{ref:m}),(0,a.jsxs)(i.fK,{children:[(0,a.jsx)(i.$N,{children:"选择钱包开始连接"}),!!y&&y.map(e=>{var n;return(0,a.jsx)(i.GG,{asChild:!0,children:(0,a.jsxs)(r.z,{onClick:()=>k(e),className:"gap-2",children:[e.logo&&(0,a.jsx)("img",{alt:e.name,src:e.logo,className:"w-5 h-5 rounded-full"}),(0,a.jsx)("span",{className:"font-medium",children:e.name}),null===(n=e.tags)||void 0===n?void 0:n.map(e=>(0,a.jsx)("span",{className:"text-xs font-light",children:e},e))]})},e.id)}),!y||0===y.length&&(0,a.jsxs)(i.Be,{children:["没有钱包可用，请安装 OneKey Extension",(0,a.jsx)("a",{target:"_blank",href:"https://www.onekey.so/download/",children:"Install OneKey Extension →"})]})]})]})]}),b&&(0,a.jsx)(r.z,{variant:"destructive",onClick:T,children:"断开链接"})]}),j&&(0,a.jsx)("div",{className:"flex grid-cols-1 xl:grid-cols-2 flex-wrap gap-x-6 gap-y-3 mt-4",children:Object.keys(j).map(e=>{var n;return(0,a.jsxs)("div",{children:[(0,a.jsxs)("span",{children:["".concat(null!==(n=null==g?void 0:g[e])&&void 0!==n?n:e),": "]}),(0,a.jsx)("span",{className:"font-normal flex flex-wrap text-break",children:"".concat(null==j?void 0:j[e])})]},e)})})]})})}},53617:function(e,n,t){"use strict";t.d(n,{$N:function(){return p},Be:function(){return m},GG:function(){return d},Vq:function(){return l},cZ:function(){return g},fK:function(){return DialogHeader},hg:function(){return c}});var a=t(85893),s=t(67294),r=t(12854),o=t(41352),i=t(13441);let l=r.fC,c=r.xz,u=r.h_,d=r.x8,f=s.forwardRef((e,n)=>{let{className:t,...s}=e;return(0,a.jsx)(r.aV,{ref:n,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...s})});f.displayName=r.aV.displayName;let g=s.forwardRef((e,n)=>{let{className:t,children:s,...l}=e;return(0,a.jsxs)(u,{children:[(0,a.jsx)(f,{}),(0,a.jsxs)(r.VY,{ref:n,className:(0,i.cn)("fixed left-[50%] top-[35%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...l,children:[s,(0,a.jsxs)(r.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,a.jsx)(o.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});g.displayName=r.VY.displayName;let DialogHeader=e=>{let{className:n,...t}=e;return(0,a.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",n),...t})};DialogHeader.displayName="DialogHeader";let p=s.forwardRef((e,n)=>{let{className:t,...s}=e;return(0,a.jsx)(r.Dx,{ref:n,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",t),...s})});p.displayName=r.Dx.displayName;let m=s.forwardRef((e,n)=>{let{className:t,...s}=e;return(0,a.jsx)(r.dk,{ref:n,className:(0,i.cn)("text-sm text-muted-foreground",t),...s})});m.displayName=r.dk.displayName},70252:function(e,n,t){"use strict";t.d(n,{P:function(){return function getApiKey(e){let n=!(arguments.length>1)||void 0===arguments[1]||arguments[1];if(n){let n=a.from(e,"base64").toString();return getApiKey(n,!1)}let t="";for(let n=0;n<e.length;n++){let a=e.charCodeAt(n),r=s.charCodeAt(n%s.length);t+=String.fromCharCode(a^r)}return t}}});var a=t(48764).Buffer;let s="https://api.onekeytest.com"},46601:function(){},12854:function(e,n,t){"use strict";t.d(n,{Dx:function(){return _},VY:function(){return q},aV:function(){return H},dk:function(){return X},fC:function(){return Y},h_:function(){return Q},x8:function(){return $},xz:function(){return G}});var a=t(67294),s=t(36206),r=t(28771),o=t(25360),i=t(91276),l=t(77342),c=t(46063),u=t(95420),d=t(42651),f=t(29115),g=t(75320),p=t(27552),m=t(91202),h=t(23541),y=t(88426),x=t(85893),v="Dialog",[w,b]=(0,o.b)(v),[j,k]=w(v),Dialog=e=>{let{__scopeDialog:n,children:t,open:s,defaultOpen:r,onOpenChange:o,modal:c=!0}=e,u=a.useRef(null),d=a.useRef(null),[f=!1,g]=(0,l.T)({prop:s,defaultProp:r,onChange:o});return(0,x.jsx)(j,{scope:n,triggerRef:u,contentRef:d,contentId:(0,i.M)(),titleId:(0,i.M)(),descriptionId:(0,i.M)(),open:f,onOpenChange:g,onOpenToggle:a.useCallback(()=>g(e=>!e),[g]),modal:c,children:t})};Dialog.displayName=v;var T="DialogTrigger",N=a.forwardRef((e,n)=>{let{__scopeDialog:t,...a}=e,o=k(T,t),i=(0,r.e)(n,o.triggerRef);return(0,x.jsx)(g.WV.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":getState(o.open),...a,ref:i,onClick:(0,s.M)(e.onClick,o.onOpenToggle)})});N.displayName=T;var S="DialogPortal",[C,D]=w(S,{forceMount:void 0}),DialogPortal=e=>{let{__scopeDialog:n,forceMount:t,children:s,container:r}=e,o=k(S,n);return(0,x.jsx)(C,{scope:n,forceMount:t,children:a.Children.map(s,e=>(0,x.jsx)(f.z,{present:t||o.open,children:(0,x.jsx)(d.h,{asChild:!0,container:r,children:e})}))})};DialogPortal.displayName=S;var M="DialogOverlay",P=a.forwardRef((e,n)=>{let t=D(M,e.__scopeDialog),{forceMount:a=t.forceMount,...s}=e,r=k(M,e.__scopeDialog);return r.modal?(0,x.jsx)(f.z,{present:a||r.open,children:(0,x.jsx)(R,{...s,ref:n})}):null});P.displayName=M;var R=a.forwardRef((e,n)=>{let{__scopeDialog:t,...a}=e,s=k(M,t);return(0,x.jsx)(m.Z,{as:y.g7,allowPinchZoom:!0,shards:[s.contentRef],children:(0,x.jsx)(g.WV.div,{"data-state":getState(s.open),...a,ref:n,style:{pointerEvents:"auto",...a.style}})})}),F="DialogContent",A=a.forwardRef((e,n)=>{let t=D(F,e.__scopeDialog),{forceMount:a=t.forceMount,...s}=e,r=k(F,e.__scopeDialog);return(0,x.jsx)(f.z,{present:a||r.open,children:r.modal?(0,x.jsx)(B,{...s,ref:n}):(0,x.jsx)(O,{...s,ref:n})})});A.displayName=F;var B=a.forwardRef((e,n)=>{let t=k(F,e.__scopeDialog),o=a.useRef(null),i=(0,r.e)(n,t.contentRef,o);return a.useEffect(()=>{let e=o.current;if(e)return(0,h.Ry)(e)},[]),(0,x.jsx)(E,{...e,ref:i,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,s.M)(e.onCloseAutoFocus,e=>{e.preventDefault(),t.triggerRef.current?.focus()}),onPointerDownOutside:(0,s.M)(e.onPointerDownOutside,e=>{let n=e.detail.originalEvent,t=0===n.button&&!0===n.ctrlKey,a=2===n.button||t;a&&e.preventDefault()}),onFocusOutside:(0,s.M)(e.onFocusOutside,e=>e.preventDefault())})}),O=a.forwardRef((e,n)=>{let t=k(F,e.__scopeDialog),s=a.useRef(!1),r=a.useRef(!1);return(0,x.jsx)(E,{...e,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:n=>{e.onCloseAutoFocus?.(n),n.defaultPrevented||(s.current||t.triggerRef.current?.focus(),n.preventDefault()),s.current=!1,r.current=!1},onInteractOutside:n=>{e.onInteractOutside?.(n),n.defaultPrevented||(s.current=!0,"pointerdown"!==n.detail.originalEvent.type||(r.current=!0));let a=n.target,o=t.triggerRef.current?.contains(a);o&&n.preventDefault(),"focusin"===n.detail.originalEvent.type&&r.current&&n.preventDefault()}})}),E=a.forwardRef((e,n)=>{let{__scopeDialog:t,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:i,...l}=e,d=k(F,t),f=a.useRef(null),g=(0,r.e)(n,f);return(0,p.EW)(),(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(u.M,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:o,onUnmountAutoFocus:i,children:(0,x.jsx)(c.XB,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":getState(d.open),...l,ref:g,onDismiss:()=>d.onOpenChange(!1)})}),(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(TitleWarning,{titleId:d.titleId}),(0,x.jsx)(DescriptionWarning,{contentRef:f,descriptionId:d.descriptionId})]})]})}),V="DialogTitle",K=a.forwardRef((e,n)=>{let{__scopeDialog:t,...a}=e,s=k(V,t);return(0,x.jsx)(g.WV.h2,{id:s.titleId,...a,ref:n})});K.displayName=V;var Z="DialogDescription",L=a.forwardRef((e,n)=>{let{__scopeDialog:t,...a}=e,s=k(Z,t);return(0,x.jsx)(g.WV.p,{id:s.descriptionId,...a,ref:n})});L.displayName=Z;var z="DialogClose",W=a.forwardRef((e,n)=>{let{__scopeDialog:t,...a}=e,r=k(z,t);return(0,x.jsx)(g.WV.button,{type:"button",...a,ref:n,onClick:(0,s.M)(e.onClick,()=>r.onOpenChange(!1))})});function getState(e){return e?"open":"closed"}W.displayName=z;var I="DialogTitleWarning",[J,U]=(0,o.k)(I,{contentName:F,titleName:V,docsSlug:"dialog"}),TitleWarning=({titleId:e})=>{let n=U(I),t=`\`${n.contentName}\` requires a \`${n.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${n.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${n.docsSlug}`;return a.useEffect(()=>{if(e){let n=document.getElementById(e);n||console.error(t)}},[t,e]),null},DescriptionWarning=({contentRef:e,descriptionId:n})=>{let t=U("DialogDescriptionWarning"),s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${t.contentName}}.`;return a.useEffect(()=>{let t=e.current?.getAttribute("aria-describedby");if(n&&t){let e=document.getElementById(n);e||console.warn(s)}},[s,e,n]),null},Y=Dialog,G=N,Q=DialogPortal,H=P,q=A,_=K,X=L,$=W}}]);
//# sourceMappingURL=5513.e964100f59beafcf.js.map