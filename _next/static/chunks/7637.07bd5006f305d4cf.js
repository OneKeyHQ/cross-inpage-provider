(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7637],{98099:function(ee,et,ei){"use strict";Object.defineProperty(et,"__esModule",{value:!0});var es=ei(97117);function writeUint16BE(ee,et,ei){return void 0===et&&(et=new Uint8Array(2)),void 0===ei&&(ei=0),et[ei+0]=ee>>>8,et[ei+1]=ee>>>0,et}function writeUint16LE(ee,et,ei){return void 0===et&&(et=new Uint8Array(2)),void 0===ei&&(ei=0),et[ei+0]=ee>>>0,et[ei+1]=ee>>>8,et}function readInt32BE(ee,et){return void 0===et&&(et=0),ee[et]<<24|ee[et+1]<<16|ee[et+2]<<8|ee[et+3]}function readUint32BE(ee,et){return void 0===et&&(et=0),(ee[et]<<24|ee[et+1]<<16|ee[et+2]<<8|ee[et+3])>>>0}function readInt32LE(ee,et){return void 0===et&&(et=0),ee[et+3]<<24|ee[et+2]<<16|ee[et+1]<<8|ee[et]}function readUint32LE(ee,et){return void 0===et&&(et=0),(ee[et+3]<<24|ee[et+2]<<16|ee[et+1]<<8|ee[et])>>>0}function writeUint32BE(ee,et,ei){return void 0===et&&(et=new Uint8Array(4)),void 0===ei&&(ei=0),et[ei+0]=ee>>>24,et[ei+1]=ee>>>16,et[ei+2]=ee>>>8,et[ei+3]=ee>>>0,et}function writeUint32LE(ee,et,ei){return void 0===et&&(et=new Uint8Array(4)),void 0===ei&&(ei=0),et[ei+0]=ee>>>0,et[ei+1]=ee>>>8,et[ei+2]=ee>>>16,et[ei+3]=ee>>>24,et}function writeUint64BE(ee,et,ei){return void 0===et&&(et=new Uint8Array(8)),void 0===ei&&(ei=0),writeUint32BE(ee/4294967296>>>0,et,ei),writeUint32BE(ee>>>0,et,ei+4),et}function writeUint64LE(ee,et,ei){return void 0===et&&(et=new Uint8Array(8)),void 0===ei&&(ei=0),writeUint32LE(ee>>>0,et,ei),writeUint32LE(ee/4294967296>>>0,et,ei+4),et}et.readInt16BE=function(ee,et){return void 0===et&&(et=0),(ee[et+0]<<8|ee[et+1])<<16>>16},et.readUint16BE=function(ee,et){return void 0===et&&(et=0),(ee[et+0]<<8|ee[et+1])>>>0},et.readInt16LE=function(ee,et){return void 0===et&&(et=0),(ee[et+1]<<8|ee[et])<<16>>16},et.readUint16LE=function(ee,et){return void 0===et&&(et=0),(ee[et+1]<<8|ee[et])>>>0},et.writeUint16BE=writeUint16BE,et.writeInt16BE=writeUint16BE,et.writeUint16LE=writeUint16LE,et.writeInt16LE=writeUint16LE,et.readInt32BE=readInt32BE,et.readUint32BE=readUint32BE,et.readInt32LE=readInt32LE,et.readUint32LE=readUint32LE,et.writeUint32BE=writeUint32BE,et.writeInt32BE=writeUint32BE,et.writeUint32LE=writeUint32LE,et.writeInt32LE=writeUint32LE,et.readInt64BE=function(ee,et){void 0===et&&(et=0);var ei=readInt32BE(ee,et),es=readInt32BE(ee,et+4);return 4294967296*ei+es-(es>>31)*4294967296},et.readUint64BE=function(ee,et){return void 0===et&&(et=0),4294967296*readUint32BE(ee,et)+readUint32BE(ee,et+4)},et.readInt64LE=function(ee,et){void 0===et&&(et=0);var ei=readInt32LE(ee,et);return 4294967296*readInt32LE(ee,et+4)+ei-(ei>>31)*4294967296},et.readUint64LE=function(ee,et){void 0===et&&(et=0);var ei=readUint32LE(ee,et);return 4294967296*readUint32LE(ee,et+4)+ei},et.writeUint64BE=writeUint64BE,et.writeInt64BE=writeUint64BE,et.writeUint64LE=writeUint64LE,et.writeInt64LE=writeUint64LE,et.readUintBE=function(ee,et,ei){if(void 0===ei&&(ei=0),ee%8!=0)throw Error("readUintBE supports only bitLengths divisible by 8");if(ee/8>et.length-ei)throw Error("readUintBE: array is too short for the given bitLength");for(var es=0,en=1,eo=ee/8+ei-1;eo>=ei;eo--)es+=et[eo]*en,en*=256;return es},et.readUintLE=function(ee,et,ei){if(void 0===ei&&(ei=0),ee%8!=0)throw Error("readUintLE supports only bitLengths divisible by 8");if(ee/8>et.length-ei)throw Error("readUintLE: array is too short for the given bitLength");for(var es=0,en=1,eo=ei;eo<ei+ee/8;eo++)es+=et[eo]*en,en*=256;return es},et.writeUintBE=function(ee,et,ei,en){if(void 0===ei&&(ei=new Uint8Array(ee/8)),void 0===en&&(en=0),ee%8!=0)throw Error("writeUintBE supports only bitLengths divisible by 8");if(!es.isSafeInteger(et))throw Error("writeUintBE value must be an integer");for(var eo=1,ea=ee/8+en-1;ea>=en;ea--)ei[ea]=et/eo&255,eo*=256;return ei},et.writeUintLE=function(ee,et,ei,en){if(void 0===ei&&(ei=new Uint8Array(ee/8)),void 0===en&&(en=0),ee%8!=0)throw Error("writeUintLE supports only bitLengths divisible by 8");if(!es.isSafeInteger(et))throw Error("writeUintLE value must be an integer");for(var eo=1,ea=en;ea<en+ee/8;ea++)ei[ea]=et/eo&255,eo*=256;return ei},et.readFloat32BE=function(ee,et){return void 0===et&&(et=0),new DataView(ee.buffer,ee.byteOffset,ee.byteLength).getFloat32(et)},et.readFloat32LE=function(ee,et){return void 0===et&&(et=0),new DataView(ee.buffer,ee.byteOffset,ee.byteLength).getFloat32(et,!0)},et.readFloat64BE=function(ee,et){return void 0===et&&(et=0),new DataView(ee.buffer,ee.byteOffset,ee.byteLength).getFloat64(et)},et.readFloat64LE=function(ee,et){return void 0===et&&(et=0),new DataView(ee.buffer,ee.byteOffset,ee.byteLength).getFloat64(et,!0)},et.writeFloat32BE=function(ee,et,ei){return void 0===et&&(et=new Uint8Array(4)),void 0===ei&&(ei=0),new DataView(et.buffer,et.byteOffset,et.byteLength).setFloat32(ei,ee),et},et.writeFloat32LE=function(ee,et,ei){return void 0===et&&(et=new Uint8Array(4)),void 0===ei&&(ei=0),new DataView(et.buffer,et.byteOffset,et.byteLength).setFloat32(ei,ee,!0),et},et.writeFloat64BE=function(ee,et,ei){return void 0===et&&(et=new Uint8Array(8)),void 0===ei&&(ei=0),new DataView(et.buffer,et.byteOffset,et.byteLength).setFloat64(ei,ee),et},et.writeFloat64LE=function(ee,et,ei){return void 0===et&&(et=new Uint8Array(8)),void 0===ei&&(ei=0),new DataView(et.buffer,et.byteOffset,et.byteLength).setFloat64(ei,ee,!0),et}},99026:function(ee,et,ei){"use strict";Object.defineProperty(et,"__esModule",{value:!0});var es=ei(98099),en=ei(17309);function streamXOR(ee,et,ei,eo,ea){if(void 0===ea&&(ea=0),32!==ee.length)throw Error("ChaCha: key size must be 32 bytes");if(eo.length<ei.length)throw Error("ChaCha: destination is shorter than source");if(0===ea){if(8!==et.length&&12!==et.length)throw Error("ChaCha nonce must be 8 or 12 bytes");el=(ec=new Uint8Array(16)).length-et.length,ec.set(et,el)}else{if(16!==et.length)throw Error("ChaCha nonce with counter must be 16 bytes");ec=et,el=ea}for(var ec,el,eu=new Uint8Array(64),ed=0;ed<ei.length;ed+=64){!function(ee,et,ei){for(var en=ei[3]<<24|ei[2]<<16|ei[1]<<8|ei[0],eo=ei[7]<<24|ei[6]<<16|ei[5]<<8|ei[4],ea=ei[11]<<24|ei[10]<<16|ei[9]<<8|ei[8],ec=ei[15]<<24|ei[14]<<16|ei[13]<<8|ei[12],el=ei[19]<<24|ei[18]<<16|ei[17]<<8|ei[16],eu=ei[23]<<24|ei[22]<<16|ei[21]<<8|ei[20],ed=ei[27]<<24|ei[26]<<16|ei[25]<<8|ei[24],eh=ei[31]<<24|ei[30]<<16|ei[29]<<8|ei[28],ep=et[3]<<24|et[2]<<16|et[1]<<8|et[0],ef=et[7]<<24|et[6]<<16|et[5]<<8|et[4],eg=et[11]<<24|et[10]<<16|et[9]<<8|et[8],em=et[15]<<24|et[14]<<16|et[13]<<8|et[12],ey=1634760805,eb=857760878,e_=2036477234,ev=1797285236,ew=en,ex=eo,eS=ea,eE=ec,eA=el,eI=eu,eT=ed,eR=eh,eD=ep,ek=ef,eB=eg,eP=em,eO=0;eO<20;eO+=2)eD^=ey=ey+ew|0,ew^=eA=eA+(eD=eD>>>16|eD<<16)|0,ew=ew>>>20|ew<<12,ek^=eb=eb+ex|0,ex^=eI=eI+(ek=ek>>>16|ek<<16)|0,ex=ex>>>20|ex<<12,eB^=e_=e_+eS|0,eS^=eT=eT+(eB=eB>>>16|eB<<16)|0,eS=eS>>>20|eS<<12,eP^=ev=ev+eE|0,eE^=eR=eR+(eP=eP>>>16|eP<<16)|0,eE=eE>>>20|eE<<12,eB^=e_=e_+eS|0,eS^=eT=eT+(eB=eB>>>24|eB<<8)|0,eS=eS>>>25|eS<<7,eP^=ev=ev+eE|0,eE^=eR=eR+(eP=eP>>>24|eP<<8)|0,eE=eE>>>25|eE<<7,ek^=eb=eb+ex|0,ex^=eI=eI+(ek=ek>>>24|ek<<8)|0,ex=ex>>>25|ex<<7,eD^=ey=ey+ew|0,ew^=eA=eA+(eD=eD>>>24|eD<<8)|0,ew=ew>>>25|ew<<7,eP^=ey=ey+ex|0,ex^=eT=eT+(eP=eP>>>16|eP<<16)|0,ex=ex>>>20|ex<<12,eD^=eb=eb+eS|0,eS^=eR=eR+(eD=eD>>>16|eD<<16)|0,eS=eS>>>20|eS<<12,ek^=e_=e_+eE|0,eE^=eA=eA+(ek=ek>>>16|ek<<16)|0,eE=eE>>>20|eE<<12,eB^=ev=ev+ew|0,ew^=eI=eI+(eB=eB>>>16|eB<<16)|0,ew=ew>>>20|ew<<12,ek^=e_=e_+eE|0,eE^=eA=eA+(ek=ek>>>24|ek<<8)|0,eE=eE>>>25|eE<<7,eB^=ev=ev+ew|0,ew^=eI=eI+(eB=eB>>>24|eB<<8)|0,ew=ew>>>25|ew<<7,eD^=eb=eb+eS|0,eS^=eR=eR+(eD=eD>>>24|eD<<8)|0,eS=eS>>>25|eS<<7,eP^=ey=ey+ex|0,ex^=eT=eT+(eP=eP>>>24|eP<<8)|0,ex=ex>>>25|ex<<7;es.writeUint32LE(ey+1634760805|0,ee,0),es.writeUint32LE(eb+857760878|0,ee,4),es.writeUint32LE(e_+2036477234|0,ee,8),es.writeUint32LE(ev+1797285236|0,ee,12),es.writeUint32LE(ew+en|0,ee,16),es.writeUint32LE(ex+eo|0,ee,20),es.writeUint32LE(eS+ea|0,ee,24),es.writeUint32LE(eE+ec|0,ee,28),es.writeUint32LE(eA+el|0,ee,32),es.writeUint32LE(eI+eu|0,ee,36),es.writeUint32LE(eT+ed|0,ee,40),es.writeUint32LE(eR+eh|0,ee,44),es.writeUint32LE(eD+ep|0,ee,48),es.writeUint32LE(ek+ef|0,ee,52),es.writeUint32LE(eB+eg|0,ee,56),es.writeUint32LE(eP+em|0,ee,60)}(eu,ec,ee);for(var eh=ed;eh<ed+64&&eh<ei.length;eh++)eo[eh]=ei[eh]^eu[eh-ed];!function(ee,et,ei){for(var es=1;ei--;)es=es+(255&ee[et])|0,ee[et]=255&es,es>>>=8,et++;if(es>0)throw Error("ChaCha: counter overflow")}(ec,0,el)}return en.wipe(eu),0===ea&&en.wipe(ec),eo}et.streamXOR=streamXOR,et.stream=function(ee,et,ei,es){return void 0===es&&(es=0),en.wipe(ei),streamXOR(ee,et,ei,ei,es)}},15501:function(ee,et,ei){"use strict";var es=ei(99026),en=ei(63027),eo=ei(17309),ea=ei(98099),ec=ei(4153);et.Cv=32,et.WH=12,et.pg=16;var el=new Uint8Array(16),eu=function(){function ChaCha20Poly1305(ee){if(this.nonceLength=et.WH,this.tagLength=et.pg,ee.length!==et.Cv)throw Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(ee)}return ChaCha20Poly1305.prototype.seal=function(ee,et,ei,en){if(ee.length>16)throw Error("ChaCha20Poly1305: incorrect nonce length");var ea,ec=new Uint8Array(16);ec.set(ee,ec.length-ee.length);var el=new Uint8Array(32);es.stream(this._key,ec,el,4);var eu=et.length+this.tagLength;if(en){if(en.length!==eu)throw Error("ChaCha20Poly1305: incorrect destination length");ea=en}else ea=new Uint8Array(eu);return es.streamXOR(this._key,ec,et,ea,4),this._authenticate(ea.subarray(ea.length-this.tagLength,ea.length),el,ea.subarray(0,ea.length-this.tagLength),ei),eo.wipe(ec),ea},ChaCha20Poly1305.prototype.open=function(ee,et,ei,en){if(ee.length>16)throw Error("ChaCha20Poly1305: incorrect nonce length");if(et.length<this.tagLength)return null;var ea,el=new Uint8Array(16);el.set(ee,el.length-ee.length);var eu=new Uint8Array(32);es.stream(this._key,el,eu,4);var ed=new Uint8Array(this.tagLength);if(this._authenticate(ed,eu,et.subarray(0,et.length-this.tagLength),ei),!ec.equal(ed,et.subarray(et.length-this.tagLength,et.length)))return null;var eh=et.length-this.tagLength;if(en){if(en.length!==eh)throw Error("ChaCha20Poly1305: incorrect destination length");ea=en}else ea=new Uint8Array(eh);return es.streamXOR(this._key,el,et.subarray(0,et.length-this.tagLength),ea,4),eo.wipe(el),ea},ChaCha20Poly1305.prototype.clean=function(){return eo.wipe(this._key),this},ChaCha20Poly1305.prototype._authenticate=function(ee,et,ei,es){var ec=new en.Poly1305(et);es&&(ec.update(es),es.length%16>0&&ec.update(el.subarray(es.length%16))),ec.update(ei),ei.length%16>0&&ec.update(el.subarray(ei.length%16));var eu=new Uint8Array(8);es&&ea.writeUint64LE(es.length,eu),ec.update(eu),ea.writeUint64LE(ei.length,eu),ec.update(eu);for(var ed=ec.digest(),eh=0;eh<ed.length;eh++)ee[eh]=ed[eh];ec.clean(),eo.wipe(ed),eo.wipe(eu)},ChaCha20Poly1305}();et.OK=eu},4153:function(ee,et){"use strict";function compare(ee,et){if(ee.length!==et.length)return 0;for(var ei=0,es=0;es<ee.length;es++)ei|=ee[es]^et[es];return 1&ei-1>>>8}Object.defineProperty(et,"__esModule",{value:!0}),et.select=function(ee,et,ei){return~(ee-1)&et|ee-1&ei},et.lessOrEqual=function(ee,et){return(0|ee)-(0|et)-1>>>31&1},et.compare=compare,et.equal=function(ee,et){return 0!==ee.length&&0!==et.length&&0!==compare(ee,et)}},31050:function(ee,et,ei){"use strict";et.Xx=et._w=et.aP=et.KS=et.jQ=void 0,ei(31416);let es=ei(93350);function gf(ee){let et=new Float64Array(16);if(ee)for(let ei=0;ei<ee.length;ei++)et[ei]=ee[ei];return et}ei(17309),et.jQ=64,et.KS=64,et.aP=32;let en=new Uint8Array(32);en[0]=9;let eo=gf(),ea=gf([1]),ec=(gf([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),gf([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222])),el=gf([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),eu=gf([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]);function set25519(ee,et){for(let ei=0;ei<16;ei++)ee[ei]=0|et[ei]}function car25519(ee){let et=1;for(let ei=0;ei<16;ei++){let es=ee[ei]+et+65535;et=Math.floor(es/65536),ee[ei]=es-65536*et}ee[0]+=et-1+37*(et-1)}function sel25519(ee,et,ei){let es=~(ei-1);for(let ei=0;ei<16;ei++){let en=es&(ee[ei]^et[ei]);ee[ei]^=en,et[ei]^=en}}function pack25519(ee,et){let ei=gf(),es=gf();for(let ee=0;ee<16;ee++)es[ee]=et[ee];car25519(es),car25519(es),car25519(es);for(let ee=0;ee<2;ee++){ei[0]=es[0]-65517;for(let ee=1;ee<15;ee++)ei[ee]=es[ee]-65535-(ei[ee-1]>>16&1),ei[ee-1]&=65535;ei[15]=es[15]-32767-(ei[14]>>16&1);let ee=ei[15]>>16&1;ei[14]&=65535,sel25519(es,ei,1-ee)}for(let et=0;et<16;et++)ee[2*et]=255&es[et],ee[2*et+1]=es[et]>>8}gf([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function add(ee,et,ei){for(let es=0;es<16;es++)ee[es]=et[es]+ei[es]}function sub(ee,et,ei){for(let es=0;es<16;es++)ee[es]=et[es]-ei[es]}function mul(ee,et,ei){let es,en,eo=0,ea=0,ec=0,el=0,eu=0,ed=0,eh=0,ep=0,ef=0,eg=0,em=0,ey=0,eb=0,e_=0,ev=0,ew=0,ex=0,eS=0,eE=0,eA=0,eI=0,eT=0,eR=0,eD=0,ek=0,eB=0,eP=0,eO=0,eC=0,eU=0,eL=0,ej=ei[0],eN=ei[1],eM=ei[2],e$=ei[3],eF=ei[4],ez=ei[5],eK=ei[6],eH=ei[7],eV=ei[8],eW=ei[9],eJ=ei[10],eG=ei[11],eY=ei[12],eQ=ei[13],eZ=ei[14],eX=ei[15];eo+=(es=et[0])*ej,ea+=es*eN,ec+=es*eM,el+=es*e$,eu+=es*eF,ed+=es*ez,eh+=es*eK,ep+=es*eH,ef+=es*eV,eg+=es*eW,em+=es*eJ,ey+=es*eG,eb+=es*eY,e_+=es*eQ,ev+=es*eZ,ew+=es*eX,ea+=(es=et[1])*ej,ec+=es*eN,el+=es*eM,eu+=es*e$,ed+=es*eF,eh+=es*ez,ep+=es*eK,ef+=es*eH,eg+=es*eV,em+=es*eW,ey+=es*eJ,eb+=es*eG,e_+=es*eY,ev+=es*eQ,ew+=es*eZ,ex+=es*eX,ec+=(es=et[2])*ej,el+=es*eN,eu+=es*eM,ed+=es*e$,eh+=es*eF,ep+=es*ez,ef+=es*eK,eg+=es*eH,em+=es*eV,ey+=es*eW,eb+=es*eJ,e_+=es*eG,ev+=es*eY,ew+=es*eQ,ex+=es*eZ,eS+=es*eX,el+=(es=et[3])*ej,eu+=es*eN,ed+=es*eM,eh+=es*e$,ep+=es*eF,ef+=es*ez,eg+=es*eK,em+=es*eH,ey+=es*eV,eb+=es*eW,e_+=es*eJ,ev+=es*eG,ew+=es*eY,ex+=es*eQ,eS+=es*eZ,eE+=es*eX,eu+=(es=et[4])*ej,ed+=es*eN,eh+=es*eM,ep+=es*e$,ef+=es*eF,eg+=es*ez,em+=es*eK,ey+=es*eH,eb+=es*eV,e_+=es*eW,ev+=es*eJ,ew+=es*eG,ex+=es*eY,eS+=es*eQ,eE+=es*eZ,eA+=es*eX,ed+=(es=et[5])*ej,eh+=es*eN,ep+=es*eM,ef+=es*e$,eg+=es*eF,em+=es*ez,ey+=es*eK,eb+=es*eH,e_+=es*eV,ev+=es*eW,ew+=es*eJ,ex+=es*eG,eS+=es*eY,eE+=es*eQ,eA+=es*eZ,eI+=es*eX,eh+=(es=et[6])*ej,ep+=es*eN,ef+=es*eM,eg+=es*e$,em+=es*eF,ey+=es*ez,eb+=es*eK,e_+=es*eH,ev+=es*eV,ew+=es*eW,ex+=es*eJ,eS+=es*eG,eE+=es*eY,eA+=es*eQ,eI+=es*eZ,eT+=es*eX,ep+=(es=et[7])*ej,ef+=es*eN,eg+=es*eM,em+=es*e$,ey+=es*eF,eb+=es*ez,e_+=es*eK,ev+=es*eH,ew+=es*eV,ex+=es*eW,eS+=es*eJ,eE+=es*eG,eA+=es*eY,eI+=es*eQ,eT+=es*eZ,eR+=es*eX,ef+=(es=et[8])*ej,eg+=es*eN,em+=es*eM,ey+=es*e$,eb+=es*eF,e_+=es*ez,ev+=es*eK,ew+=es*eH,ex+=es*eV,eS+=es*eW,eE+=es*eJ,eA+=es*eG,eI+=es*eY,eT+=es*eQ,eR+=es*eZ,eD+=es*eX,eg+=(es=et[9])*ej,em+=es*eN,ey+=es*eM,eb+=es*e$,e_+=es*eF,ev+=es*ez,ew+=es*eK,ex+=es*eH,eS+=es*eV,eE+=es*eW,eA+=es*eJ,eI+=es*eG,eT+=es*eY,eR+=es*eQ,eD+=es*eZ,ek+=es*eX,em+=(es=et[10])*ej,ey+=es*eN,eb+=es*eM,e_+=es*e$,ev+=es*eF,ew+=es*ez,ex+=es*eK,eS+=es*eH,eE+=es*eV,eA+=es*eW,eI+=es*eJ,eT+=es*eG,eR+=es*eY,eD+=es*eQ,ek+=es*eZ,eB+=es*eX,ey+=(es=et[11])*ej,eb+=es*eN,e_+=es*eM,ev+=es*e$,ew+=es*eF,ex+=es*ez,eS+=es*eK,eE+=es*eH,eA+=es*eV,eI+=es*eW,eT+=es*eJ,eR+=es*eG,eD+=es*eY,ek+=es*eQ,eB+=es*eZ,eP+=es*eX,eb+=(es=et[12])*ej,e_+=es*eN,ev+=es*eM,ew+=es*e$,ex+=es*eF,eS+=es*ez,eE+=es*eK,eA+=es*eH,eI+=es*eV,eT+=es*eW,eR+=es*eJ,eD+=es*eG,ek+=es*eY,eB+=es*eQ,eP+=es*eZ,eO+=es*eX,e_+=(es=et[13])*ej,ev+=es*eN,ew+=es*eM,ex+=es*e$,eS+=es*eF,eE+=es*ez,eA+=es*eK,eI+=es*eH,eT+=es*eV,eR+=es*eW,eD+=es*eJ,ek+=es*eG,eB+=es*eY,eP+=es*eQ,eO+=es*eZ,eC+=es*eX,ev+=(es=et[14])*ej,ew+=es*eN,ex+=es*eM,eS+=es*e$,eE+=es*eF,eA+=es*ez,eI+=es*eK,eT+=es*eH,eR+=es*eV,eD+=es*eW,ek+=es*eJ,eB+=es*eG,eP+=es*eY,eO+=es*eQ,eC+=es*eZ,eU+=es*eX,ew+=(es=et[15])*ej,ex+=es*eN,eS+=es*eM,eE+=es*e$,eA+=es*eF,eI+=es*ez,eT+=es*eK,eR+=es*eH,eD+=es*eV,ek+=es*eW,eB+=es*eJ,eP+=es*eG,eO+=es*eY,eC+=es*eQ,eU+=es*eZ,eL+=es*eX,eo+=38*ex,ea+=38*eS,ec+=38*eE,el+=38*eA,eu+=38*eI,ed+=38*eT,eh+=38*eR,ep+=38*eD,ef+=38*ek,eg+=38*eB,em+=38*eP,ey+=38*eO,eb+=38*eC,e_+=38*eU,ev+=38*eL,en=Math.floor((es=eo+(en=1)+65535)/65536),eo=es-65536*en,en=Math.floor((es=ea+en+65535)/65536),ea=es-65536*en,en=Math.floor((es=ec+en+65535)/65536),ec=es-65536*en,en=Math.floor((es=el+en+65535)/65536),el=es-65536*en,en=Math.floor((es=eu+en+65535)/65536),eu=es-65536*en,en=Math.floor((es=ed+en+65535)/65536),ed=es-65536*en,en=Math.floor((es=eh+en+65535)/65536),eh=es-65536*en,en=Math.floor((es=ep+en+65535)/65536),ep=es-65536*en,en=Math.floor((es=ef+en+65535)/65536),ef=es-65536*en,en=Math.floor((es=eg+en+65535)/65536),eg=es-65536*en,en=Math.floor((es=em+en+65535)/65536),em=es-65536*en,en=Math.floor((es=ey+en+65535)/65536),ey=es-65536*en,en=Math.floor((es=eb+en+65535)/65536),eb=es-65536*en,en=Math.floor((es=e_+en+65535)/65536),e_=es-65536*en,en=Math.floor((es=ev+en+65535)/65536),ev=es-65536*en,en=Math.floor((es=ew+en+65535)/65536),ew=es-65536*en,eo+=en-1+37*(en-1),en=Math.floor((es=eo+(en=1)+65535)/65536),eo=es-65536*en,en=Math.floor((es=ea+en+65535)/65536),ea=es-65536*en,en=Math.floor((es=ec+en+65535)/65536),ec=es-65536*en,en=Math.floor((es=el+en+65535)/65536),el=es-65536*en,en=Math.floor((es=eu+en+65535)/65536),eu=es-65536*en,en=Math.floor((es=ed+en+65535)/65536),ed=es-65536*en,en=Math.floor((es=eh+en+65535)/65536),eh=es-65536*en,en=Math.floor((es=ep+en+65535)/65536),ep=es-65536*en,en=Math.floor((es=ef+en+65535)/65536),ef=es-65536*en,en=Math.floor((es=eg+en+65535)/65536),eg=es-65536*en,en=Math.floor((es=em+en+65535)/65536),em=es-65536*en,en=Math.floor((es=ey+en+65535)/65536),ey=es-65536*en,en=Math.floor((es=eb+en+65535)/65536),eb=es-65536*en,en=Math.floor((es=e_+en+65535)/65536),e_=es-65536*en,en=Math.floor((es=ev+en+65535)/65536),ev=es-65536*en,en=Math.floor((es=ew+en+65535)/65536),ew=es-65536*en,eo+=en-1+37*(en-1),ee[0]=eo,ee[1]=ea,ee[2]=ec,ee[3]=el,ee[4]=eu,ee[5]=ed,ee[6]=eh,ee[7]=ep,ee[8]=ef,ee[9]=eg,ee[10]=em,ee[11]=ey,ee[12]=eb,ee[13]=e_,ee[14]=ev,ee[15]=ew}function edadd(ee,et){let ei=gf(),es=gf(),en=gf(),eo=gf(),ea=gf(),el=gf(),eu=gf(),ed=gf(),eh=gf();sub(ei,ee[1],ee[0]),sub(eh,et[1],et[0]),mul(ei,ei,eh),add(es,ee[0],ee[1]),add(eh,et[0],et[1]),mul(es,es,eh),mul(en,ee[3],et[3]),mul(en,en,ec),mul(eo,ee[2],et[2]),add(eo,eo,eo),sub(ea,es,ei),sub(el,eo,en),add(eu,eo,en),add(ed,es,ei),mul(ee[0],ea,el),mul(ee[1],ed,eu),mul(ee[2],eu,el),mul(ee[3],ea,ed)}function cswap(ee,et,ei){for(let es=0;es<4;es++)sel25519(ee[es],et[es],ei)}function pack(ee,et){let ei=gf(),es=gf(),en=gf();(function(ee,et){let ei;let es=gf();for(ei=0;ei<16;ei++)es[ei]=et[ei];for(ei=253;ei>=0;ei--)mul(es,es,es),2!==ei&&4!==ei&&mul(es,es,et);for(ei=0;ei<16;ei++)ee[ei]=es[ei]})(en,et[2]),mul(ei,et[0],en),mul(es,et[1],en),pack25519(ee,es),ee[31]^=function(ee){let et=new Uint8Array(32);return pack25519(et,ee),1&et[0]}(ei)<<7}function scalarbase(ee,et){let ei=[gf(),gf(),gf(),gf()];set25519(ei[0],el),set25519(ei[1],eu),set25519(ei[2],ea),mul(ei[3],el,eu),function(ee,et,ei){set25519(ee[0],eo),set25519(ee[1],ea),set25519(ee[2],ea),set25519(ee[3],eo);for(let es=255;es>=0;--es){let en=ei[es/8|0]>>(7&es)&1;cswap(ee,et,en),edadd(et,ee),edadd(ee,ee),cswap(ee,et,en)}}(ee,ei,et)}et._w=function(ee){if(ee.length!==et.aP)throw Error(`ed25519: seed must be ${et.aP} bytes`);let ei=(0,es.hash)(ee);ei[0]&=248,ei[31]&=127,ei[31]|=64;let en=new Uint8Array(32),eo=[gf(),gf(),gf(),gf()];scalarbase(eo,ei),pack(en,eo);let ea=new Uint8Array(64);return ea.set(ee),ea.set(en,32),{publicKey:en,secretKey:ea}};let ed=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function modL(ee,et){let ei,es,en,eo;for(es=63;es>=32;--es){for(ei=0,en=es-32,eo=es-12;en<eo;++en)et[en]+=ei-16*et[es]*ed[en-(es-32)],ei=Math.floor((et[en]+128)/256),et[en]-=256*ei;et[en]+=ei,et[es]=0}for(en=0,ei=0;en<32;en++)et[en]+=ei-(et[31]>>4)*ed[en],ei=et[en]>>8,et[en]&=255;for(en=0;en<32;en++)et[en]-=ei*ed[en];for(es=0;es<32;es++)et[es+1]+=et[es]>>8,ee[es]=255&et[es]}function reduce(ee){let et=new Float64Array(64);for(let ei=0;ei<64;ei++)et[ei]=ee[ei];for(let et=0;et<64;et++)ee[et]=0;modL(ee,et)}et.Xx=function(ee,et){let ei=new Float64Array(64),en=[gf(),gf(),gf(),gf()],eo=(0,es.hash)(ee.subarray(0,32));eo[0]&=248,eo[31]&=127,eo[31]|=64;let ea=new Uint8Array(64);ea.set(eo.subarray(32),32);let ec=new es.SHA512;ec.update(ea.subarray(32)),ec.update(et);let el=ec.digest();ec.clean(),reduce(el),scalarbase(en,el),pack(ea,en),ec.reset(),ec.update(ea.subarray(0,32)),ec.update(ee.subarray(32)),ec.update(et);let eu=ec.digest();reduce(eu);for(let ee=0;ee<32;ee++)ei[ee]=el[ee];for(let ee=0;ee<32;ee++)for(let et=0;et<32;et++)ei[ee+et]+=eu[ee]*eo[et];return modL(ea.subarray(32),ei),ea}},79984:function(ee,et){"use strict";Object.defineProperty(et,"__esModule",{value:!0}),et.isSerializableHash=function(ee){return void 0!==ee.saveState&&void 0!==ee.restoreState&&void 0!==ee.cleanSavedState}},9328:function(ee,et,ei){"use strict";var es=ei(25629),en=ei(17309),eo=function(){function HKDF(ee,et,ei,en){void 0===ei&&(ei=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=ee,this._info=en;var eo=es.hmac(this._hash,ei,et);this._hmac=new es.HMAC(ee,eo),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return HKDF.prototype._fillBuffer=function(){this._counter[0]++;var ee=this._counter[0];if(0===ee)throw Error("hkdf: cannot expand more");this._hmac.reset(),ee>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},HKDF.prototype.expand=function(ee){for(var et=new Uint8Array(ee),ei=0;ei<et.length;ei++)this._bufpos===this._buffer.length&&this._fillBuffer(),et[ei]=this._buffer[this._bufpos++];return et},HKDF.prototype.clean=function(){this._hmac.clean(),en.wipe(this._buffer),en.wipe(this._counter),this._bufpos=0},HKDF}();et.t=eo},25629:function(ee,et,ei){"use strict";Object.defineProperty(et,"__esModule",{value:!0});var es=ei(79984),en=ei(4153),eo=ei(17309),ea=function(){function HMAC(ee,et){this._finished=!1,this._inner=new ee,this._outer=new ee,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var ei=new Uint8Array(this.blockSize);et.length>this.blockSize?this._inner.update(et).finish(ei).clean():ei.set(et);for(var en=0;en<ei.length;en++)ei[en]^=54;this._inner.update(ei);for(var en=0;en<ei.length;en++)ei[en]^=106;this._outer.update(ei),es.isSerializableHash(this._inner)&&es.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),eo.wipe(ei)}return HMAC.prototype.reset=function(){if(!es.isSerializableHash(this._inner)||!es.isSerializableHash(this._outer))throw Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},HMAC.prototype.clean=function(){es.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),es.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},HMAC.prototype.update=function(ee){return this._inner.update(ee),this},HMAC.prototype.finish=function(ee){return this._finished?this._outer.finish(ee):(this._inner.finish(ee),this._outer.update(ee.subarray(0,this.digestLength)).finish(ee),this._finished=!0),this},HMAC.prototype.digest=function(){var ee=new Uint8Array(this.digestLength);return this.finish(ee),ee},HMAC.prototype.saveState=function(){if(!es.isSerializableHash(this._inner))throw Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},HMAC.prototype.restoreState=function(ee){if(!es.isSerializableHash(this._inner)||!es.isSerializableHash(this._outer))throw Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(ee),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},HMAC.prototype.cleanSavedState=function(ee){if(!es.isSerializableHash(this._inner))throw Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(ee)},HMAC}();et.HMAC=ea,et.hmac=function(ee,et,ei){var es=new ea(ee,et);es.update(ei);var en=es.digest();return es.clean(),en},et.equal=en.equal},97117:function(ee,et){"use strict";Object.defineProperty(et,"__esModule",{value:!0}),et.mul=Math.imul||function(ee,et){var ei=65535&ee,es=65535&et;return ei*es+((ee>>>16&65535)*es+ei*(et>>>16&65535)<<16>>>0)|0},et.add=function(ee,et){return ee+et|0},et.sub=function(ee,et){return ee-et|0},et.rotl=function(ee,et){return ee<<et|ee>>>32-et},et.rotr=function(ee,et){return ee<<32-et|ee>>>et},et.isInteger=Number.isInteger||function(ee){return"number"==typeof ee&&isFinite(ee)&&Math.floor(ee)===ee},et.MAX_SAFE_INTEGER=9007199254740991,et.isSafeInteger=function(ee){return et.isInteger(ee)&&ee>=-et.MAX_SAFE_INTEGER&&ee<=et.MAX_SAFE_INTEGER}},63027:function(ee,et,ei){"use strict";Object.defineProperty(et,"__esModule",{value:!0});var es=ei(4153),en=ei(17309);et.DIGEST_LENGTH=16;var eo=function(){function Poly1305(ee){this.digestLength=et.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var ei=ee[0]|ee[1]<<8;this._r[0]=8191&ei;var es=ee[2]|ee[3]<<8;this._r[1]=(ei>>>13|es<<3)&8191;var en=ee[4]|ee[5]<<8;this._r[2]=(es>>>10|en<<6)&7939;var eo=ee[6]|ee[7]<<8;this._r[3]=(en>>>7|eo<<9)&8191;var ea=ee[8]|ee[9]<<8;this._r[4]=(eo>>>4|ea<<12)&255,this._r[5]=ea>>>1&8190;var ec=ee[10]|ee[11]<<8;this._r[6]=(ea>>>14|ec<<2)&8191;var el=ee[12]|ee[13]<<8;this._r[7]=(ec>>>11|el<<5)&8065;var eu=ee[14]|ee[15]<<8;this._r[8]=(el>>>8|eu<<8)&8191,this._r[9]=eu>>>5&127,this._pad[0]=ee[16]|ee[17]<<8,this._pad[1]=ee[18]|ee[19]<<8,this._pad[2]=ee[20]|ee[21]<<8,this._pad[3]=ee[22]|ee[23]<<8,this._pad[4]=ee[24]|ee[25]<<8,this._pad[5]=ee[26]|ee[27]<<8,this._pad[6]=ee[28]|ee[29]<<8,this._pad[7]=ee[30]|ee[31]<<8}return Poly1305.prototype._blocks=function(ee,et,ei){for(var es=this._fin?0:2048,en=this._h[0],eo=this._h[1],ea=this._h[2],ec=this._h[3],el=this._h[4],eu=this._h[5],ed=this._h[6],eh=this._h[7],ep=this._h[8],ef=this._h[9],eg=this._r[0],em=this._r[1],ey=this._r[2],eb=this._r[3],e_=this._r[4],ev=this._r[5],ew=this._r[6],ex=this._r[7],eS=this._r[8],eE=this._r[9];ei>=16;){var eA,eI=ee[et+0]|ee[et+1]<<8;en+=8191&eI;var eT=ee[et+2]|ee[et+3]<<8;eo+=(eI>>>13|eT<<3)&8191;var eR=ee[et+4]|ee[et+5]<<8;ea+=(eT>>>10|eR<<6)&8191;var eD=ee[et+6]|ee[et+7]<<8;ec+=(eR>>>7|eD<<9)&8191;var ek=ee[et+8]|ee[et+9]<<8;el+=(eD>>>4|ek<<12)&8191,eu+=ek>>>1&8191;var eB=ee[et+10]|ee[et+11]<<8;ed+=(ek>>>14|eB<<2)&8191;var eP=ee[et+12]|ee[et+13]<<8;eh+=(eB>>>11|eP<<5)&8191;var eO=ee[et+14]|ee[et+15]<<8;ep+=(eP>>>8|eO<<8)&8191,ef+=eO>>>5|es;var eC=0;eC=(eA=0+en*eg+eo*(5*eE)+ea*(5*eS)+ec*(5*ex)+el*(5*ew))>>>13,eA&=8191,eA+=eu*(5*ev)+ed*(5*e_)+eh*(5*eb)+ep*(5*ey)+ef*(5*em),eC+=eA>>>13,eA&=8191;var eU=eC;eU+=en*em+eo*eg+ea*(5*eE)+ec*(5*eS)+el*(5*ex),eC=eU>>>13,eU&=8191,eU+=eu*(5*ew)+ed*(5*ev)+eh*(5*e_)+ep*(5*eb)+ef*(5*ey),eC+=eU>>>13,eU&=8191;var eL=eC;eL+=en*ey+eo*em+ea*eg+ec*(5*eE)+el*(5*eS),eC=eL>>>13,eL&=8191,eL+=eu*(5*ex)+ed*(5*ew)+eh*(5*ev)+ep*(5*e_)+ef*(5*eb),eC+=eL>>>13,eL&=8191;var ej=eC;ej+=en*eb+eo*ey+ea*em+ec*eg+el*(5*eE),eC=ej>>>13,ej&=8191,ej+=eu*(5*eS)+ed*(5*ex)+eh*(5*ew)+ep*(5*ev)+ef*(5*e_),eC+=ej>>>13,ej&=8191;var eN=eC;eN+=en*e_+eo*eb+ea*ey+ec*em+el*eg,eC=eN>>>13,eN&=8191,eN+=eu*(5*eE)+ed*(5*eS)+eh*(5*ex)+ep*(5*ew)+ef*(5*ev),eC+=eN>>>13,eN&=8191;var eM=eC;eM+=en*ev+eo*e_+ea*eb+ec*ey+el*em,eC=eM>>>13,eM&=8191,eM+=eu*eg+ed*(5*eE)+eh*(5*eS)+ep*(5*ex)+ef*(5*ew),eC+=eM>>>13,eM&=8191;var e$=eC;e$+=en*ew+eo*ev+ea*e_+ec*eb+el*ey,eC=e$>>>13,e$&=8191,e$+=eu*em+ed*eg+eh*(5*eE)+ep*(5*eS)+ef*(5*ex),eC+=e$>>>13,e$&=8191;var eF=eC;eF+=en*ex+eo*ew+ea*ev+ec*e_+el*eb,eC=eF>>>13,eF&=8191,eF+=eu*ey+ed*em+eh*eg+ep*(5*eE)+ef*(5*eS),eC+=eF>>>13,eF&=8191;var ez=eC;ez+=en*eS+eo*ex+ea*ew+ec*ev+el*e_,eC=ez>>>13,ez&=8191,ez+=eu*eb+ed*ey+eh*em+ep*eg+ef*(5*eE),eC+=ez>>>13,ez&=8191;var eK=eC;eK+=en*eE+eo*eS+ea*ex+ec*ew+el*ev,eC=eK>>>13,eK&=8191,eK+=eu*e_+ed*eb+eh*ey+ep*em+ef*eg,eC+=eK>>>13,eK&=8191,eA=8191&(eC=(eC=(eC<<2)+eC|0)+eA|0),eC>>>=13,eU+=eC,en=eA,eo=eU,ea=eL,ec=ej,el=eN,eu=eM,ed=e$,eh=eF,ep=ez,ef=eK,et+=16,ei-=16}this._h[0]=en,this._h[1]=eo,this._h[2]=ea,this._h[3]=ec,this._h[4]=el,this._h[5]=eu,this._h[6]=ed,this._h[7]=eh,this._h[8]=ep,this._h[9]=ef},Poly1305.prototype.finish=function(ee,et){void 0===et&&(et=0);var ei,es,en,eo,ea=new Uint16Array(10);if(this._leftover){for(eo=this._leftover,this._buffer[eo++]=1;eo<16;eo++)this._buffer[eo]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(ei=this._h[1]>>>13,this._h[1]&=8191,eo=2;eo<10;eo++)this._h[eo]+=ei,ei=this._h[eo]>>>13,this._h[eo]&=8191;for(this._h[0]+=5*ei,ei=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=ei,ei=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=ei,ea[0]=this._h[0]+5,ei=ea[0]>>>13,ea[0]&=8191,eo=1;eo<10;eo++)ea[eo]=this._h[eo]+ei,ei=ea[eo]>>>13,ea[eo]&=8191;for(ea[9]-=8192,es=(1^ei)-1,eo=0;eo<10;eo++)ea[eo]&=es;for(eo=0,es=~es;eo<10;eo++)this._h[eo]=this._h[eo]&es|ea[eo];for(eo=1,this._h[0]=(this._h[0]|this._h[1]<<13)&65535,this._h[1]=(this._h[1]>>>3|this._h[2]<<10)&65535,this._h[2]=(this._h[2]>>>6|this._h[3]<<7)&65535,this._h[3]=(this._h[3]>>>9|this._h[4]<<4)&65535,this._h[4]=(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14)&65535,this._h[5]=(this._h[6]>>>2|this._h[7]<<11)&65535,this._h[6]=(this._h[7]>>>5|this._h[8]<<8)&65535,this._h[7]=(this._h[8]>>>8|this._h[9]<<5)&65535,en=this._h[0]+this._pad[0],this._h[0]=65535&en;eo<8;eo++)en=(this._h[eo]+this._pad[eo]|0)+(en>>>16)|0,this._h[eo]=65535&en;return ee[et+0]=this._h[0]>>>0,ee[et+1]=this._h[0]>>>8,ee[et+2]=this._h[1]>>>0,ee[et+3]=this._h[1]>>>8,ee[et+4]=this._h[2]>>>0,ee[et+5]=this._h[2]>>>8,ee[et+6]=this._h[3]>>>0,ee[et+7]=this._h[3]>>>8,ee[et+8]=this._h[4]>>>0,ee[et+9]=this._h[4]>>>8,ee[et+10]=this._h[5]>>>0,ee[et+11]=this._h[5]>>>8,ee[et+12]=this._h[6]>>>0,ee[et+13]=this._h[6]>>>8,ee[et+14]=this._h[7]>>>0,ee[et+15]=this._h[7]>>>8,this._finished=!0,this},Poly1305.prototype.update=function(ee){var et,ei=0,es=ee.length;if(this._leftover){(et=16-this._leftover)>es&&(et=es);for(var en=0;en<et;en++)this._buffer[this._leftover+en]=ee[ei+en];if(es-=et,ei+=et,this._leftover+=et,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(es>=16&&(et=es-es%16,this._blocks(ee,ei,et),ei+=et,es-=et),es){for(var en=0;en<es;en++)this._buffer[this._leftover+en]=ee[ei+en];this._leftover+=es}return this},Poly1305.prototype.digest=function(){if(this._finished)throw Error("Poly1305 was finished");var ee=new Uint8Array(16);return this.finish(ee),ee},Poly1305.prototype.clean=function(){return en.wipe(this._buffer),en.wipe(this._r),en.wipe(this._h),en.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},Poly1305}();et.Poly1305=eo,et.oneTimeAuth=function(ee,et){var ei=new eo(ee);ei.update(et);var es=ei.digest();return ei.clean(),es},et.equal=function(ee,ei){return ee.length===et.DIGEST_LENGTH&&ei.length===et.DIGEST_LENGTH&&es.equal(ee,ei)}},31416:function(ee,et,ei){"use strict";Object.defineProperty(et,"__esModule",{value:!0}),et.randomStringForEntropy=et.randomString=et.randomUint32=et.randomBytes=et.defaultRandomSource=void 0;let es=ei(46008),en=ei(98099),eo=ei(17309);function randomBytes(ee,ei=et.defaultRandomSource){return ei.randomBytes(ee)}et.defaultRandomSource=new es.SystemRandomSource,et.randomBytes=randomBytes,et.randomUint32=function(ee=et.defaultRandomSource){let ei=randomBytes(4,ee),es=(0,en.readUint32LE)(ei);return(0,eo.wipe)(ei),es};let ea="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function randomString(ee,ei=ea,es=et.defaultRandomSource){if(ei.length<2)throw Error("randomString charset is too short");if(ei.length>256)throw Error("randomString charset is too long");let en="",ec=ei.length,el=256-256%ec;for(;ee>0;){let et=randomBytes(Math.ceil(256*ee/el),es);for(let es=0;es<et.length&&ee>0;es++){let eo=et[es];eo<el&&(en+=ei.charAt(eo%ec),ee--)}(0,eo.wipe)(et)}return en}et.randomString=randomString,et.randomStringForEntropy=function(ee,ei=ea,es=et.defaultRandomSource){let en=Math.ceil(ee/(Math.log(ei.length)/Math.LN2));return randomString(en,ei,es)}},75455:function(ee,et){"use strict";Object.defineProperty(et,"__esModule",{value:!0}),et.BrowserRandomSource=void 0,et.BrowserRandomSource=class{constructor(){this.isAvailable=!1,this.isInstantiated=!1;let ee="undefined"!=typeof self?self.crypto||self.msCrypto:null;ee&&void 0!==ee.getRandomValues&&(this._crypto=ee,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(ee){if(!this.isAvailable||!this._crypto)throw Error("Browser random byte generator is not available.");let et=new Uint8Array(ee);for(let ee=0;ee<et.length;ee+=65536)this._crypto.getRandomValues(et.subarray(ee,ee+Math.min(et.length-ee,65536)));return et}}},58871:function(ee,et,ei){"use strict";Object.defineProperty(et,"__esModule",{value:!0}),et.NodeRandomSource=void 0;let es=ei(17309);et.NodeRandomSource=class{constructor(){this.isAvailable=!1,this.isInstantiated=!1;{let ee=ei(35883);ee&&ee.randomBytes&&(this._crypto=ee,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(ee){if(!this.isAvailable||!this._crypto)throw Error("Node.js random byte generator is not available.");let et=this._crypto.randomBytes(ee);if(et.length!==ee)throw Error("NodeRandomSource: got fewer bytes than requested");let ei=new Uint8Array(ee);for(let ee=0;ee<ei.length;ee++)ei[ee]=et[ee];return(0,es.wipe)(et),ei}}},46008:function(ee,et,ei){"use strict";Object.defineProperty(et,"__esModule",{value:!0}),et.SystemRandomSource=void 0;let es=ei(75455),en=ei(58871);et.SystemRandomSource=class{constructor(){if(this.isAvailable=!1,this.name="",this._source=new es.BrowserRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Browser";return}if(this._source=new en.NodeRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Node";return}}randomBytes(ee){if(!this.isAvailable)throw Error("System random byte generator is not available.");return this._source.randomBytes(ee)}}},73294:function(ee,et,ei){"use strict";var es=ei(98099),en=ei(17309);et.k=32,et.cn=64;var eo=function(){function SHA256(){this.digestLength=et.k,this.blockSize=et.cn,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return SHA256.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},SHA256.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},SHA256.prototype.clean=function(){en.wipe(this._buffer),en.wipe(this._temp),this.reset()},SHA256.prototype.update=function(ee,et){if(void 0===et&&(et=ee.length),this._finished)throw Error("SHA256: can't update because hash was finished.");var ei=0;if(this._bytesHashed+=et,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&et>0;)this._buffer[this._bufferLength++]=ee[ei++],et--;this._bufferLength===this.blockSize&&(hashBlocks(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(et>=this.blockSize&&(ei=hashBlocks(this._temp,this._state,ee,ei,et),et%=this.blockSize);et>0;)this._buffer[this._bufferLength++]=ee[ei++],et--;return this},SHA256.prototype.finish=function(ee){if(!this._finished){var et=this._bytesHashed,ei=this._bufferLength,en=et%64<56?64:128;this._buffer[ei]=128;for(var eo=ei+1;eo<en-8;eo++)this._buffer[eo]=0;es.writeUint32BE(et/536870912|0,this._buffer,en-8),es.writeUint32BE(et<<3,this._buffer,en-4),hashBlocks(this._temp,this._state,this._buffer,0,en),this._finished=!0}for(var eo=0;eo<this.digestLength/4;eo++)es.writeUint32BE(this._state[eo],ee,4*eo);return this},SHA256.prototype.digest=function(){var ee=new Uint8Array(this.digestLength);return this.finish(ee),ee},SHA256.prototype.saveState=function(){if(this._finished)throw Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},SHA256.prototype.restoreState=function(ee){return this._state.set(ee.state),this._bufferLength=ee.bufferLength,ee.buffer&&this._buffer.set(ee.buffer),this._bytesHashed=ee.bytesHashed,this._finished=!1,this},SHA256.prototype.cleanSavedState=function(ee){en.wipe(ee.state),ee.buffer&&en.wipe(ee.buffer),ee.bufferLength=0,ee.bytesHashed=0},SHA256}();et.mE=eo;var ea=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function hashBlocks(ee,et,ei,en,eo){for(;eo>=64;){for(var ec=et[0],el=et[1],eu=et[2],ed=et[3],eh=et[4],ep=et[5],ef=et[6],eg=et[7],em=0;em<16;em++){var ey=en+4*em;ee[em]=es.readUint32BE(ei,ey)}for(var em=16;em<64;em++){var eb=ee[em-2],e_=(eb>>>17|eb<<15)^(eb>>>19|eb<<13)^eb>>>10,ev=((eb=ee[em-15])>>>7|eb<<25)^(eb>>>18|eb<<14)^eb>>>3;ee[em]=(e_+ee[em-7]|0)+(ev+ee[em-16]|0)}for(var em=0;em<64;em++){var e_=(((eh>>>6|eh<<26)^(eh>>>11|eh<<21)^(eh>>>25|eh<<7))+(eh&ep^~eh&ef)|0)+(eg+(ea[em]+ee[em]|0)|0)|0,ev=((ec>>>2|ec<<30)^(ec>>>13|ec<<19)^(ec>>>22|ec<<10))+(ec&el^ec&eu^el&eu)|0;eg=ef,ef=ep,ep=eh,eh=ed+e_|0,ed=eu,eu=el,el=ec,ec=e_+ev|0}et[0]+=ec,et[1]+=el,et[2]+=eu,et[3]+=ed,et[4]+=eh,et[5]+=ep,et[6]+=ef,et[7]+=eg,en+=64,eo-=64}return en}et.vp=function(ee){var et=new eo;et.update(ee);var ei=et.digest();return et.clean(),ei}},93350:function(ee,et,ei){"use strict";Object.defineProperty(et,"__esModule",{value:!0});var es=ei(98099),en=ei(17309);et.DIGEST_LENGTH=64,et.BLOCK_SIZE=128;var eo=function(){function SHA512(){this.digestLength=et.DIGEST_LENGTH,this.blockSize=et.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return SHA512.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},SHA512.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},SHA512.prototype.clean=function(){en.wipe(this._buffer),en.wipe(this._tempHi),en.wipe(this._tempLo),this.reset()},SHA512.prototype.update=function(ee,ei){if(void 0===ei&&(ei=ee.length),this._finished)throw Error("SHA512: can't update because hash was finished.");var es=0;if(this._bytesHashed+=ei,this._bufferLength>0){for(;this._bufferLength<et.BLOCK_SIZE&&ei>0;)this._buffer[this._bufferLength++]=ee[es++],ei--;this._bufferLength===this.blockSize&&(hashBlocks(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(ei>=this.blockSize&&(es=hashBlocks(this._tempHi,this._tempLo,this._stateHi,this._stateLo,ee,es,ei),ei%=this.blockSize);ei>0;)this._buffer[this._bufferLength++]=ee[es++],ei--;return this},SHA512.prototype.finish=function(ee){if(!this._finished){var et=this._bytesHashed,ei=this._bufferLength,en=et%128<112?128:256;this._buffer[ei]=128;for(var eo=ei+1;eo<en-8;eo++)this._buffer[eo]=0;es.writeUint32BE(et/536870912|0,this._buffer,en-8),es.writeUint32BE(et<<3,this._buffer,en-4),hashBlocks(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,en),this._finished=!0}for(var eo=0;eo<this.digestLength/8;eo++)es.writeUint32BE(this._stateHi[eo],ee,8*eo),es.writeUint32BE(this._stateLo[eo],ee,8*eo+4);return this},SHA512.prototype.digest=function(){var ee=new Uint8Array(this.digestLength);return this.finish(ee),ee},SHA512.prototype.saveState=function(){if(this._finished)throw Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},SHA512.prototype.restoreState=function(ee){return this._stateHi.set(ee.stateHi),this._stateLo.set(ee.stateLo),this._bufferLength=ee.bufferLength,ee.buffer&&this._buffer.set(ee.buffer),this._bytesHashed=ee.bytesHashed,this._finished=!1,this},SHA512.prototype.cleanSavedState=function(ee){en.wipe(ee.stateHi),en.wipe(ee.stateLo),ee.buffer&&en.wipe(ee.buffer),ee.bufferLength=0,ee.bytesHashed=0},SHA512}();et.SHA512=eo;var ea=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function hashBlocks(ee,et,ei,en,eo,ec,el){for(var eu,ed,eh,ep,ef,eg,em,ey,eb=ei[0],e_=ei[1],ev=ei[2],ew=ei[3],ex=ei[4],eS=ei[5],eE=ei[6],eA=ei[7],eI=en[0],eT=en[1],eR=en[2],eD=en[3],ek=en[4],eB=en[5],eP=en[6],eO=en[7];el>=128;){for(var eC=0;eC<16;eC++){var eU=8*eC+ec;ee[eC]=es.readUint32BE(eo,eU),et[eC]=es.readUint32BE(eo,eU+4)}for(var eC=0;eC<80;eC++){var eL=eb,ej=e_,eN=ev,eM=ew,e$=ex,eF=eS,ez=eE,eK=eA,eH=eI,eV=eT,eW=eR,eJ=eD,eG=ek,eY=eB,eQ=eP,eZ=eO;if(eu=eA,ef=65535&(ed=eO),eg=ed>>>16,em=65535&eu,ey=eu>>>16,eu=(ex>>>14|ek<<18)^(ex>>>18|ek<<14)^(ek>>>9|ex<<23),ef+=65535&(ed=(ek>>>14|ex<<18)^(ek>>>18|ex<<14)^(ex>>>9|ek<<23)),eg+=ed>>>16,em+=65535&eu,ey+=eu>>>16,eu=ex&eS^~ex&eE,ef+=65535&(ed=ek&eB^~ek&eP),eg+=ed>>>16,em+=65535&eu,ey+=eu>>>16,eu=ea[2*eC],ef+=65535&(ed=ea[2*eC+1]),eg+=ed>>>16,em+=65535&eu,ey+=eu>>>16,eu=ee[eC%16],ef+=65535&(ed=et[eC%16]),eg+=ed>>>16,em+=65535&eu,ey+=eu>>>16,eg+=ef>>>16,em+=eg>>>16,ey+=em>>>16,eh=65535&em|ey<<16,ep=65535&ef|eg<<16,eu=eh,ef=65535&(ed=ep),eg=ed>>>16,em=65535&eu,ey=eu>>>16,eu=(eb>>>28|eI<<4)^(eI>>>2|eb<<30)^(eI>>>7|eb<<25),ef+=65535&(ed=(eI>>>28|eb<<4)^(eb>>>2|eI<<30)^(eb>>>7|eI<<25)),eg+=ed>>>16,em+=65535&eu,ey+=eu>>>16,eu=eb&e_^eb&ev^e_&ev,ef+=65535&(ed=eI&eT^eI&eR^eT&eR),eg+=ed>>>16,em+=65535&eu,ey+=eu>>>16,eg+=ef>>>16,em+=eg>>>16,ey+=em>>>16,eK=65535&em|ey<<16,eZ=65535&ef|eg<<16,eu=eM,ef=65535&(ed=eJ),eg=ed>>>16,em=65535&eu,ey=eu>>>16,eu=eh,ef+=65535&(ed=ep),eg+=ed>>>16,em+=65535&eu,ey+=eu>>>16,eg+=ef>>>16,em+=eg>>>16,ey+=em>>>16,eM=65535&em|ey<<16,eJ=65535&ef|eg<<16,e_=eL,ev=ej,ew=eN,ex=eM,eS=e$,eE=eF,eA=ez,eb=eK,eT=eH,eR=eV,eD=eW,ek=eJ,eB=eG,eP=eY,eO=eQ,eI=eZ,eC%16==15)for(var eU=0;eU<16;eU++)eu=ee[eU],ef=65535&(ed=et[eU]),eg=ed>>>16,em=65535&eu,ey=eu>>>16,eu=ee[(eU+9)%16],ef+=65535&(ed=et[(eU+9)%16]),eg+=ed>>>16,em+=65535&eu,ey+=eu>>>16,eu=((eh=ee[(eU+1)%16])>>>1|(ep=et[(eU+1)%16])<<31)^(eh>>>8|ep<<24)^eh>>>7,ef+=65535&(ed=(ep>>>1|eh<<31)^(ep>>>8|eh<<24)^(ep>>>7|eh<<25)),eg+=ed>>>16,em+=65535&eu,ey+=eu>>>16,eu=((eh=ee[(eU+14)%16])>>>19|(ep=et[(eU+14)%16])<<13)^(ep>>>29|eh<<3)^eh>>>6,ef+=65535&(ed=(ep>>>19|eh<<13)^(eh>>>29|ep<<3)^(ep>>>6|eh<<26)),eg+=ed>>>16,em+=65535&eu,ey+=eu>>>16,eg+=ef>>>16,em+=eg>>>16,ey+=em>>>16,ee[eU]=65535&em|ey<<16,et[eU]=65535&ef|eg<<16}eu=eb,ef=65535&(ed=eI),eg=ed>>>16,em=65535&eu,ey=eu>>>16,eu=ei[0],ef+=65535&(ed=en[0]),eg+=ed>>>16,em+=65535&eu,ey+=eu>>>16,eg+=ef>>>16,em+=eg>>>16,ey+=em>>>16,ei[0]=eb=65535&em|ey<<16,en[0]=eI=65535&ef|eg<<16,eu=e_,ef=65535&(ed=eT),eg=ed>>>16,em=65535&eu,ey=eu>>>16,eu=ei[1],ef+=65535&(ed=en[1]),eg+=ed>>>16,em+=65535&eu,ey+=eu>>>16,eg+=ef>>>16,em+=eg>>>16,ey+=em>>>16,ei[1]=e_=65535&em|ey<<16,en[1]=eT=65535&ef|eg<<16,eu=ev,ef=65535&(ed=eR),eg=ed>>>16,em=65535&eu,ey=eu>>>16,eu=ei[2],ef+=65535&(ed=en[2]),eg+=ed>>>16,em+=65535&eu,ey+=eu>>>16,eg+=ef>>>16,em+=eg>>>16,ey+=em>>>16,ei[2]=ev=65535&em|ey<<16,en[2]=eR=65535&ef|eg<<16,eu=ew,ef=65535&(ed=eD),eg=ed>>>16,em=65535&eu,ey=eu>>>16,eu=ei[3],ef+=65535&(ed=en[3]),eg+=ed>>>16,em+=65535&eu,ey+=eu>>>16,eg+=ef>>>16,em+=eg>>>16,ey+=em>>>16,ei[3]=ew=65535&em|ey<<16,en[3]=eD=65535&ef|eg<<16,eu=ex,ef=65535&(ed=ek),eg=ed>>>16,em=65535&eu,ey=eu>>>16,eu=ei[4],ef+=65535&(ed=en[4]),eg+=ed>>>16,em+=65535&eu,ey+=eu>>>16,eg+=ef>>>16,em+=eg>>>16,ey+=em>>>16,ei[4]=ex=65535&em|ey<<16,en[4]=ek=65535&ef|eg<<16,eu=eS,ef=65535&(ed=eB),eg=ed>>>16,em=65535&eu,ey=eu>>>16,eu=ei[5],ef+=65535&(ed=en[5]),eg+=ed>>>16,em+=65535&eu,ey+=eu>>>16,eg+=ef>>>16,em+=eg>>>16,ey+=em>>>16,ei[5]=eS=65535&em|ey<<16,en[5]=eB=65535&ef|eg<<16,eu=eE,ef=65535&(ed=eP),eg=ed>>>16,em=65535&eu,ey=eu>>>16,eu=ei[6],ef+=65535&(ed=en[6]),eg+=ed>>>16,em+=65535&eu,ey+=eu>>>16,eg+=ef>>>16,em+=eg>>>16,ey+=em>>>16,ei[6]=eE=65535&em|ey<<16,en[6]=eP=65535&ef|eg<<16,eu=eA,ef=65535&(ed=eO),eg=ed>>>16,em=65535&eu,ey=eu>>>16,eu=ei[7],ef+=65535&(ed=en[7]),eg+=ed>>>16,em+=65535&eu,ey+=eu>>>16,eg+=ef>>>16,em+=eg>>>16,ey+=em>>>16,ei[7]=eA=65535&em|ey<<16,en[7]=eO=65535&ef|eg<<16,ec+=128,el-=128}return ec}et.hash=function(ee){var et=new eo;et.update(ee);var ei=et.digest();return et.clean(),ei}},17309:function(ee,et){"use strict";Object.defineProperty(et,"__esModule",{value:!0}),et.wipe=function(ee){for(var et=0;et<ee.length;et++)ee[et]=0;return ee}},57664:function(ee,et,ei){"use strict";et.gi=et.Au=et.KS=et.kz=void 0;let es=ei(31416),en=ei(17309);function gf(ee){let et=new Float64Array(16);if(ee)for(let ei=0;ei<ee.length;ei++)et[ei]=ee[ei];return et}et.kz=32,et.KS=32;let eo=new Uint8Array(32);eo[0]=9;let ea=gf([56129,1]);function car25519(ee){let et=1;for(let ei=0;ei<16;ei++){let es=ee[ei]+et+65535;et=Math.floor(es/65536),ee[ei]=es-65536*et}ee[0]+=et-1+37*(et-1)}function sel25519(ee,et,ei){let es=~(ei-1);for(let ei=0;ei<16;ei++){let en=es&(ee[ei]^et[ei]);ee[ei]^=en,et[ei]^=en}}function add(ee,et,ei){for(let es=0;es<16;es++)ee[es]=et[es]+ei[es]}function sub(ee,et,ei){for(let es=0;es<16;es++)ee[es]=et[es]-ei[es]}function mul(ee,et,ei){let es,en,eo=0,ea=0,ec=0,el=0,eu=0,ed=0,eh=0,ep=0,ef=0,eg=0,em=0,ey=0,eb=0,e_=0,ev=0,ew=0,ex=0,eS=0,eE=0,eA=0,eI=0,eT=0,eR=0,eD=0,ek=0,eB=0,eP=0,eO=0,eC=0,eU=0,eL=0,ej=ei[0],eN=ei[1],eM=ei[2],e$=ei[3],eF=ei[4],ez=ei[5],eK=ei[6],eH=ei[7],eV=ei[8],eW=ei[9],eJ=ei[10],eG=ei[11],eY=ei[12],eQ=ei[13],eZ=ei[14],eX=ei[15];eo+=(es=et[0])*ej,ea+=es*eN,ec+=es*eM,el+=es*e$,eu+=es*eF,ed+=es*ez,eh+=es*eK,ep+=es*eH,ef+=es*eV,eg+=es*eW,em+=es*eJ,ey+=es*eG,eb+=es*eY,e_+=es*eQ,ev+=es*eZ,ew+=es*eX,ea+=(es=et[1])*ej,ec+=es*eN,el+=es*eM,eu+=es*e$,ed+=es*eF,eh+=es*ez,ep+=es*eK,ef+=es*eH,eg+=es*eV,em+=es*eW,ey+=es*eJ,eb+=es*eG,e_+=es*eY,ev+=es*eQ,ew+=es*eZ,ex+=es*eX,ec+=(es=et[2])*ej,el+=es*eN,eu+=es*eM,ed+=es*e$,eh+=es*eF,ep+=es*ez,ef+=es*eK,eg+=es*eH,em+=es*eV,ey+=es*eW,eb+=es*eJ,e_+=es*eG,ev+=es*eY,ew+=es*eQ,ex+=es*eZ,eS+=es*eX,el+=(es=et[3])*ej,eu+=es*eN,ed+=es*eM,eh+=es*e$,ep+=es*eF,ef+=es*ez,eg+=es*eK,em+=es*eH,ey+=es*eV,eb+=es*eW,e_+=es*eJ,ev+=es*eG,ew+=es*eY,ex+=es*eQ,eS+=es*eZ,eE+=es*eX,eu+=(es=et[4])*ej,ed+=es*eN,eh+=es*eM,ep+=es*e$,ef+=es*eF,eg+=es*ez,em+=es*eK,ey+=es*eH,eb+=es*eV,e_+=es*eW,ev+=es*eJ,ew+=es*eG,ex+=es*eY,eS+=es*eQ,eE+=es*eZ,eA+=es*eX,ed+=(es=et[5])*ej,eh+=es*eN,ep+=es*eM,ef+=es*e$,eg+=es*eF,em+=es*ez,ey+=es*eK,eb+=es*eH,e_+=es*eV,ev+=es*eW,ew+=es*eJ,ex+=es*eG,eS+=es*eY,eE+=es*eQ,eA+=es*eZ,eI+=es*eX,eh+=(es=et[6])*ej,ep+=es*eN,ef+=es*eM,eg+=es*e$,em+=es*eF,ey+=es*ez,eb+=es*eK,e_+=es*eH,ev+=es*eV,ew+=es*eW,ex+=es*eJ,eS+=es*eG,eE+=es*eY,eA+=es*eQ,eI+=es*eZ,eT+=es*eX,ep+=(es=et[7])*ej,ef+=es*eN,eg+=es*eM,em+=es*e$,ey+=es*eF,eb+=es*ez,e_+=es*eK,ev+=es*eH,ew+=es*eV,ex+=es*eW,eS+=es*eJ,eE+=es*eG,eA+=es*eY,eI+=es*eQ,eT+=es*eZ,eR+=es*eX,ef+=(es=et[8])*ej,eg+=es*eN,em+=es*eM,ey+=es*e$,eb+=es*eF,e_+=es*ez,ev+=es*eK,ew+=es*eH,ex+=es*eV,eS+=es*eW,eE+=es*eJ,eA+=es*eG,eI+=es*eY,eT+=es*eQ,eR+=es*eZ,eD+=es*eX,eg+=(es=et[9])*ej,em+=es*eN,ey+=es*eM,eb+=es*e$,e_+=es*eF,ev+=es*ez,ew+=es*eK,ex+=es*eH,eS+=es*eV,eE+=es*eW,eA+=es*eJ,eI+=es*eG,eT+=es*eY,eR+=es*eQ,eD+=es*eZ,ek+=es*eX,em+=(es=et[10])*ej,ey+=es*eN,eb+=es*eM,e_+=es*e$,ev+=es*eF,ew+=es*ez,ex+=es*eK,eS+=es*eH,eE+=es*eV,eA+=es*eW,eI+=es*eJ,eT+=es*eG,eR+=es*eY,eD+=es*eQ,ek+=es*eZ,eB+=es*eX,ey+=(es=et[11])*ej,eb+=es*eN,e_+=es*eM,ev+=es*e$,ew+=es*eF,ex+=es*ez,eS+=es*eK,eE+=es*eH,eA+=es*eV,eI+=es*eW,eT+=es*eJ,eR+=es*eG,eD+=es*eY,ek+=es*eQ,eB+=es*eZ,eP+=es*eX,eb+=(es=et[12])*ej,e_+=es*eN,ev+=es*eM,ew+=es*e$,ex+=es*eF,eS+=es*ez,eE+=es*eK,eA+=es*eH,eI+=es*eV,eT+=es*eW,eR+=es*eJ,eD+=es*eG,ek+=es*eY,eB+=es*eQ,eP+=es*eZ,eO+=es*eX,e_+=(es=et[13])*ej,ev+=es*eN,ew+=es*eM,ex+=es*e$,eS+=es*eF,eE+=es*ez,eA+=es*eK,eI+=es*eH,eT+=es*eV,eR+=es*eW,eD+=es*eJ,ek+=es*eG,eB+=es*eY,eP+=es*eQ,eO+=es*eZ,eC+=es*eX,ev+=(es=et[14])*ej,ew+=es*eN,ex+=es*eM,eS+=es*e$,eE+=es*eF,eA+=es*ez,eI+=es*eK,eT+=es*eH,eR+=es*eV,eD+=es*eW,ek+=es*eJ,eB+=es*eG,eP+=es*eY,eO+=es*eQ,eC+=es*eZ,eU+=es*eX,ew+=(es=et[15])*ej,ex+=es*eN,eS+=es*eM,eE+=es*e$,eA+=es*eF,eI+=es*ez,eT+=es*eK,eR+=es*eH,eD+=es*eV,ek+=es*eW,eB+=es*eJ,eP+=es*eG,eO+=es*eY,eC+=es*eQ,eU+=es*eZ,eL+=es*eX,eo+=38*ex,ea+=38*eS,ec+=38*eE,el+=38*eA,eu+=38*eI,ed+=38*eT,eh+=38*eR,ep+=38*eD,ef+=38*ek,eg+=38*eB,em+=38*eP,ey+=38*eO,eb+=38*eC,e_+=38*eU,ev+=38*eL,en=Math.floor((es=eo+(en=1)+65535)/65536),eo=es-65536*en,en=Math.floor((es=ea+en+65535)/65536),ea=es-65536*en,en=Math.floor((es=ec+en+65535)/65536),ec=es-65536*en,en=Math.floor((es=el+en+65535)/65536),el=es-65536*en,en=Math.floor((es=eu+en+65535)/65536),eu=es-65536*en,en=Math.floor((es=ed+en+65535)/65536),ed=es-65536*en,en=Math.floor((es=eh+en+65535)/65536),eh=es-65536*en,en=Math.floor((es=ep+en+65535)/65536),ep=es-65536*en,en=Math.floor((es=ef+en+65535)/65536),ef=es-65536*en,en=Math.floor((es=eg+en+65535)/65536),eg=es-65536*en,en=Math.floor((es=em+en+65535)/65536),em=es-65536*en,en=Math.floor((es=ey+en+65535)/65536),ey=es-65536*en,en=Math.floor((es=eb+en+65535)/65536),eb=es-65536*en,en=Math.floor((es=e_+en+65535)/65536),e_=es-65536*en,en=Math.floor((es=ev+en+65535)/65536),ev=es-65536*en,en=Math.floor((es=ew+en+65535)/65536),ew=es-65536*en,eo+=en-1+37*(en-1),en=Math.floor((es=eo+(en=1)+65535)/65536),eo=es-65536*en,en=Math.floor((es=ea+en+65535)/65536),ea=es-65536*en,en=Math.floor((es=ec+en+65535)/65536),ec=es-65536*en,en=Math.floor((es=el+en+65535)/65536),el=es-65536*en,en=Math.floor((es=eu+en+65535)/65536),eu=es-65536*en,en=Math.floor((es=ed+en+65535)/65536),ed=es-65536*en,en=Math.floor((es=eh+en+65535)/65536),eh=es-65536*en,en=Math.floor((es=ep+en+65535)/65536),ep=es-65536*en,en=Math.floor((es=ef+en+65535)/65536),ef=es-65536*en,en=Math.floor((es=eg+en+65535)/65536),eg=es-65536*en,en=Math.floor((es=em+en+65535)/65536),em=es-65536*en,en=Math.floor((es=ey+en+65535)/65536),ey=es-65536*en,en=Math.floor((es=eb+en+65535)/65536),eb=es-65536*en,en=Math.floor((es=e_+en+65535)/65536),e_=es-65536*en,en=Math.floor((es=ev+en+65535)/65536),ev=es-65536*en,en=Math.floor((es=ew+en+65535)/65536),ew=es-65536*en,eo+=en-1+37*(en-1),ee[0]=eo,ee[1]=ea,ee[2]=ec,ee[3]=el,ee[4]=eu,ee[5]=ed,ee[6]=eh,ee[7]=ep,ee[8]=ef,ee[9]=eg,ee[10]=em,ee[11]=ey,ee[12]=eb,ee[13]=e_,ee[14]=ev,ee[15]=ew}function scalarMult(ee,et){let ei=new Uint8Array(32),es=new Float64Array(80),en=gf(),eo=gf(),ec=gf(),el=gf(),eu=gf(),ed=gf();for(let et=0;et<31;et++)ei[et]=ee[et];ei[31]=127&ee[31]|64,ei[0]&=248,function(ee,et){for(let ei=0;ei<16;ei++)ee[ei]=et[2*ei]+(et[2*ei+1]<<8);ee[15]&=32767}(es,et);for(let ee=0;ee<16;ee++)eo[ee]=es[ee];en[0]=el[0]=1;for(let ee=254;ee>=0;--ee){let et=ei[ee>>>3]>>>(7&ee)&1;sel25519(en,eo,et),sel25519(ec,el,et),add(eu,en,ec),sub(en,en,ec),add(ec,eo,el),sub(eo,eo,el),mul(el,eu,eu),mul(ed,en,en),mul(en,ec,en),mul(ec,eo,eu),add(eu,en,ec),sub(en,en,ec),mul(eo,en,en),sub(ec,el,ed),mul(en,ec,ea),add(en,en,el),mul(ec,ec,en),mul(en,el,ed),mul(el,eo,es),mul(eo,eu,eu),sel25519(en,eo,et),sel25519(ec,el,et)}for(let ee=0;ee<16;ee++)es[ee+16]=en[ee],es[ee+32]=ec[ee],es[ee+48]=eo[ee],es[ee+64]=el[ee];let eh=es.subarray(32),ep=es.subarray(16);!function(ee,et){let ei=gf();for(let ee=0;ee<16;ee++)ei[ee]=et[ee];for(let ee=253;ee>=0;ee--)mul(ei,ei,ei),2!==ee&&4!==ee&&mul(ei,ei,et);for(let et=0;et<16;et++)ee[et]=ei[et]}(eh,eh),mul(ep,ep,eh);let ef=new Uint8Array(32);return!function(ee,et){let ei=gf(),es=gf();for(let ee=0;ee<16;ee++)es[ee]=et[ee];car25519(es),car25519(es),car25519(es);for(let ee=0;ee<2;ee++){ei[0]=es[0]-65517;for(let ee=1;ee<15;ee++)ei[ee]=es[ee]-65535-(ei[ee-1]>>16&1),ei[ee-1]&=65535;ei[15]=es[15]-32767-(ei[14]>>16&1);let ee=ei[15]>>16&1;ei[14]&=65535,sel25519(es,ei,1-ee)}for(let et=0;et<16;et++)ee[2*et]=255&es[et],ee[2*et+1]=es[et]>>8}(ef,ep),ef}et.Au=function(ee){let ei=(0,es.randomBytes)(32,ee),ea=function(ee){if(ee.length!==et.KS)throw Error(`x25519: seed must be ${et.KS} bytes`);let ei=new Uint8Array(ee),es=scalarMult(ei,eo);return{publicKey:es,secretKey:ei}}(ei);return(0,en.wipe)(ei),ea},et.gi=function(ee,ei,es=!1){if(ee.length!==et.kz)throw Error("X25519: incorrect secret key length");if(ei.length!==et.kz)throw Error("X25519: incorrect public key length");let en=scalarMult(ee,ei);if(es){let ee=0;for(let et=0;et<en.length;et++)ee|=en[et];if(0===ee)throw Error("X25519: invalid shared key")}return en}},58184:function(ee,et,ei){"use strict";let es;ei.d(et,{QY:function(){return rN},E9:function(){return tA},t7:function(){return tE},jb:function(){return tw},ne:function(){return tv},cQ:function(){return tS},Wk:function(){return tx},i9:function(){return tg},I8:function(){return tp},ZF:function(){return tt},Mb:function(){return ts},yh:function(){return li},QZ:function(){return tc},sG:function(){return ty}});var en=ei(17187),eo=ei.n(en),ea=ei(66736),ec=ei(38200);let n=class n extends ec.q{constructor(ee){super()}};let el=ea.FIVE_SECONDS,eu={pulse:"heartbeat_pulse"};let index_es_i=class index_es_i extends n{constructor(ee){super(ee),this.events=new en.EventEmitter,this.interval=el,this.interval=ee?.interval||el}static async init(ee){let et=new index_es_i(ee);return await et.init(),et}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(ee,et){this.events.on(ee,et)}once(ee,et){this.events.once(ee,et)}off(ee,et){this.events.off(ee,et)}removeListener(ee,et){this.events.removeListener(ee,et)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),(0,ea.toMiliseconds)(this.interval))}pulse(){this.events.emit(eu.pulse)}};let ed=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,eh=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,ep=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function jsonParseTransform(ee,et){if("__proto__"===ee||"constructor"===ee&&et&&"object"==typeof et&&"prototype"in et){console.warn(`[destr] Dropping "${ee}" key to prevent prototype pollution.`);return}return et}function destr(ee,et={}){if("string"!=typeof ee)return ee;let ei=ee.trim();if('"'===ee[0]&&ee.endsWith('"')&&!ee.includes("\\"))return ei.slice(1,-1);if(ei.length<=9){let ee=ei.toLowerCase();if("true"===ee)return!0;if("false"===ee)return!1;if("undefined"===ee)return;if("null"===ee)return null;if("nan"===ee)return Number.NaN;if("infinity"===ee)return Number.POSITIVE_INFINITY;if("-infinity"===ee)return Number.NEGATIVE_INFINITY}if(!ep.test(ee)){if(et.strict)throw SyntaxError("[destr] Invalid JSON");return ee}try{if(ed.test(ee)||eh.test(ee)){if(et.strict)throw Error("[destr] Possible prototype pollution");return JSON.parse(ee,jsonParseTransform)}return JSON.parse(ee)}catch(ei){if(et.strict)throw ei;return ee}}var ef=ei(48764).Buffer;function asyncCall(ee,...et){try{var ei;return(ei=ee(...et))&&"function"==typeof ei.then?ei:Promise.resolve(ei)}catch(ee){return Promise.reject(ee)}}function stringify(ee){if(function(ee){let et=typeof ee;return null===ee||"object"!==et&&"function"!==et}(ee))return String(ee);if(function(ee){let et=Object.getPrototypeOf(ee);return!et||et.isPrototypeOf(Object)}(ee)||Array.isArray(ee))return JSON.stringify(ee);if("function"==typeof ee.toJSON)return stringify(ee.toJSON());throw Error("[unstorage] Cannot stringify value!")}let eg="base64:";function normalizeKey(ee){return ee&&ee.split("?")[0]?.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,"")||""}function unstorage_BqzpVTXx_normalizeBaseKey(ee){return(ee=normalizeKey(ee))?ee+":":""}let memory=()=>{let ee=new Map;return{name:"memory",getInstance:()=>ee,hasItem:et=>ee.has(et),getItem:et=>ee.get(et)??null,getItemRaw:et=>ee.get(et)??null,setItem(et,ei){ee.set(et,ei)},setItemRaw(et,ei){ee.set(et,ei)},removeItem(et){ee.delete(et)},getKeys:()=>[...ee.keys()],clear(){ee.clear()},dispose(){ee.clear()}}};function watch(ee,et,ei){return ee.watch?ee.watch((ee,es)=>et(ee,ei+es)):()=>{}}async function dispose(ee){"function"==typeof ee.dispose&&await asyncCall(ee.dispose)}function promisifyRequest(ee){return new Promise((et,ei)=>{ee.oncomplete=ee.onsuccess=()=>et(ee.result),ee.onabort=ee.onerror=()=>ei(ee.error)})}function createStore(ee,et){let ei=indexedDB.open(ee);ei.onupgradeneeded=()=>ei.result.createObjectStore(et);let es=promisifyRequest(ei);return(ee,ei)=>es.then(es=>ei(es.transaction(et,ee).objectStore(et)))}function defaultGetStore(){return es||(es=createStore("keyval-store","keyval")),es}function get(ee,et=defaultGetStore()){return et("readonly",et=>promisifyRequest(et.get(ee)))}var em=ei(85094),z=(ee={})=>{let et;let ei=ee.base&&ee.base.length>0?`${ee.base}:`:"",e=ee=>ei+ee;return ee.dbName&&ee.storeName&&(et=createStore(ee.dbName,ee.storeName)),{name:"idb-keyval",options:ee,hasItem:async ee=>!(typeof await get(e(ee),et)>"u"),getItem:async ee=>await get(e(ee),et)??null,setItem:(ee,ei)=>(function(ee,et,ei=defaultGetStore()){return ei("readwrite",ei=>(ei.put(et,ee),promisifyRequest(ei.transaction)))})(e(ee),ei,et),removeItem:ee=>(function(ee,et=defaultGetStore()){return et("readwrite",et=>(et.delete(ee),promisifyRequest(et.transaction)))})(e(ee),et),getKeys:()=>(function(ee=defaultGetStore()){return ee("readonly",ee=>{var et;if(ee.getAllKeys)return promisifyRequest(ee.getAllKeys());let ei=[];return(et=ee=>ei.push(ee.key),ee.openCursor().onsuccess=function(){this.result&&(et(this.result),this.result.continue())},promisifyRequest(ee.transaction)).then(()=>ei)})})(et),clear:()=>(function(ee=defaultGetStore()){return ee("readwrite",ee=>(ee.clear(),promisifyRequest(ee.transaction)))})(et)}};let _=class _{constructor(){this.indexedDb=function(ee={}){let et={mounts:{"":ee.driver||memory()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},getMount=ee=>{for(let ei of et.mountpoints)if(ee.startsWith(ei))return{base:ei,relativeKey:ee.slice(ei.length),driver:et.mounts[ei]};return{base:"",relativeKey:ee,driver:et.mounts[""]}},getMounts=(ee,ei)=>et.mountpoints.filter(et=>et.startsWith(ee)||ei&&ee.startsWith(et)).map(ei=>({relativeBase:ee.length>ei.length?ee.slice(ei.length):void 0,mountpoint:ei,driver:et.mounts[ei]})),onChange=(ee,ei)=>{if(et.watching)for(let es of(ei=normalizeKey(ei),et.watchListeners))es(ee,ei)},startWatch=async()=>{if(!et.watching)for(let ee in et.watching=!0,et.mounts)et.unwatch[ee]=await watch(et.mounts[ee],onChange,ee)},stopWatch=async()=>{if(et.watching){for(let ee in et.unwatch)await et.unwatch[ee]();et.unwatch={},et.watching=!1}},runBatch=(ee,et,ei)=>{let es=new Map,getBatch=ee=>{let et=es.get(ee.base);return et||(et={driver:ee.driver,base:ee.base,items:[]},es.set(ee.base,et)),et};for(let ei of ee){let ee="string"==typeof ei,es=normalizeKey(ee?ei:ei.key),en=ee?void 0:ei.value,eo=ee||!ei.options?et:{...et,...ei.options},ea=getMount(es);getBatch(ea).items.push({key:es,value:en,relativeKey:ea.relativeKey,options:eo})}return Promise.all([...es.values()].map(ee=>ei(ee))).then(ee=>ee.flat())},ei={hasItem(ee,et={}){ee=normalizeKey(ee);let{relativeKey:ei,driver:es}=getMount(ee);return asyncCall(es.hasItem,ei,et)},getItem(ee,et={}){ee=normalizeKey(ee);let{relativeKey:ei,driver:es}=getMount(ee);return asyncCall(es.getItem,ei,et).then(ee=>destr(ee))},getItems:(ee,et={})=>runBatch(ee,et,ee=>ee.driver.getItems?asyncCall(ee.driver.getItems,ee.items.map(ee=>({key:ee.relativeKey,options:ee.options})),et).then(et=>et.map(et=>({key:function(...ee){return normalizeKey(ee.join(":"))}(ee.base,et.key),value:destr(et.value)}))):Promise.all(ee.items.map(et=>asyncCall(ee.driver.getItem,et.relativeKey,et.options).then(ee=>({key:et.key,value:destr(ee)}))))),getItemRaw(ee,et={}){ee=normalizeKey(ee);let{relativeKey:ei,driver:es}=getMount(ee);return es.getItemRaw?asyncCall(es.getItemRaw,ei,et):asyncCall(es.getItem,ei,et).then(ee=>{var et;return"string"==typeof ee&&ee.startsWith(eg)?(et=ee.slice(eg.length),globalThis.Buffer?ef.from(et,"base64"):Uint8Array.from(globalThis.atob(et),ee=>ee.codePointAt(0))):ee})},async setItem(ee,et,es={}){if(void 0===et)return ei.removeItem(ee);ee=normalizeKey(ee);let{relativeKey:en,driver:eo}=getMount(ee);eo.setItem&&(await asyncCall(eo.setItem,en,stringify(et),es),eo.watch||onChange("update",ee))},async setItems(ee,et){await runBatch(ee,et,async ee=>{if(ee.driver.setItems)return asyncCall(ee.driver.setItems,ee.items.map(ee=>({key:ee.relativeKey,value:stringify(ee.value),options:ee.options})),et);ee.driver.setItem&&await Promise.all(ee.items.map(et=>asyncCall(ee.driver.setItem,et.relativeKey,stringify(et.value),et.options)))})},async setItemRaw(ee,et,es={}){if(void 0===et)return ei.removeItem(ee,es);ee=normalizeKey(ee);let{relativeKey:en,driver:eo}=getMount(ee);if(eo.setItemRaw)await asyncCall(eo.setItemRaw,en,et,es);else{if(!eo.setItem)return;await asyncCall(eo.setItem,en,"string"==typeof et?et:eg+(globalThis.Buffer?ef.from(et).toString("base64"):globalThis.btoa(String.fromCodePoint(...et))),es)}eo.watch||onChange("update",ee)},async removeItem(ee,et={}){"boolean"==typeof et&&(et={removeMeta:et}),ee=normalizeKey(ee);let{relativeKey:ei,driver:es}=getMount(ee);es.removeItem&&(await asyncCall(es.removeItem,ei,et),(et.removeMeta||et.removeMata)&&await asyncCall(es.removeItem,ei+"$",et),es.watch||onChange("remove",ee))},async getMeta(ee,et={}){"boolean"==typeof et&&(et={nativeOnly:et}),ee=normalizeKey(ee);let{relativeKey:ei,driver:es}=getMount(ee),en=Object.create(null);if(es.getMeta&&Object.assign(en,await asyncCall(es.getMeta,ei,et)),!et.nativeOnly){let ee=await asyncCall(es.getItem,ei+"$",et).then(ee=>destr(ee));ee&&"object"==typeof ee&&("string"==typeof ee.atime&&(ee.atime=new Date(ee.atime)),"string"==typeof ee.mtime&&(ee.mtime=new Date(ee.mtime)),Object.assign(en,ee))}return en},setMeta(ee,et,ei={}){return this.setItem(ee+"$",et,ei)},removeMeta(ee,et={}){return this.removeItem(ee+"$",et)},async getKeys(ee,et={}){ee=unstorage_BqzpVTXx_normalizeBaseKey(ee);let ei=getMounts(ee,!0),es=[],en=[];for(let ee of ei){let ei=await asyncCall(ee.driver.getKeys,ee.relativeBase,et);for(let et of ei){let ei=ee.mountpoint+normalizeKey(et);es.some(ee=>ei.startsWith(ee))||en.push(ei)}es=[ee.mountpoint,...es.filter(et=>!et.startsWith(ee.mountpoint))]}return ee?en.filter(et=>et.startsWith(ee)&&"$"!==et[et.length-1]):en.filter(ee=>"$"!==ee[ee.length-1])},async clear(ee,et={}){ee=unstorage_BqzpVTXx_normalizeBaseKey(ee),await Promise.all(getMounts(ee,!1).map(async ee=>{if(ee.driver.clear)return asyncCall(ee.driver.clear,ee.relativeBase,et);if(ee.driver.removeItem){let ei=await ee.driver.getKeys(ee.relativeBase||"",et);return Promise.all(ei.map(ei=>ee.driver.removeItem(ei,et)))}}))},async dispose(){await Promise.all(Object.values(et.mounts).map(ee=>dispose(ee)))},watch:async ee=>(await startWatch(),et.watchListeners.push(ee),async()=>{et.watchListeners=et.watchListeners.filter(et=>et!==ee),0===et.watchListeners.length&&await stopWatch()}),async unwatch(){et.watchListeners=[],await stopWatch()},mount(ee,es){if((ee=unstorage_BqzpVTXx_normalizeBaseKey(ee))&&et.mounts[ee])throw Error(`already mounted at ${ee}`);return ee&&(et.mountpoints.push(ee),et.mountpoints.sort((ee,et)=>et.length-ee.length)),et.mounts[ee]=es,et.watching&&Promise.resolve(watch(es,onChange,ee)).then(ei=>{et.unwatch[ee]=ei}).catch(console.error),ei},async unmount(ee,ei=!0){(ee=unstorage_BqzpVTXx_normalizeBaseKey(ee))&&et.mounts[ee]&&(et.watching&&ee in et.unwatch&&(et.unwatch[ee]?.(),delete et.unwatch[ee]),ei&&await dispose(et.mounts[ee]),et.mountpoints=et.mountpoints.filter(et=>et!==ee),delete et.mounts[ee])},getMount(ee=""){ee=normalizeKey(ee)+":";let et=getMount(ee);return{driver:et.driver,base:et.base}},getMounts(ee="",et={}){ee=normalizeKey(ee);let ei=getMounts(ee,et.parents);return ei.map(ee=>({driver:ee.driver,base:ee.mountpoint}))},keys:(ee,et={})=>ei.getKeys(ee,et),get:(ee,et={})=>ei.getItem(ee,et),set:(ee,et,es={})=>ei.setItem(ee,et,es),has:(ee,et={})=>ei.hasItem(ee,et),del:(ee,et={})=>ei.removeItem(ee,et),remove:(ee,et={})=>ei.removeItem(ee,et)};return ei}({driver:z({dbName:"WALLET_CONNECT_V2_INDEXED_DB",storeName:"keyvaluestorage"})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(ee=>[ee.key,ee.value])}async getItem(ee){let et=await this.indexedDb.getItem(ee);if(null!==et)return et}async setItem(ee,et){await this.indexedDb.setItem(ee,(0,em.u)(et))}async removeItem(ee){await this.indexedDb.removeItem(ee)}};var ey="u">typeof globalThis?globalThis:"u">typeof window?window:"u">typeof ei.g?ei.g:"u">typeof self?self:{},eb={exports:{}};function k(ee){var et;return[ee[0],(0,em.D)(null!=(et=ee[1])?et:"")]}!function(){function t(){}t.prototype.getItem=function(ee){return this.hasOwnProperty(ee)?String(this[ee]):null},t.prototype.setItem=function(ee,et){this[ee]=String(et)},t.prototype.removeItem=function(ee){delete this[ee]},t.prototype.clear=function(){let ee=this;Object.keys(ee).forEach(function(et){ee[et]=void 0,delete ee[et]})},t.prototype.key=function(ee){return ee=ee||0,Object.keys(this)[ee]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),"u">typeof ey&&ey.localStorage?eb.exports=ey.localStorage:"u">typeof window&&window.localStorage?eb.exports=window.localStorage:eb.exports=new t}();let K=class K{constructor(){this.localStorage=eb.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(k)}async getItem(ee){let et=this.localStorage.getItem(ee);if(null!==et)return(0,em.D)(et)}async setItem(ee,et){this.localStorage.setItem(ee,(0,em.u)(et))}async removeItem(ee){this.localStorage.removeItem(ee)}};let O=async(ee,et,ei)=>{let es="wc_storage_version",en=await et.getItem(es);if(en&&en>=1){ei(et);return}let eo=await ee.getKeys();if(!eo.length){ei(et);return}let ea=[];for(;eo.length;){let ei=eo.shift();if(!ei)continue;let es=ei.toLowerCase();if(es.includes("wc@")||es.includes("walletconnect")||es.includes("wc_")||es.includes("wallet_connect")){let es=await ee.getItem(ei);await et.setItem(ei,es),ea.push(ei)}}await et.setItem(es,1),ei(et),j(ee,ea)},j=async(ee,et)=>{et.length&&et.forEach(async et=>{await ee.removeItem(et)})};let h=class h{constructor(){this.initialized=!1,this.setInitialized=ee=>{this.storage=ee,this.initialized=!0};let ee=new K;this.storage=ee;try{let et=new _;O(ee,et,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(ee){return await this.initialize(),this.storage.getItem(ee)}async setItem(ee,et){return await this.initialize(),this.storage.setItem(ee,et)}async removeItem(ee){return await this.initialize(),this.storage.removeItem(ee)}async initialize(){this.initialized||await new Promise(ee=>{let et=setInterval(()=>{this.initialized&&(clearInterval(et),ee())},20)})}};var e_=ei(12044),ev=ei(28041),ew=ei(45154),ex=ei(43631),eS=ei(62873),eE=ei(65755),eA=ei(17563),eI=ei(15501),eT=ei(9328),eR=ei(31416),eD=ei(73294),ek=ei(57664),eB=ei(94622),eP=ei(86266),eO=ei(37968),eC=ei(34155),eU=ei(48764).Buffer,eL=Object.defineProperty,ej=Object.getOwnPropertySymbols,eN=Object.prototype.hasOwnProperty,eM=Object.prototype.propertyIsEnumerable,Le=(ee,et,ei)=>et in ee?eL(ee,et,{enumerable:!0,configurable:!0,writable:!0,value:ei}):ee[et]=ei,Fe=(ee,et)=>{for(var ei in et||(et={}))eN.call(et,ei)&&Le(ee,ei,et[ei]);if(ej)for(var ei of ej(et))eM.call(et,ei)&&Le(ee,ei,et[ei]);return ee};let e$={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"};function ce(){return"u">typeof eC&&"u">typeof eC.versions&&"u">typeof eC.versions.node}function $(){return!(0,eS.getDocument)()&&!!(0,eS.getNavigator)()&&"ReactNative"===navigator.product}function V(){return!ce()&&!!(0,eS.getNavigator)()&&!!(0,eS.getDocument)()}function A(){return $()?e$.reactNative:ce()?e$.node:V()?e$.browser:e$.unknown}function St(){var ee;try{return $()&&"u">typeof ei.g&&"u">typeof(null==ei.g?void 0:ei.g.Application)?null==(ee=ei.g.Application)?void 0:ee.applicationId:void 0}catch{return}}function Ge(ee,et,es){let en=function(){if(A()===e$.reactNative&&"u">typeof ei.g&&"u">typeof(null==ei.g?void 0:ei.g.Platform)){let{OS:ee,Version:et}=ei.g.Platform;return[ee,et].join("-")}let ee=(0,ex.qY)();if(null===ee)return"unknown";let et=ee.os?ee.os.replace(" ","").toLowerCase():"unknown";return"browser"===ee.type?[et,ee.name,ee.version].join("-"):[et,ee.version].join("-")}(),eo=function(){var ee;let et=A();return et===e$.browser?[et,(null==(ee=(0,eS.getLocation)())?void 0:ee.host)||"unknown"].join(":"):et}();return[[ee,et].join("-"),["js",es].join("-"),en,eo].join("/")}function At(ee){return Object.fromEntries(ee.entries())}function Ct(ee){return new Map(Object.entries(ee))}function xt(ee,et,ei){return new Promise(async(es,en)=>{let eo=setTimeout(()=>en(Error(ei)),et);try{let et=await ee;es(et)}catch(ee){en(ee)}clearTimeout(eo)})}function ae(ee,et){if("string"==typeof et&&et.startsWith(`${ee}:`))return et;if("topic"===ee.toLowerCase()){if("string"!=typeof et)throw Error('Value must be "string" for expirer target type: topic');return`topic:${et}`}if("id"===ee.toLowerCase()){if("number"!=typeof et)throw Error('Value must be "number" for expirer target type: id');return`id:${et}`}throw Error(`Unknown expirer target type: ${ee}`)}function Lt(ee,et){return(0,ea.fromMiliseconds)((et||Date.now())+(0,ea.toMiliseconds)(ee))}function Ft(ee){return Date.now()>=(0,ea.toMiliseconds)(ee)}function qt(ee,et){return`${ee}${et?`:${et}`:""}`}function Jt(){return"u">typeof crypto&&null!=crypto&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,ee=>{let et=16*Math.random()|0;return("x"===ee?et:3&et|8).toString(16)})}function zt(){return"u">typeof eC&&"true"===eC.env.IS_VITEST}function le(ee){return eU.from(ee,"base64").toString("utf-8")}Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;let eF="base10",ez="base16",eK="base64pad",eH="utf8";function yr(){let ee=(0,eR.randomBytes)(32);return(0,eB.BB)(ee,ez)}function br(ee){let et=(0,eD.vp)((0,eB.mL)(ee,eH));return(0,eB.BB)(et,ez)}function Ee(ee){return(0,eB.mL)(`${ee}`,eF)}function index_es_C(ee){return Number((0,eB.BB)(ee,eF))}function we(ee){let{encoding:et=eK}=ee;if(2===index_es_C(ee.type))return(0,eB.BB)((0,eB.zo)([ee.type,ee.sealed]),et);if(1===index_es_C(ee.type)){if(typeof ee.senderPublicKey>"u")throw Error("Missing sender public key for type 1 envelope");return(0,eB.BB)((0,eB.zo)([ee.type,ee.senderPublicKey,ee.iv,ee.sealed]),et)}return(0,eB.BB)((0,eB.zo)([ee.type,ee.iv,ee.sealed]),et)}function Q(ee){let{encoded:et,encoding:ei=eK}=ee,es=(0,eB.mL)(et,ei),en=es.slice(0,1);if(1===index_es_C(en)){let ee=es.slice(1,33),et=es.slice(33,45),ei=es.slice(45);return{type:en,sealed:ei,iv:et,senderPublicKey:ee}}if(2===index_es_C(en)){let ee=es.slice(1),et=(0,eR.randomBytes)(12);return{type:en,sealed:ee,iv:et}}let eo=es.slice(1,13),ea=es.slice(13);return{type:en,sealed:ea,iv:eo}}function On(ee){let et=ee?.type||0;if(1===et){if(typeof ee?.senderPublicKey>"u")throw Error("missing sender public key");if(typeof ee?.receiverPublicKey>"u")throw Error("missing receiver public key")}return{type:et,senderPublicKey:ee?.senderPublicKey,receiverPublicKey:ee?.receiverPublicKey}}function $r(ee){return 1===ee.type&&"string"==typeof ee.senderPublicKey&&"string"==typeof ee.receiverPublicKey}function Tr(ee){return ee?.relay||{protocol:"irn"}}function Ar(ee){let et=eO.iO[ee];if(typeof et>"u")throw Error(`Relay Protocol not supported: ${ee}`);return et}var eV=Object.defineProperty,eW=Object.defineProperties,eJ=Object.getOwnPropertyDescriptors,eG=Object.getOwnPropertySymbols,eY=Object.prototype.hasOwnProperty,eQ=Object.prototype.propertyIsEnumerable,Rn=(ee,et,ei)=>et in ee?eV(ee,et,{enumerable:!0,configurable:!0,writable:!0,value:ei}):ee[et]=ei,In=(ee,et)=>{for(var ei in et||(et={}))eY.call(et,ei)&&Rn(ee,ei,et[ei]);if(eG)for(var ei of eG(et))eQ.call(et,ei)&&Rn(ee,ei,et[ei]);return ee},xr=(ee,et)=>eW(ee,eJ(et));function Vr(ee){var et;if(!ee.includes("wc:")){let et=le(ee);null!=et&&et.includes("wc:")&&(ee=et)}ee=(ee=ee.includes("wc://")?ee.replace("wc://",""):ee).includes("wc:")?ee.replace("wc:",""):ee;let ei=ee.indexOf(":"),es=-1!==ee.indexOf("?")?ee.indexOf("?"):void 0,en=ee.substring(0,ei),eo=ee.substring(ei+1,es).split("@"),ea="u">typeof es?ee.substring(es):"",ec=eA.parse(ea),el="string"==typeof ec.methods?ec.methods.split(","):void 0;return{protocol:en,topic:(et=eo[0]).startsWith("//")?et.substring(2):et,version:parseInt(eo[1],10),symKey:ec.symKey,relay:function(ee,et="-"){let ei={},es="relay"+et;return Object.keys(ee).forEach(et=>{if(et.startsWith(es)){let en=et.replace(es,""),eo=ee[et];ei[en]=eo}}),ei}(ec),methods:el,expiryTimestamp:ec.expiryTimestamp?parseInt(ec.expiryTimestamp,10):void 0}}function Mr(ee){return`${ee.protocol}:${ee.topic}@${ee.version}?`+eA.stringify(In(xr(In({symKey:ee.symKey},function(ee,et="-"){let ei={};return Object.keys(ee).forEach(es=>{ee[es]&&(ei["relay"+et+es]=ee[es])}),ei}(ee.relay)),{expiryTimestamp:ee.expiryTimestamp}),ee.methods?{methods:ee.methods.join(",")}:{}))}Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;let eZ={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},eX={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function S(ee,et){let{message:ei,code:es}=eX[ee];return{message:et?`${ei} ${et}`:ei,code:es}}function index_es_(ee,et){let{message:ei,code:es}=eZ[ee];return{message:et?`${ei} ${et}`:ei,code:es}}function P(ee){return typeof ee>"u"}function b(ee,et){return!!(et&&P(ee))||"string"==typeof ee&&!!ee.trim().length}function so(ee){return"u">typeof ee}function go(){let ee=A();return new Promise(et=>{switch(ee){case e$.browser:et(V()&&navigator?.onLine);break;case e$.reactNative:et(Qn());break;case e$.node:default:et(!0)}})}async function Qn(){if($()&&"u">typeof ei.g&&null!=ei.g&&ei.g.NetInfo){let ee=await (null==ei.g?void 0:ei.g.NetInfo.fetch());return ee?.isConnected}return!0}var e0=ei(56186);let o=class o extends e0.IJsonRpcProvider{constructor(ee){super(ee),this.events=new en.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(ee),this.connection.connected&&this.registerEventListeners()}async connect(ee=this.connection){await this.open(ee)}async disconnect(){await this.close()}on(ee,et){this.events.on(ee,et)}once(ee,et){this.events.once(ee,et)}off(ee,et){this.events.off(ee,et)}removeListener(ee,et){this.events.removeListener(ee,et)}async request(ee,et){return this.requestStrict((0,e0.formatJsonRpcRequest)(ee.method,ee.params||[],ee.id||(0,e0.getBigIntRpcId)().toString()),et)}async requestStrict(ee,et){return new Promise(async(ei,es)=>{if(!this.connection.connected)try{await this.open()}catch(ee){es(ee)}this.events.on(`${ee.id}`,ee=>{(0,e0.isJsonRpcError)(ee)?es(ee.error):ei(ee.result)});try{await this.connection.send(ee,et)}catch(ee){es(ee)}})}setConnection(ee=this.connection){return ee}onPayload(ee){this.events.emit("payload",ee),(0,e0.isJsonRpcResponse)(ee)?this.events.emit(`${ee.id}`,ee):this.events.emit("message",{type:ee.method,data:ee.params})}onClose(ee){ee&&3e3===ee.code&&this.events.emit("error",Error(`WebSocket connection closed abnormally with code: ${ee.code} ${ee.reason?`(${ee.reason})`:""}`)),this.events.emit("disconnect")}async open(ee=this.connection){this.connection===ee&&this.connection.connected||(this.connection.connected&&this.close(),"string"==typeof ee&&(await this.connection.open(ee),ee=this.connection),this.connection=this.setConnection(ee),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",ee=>this.onPayload(ee)),this.connection.on("close",ee=>this.onClose(ee)),this.connection.on("error",ee=>this.events.emit("error",ee)),this.connection.on("register_error",ee=>this.onClose()),this.hasRegisteredEventListeners=!0)}};let w=()=>"u">typeof WebSocket||"u">typeof ei.g&&"u">typeof ei.g.WebSocket||"u">typeof window&&"u">typeof window.WebSocket||"u">typeof self&&"u">typeof self.WebSocket,d=ee=>ee.split("?")[0],e1="u">typeof WebSocket?WebSocket:"u">typeof ei.g&&"u">typeof ei.g.WebSocket?ei.g.WebSocket:"u">typeof window&&"u">typeof window.WebSocket?window.WebSocket:"u">typeof self&&"u">typeof self.WebSocket?self.WebSocket:ei(72030);let f=class f{constructor(ee){if(this.url=ee,this.events=new en.EventEmitter,this.registering=!1,!(0,e0.isWsUrl)(ee))throw Error(`Provided URL is not compatible with WebSocket connection: ${ee}`);this.url=ee}get connected(){return"u">typeof this.socket}get connecting(){return this.registering}on(ee,et){this.events.on(ee,et)}once(ee,et){this.events.once(ee,et)}off(ee,et){this.events.off(ee,et)}removeListener(ee,et){this.events.removeListener(ee,et)}async open(ee=this.url){await this.register(ee)}async close(){return new Promise((ee,et)=>{if(typeof this.socket>"u"){et(Error("Connection already closed"));return}this.socket.onclose=et=>{this.onClose(et),ee()},this.socket.close()})}async send(ee){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send((0,em.u)(ee))}catch(et){this.onError(ee.id,et)}}register(ee=this.url){if(!(0,e0.isWsUrl)(ee))throw Error(`Provided URL is not compatible with WebSocket connection: ${ee}`);if(this.registering){let ee=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=ee||this.events.listenerCount("open")>=ee)&&this.events.setMaxListeners(ee+1),new Promise((ee,et)=>{this.events.once("register_error",ee=>{this.resetMaxListeners(),et(ee)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return et(Error("WebSocket connection is missing or invalid"));ee(this.socket)})})}return this.url=ee,this.registering=!0,new Promise((et,ei)=>{let es=(0,e0.isReactNative)()?void 0:{rejectUnauthorized:!(0,e0.isLocalhostUrl)(ee)},en=new e1(ee,[],es);w()?en.onerror=ee=>{ei(this.emitError(ee.error))}:en.on("error",ee=>{ei(this.emitError(ee))}),en.onopen=()=>{this.onOpen(en),et(en)}})}onOpen(ee){ee.onmessage=ee=>this.onPayload(ee),ee.onclose=ee=>this.onClose(ee),this.socket=ee,this.registering=!1,this.events.emit("open")}onClose(ee){this.socket=void 0,this.registering=!1,this.events.emit("close",ee)}onPayload(ee){if(typeof ee.data>"u")return;let et="string"==typeof ee.data?(0,em.D)(ee.data):ee.data;this.events.emit("payload",et)}onError(ee,et){let ei=this.parseError(et),es=ei.message||ei.toString(),en=(0,e0.formatJsonRpcError)(ee,es);this.events.emit("payload",en)}parseError(ee,et=this.url){return(0,e0.parseConnectionError)(ee,d(et),"WS")}resetMaxListeners(){this.events.getMaxListeners()>10&&this.events.setMaxListeners(10)}emitError(ee){let et=this.parseError(Error(ee?.message||`WebSocket connection failed for host: ${d(this.url)}`));return this.events.emit("register_error",et),et}};var e5=ei(72307),e2=ei.n(e5);let e6="core",e3=`wc@2:${e6}:`,e8={logger:"error"},e4={database:":memory:"},e9="client_ed25519_seed",e7=ea.ONE_DAY,te=ea.SIX_HOURS,tt="irn",tr="wss://relay.walletconnect.org",ts={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},to={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},ta="2.17.4",tc={link_mode:"link_mode",relay:"relay"},tl="WALLETCONNECT_LINK_MODE_APPS",tu={created:"subscription_created",deleted:"subscription_deleted",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},td=1e3*ea.FIVE_SECONDS,th={wc_pairingDelete:{req:{ttl:ea.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:ea.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:ea.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:ea.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:ea.ONE_DAY,prompt:!1,tag:0},res:{ttl:ea.ONE_DAY,prompt:!1,tag:0}}},tp={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},tf={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},tg={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},tm="https://verify.walletconnect.org",ty=tm,tb=`${ty}/v3`,t_=["https://verify.walletconnect.com",tm],tv={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},tw={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},tx={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},tS={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},tE={authenticated_session_approve_started:"authenticated_session_approve_started",authenticated_session_not_expired:"authenticated_session_not_expired",chains_caip2_compliant:"chains_caip2_compliant",chains_evm_compliant:"chains_evm_compliant",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve",authenticated_session_approve_publish_success:"authenticated_session_approve_publish_success"},tA={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",missing_session_authenticate_request:"missing_session_authenticate_request",session_authenticate_request_expired:"session_authenticate_request_expired",chains_caip2_compliant_failure:"chains_caip2_compliant_failure",chains_evm_compliant_failure:"chains_evm_compliant_failure",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"};var $s=function(ee,et){if(ee.length>=255)throw TypeError("Alphabet too long");for(var ei=new Uint8Array(256),es=0;es<ei.length;es++)ei[es]=255;for(var en=0;en<ee.length;en++){var eo=ee.charAt(en),ea=eo.charCodeAt(0);if(255!==ei[ea])throw TypeError(eo+" is ambiguous");ei[ea]=en}var ec=ee.length,el=ee.charAt(0),eu=Math.log(ec)/Math.log(256),ed=Math.log(256)/Math.log(ec);function y(ee){if("string"!=typeof ee)throw TypeError("Expected String");if(0===ee.length)return new Uint8Array;var et=0;if(" "!==ee[0]){for(var es=0,en=0;ee[et]===el;)es++,et++;for(var eo=(ee.length-et)*eu+1>>>0,ea=new Uint8Array(eo);ee[et];){var ed=ei[ee.charCodeAt(et)];if(255===ed)return;for(var eh=0,ep=eo-1;(0!==ed||eh<en)&&-1!==ep;ep--,eh++)ed+=ec*ea[ep]>>>0,ea[ep]=ed%256>>>0,ed=ed/256>>>0;if(0!==ed)throw Error("Non-zero carry");en=eh,et++}if(" "!==ee[et]){for(var ef=eo-en;ef!==eo&&0===ea[ef];)ef++;for(var eg=new Uint8Array(es+(eo-ef)),em=es;ef!==eo;)eg[em++]=ea[ef++];return eg}}}return{encode:function(et){if(et instanceof Uint8Array||(ArrayBuffer.isView(et)?et=new Uint8Array(et.buffer,et.byteOffset,et.byteLength):Array.isArray(et)&&(et=Uint8Array.from(et))),!(et instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===et.length)return"";for(var ei=0,es=0,en=0,eo=et.length;en!==eo&&0===et[en];)en++,ei++;for(var ea=(eo-en)*ed+1>>>0,eu=new Uint8Array(ea);en!==eo;){for(var eh=et[en],ep=0,ef=ea-1;(0!==eh||ep<es)&&-1!==ef;ef--,ep++)eh+=256*eu[ef]>>>0,eu[ef]=eh%ec>>>0,eh=eh/ec>>>0;if(0!==eh)throw Error("Non-zero carry");es=ep,en++}for(var eg=ea-es;eg!==ea&&0===eu[eg];)eg++;for(var em=el.repeat(ei);eg<ea;++eg)em+=ee.charAt(eu[eg]);return em},decodeUnsafe:y,decode:function(ee){var ei=y(ee);if(ei)return ei;throw Error(`Non-${et} character`)}}};let index_es_Ot=ee=>{if(ee instanceof Uint8Array&&"Uint8Array"===ee.constructor.name)return ee;if(ee instanceof ArrayBuffer)return new Uint8Array(ee);if(ArrayBuffer.isView(ee))return new Uint8Array(ee.buffer,ee.byteOffset,ee.byteLength);throw Error("Unknown type, must be binary type")},ks=ee=>new TextEncoder().encode(ee),Us=ee=>new TextDecoder().decode(ee);let Fs=class Fs{constructor(ee,et,ei){this.name=ee,this.prefix=et,this.baseEncode=ei}encode(ee){if(ee instanceof Uint8Array)return`${this.prefix}${this.baseEncode(ee)}`;throw Error("Unknown type, must be binary type")}};let Ms=class Ms{constructor(ee,et,ei){if(this.name=ee,this.prefix=et,void 0===et.codePointAt(0))throw Error("Invalid prefix character");this.prefixCodePoint=et.codePointAt(0),this.baseDecode=ei}decode(ee){if("string"==typeof ee){if(ee.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(ee)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(ee.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(ee){return index_es_At(this,ee)}};let Ks=class Ks{constructor(ee){this.decoders=ee}or(ee){return index_es_At(this,ee)}decode(ee){let et=ee[0],ei=this.decoders[et];if(ei)return ei.decode(ee);throw RangeError(`Unable to decode multibase string ${JSON.stringify(ee)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};let index_es_At=(ee,et)=>new Ks({...ee.decoders||{[ee.prefix]:ee},...et.decoders||{[et.prefix]:et}});let Bs=class Bs{constructor(ee,et,ei,es){this.name=ee,this.prefix=et,this.baseEncode=ei,this.baseDecode=es,this.encoder=new Fs(ee,et,ei),this.decoder=new Ms(ee,et,es)}encode(ee){return this.encoder.encode(ee)}decode(ee){return this.decoder.decode(ee)}};let index_es_ne=({name:ee,prefix:et,encode:ei,decode:es})=>new Bs(ee,et,ei,es),index_es_W=({prefix:ee,name:et,alphabet:ei})=>{let{encode:es,decode:en}=$s(ei,et);return index_es_ne({prefix:ee,name:et,encode:es,decode:ee=>index_es_Ot(en(ee))})},Vs=(ee,et,ei,es)=>{let en={};for(let ee=0;ee<et.length;++ee)en[et[ee]]=ee;let eo=ee.length;for(;"="===ee[eo-1];)--eo;let ea=new Uint8Array(eo*ei/8|0),ec=0,el=0,eu=0;for(let et=0;et<eo;++et){let eo=en[ee[et]];if(void 0===eo)throw SyntaxError(`Non-${es} character`);el=el<<ei|eo,(ec+=ei)>=8&&(ec-=8,ea[eu++]=255&el>>ec)}if(ec>=ei||255&el<<8-ec)throw SyntaxError("Unexpected end of data");return ea},js=(ee,et,ei)=>{let es="="===et[et.length-1],en=(1<<ei)-1,eo="",ea=0,ec=0;for(let es=0;es<ee.length;++es)for(ec=ec<<8|ee[es],ea+=8;ea>ei;)ea-=ei,eo+=et[en&ec>>ea];if(ea&&(eo+=et[en&ec<<ei-ea]),es)for(;eo.length*ei&7;)eo+="=";return eo},dist_index_es_=({name:ee,prefix:et,bitsPerChar:ei,alphabet:es})=>index_es_ne({prefix:et,name:ee,encode:ee=>js(ee,es,ei),decode:et=>Vs(et,es,ei,ee)}),tI=index_es_ne({prefix:"\x00",name:"identity",encode:ee=>Us(ee),decode:ee=>ks(ee)});var tT=Object.freeze({__proto__:null,identity:tI});let tR=dist_index_es_({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var tD=Object.freeze({__proto__:null,base2:tR});let tk=dist_index_es_({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var tB=Object.freeze({__proto__:null,base8:tk});let tP=index_es_W({prefix:"9",name:"base10",alphabet:"0123456789"});var tO=Object.freeze({__proto__:null,base10:tP});let tC=dist_index_es_({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),tU=dist_index_es_({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var tL=Object.freeze({__proto__:null,base16:tC,base16upper:tU});let tj=dist_index_es_({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),tN=dist_index_es_({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),tM=dist_index_es_({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),tq=dist_index_es_({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),t$=dist_index_es_({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),tF=dist_index_es_({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),tz=dist_index_es_({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),tK=dist_index_es_({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),tH=dist_index_es_({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var tV=Object.freeze({__proto__:null,base32:tj,base32upper:tN,base32pad:tM,base32padupper:tq,base32hex:t$,base32hexupper:tF,base32hexpad:tz,base32hexpadupper:tK,base32z:tH});let tW=index_es_W({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),tJ=index_es_W({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var tG=Object.freeze({__proto__:null,base36:tW,base36upper:tJ});let tY=index_es_W({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),tQ=index_es_W({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var tZ=Object.freeze({__proto__:null,base58btc:tY,base58flickr:tQ});let tX=dist_index_es_({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),t0=dist_index_es_({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),t1=dist_index_es_({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),t5=dist_index_es_({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var t2=Object.freeze({__proto__:null,base64:tX,base64pad:t0,base64url:t1,base64urlpad:t5});let t6=Array.from("\uD83D\uDE80\uD83E\uDE90\uD83D\uDEF0\uD83C\uDF0C\uD83C\uDF11\uD83C\uDF12\uD83C\uDF13\uD83C\uDF14\uD83C\uDF15\uD83C\uDF16\uD83C\uDF17\uD83C\uDF18\uD83C\uDF0D\uD83C\uDF0F\uD83C\uDF0E\uD83D\uDC09\uD83D\uDCBB\uD83D\uDDA5\uD83D\uDCBE\uD83D\uDCBF\uD83D\uDE02\uD83D\uDE0D\uD83E\uDD23\uD83D\uDE0A\uD83D\uDE4F\uD83D\uDC95\uD83D\uDE2D\uD83D\uDE18\uD83D\uDC4D\uD83D\uDE05\uD83D\uDC4F\uD83D\uDE01\uD83D\uDD25\uD83E\uDD70\uD83D\uDC94\uD83D\uDC96\uD83D\uDC99\uD83D\uDE22\uD83E\uDD14\uD83D\uDE06\uD83D\uDE44\uD83D\uDCAA\uD83D\uDE09\uD83D\uDC4C\uD83E\uDD17\uD83D\uDC9C\uD83D\uDE14\uD83D\uDE0E\uD83D\uDE07\uD83C\uDF39\uD83E\uDD26\uD83C\uDF89\uD83D\uDC9E\uD83E\uDD37\uD83D\uDE31\uD83D\uDE0C\uD83C\uDF38\uD83D\uDE4C\uD83D\uDE0B\uD83D\uDC97\uD83D\uDC9A\uD83D\uDE0F\uD83D\uDC9B\uD83D\uDE42\uD83D\uDC93\uD83E\uDD29\uD83D\uDE04\uD83D\uDE00\uD83D\uDDA4\uD83D\uDE03\uD83D\uDCAF\uD83D\uDE48\uD83D\uDC47\uD83C\uDFB6\uD83D\uDE12\uD83E\uDD2D\uD83D\uDE1C\uD83D\uDC8B\uD83D\uDC40\uD83D\uDE2A\uD83D\uDE11\uD83D\uDCA5\uD83D\uDE4B\uD83D\uDE1E\uD83D\uDE29\uD83D\uDE21\uD83E\uDD2A\uD83D\uDC4A\uD83E\uDD73\uD83D\uDE25\uD83E\uDD24\uD83D\uDC49\uD83D\uDC83\uD83D\uDE33\uD83D\uDE1A\uD83D\uDE1D\uD83D\uDE34\uD83C\uDF1F\uD83D\uDE2C\uD83D\uDE43\uD83C\uDF40\uD83C\uDF37\uD83D\uDE3B\uD83D\uDE13\uD83E\uDD7A\uD83C\uDF08\uD83D\uDE08\uD83E\uDD18\uD83D\uDCA6\uD83D\uDE23\uD83C\uDFC3\uD83D\uDC90\uD83C\uDF8A\uD83D\uDC98\uD83D\uDE20\uD83D\uDE15\uD83C\uDF3A\uD83C\uDF82\uD83C\uDF3B\uD83D\uDE10\uD83D\uDD95\uD83D\uDC9D\uD83D\uDE4A\uD83D\uDE39\uD83D\uDDE3\uD83D\uDCAB\uD83D\uDC80\uD83D\uDC51\uD83C\uDFB5\uD83E\uDD1E\uD83D\uDE1B\uD83D\uDD34\uD83D\uDE24\uD83C\uDF3C\uD83D\uDE2B\uD83E\uDD19\uD83C\uDFC6\uD83E\uDD2B\uD83D\uDC48\uD83D\uDE2E\uD83D\uDE46\uD83C\uDF7B\uD83C\uDF43\uD83D\uDC36\uD83D\uDC81\uD83D\uDE32\uD83C\uDF3F\uD83E\uDDE1\uD83C\uDF81\uD83C\uDF1E\uD83C\uDF88\uD83D\uDC4B\uD83D\uDE30\uD83E\uDD28\uD83D\uDE36\uD83E\uDD1D\uD83D\uDEB6\uD83D\uDCB0\uD83C\uDF53\uD83D\uDCA2\uD83E\uDD1F\uD83D\uDE41\uD83D\uDEA8\uD83D\uDCA8\uD83E\uDD2C\uD83C\uDF80\uD83C\uDF7A\uD83E\uDD13\uD83D\uDE19\uD83D\uDC9F\uD83C\uDF31\uD83D\uDE16\uD83D\uDC76\uD83E\uDD74\uD83D\uDC8E\uD83D\uDCB8\uD83D\uDE28\uD83C\uDF1A\uD83E\uDD8B\uD83D\uDE37\uD83D\uDD7A\uD83D\uDE45\uD83D\uDE1F\uD83D\uDE35\uD83D\uDC4E\uD83E\uDD32\uD83E\uDD20\uD83E\uDD27\uD83D\uDCCC\uD83D\uDD35\uD83D\uDC85\uD83E\uDDD0\uD83D\uDC3E\uD83C\uDF52\uD83D\uDE17\uD83E\uDD11\uD83C\uDF0A\uD83E\uDD2F\uD83D\uDC37\uD83D\uDCA7\uD83D\uDE2F\uD83D\uDC86\uD83D\uDC46\uD83C\uDFA4\uD83D\uDE47\uD83C\uDF51\uD83C\uDF34\uD83D\uDCA3\uD83D\uDC38\uD83D\uDC8C\uD83D\uDCCD\uD83E\uDD40\uD83E\uDD22\uD83D\uDC45\uD83D\uDCA1\uD83D\uDCA9\uD83D\uDC50\uD83D\uDCF8\uD83D\uDC7B\uD83E\uDD10\uD83E\uDD2E\uD83C\uDFBC\uD83E\uDD75\uD83D\uDEA9\uD83C\uDF4E\uD83C\uDF4A\uD83D\uDC7C\uD83D\uDC8D\uD83D\uDCE3\uD83E\uDD42"),t3=t6.reduce((ee,et,ei)=>(ee[ei]=et,ee),[]),t8=t6.reduce((ee,et,ei)=>(ee[et.codePointAt(0)]=ei,ee),[]),t4=index_es_ne({prefix:"\uD83D\uDE80",name:"base256emoji",encode:function(ee){return ee.reduce((ee,et)=>ee+=t3[et],"")},decode:function(ee){let et=[];for(let ei of ee){let ee=t8[ei.codePointAt(0)];if(void 0===ee)throw Error(`Non-base256emoji character: ${ei}`);et.push(ee)}return new Uint8Array(et)}});var t9=Object.freeze({__proto__:null,base256emoji:t4});function index_es_Lt(ee,et,ei){et=et||[],ei=ei||0;for(var es=ei;ee>=2147483648;)et[ei++]=255&ee|128,ee/=128;for(;-128&ee;)et[ei++]=255&ee|128,ee>>>=7;return et[ei]=0|ee,index_es_Lt.bytes=ei-es+1,et}function _e(ee,et){var ei,es=0,et=et||0,en=0,eo=et,ea=ee.length;do{if(eo>=ea)throw _e.bytes=0,RangeError("Could not decode varint");ei=ee[eo++],es+=en<28?(127&ei)<<en:(127&ei)*Math.pow(2,en),en+=7}while(ei>=128);return _e.bytes=eo-et,es}var t7={encode:index_es_Lt,decode:_e,encodingLength:function(ee){return ee<128?1:ee<16384?2:ee<2097152?3:ee<268435456?4:ee<34359738368?5:ee<4398046511104?6:ee<562949953421312?7:ee<72057594037927940?8:ee<0x7fffffffffffffff?9:10}};let index_es_Ut=(ee,et,ei=0)=>(t7.encode(ee,et,ei),et),index_es_Ft=ee=>t7.encodingLength(ee),index_es_Ee=(ee,et)=>{let ei=et.byteLength,es=index_es_Ft(ee),en=es+index_es_Ft(ei),eo=new Uint8Array(en+ei);return index_es_Ut(ee,eo,0),index_es_Ut(ei,eo,es),eo.set(et,en),new index_es_Gr(ee,ei,et,eo)};let index_es_Gr=class index_es_Gr{constructor(ee,et,ei,es){this.code=ee,this.size=et,this.digest=ei,this.bytes=es}};let index_es_Mt=({name:ee,code:et,encode:ei})=>new index_es_Hr(ee,et,ei);let index_es_Hr=class index_es_Hr{constructor(ee,et,ei){this.name=ee,this.code=et,this.encode=ei}digest(ee){if(ee instanceof Uint8Array){let et=this.encode(ee);return et instanceof Uint8Array?index_es_Ee(this.code,et):et.then(ee=>index_es_Ee(this.code,ee))}throw Error("Unknown type, must be binary type")}};let index_es_Kt=ee=>async et=>new Uint8Array(await crypto.subtle.digest(ee,et)),rt=index_es_Mt({name:"sha2-256",code:18,encode:index_es_Kt("SHA-256")}),rr=index_es_Mt({name:"sha2-512",code:19,encode:index_es_Kt("SHA-512")});var rs=Object.freeze({__proto__:null,sha256:rt,sha512:rr}),rn=Object.freeze({__proto__:null,identity:{code:0,name:"identity",encode:index_es_Ot,digest:ee=>index_es_Ee(0,index_es_Ot(ee))}});new TextEncoder,new TextDecoder;let ro={...tT,...tD,...tB,...tO,...tL,...tV,...tG,...tZ,...t2,...t9};function index_es_qt(ee,et,ei,es){return{name:ee,prefix:et,encoder:{name:ee,prefix:et,encode:ei},decoder:{decode:es}}}({...rs,...rn});let ra=index_es_qt("utf8","u",ee=>"u"+new TextDecoder("utf8").decode(ee),ee=>new TextEncoder().encode(ee.substring(1))),rc=index_es_qt("ascii","a",ee=>{let et="a";for(let ei=0;ei<ee.length;ei++)et+=String.fromCharCode(ee[ei]);return et},ee=>{ee=ee.substring(1);let et=function(ee=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?globalThis.Buffer.allocUnsafe(ee):new Uint8Array(ee)}(ee.length);for(let ei=0;ei<ee.length;ei++)et[ei]=ee.charCodeAt(ei);return et}),rl={utf8:ra,"utf-8":ra,hex:ro.base16,latin1:rc,ascii:rc,binary:rc,...ro};let index_es_Ht=class index_es_Ht{constructor(ee,et){this.core=ee,this.logger=et,this.keychain=new Map,this.name="keychain",this.version="0.3",this.initialized=!1,this.storagePrefix=e3,this.init=async()=>{if(!this.initialized){let ee=await this.getKeyChain();"u">typeof ee&&(this.keychain=ee),this.initialized=!0}},this.has=ee=>(this.isInitialized(),this.keychain.has(ee)),this.set=async(ee,et)=>{this.isInitialized(),this.keychain.set(ee,et),await this.persist()},this.get=ee=>{this.isInitialized();let et=this.keychain.get(ee);if(typeof et>"u"){let{message:et}=S("NO_MATCHING_KEY",`${this.name}: ${ee}`);throw Error(et)}return et},this.del=async ee=>{this.isInitialized(),this.keychain.delete(ee),await this.persist()},this.core=ee,this.logger=(0,e_.Ep)(et,this.name)}get context(){return(0,e_.Fd)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(ee){await this.core.storage.setItem(this.storageKey,At(ee))}async getKeyChain(){let ee=await this.core.storage.getItem(this.storageKey);return"u">typeof ee?Ct(ee):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){let{message:ee}=S("NOT_INITIALIZED",this.name);throw Error(ee)}}};let index_es_Yt=class index_es_Yt{constructor(ee,et,ei){this.core=ee,this.logger=et,this.name="crypto",this.randomSessionIdentifier=yr(),this.initialized=!1,this.init=async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)},this.hasKeys=ee=>(this.isInitialized(),this.keychain.has(ee)),this.getClientId=async()=>{this.isInitialized();let ee=await this.getClientSeed(),et=ew.generateKeyPair(ee);return ew.encodeIss(et.publicKey)},this.generateKeyPair=()=>{this.isInitialized();let ee=function(){let ee=ek.Au();return{privateKey:(0,eB.BB)(ee.secretKey,ez),publicKey:(0,eB.BB)(ee.publicKey,ez)}}();return this.setPrivateKey(ee.publicKey,ee.privateKey)},this.signJWT=async ee=>{this.isInitialized();let et=await this.getClientSeed(),ei=ew.generateKeyPair(et),es=this.randomSessionIdentifier;return await ew.signJWT(es,ee,e7,ei)},this.generateSharedKey=(ee,et,ei)=>{this.isInitialized();let es=this.getPrivateKey(ee),en=function(ee,et){let ei=ek.gi((0,eB.mL)(ee,ez),(0,eB.mL)(et,ez),!0),es=new eT.t(eD.mE,ei).expand(32);return(0,eB.BB)(es,ez)}(es,et);return this.setSymKey(en,ei)},this.setSymKey=async(ee,et)=>{this.isInitialized();let ei=et||function(ee){let et=(0,eD.vp)((0,eB.mL)(ee,ez));return(0,eB.BB)(et,ez)}(ee);return await this.keychain.set(ei,ee),ei},this.deleteKeyPair=async ee=>{this.isInitialized(),await this.keychain.del(ee)},this.deleteSymKey=async ee=>{this.isInitialized(),await this.keychain.del(ee)},this.encode=async(ee,et,ei)=>{this.isInitialized();let es=On(ei),en=(0,em.u)(et);if(2===es.type)return function(ee,et){let ei=Ee(2),es=(0,eR.randomBytes)(12),en=(0,eB.mL)(ee,eH);return we({type:ei,sealed:en,iv:es,encoding:et})}(en,ei?.encoding);if($r(es)){let et=es.senderPublicKey,ei=es.receiverPublicKey;ee=await this.generateSharedKey(et,ei)}let eo=this.getSymKey(ee),{type:ea,senderPublicKey:ec}=es;return function(ee){let et=Ee("u">typeof ee.type?ee.type:0);if(1===index_es_C(et)&&typeof ee.senderPublicKey>"u")throw Error("Missing sender public key for type 1 envelope");let ei="u">typeof ee.senderPublicKey?(0,eB.mL)(ee.senderPublicKey,ez):void 0,es="u">typeof ee.iv?(0,eB.mL)(ee.iv,ez):(0,eR.randomBytes)(12),en=new eI.OK((0,eB.mL)(ee.symKey,ez)).seal(es,(0,eB.mL)(ee.message,eH));return we({type:et,sealed:en,iv:es,senderPublicKey:ei,encoding:ee.encoding})}({type:ea,symKey:eo,message:en,senderPublicKey:ec,encoding:ei?.encoding})},this.decode=async(ee,et,ei)=>{this.isInitialized();let es=function(ee,et){let ei=Q({encoded:ee,encoding:et?.encoding});return On({type:index_es_C(ei.type),senderPublicKey:"u">typeof ei.senderPublicKey?(0,eB.BB)(ei.senderPublicKey,ez):void 0,receiverPublicKey:et?.receiverPublicKey})}(et,ei);if(2===es.type){let ee=function(ee,et){let{sealed:ei}=Q({encoded:ee,encoding:et});return(0,eB.BB)(ei,eH)}(et,ei?.encoding);return(0,em.D)(ee)}if($r(es)){let et=es.receiverPublicKey,ei=es.senderPublicKey;ee=await this.generateSharedKey(et,ei)}try{let es=this.getSymKey(ee),en=function(ee){let et=new eI.OK((0,eB.mL)(ee.symKey,ez)),{sealed:ei,iv:es}=Q({encoded:ee.encoded,encoding:ee?.encoding}),en=et.open(es,ei);if(null===en)throw Error("Failed to decrypt");return(0,eB.BB)(en,eH)}({symKey:es,encoded:et,encoding:ei?.encoding});return(0,em.D)(en)}catch(et){this.logger.error(`Failed to decode message from topic: '${ee}', clientId: '${await this.getClientId()}'`),this.logger.error(et)}},this.getPayloadType=(ee,et=eK)=>{let ei=Q({encoded:ee,encoding:et});return index_es_C(ei.type)},this.getPayloadSenderPublicKey=(ee,et=eK)=>{let ei=Q({encoded:ee,encoding:et});return ei.senderPublicKey?(0,eB.BB)(ei.senderPublicKey,ez):void 0},this.core=ee,this.logger=(0,e_.Ep)(et,this.name),this.keychain=ei||new index_es_Ht(this.core,this.logger)}get context(){return(0,e_.Fd)(this.logger)}async setPrivateKey(ee,et){return await this.keychain.set(ee,et),ee}getPrivateKey(ee){return this.keychain.get(ee)}async getClientSeed(){let ee="";try{ee=this.keychain.get(e9)}catch{ee=yr(),await this.keychain.set(e9,ee)}return function(ee,et="utf8"){let ei=rl[et];if(!ei)throw Error(`Unsupported encoding "${et}"`);return("utf8"===et||"utf-8"===et)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?globalThis.Buffer.from(ee,"utf8"):ei.decoder.decode(`${ei.prefix}${ee}`)}(ee,"base16")}getSymKey(ee){return this.keychain.get(ee)}isInitialized(){if(!this.initialized){let{message:ee}=S("NOT_INITIALIZED",this.name);throw Error(ee)}}};let index_es_Jt=class index_es_Jt extends ev.kZ{constructor(ee,et){super(ee,et),this.logger=ee,this.core=et,this.messages=new Map,this.name="messages",this.version="0.3",this.initialized=!1,this.storagePrefix=e3,this.init=async()=>{if(!this.initialized){this.logger.trace("Initialized");try{let ee=await this.getRelayerMessages();"u">typeof ee&&(this.messages=ee),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(ee){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(ee)}finally{this.initialized=!0}}},this.set=async(ee,et)=>{this.isInitialized();let ei=br(et),es=this.messages.get(ee);return typeof es>"u"&&(es={}),"u">typeof es[ei]||(es[ei]=et,this.messages.set(ee,es),await this.persist()),ei},this.get=ee=>{this.isInitialized();let et=this.messages.get(ee);return typeof et>"u"&&(et={}),et},this.has=(ee,et)=>{this.isInitialized();let ei=this.get(ee),es=br(et);return"u">typeof ei[es]},this.del=async ee=>{this.isInitialized(),this.messages.delete(ee),await this.persist()},this.logger=(0,e_.Ep)(ee,this.name),this.core=et}get context(){return(0,e_.Fd)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setRelayerMessages(ee){await this.core.storage.setItem(this.storageKey,At(ee))}async getRelayerMessages(){let ee=await this.core.storage.getItem(this.storageKey);return"u">typeof ee?Ct(ee):void 0}async persist(){await this.setRelayerMessages(this.messages)}isInitialized(){if(!this.initialized){let{message:ee}=S("NOT_INITIALIZED",this.name);throw Error(ee)}}};var ru=Object.defineProperty,rd=Object.defineProperties,rh=Object.getOwnPropertyDescriptors,rp=Object.getOwnPropertySymbols,rf=Object.prototype.hasOwnProperty,rg=Object.prototype.propertyIsEnumerable,index_es_Wt=(ee,et,ei)=>et in ee?ru(ee,et,{enumerable:!0,configurable:!0,writable:!0,value:ei}):ee[et]=ei,index_es_Zt=(ee,et)=>{for(var ei in et||(et={}))rf.call(et,ei)&&index_es_Wt(ee,ei,et[ei]);if(rp)for(var ei of rp(et))rg.call(et,ei)&&index_es_Wt(ee,ei,et[ei]);return ee},index_es_Qt=(ee,et)=>rd(ee,rh(et));let index_es_ln=class index_es_ln extends ev.z9{constructor(ee,et){super(ee,et),this.relayer=ee,this.logger=et,this.events=new en.EventEmitter,this.name="publisher",this.queue=new Map,this.publishTimeout=(0,ea.toMiliseconds)(ea.ONE_MINUTE),this.initialPublishTimeout=(0,ea.toMiliseconds)(15*ea.ONE_SECOND),this.needsTransportRestart=!1,this.publish=async(ee,et,ei)=>{var es;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:ee,message:et,opts:ei}});let en=ei?.ttl||te,eo=Tr(ei),ea=ei?.prompt||!1,ec=ei?.tag||0,el=ei?.id||(0,e0.getBigIntRpcId)().toString(),eu={topic:ee,message:et,opts:{ttl:en,relay:eo,prompt:ea,tag:ec,id:el,attestation:ei?.attestation}},ed=`Failed to publish payload, please try again. id:${el} tag:${ec}`;try{let es=new Promise(async es=>{let w=({id:ee})=>{eu.opts.id===ee&&(this.removeRequestFromQueue(ee),this.relayer.events.removeListener(ts.publish,w),es(eu))};this.relayer.events.on(ts.publish,w);let eo=xt(new Promise((es,eo)=>{this.rpcPublish({topic:ee,message:et,ttl:en,prompt:ea,tag:ec,id:el,attestation:ei?.attestation}).then(es).catch(ee=>{this.logger.warn(ee,ee?.message),eo(ee)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${el} tag:${ec}`);try{await eo,this.events.removeListener(ts.publish,w)}catch(ee){this.queue.set(el,index_es_Qt(index_es_Zt({},eu),{attempt:1})),this.logger.warn(ee,ee?.message)}});this.logger.trace({type:"method",method:"publish",params:{id:el,topic:ee,message:et,opts:ei}}),await xt(es,this.publishTimeout,ed)}catch(ee){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(ee),null!=(es=ei?.internal)&&es.throwOnFailedPublish)throw ee}finally{this.queue.delete(el)}},this.on=(ee,et)=>{this.events.on(ee,et)},this.once=(ee,et)=>{this.events.once(ee,et)},this.off=(ee,et)=>{this.events.off(ee,et)},this.removeListener=(ee,et)=>{this.events.removeListener(ee,et)},this.relayer=ee,this.logger=(0,e_.Ep)(et,this.name),this.registerEventListeners()}get context(){return(0,e_.Fd)(this.logger)}async rpcPublish(ee){var et,ei,es,en;let{topic:eo,message:ea,ttl:ec=te,prompt:el,tag:eu,id:ed,attestation:eh}=ee,ep={method:Ar(Tr().protocol).publish,params:{topic:eo,message:ea,ttl:ec,prompt:el,tag:eu,attestation:eh},id:ed};P(null==(et=ep.params)?void 0:et.prompt)&&(null==(ei=ep.params)||delete ei.prompt),P(null==(es=ep.params)?void 0:es.tag)&&(null==(en=ep.params)||delete en.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:ep});let ef=await this.relayer.request(ep);return this.relayer.events.emit(ts.publish,ee),this.logger.debug("Successfully Published Payload"),ef}removeRequestFromQueue(ee){this.queue.delete(ee)}checkQueue(){this.queue.forEach(async(ee,et)=>{let ei=ee.attempt+1;this.queue.set(et,index_es_Qt(index_es_Zt({},ee),{attempt:ei}));let{topic:es,message:en,opts:eo,attestation:ea}=ee;this.logger.warn({},`Publisher: queue->publishing: ${ee.opts.id}, tag: ${ee.opts.tag}, attempt: ${ei}`),await this.rpcPublish({topic:es,message:en,ttl:eo.ttl,prompt:eo.prompt,tag:eo.tag,id:eo.id,attestation:ea}),this.logger.warn({},`Publisher: queue->published: ${ee.opts.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(eu.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(ts.connection_stalled);return}this.checkQueue()}),this.relayer.on(ts.message_ack,ee=>{this.removeRequestFromQueue(ee.id.toString())})}};let index_es_un=class index_es_un{constructor(){this.map=new Map,this.set=(ee,et)=>{let ei=this.get(ee);this.exists(ee,et)||this.map.set(ee,[...ei,et])},this.get=ee=>this.map.get(ee)||[],this.exists=(ee,et)=>this.get(ee).includes(et),this.delete=(ee,et)=>{if(typeof et>"u"){this.map.delete(ee);return}if(!this.map.has(ee))return;let ei=this.get(ee);if(!this.exists(ee,et))return;let es=ei.filter(ee=>ee!==et);if(!es.length){this.map.delete(ee);return}this.map.set(ee,es)},this.clear=()=>{this.map.clear()}}get topics(){return Array.from(this.map.keys())}};var rm=Object.defineProperty,ry=Object.defineProperties,rb=Object.getOwnPropertyDescriptors,r_=Object.getOwnPropertySymbols,rv=Object.prototype.hasOwnProperty,rw=Object.prototype.propertyIsEnumerable,ti=(ee,et,ei)=>et in ee?rm(ee,et,{enumerable:!0,configurable:!0,writable:!0,value:ei}):ee[et]=ei,index_es_Z=(ee,et)=>{for(var ei in et||(et={}))rv.call(et,ei)&&ti(ee,ei,et[ei]);if(r_)for(var ei of r_(et))rw.call(et,ei)&&ti(ee,ei,et[ei]);return ee},Ie=(ee,et)=>ry(ee,rb(et));let ii=class ii extends ev.sY{constructor(ee,et){super(ee,et),this.relayer=ee,this.logger=et,this.subscriptions=new Map,this.topicMap=new index_es_un,this.events=new en.EventEmitter,this.name="subscription",this.version="0.3",this.pending=new Map,this.cached=[],this.initialized=!1,this.pendingSubscriptionWatchLabel="pending_sub_watch_label",this.pollingInterval=20,this.storagePrefix=e3,this.subscribeTimeout=(0,ea.toMiliseconds)(ea.ONE_MINUTE),this.initialSubscribeTimeout=(0,ea.toMiliseconds)(15*ea.ONE_SECOND),this.batchSubscribeTopicsLimit=500,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),this.clientId=await this.relayer.core.crypto.getClientId(),await this.restore()),this.initialized=!0},this.subscribe=async(ee,et)=>{this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:ee,opts:et}});try{let ei=Tr(et),es={topic:ee,relay:ei,transportType:et?.transportType};this.pending.set(ee,es);let en=await this.rpcSubscribe(ee,ei,et);return"string"==typeof en&&(this.onSubscribe(en,es),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:ee,opts:et}})),en}catch(ee){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(ee),ee}},this.unsubscribe=async(ee,et)=>{await this.restartToComplete(),this.isInitialized(),"u">typeof et?.id?await this.unsubscribeById(ee,et.id,et):await this.unsubscribeByTopic(ee,et)},this.isSubscribed=async ee=>{if(this.topics.includes(ee))return!0;let et=`${this.pendingSubscriptionWatchLabel}_${ee}`;return await new Promise((ei,es)=>{let en=new ea.Watch;en.start(et);let eo=setInterval(()=>{(!this.pending.has(ee)&&this.topics.includes(ee)||this.cached.some(et=>et.topic===ee))&&(clearInterval(eo),en.stop(et),ei(!0)),en.elapsed(et)>=td&&(clearInterval(eo),en.stop(et),es(Error("Subscription resolution timeout")))},this.pollingInterval)}).catch(()=>!1)},this.on=(ee,et)=>{this.events.on(ee,et)},this.once=(ee,et)=>{this.events.once(ee,et)},this.off=(ee,et)=>{this.events.off(ee,et)},this.removeListener=(ee,et)=>{this.events.removeListener(ee,et)},this.start=async()=>{await this.onConnect()},this.stop=async()=>{await this.onDisconnect()},this.restart=async()=>{await this.restore(),await this.onRestart()},this.checkPending=async()=>{if(0===this.pending.size&&(!this.initialized||!this.relayer.connected))return;let ee=[];this.pending.forEach(et=>{ee.push(et)}),await this.batchSubscribe(ee)},this.registerEventListeners=()=>{this.relayer.core.heartbeat.on(eu.pulse,async()=>{await this.checkPending()}),this.events.on(tu.created,async ee=>{let et=tu.created;this.logger.info(`Emitting ${et}`),this.logger.debug({type:"event",event:et,data:ee}),await this.persist()}),this.events.on(tu.deleted,async ee=>{let et=tu.deleted;this.logger.info(`Emitting ${et}`),this.logger.debug({type:"event",event:et,data:ee}),await this.persist()})},this.relayer=ee,this.logger=(0,e_.Ep)(et,this.name),this.clientId=""}get context(){return(0,e_.Fd)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}hasSubscription(ee,et){let ei=!1;try{ei=this.getSubscription(ee).topic===et}catch{}return ei}reset(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(ee,et){let ei=this.topicMap.get(ee);await Promise.all(ei.map(async ei=>await this.unsubscribeById(ee,ei,et)))}async unsubscribeById(ee,et,ei){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:ee,id:et,opts:ei}});try{let es=Tr(ei);await this.rpcUnsubscribe(ee,et,es);let en=index_es_("USER_DISCONNECTED",`${this.name}, ${ee}`);await this.onUnsubscribe(ee,et,en),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:ee,id:et,opts:ei}})}catch(ee){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(ee),ee}}async rpcSubscribe(ee,et,ei){var es;ei?.transportType===tc.relay&&await this.restartToComplete();let en={method:Ar(et.protocol).subscribe,params:{topic:ee}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:en});let eo=null==(es=ei?.internal)?void 0:es.throwOnFailedPublish;try{let et=this.getSubscriptionId(ee);if(ei?.transportType===tc.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(en).catch(ee=>this.logger.warn(ee))},(0,ea.toMiliseconds)(ea.ONE_SECOND)),et;let es=new Promise(async et=>{let d=ei=>{ei.topic===ee&&(this.events.removeListener(tu.created,d),et(ei.id))};this.events.on(tu.created,d);try{let ei=await xt(new Promise((ee,et)=>{this.relayer.request(en).catch(ee=>{this.logger.warn(ee,ee?.message),et(ee)}).then(ee)}),this.initialSubscribeTimeout,`Subscribing to ${ee} failed, please try again`);this.events.removeListener(tu.created,d),et(ei)}catch{}}),ec=await xt(es,this.subscribeTimeout,`Subscribing to ${ee} failed, please try again`);if(!ec&&eo)throw Error(`Subscribing to ${ee} failed, please try again`);return ec?et:null}catch(ee){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(ts.connection_stalled),eo)throw ee}return null}async rpcBatchSubscribe(ee){if(!ee.length)return;let et=ee[0].relay,ei={method:Ar(et.protocol).batchSubscribe,params:{topics:ee.map(ee=>ee.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:ei});try{await await xt(new Promise(ee=>{this.relayer.request(ei).catch(ee=>this.logger.warn(ee)).then(ee)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(ts.connection_stalled)}}async rpcBatchFetchMessages(ee){let et;if(!ee.length)return;let ei=ee[0].relay,es={method:Ar(ei.protocol).batchFetchMessages,params:{topics:ee.map(ee=>ee.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:es});try{et=await await xt(new Promise((ee,et)=>{this.relayer.request(es).catch(ee=>{this.logger.warn(ee),et(ee)}).then(ee)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(ts.connection_stalled)}return et}rpcUnsubscribe(ee,et,ei){let es={method:Ar(ei.protocol).unsubscribe,params:{topic:ee,id:et}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:es}),this.relayer.request(es)}onSubscribe(ee,et){this.setSubscription(ee,Ie(index_es_Z({},et),{id:ee})),this.pending.delete(et.topic)}onBatchSubscribe(ee){ee.length&&ee.forEach(ee=>{this.setSubscription(ee.id,index_es_Z({},ee)),this.pending.delete(ee.topic)})}async onUnsubscribe(ee,et,ei){this.events.removeAllListeners(et),this.hasSubscription(et,ee)&&this.deleteSubscription(et,ei),await this.relayer.messages.del(ee)}async setRelayerSubscriptions(ee){await this.relayer.core.storage.setItem(this.storageKey,ee)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(ee,et){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:ee,subscription:et}),this.addSubscription(ee,et)}addSubscription(ee,et){this.subscriptions.set(ee,index_es_Z({},et)),this.topicMap.set(et.topic,ee),this.events.emit(tu.created,et)}getSubscription(ee){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:ee});let et=this.subscriptions.get(ee);if(!et){let{message:et}=S("NO_MATCHING_KEY",`${this.name}: ${ee}`);throw Error(et)}return et}deleteSubscription(ee,et){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:ee,reason:et});let ei=this.getSubscription(ee);this.subscriptions.delete(ee),this.topicMap.delete(ei.topic,ee),this.events.emit(tu.deleted,Ie(index_es_Z({},ei),{reason:et}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(tu.sync)}async onRestart(){if(this.cached.length){let ee=[...this.cached],et=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let ei=0;ei<et;ei++){let et=ee.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(et)}}this.events.emit(tu.resubscribed)}async restore(){try{let ee=await this.getRelayerSubscriptions();if(typeof ee>"u"||!ee.length)return;if(this.subscriptions.size){let{message:ee}=S("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(ee),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),Error(ee)}this.cached=ee,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(ee){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(ee)}}async batchSubscribe(ee){ee.length&&(await this.rpcBatchSubscribe(ee),this.onBatchSubscribe(ee.map(ee=>Ie(index_es_Z({},ee),{id:this.getSubscriptionId(ee.topic)}))))}async batchFetchMessages(ee){var et;if(!ee.length)return;this.logger.trace(`Fetching batch messages for ${ee.length} subscriptions`);let ei=await this.rpcBatchFetchMessages(ee);ei&&ei.messages&&(await (et=(0,ea.toMiliseconds)(ea.ONE_SECOND),new Promise(ee=>setTimeout(ee,et))),await this.relayer.handleBatchMessageEvents(ei.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){let{message:ee}=S("NOT_INITIALIZED",this.name);throw Error(ee)}}async restartToComplete(){this.relayer.connected||this.relayer.connecting||await this.relayer.transportOpen()}getSubscriptionId(ee){return br(ee+this.clientId)}};var rx=Object.defineProperty,rS=Object.getOwnPropertySymbols,rE=Object.prototype.hasOwnProperty,rA=Object.prototype.propertyIsEnumerable,ri=(ee,et,ei)=>et in ee?rx(ee,et,{enumerable:!0,configurable:!0,writable:!0,value:ei}):ee[et]=ei,ni=(ee,et)=>{for(var ei in et||(et={}))rE.call(et,ei)&&ri(ee,ei,et[ei]);if(rS)for(var ei of rS(et))rA.call(et,ei)&&ri(ee,ei,et[ei]);return ee};let oi=class oi extends ev.oe{constructor(ee){super(ee),this.protocol="wc",this.version=2,this.events=new en.EventEmitter,this.name="relayer",this.transportExplicitlyClosed=!1,this.initialized=!1,this.connectionAttemptInProgress=!1,this.hasExperiencedNetworkDisruption=!1,this.heartBeatTimeout=(0,ea.toMiliseconds)(ea.THIRTY_SECONDS+ea.FIVE_SECONDS),this.requestsInFlight=[],this.connectTimeout=(0,ea.toMiliseconds)(15*ea.ONE_SECOND),this.request=async ee=>{var et,ei;this.logger.debug("Publishing Request Payload");let es=ee.id||(0,e0.getBigIntRpcId)().toString();await this.toEstablishConnection();try{this.logger.trace({id:es,method:ee.method,topic:null==(et=ee.params)?void 0:et.topic},"relayer.request - publishing...");let en=`${es}:${(null==(ei=ee.params)?void 0:ei.tag)||""}`;this.requestsInFlight.push(en);let eo=await this.provider.request(ee);return this.requestsInFlight=this.requestsInFlight.filter(ee=>ee!==en),eo}catch(ee){throw this.logger.debug(`Failed to Publish Request: ${es}`),ee}},this.resetPingTimeout=()=>{if(ce())try{clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var ee,et,ei;this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),null==(ei=null==(et=null==(ee=this.provider)?void 0:ee.connection)?void 0:et.socket)||ei.terminate()},this.heartBeatTimeout)}catch(ee){this.logger.warn(ee,ee?.message)}},this.onPayloadHandler=ee=>{this.onProviderPayload(ee),this.resetPingTimeout()},this.onConnectHandler=()=>{this.logger.warn({},"Relayer connected \uD83D\uDEDC"),this.startPingTimeout(),this.events.emit(ts.connect)},this.onDisconnectHandler=()=>{this.logger.warn({},"Relayer disconnected \uD83D\uDED1"),this.requestsInFlight=[],this.onProviderDisconnect()},this.onProviderErrorHandler=ee=>{this.logger.fatal(ee,`Fatal socket error: ${ee?.message}`),this.events.emit(ts.error,ee),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()},this.registerProviderListeners=()=>{this.provider.on(to.payload,this.onPayloadHandler),this.provider.on(to.connect,this.onConnectHandler),this.provider.on(to.disconnect,this.onDisconnectHandler),this.provider.on(to.error,this.onProviderErrorHandler)},this.core=ee.core,this.logger="u">typeof ee.logger&&"string"!=typeof ee.logger?(0,e_.Ep)(ee.logger,this.name):(0,e_.gw)((0,e_.jI)({level:ee.logger||"error"})),this.messages=new index_es_Jt(this.logger,ee.core),this.subscriber=new ii(this,this.logger),this.publisher=new index_es_ln(this,this.logger),this.relayUrl=ee?.relayUrl||tr,this.projectId=ee.projectId,$()&&"u">typeof ei.g&&"u">typeof(null==ei.g?void 0:ei.g.Platform)&&(null==ei.g?void 0:ei.g.Platform.OS)==="android"?this.packageName=St():$()&&"u">typeof ei.g&&"u">typeof(null==ei.g?void 0:ei.g.Platform)&&(null==ei.g?void 0:ei.g.Platform.OS)==="ios"&&(this.bundleId=St()),this.provider={}}async init(){if(this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.subscriber.cached.length>0)try{await this.transportOpen()}catch(ee){this.logger.warn(ee,ee?.message)}}get context(){return(0,e_.Fd)(this.logger)}get connected(){var ee,et,ei;return(null==(ei=null==(et=null==(ee=this.provider)?void 0:ee.connection)?void 0:et.socket)?void 0:ei.readyState)===1}get connecting(){var ee,et,ei;return(null==(ei=null==(et=null==(ee=this.provider)?void 0:ee.connection)?void 0:et.socket)?void 0:ei.readyState)===0}async publish(ee,et,ei){this.isInitialized(),await this.publisher.publish(ee,et,ei),await this.recordMessageEvent({topic:ee,message:et,publishedAt:Date.now(),transportType:tc.relay})}async subscribe(ee,et){var ei,es,en;this.isInitialized(),null!=et&&et.transportType&&et?.transportType!=="relay"||await this.toEstablishConnection();let eo=typeof(null==(ei=et?.internal)?void 0:ei.throwOnFailedPublish)>"u"||(null==(es=et?.internal)?void 0:es.throwOnFailedPublish),ea=(null==(en=this.subscriber.topicMap.get(ee))?void 0:en[0])||"",ec,h=et=>{et.topic===ee&&(this.subscriber.off(tu.created,h),ec())};return await Promise.all([new Promise(ee=>{ec=ee,this.subscriber.on(tu.created,h)}),new Promise(async(ei,es)=>{ea=await this.subscriber.subscribe(ee,ni({internal:{throwOnFailedPublish:eo}},et)).catch(ee=>{eo&&es(ee)})||ea,ei()})]),ea}async unsubscribe(ee,et){this.isInitialized(),await this.subscriber.unsubscribe(ee,et)}on(ee,et){this.events.on(ee,et)}once(ee,et){this.events.once(ee,et)}off(ee,et){this.events.off(ee,et)}removeListener(ee,et){this.events.removeListener(ee,et)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await xt(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(ee){if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(et,ei)=>{await this.connect(ee).then(et).catch(ei).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(ee){this.logger.debug({},"Restarting transport..."),this.connectionAttemptInProgress||(this.relayUrl=ee||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await go())throw Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(ee){if(ee?.length===0){this.logger.trace("Batch message events is empty. Ignoring...");return}let et=ee.sort((ee,et)=>ee.publishedAt-et.publishedAt);for(let ee of(this.logger.debug(`Batch of ${et.length} message events sorted`),et))try{await this.onMessageEvent(ee)}catch(ee){this.logger.warn(ee,"Error while processing batch message event: "+ee?.message)}this.logger.trace(`Batch of ${et.length} message events processed`)}async onLinkMessageEvent(ee,et){let{topic:ei}=ee;if(!et.sessionExists){let ee=Lt(ea.FIVE_MINUTES);await this.core.pairing.pairings.set(ei,{topic:ei,expiry:ee,relay:{protocol:"irn"},active:!1})}this.events.emit(ts.message,ee),await this.recordMessageEvent(ee)}async connect(ee){await this.confirmOnlineStateOrThrow(),ee&&ee!==this.relayUrl&&(this.relayUrl=ee,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let et=1;for(;et<6;){try{this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${et}...`),await this.createProvider(),await new Promise(async(ee,et)=>{let r=()=>{et(Error("Connection interrupted while trying to subscribe"))};this.provider.once(to.disconnect,r),await xt(new Promise((ee,et)=>{this.provider.connect().then(ee).catch(et)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(ee=>{et(ee)}).finally(()=>{this.provider.off(to.disconnect,r),clearTimeout(this.reconnectTimeout),this.reconnectTimeout=void 0}),await new Promise(async(ee,et)=>{let c=()=>{et(Error("Connection interrupted while trying to subscribe"))};this.provider.once(to.disconnect,c),await this.subscriber.start().then(ee).catch(et).finally(()=>{this.provider.off(to.disconnect,c)})}),this.hasExperiencedNetworkDisruption=!1,ee()})}catch(ee){await this.subscriber.stop(),this.logger.warn({},ee.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${et}`);break}await new Promise(ee=>setTimeout(ee,(0,ea.toMiliseconds)(1*et))),et++}}startPingTimeout(){var ee,et,ei,es,en;if(ce())try{null!=(et=null==(ee=this.provider)?void 0:ee.connection)&&et.socket&&(null==(en=null==(es=null==(ei=this.provider)?void 0:ei.connection)?void 0:es.socket)||en.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(ee){this.logger.warn(ee,ee?.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();let ee=await this.core.crypto.signJWT(this.relayUrl);this.provider=new o(new f(function({protocol:ee,version:et,relayUrl:ei,sdkVersion:es,auth:en,projectId:eo,useOnCloseEvent:ea,bundleId:ec,packageName:el}){var eu;let ed;let eh=ei.split("?"),ep=Ge(ee,et,es),ef=(eu=eh[1]||"",ed=Fe(Fe({},ed=eA.parse(eu)),{auth:en,ua:ep,projectId:eo,useOnCloseEvent:ea||void 0,packageName:el||void 0,bundleId:ec||void 0}),eu=eA.stringify(ed));return eh[0]+"?"+ef}({sdkVersion:ta,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:ee,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(ee){let{topic:et,message:ei}=ee;await this.messages.set(et,ei)}async shouldIgnoreMessageEvent(ee){let{topic:et,message:ei}=ee;if(!ei||0===ei.length)return this.logger.warn(`Ignoring invalid/empty message: ${ei}`),!0;if(!await this.subscriber.isSubscribed(et))return this.logger.warn(`Ignoring message for non-subscribed topic ${et}`),!0;let es=this.messages.has(et,ei);return es&&this.logger.warn(`Ignoring duplicate message: ${ei}`),es}async onProviderPayload(ee){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:ee}),(0,e0.isJsonRpcRequest)(ee)){if(!ee.method.endsWith("_subscription"))return;let et=ee.params,{topic:ei,message:es,publishedAt:en,attestation:eo}=et.data,ea={topic:ei,message:es,publishedAt:en,transportType:tc.relay,attestation:eo};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(ni({type:"event",event:et.id},ea)),this.events.emit(et.id,ea),await this.acknowledgePayload(ee),await this.onMessageEvent(ea)}else(0,e0.isJsonRpcResponse)(ee)&&this.events.emit(ts.message_ack,ee)}async onMessageEvent(ee){await this.shouldIgnoreMessageEvent(ee)||(this.events.emit(ts.message,ee),await this.recordMessageEvent(ee))}async acknowledgePayload(ee){let et=(0,e0.formatJsonRpcResult)(ee.id,!0);await this.provider.connection.send(et)}unregisterProviderListeners(){this.provider.off(to.payload,this.onPayloadHandler),this.provider.off(to.connect,this.onConnectHandler),this.provider.off(to.disconnect,this.onDisconnectHandler),this.provider.off(to.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let ee=await go();!function(ee){switch(A()){case e$.browser:!$()&&V()&&(window.addEventListener("online",()=>ee(!0)),window.addEventListener("offline",()=>ee(!1)));break;case e$.reactNative:$()&&"u">typeof ei.g&&null!=ei.g&&ei.g.NetInfo&&ei.g?.NetInfo.addEventListener(et=>ee(et?.isConnected));case e$.node:}}(async et=>{ee!==et&&(ee=et,et?await this.transportOpen().catch(ee=>this.logger.error(ee,ee?.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))})}async onProviderDisconnect(){await this.subscriber.stop(),clearTimeout(this.pingTimeout),this.events.emit(ts.disconnect),this.connectionAttemptInProgress=!1,!this.transportExplicitlyClosed&&(this.reconnectTimeout||this.connectPromise||(this.reconnectTimeout=setTimeout(async()=>{clearTimeout(this.reconnectTimeout),await this.transportOpen().catch(ee=>this.logger.error(ee,ee?.message))},(0,ea.toMiliseconds)(.1))))}isInitialized(){if(!this.initialized){let{message:ee}=S("NOT_INITIALIZED",this.name);throw Error(ee)}}async toEstablishConnection(){await this.confirmOnlineStateOrThrow(),this.connected||await this.transportOpen()}};var rI=Object.defineProperty,rT=Object.getOwnPropertySymbols,rR=Object.prototype.hasOwnProperty,rD=Object.prototype.propertyIsEnumerable,ci=(ee,et,ei)=>et in ee?rI(ee,et,{enumerable:!0,configurable:!0,writable:!0,value:ei}):ee[et]=ei,hi=(ee,et)=>{for(var ei in et||(et={}))rR.call(et,ei)&&ci(ee,ei,et[ei]);if(rT)for(var ei of rT(et))rD.call(et,ei)&&ci(ee,ei,et[ei]);return ee};let li=class li extends ev.pZ{constructor(ee,et,ei,es=e3,en){super(ee,et,ei,es),this.core=ee,this.logger=et,this.name=ei,this.map=new Map,this.version="0.3",this.cached=[],this.initialized=!1,this.storagePrefix=e3,this.recentlyDeleted=[],this.recentlyDeletedLimit=200,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(ee=>{var et;this.getKey&&null!==ee&&!P(ee)?this.map.set(this.getKey(ee),ee):(null==(et=ee?.proposer)?void 0:et.publicKey)?this.map.set(ee.id,ee):ee?.topic&&this.map.set(ee.topic,ee)}),this.cached=[],this.initialized=!0)},this.set=async(ee,et)=>{this.isInitialized(),this.map.has(ee)?await this.update(ee,et):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:ee,value:et}),this.map.set(ee,et),await this.persist())},this.get=ee=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:ee}),this.getData(ee)),this.getAll=ee=>(this.isInitialized(),ee?this.values.filter(et=>Object.keys(ee).every(ei=>e2()(et[ei],ee[ei]))):this.values),this.update=async(ee,et)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:ee,update:et});let ei=hi(hi({},this.getData(ee)),et);this.map.set(ee,ei),await this.persist()},this.delete=async(ee,et)=>{this.isInitialized(),this.map.has(ee)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:ee,reason:et}),this.map.delete(ee),this.addToRecentlyDeleted(ee),await this.persist())},this.logger=(0,e_.Ep)(et,this.name),this.storagePrefix=es,this.getKey=en}get context(){return(0,e_.Fd)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(ee){this.recentlyDeleted.push(ee),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(ee){await this.core.storage.setItem(this.storageKey,ee)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(ee){let et=this.map.get(ee);if(!et){if(this.recentlyDeleted.includes(ee)){let{message:et}=S("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${ee}`);throw this.logger.error(et),Error(et)}let{message:et}=S("NO_MATCHING_KEY",`${this.name}: ${ee}`);throw this.logger.error(et),Error(et)}return et}async persist(){await this.setDataStore(this.values)}async restore(){try{let ee=await this.getDataStore();if(typeof ee>"u"||!ee.length)return;if(this.map.size){let{message:ee}=S("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(ee),Error(ee)}this.cached=ee,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(ee){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(ee)}}isInitialized(){if(!this.initialized){let{message:ee}=S("NOT_INITIALIZED",this.name);throw Error(ee)}}};let ui=class ui{constructor(ee,et){this.core=ee,this.logger=et,this.name="pairing",this.version="0.3",this.events=new(eo()),this.initialized=!1,this.storagePrefix=e3,this.ignoredPayloadTypes=[1],this.registeredMethods=[],this.init=async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))},this.register=({methods:ee})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...ee])]},this.create=async ee=>{this.isInitialized();let et=yr(),ei=await this.core.crypto.setSymKey(et),es=Lt(ea.FIVE_MINUTES),en={protocol:tt},eo={topic:ei,expiry:es,relay:en,active:!1,methods:ee?.methods},ec=Mr({protocol:this.core.protocol,version:this.core.version,topic:ei,symKey:et,relay:en,expiryTimestamp:es,methods:ee?.methods});return this.events.emit(tp.create,eo),this.core.expirer.set(ei,es),await this.pairings.set(ei,eo),await this.core.relayer.subscribe(ei,{transportType:ee?.transportType}),{topic:ei,uri:ec}},this.pair=async ee=>{let et;this.isInitialized();let ei=this.core.eventClient.createEvent({properties:{topic:ee?.uri,trace:[tv.pairing_started]}});this.isValidPair(ee,ei);let{topic:es,symKey:en,relay:eo,expiryTimestamp:ec,methods:el}=Vr(ee.uri);if(ei.props.properties.topic=es,ei.addTrace(tv.pairing_uri_validation_success),ei.addTrace(tv.pairing_uri_not_expired),this.pairings.keys.includes(es)){if(et=this.pairings.get(es),ei.addTrace(tv.existing_pairing),et.active)throw ei.setError(tw.active_pairing_already_exists),Error(`Pairing already exists: ${es}. Please try again with a new connection URI.`);ei.addTrace(tv.pairing_not_expired)}let eu=ec||Lt(ea.FIVE_MINUTES),ed={topic:es,relay:eo,expiry:eu,active:!1,methods:el};this.core.expirer.set(es,eu),await this.pairings.set(es,ed),ei.addTrace(tv.store_new_pairing),ee.activatePairing&&await this.activate({topic:es}),this.events.emit(tp.create,ed),ei.addTrace(tv.emit_inactive_pairing),this.core.crypto.keychain.has(es)||await this.core.crypto.setSymKey(en,es),ei.addTrace(tv.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{ei.setError(tw.no_internet_connection)}try{await this.core.relayer.subscribe(es,{relay:eo})}catch(ee){throw ei.setError(tw.subscribe_pairing_topic_failure),ee}return ei.addTrace(tv.subscribe_pairing_topic_success),ed},this.activate=async({topic:ee})=>{this.isInitialized();let et=Lt(ea.THIRTY_DAYS);this.core.expirer.set(ee,et),await this.pairings.update(ee,{active:!0,expiry:et})},this.ping=async ee=>{this.isInitialized(),await this.isValidPing(ee);let{topic:et}=ee;if(this.pairings.keys.includes(et)){let ee=await this.sendRequest(et,"wc_pairingPing",{}),{done:ei,resolve:es,reject:en}=function(ee=ea.FIVE_MINUTES,et){let ei,es,en,eo;let ec=(0,ea.toMiliseconds)(ee||ea.FIVE_MINUTES);return{resolve:ee=>{en&&ei&&(clearTimeout(en),ei(ee),eo=Promise.resolve(ee))},reject:ee=>{en&&es&&(clearTimeout(en),es(ee))},done:()=>new Promise((ee,et)=>{if(eo)return ee(eo);en=setTimeout(()=>{let ee=Error(void 0);eo=Promise.reject(ee),et(ee)},ec),ei=ee,es=et})}}();this.events.once(qt("pairing_ping",ee),({error:ee})=>{ee?en(ee):es()}),await ei()}},this.updateExpiry=async({topic:ee,expiry:et})=>{this.isInitialized(),await this.pairings.update(ee,{expiry:et})},this.updateMetadata=async({topic:ee,metadata:et})=>{this.isInitialized(),await this.pairings.update(ee,{peerMetadata:et})},this.getPairings=()=>(this.isInitialized(),this.pairings.values),this.disconnect=async ee=>{this.isInitialized(),await this.isValidDisconnect(ee);let{topic:et}=ee;this.pairings.keys.includes(et)&&(await this.sendRequest(et,"wc_pairingDelete",index_es_("USER_DISCONNECTED")),await this.deletePairing(et))},this.formatUriFromPairing=ee=>{this.isInitialized();let{topic:et,relay:ei,expiry:es,methods:en}=ee,eo=this.core.crypto.keychain.get(et);return Mr({protocol:this.core.protocol,version:this.core.version,topic:et,symKey:eo,relay:ei,expiryTimestamp:es,methods:en})},this.sendRequest=async(ee,et,ei)=>{let es=(0,e0.formatJsonRpcRequest)(et,ei),en=await this.core.crypto.encode(ee,es),eo=th[et].req;return this.core.history.set(ee,es),this.core.relayer.publish(ee,en,eo),es.id},this.sendResult=async(ee,et,ei)=>{let es=(0,e0.formatJsonRpcResult)(ee,ei),en=await this.core.crypto.encode(et,es),eo=await this.core.history.get(et,ee),ea=th[eo.request.method].res;await this.core.relayer.publish(et,en,ea),await this.core.history.resolve(es)},this.sendError=async(ee,et,ei)=>{let es=(0,e0.formatJsonRpcError)(ee,ei),en=await this.core.crypto.encode(et,es),eo=await this.core.history.get(et,ee),ea=th[eo.request.method]?th[eo.request.method].res:th.unregistered_method.res;await this.core.relayer.publish(et,en,ea),await this.core.history.resolve(es)},this.deletePairing=async(ee,et)=>{await this.core.relayer.unsubscribe(ee),await Promise.all([this.pairings.delete(ee,index_es_("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(ee),et?Promise.resolve():this.core.expirer.del(ee)])},this.cleanup=async()=>{let ee=this.pairings.getAll().filter(ee=>Ft(ee.expiry));await Promise.all(ee.map(ee=>this.deletePairing(ee.topic)))},this.onRelayEventRequest=ee=>{let{topic:et,payload:ei}=ee;switch(ei.method){case"wc_pairingPing":return this.onPairingPingRequest(et,ei);case"wc_pairingDelete":return this.onPairingDeleteRequest(et,ei);default:return this.onUnknownRpcMethodRequest(et,ei)}},this.onRelayEventResponse=async ee=>{let{topic:et,payload:ei}=ee,es=(await this.core.history.get(et,ei.id)).request.method;return"wc_pairingPing"===es?this.onPairingPingResponse(et,ei):this.onUnknownRpcMethodResponse(es)},this.onPairingPingRequest=async(ee,et)=>{let{id:ei}=et;try{this.isValidPing({topic:ee}),await this.sendResult(ei,ee,!0),this.events.emit(tp.ping,{id:ei,topic:ee})}catch(et){await this.sendError(ei,ee,et),this.logger.error(et)}},this.onPairingPingResponse=(ee,et)=>{let{id:ei}=et;setTimeout(()=>{(0,e0.isJsonRpcResult)(et)?this.events.emit(qt("pairing_ping",ei),{}):(0,e0.isJsonRpcError)(et)&&this.events.emit(qt("pairing_ping",ei),{error:et.error})},500)},this.onPairingDeleteRequest=async(ee,et)=>{let{id:ei}=et;try{this.isValidDisconnect({topic:ee}),await this.deletePairing(ee),this.events.emit(tp.delete,{id:ei,topic:ee})}catch(et){await this.sendError(ei,ee,et),this.logger.error(et)}},this.onUnknownRpcMethodRequest=async(ee,et)=>{let{id:ei,method:es}=et;try{if(this.registeredMethods.includes(es))return;let et=index_es_("WC_METHOD_UNSUPPORTED",es);await this.sendError(ei,ee,et),this.logger.error(et)}catch(et){await this.sendError(ei,ee,et),this.logger.error(et)}},this.onUnknownRpcMethodResponse=ee=>{this.registeredMethods.includes(ee)||this.logger.error(index_es_("WC_METHOD_UNSUPPORTED",ee))},this.isValidPair=(ee,et)=>{var ei;if(!so(ee)){let{message:ei}=S("MISSING_OR_INVALID",`pair() params: ${ee}`);throw et.setError(tw.malformed_pairing_uri),Error(ei)}if(!function(ee){function n(ee){try{return"u">typeof new URL(ee)}catch{return!1}}try{if(b(ee,!1)){if(n(ee))return!0;let et=le(ee);return n(et)}}catch{}return!1}(ee.uri)){let{message:ei}=S("MISSING_OR_INVALID",`pair() uri: ${ee.uri}`);throw et.setError(tw.malformed_pairing_uri),Error(ei)}let es=Vr(ee?.uri);if(!(null!=(ei=es?.relay)&&ei.protocol)){let{message:ee}=S("MISSING_OR_INVALID","pair() uri#relay-protocol");throw et.setError(tw.malformed_pairing_uri),Error(ee)}if(!(null!=es&&es.symKey)){let{message:ee}=S("MISSING_OR_INVALID","pair() uri#symKey");throw et.setError(tw.malformed_pairing_uri),Error(ee)}if(null!=es&&es.expiryTimestamp&&(0,ea.toMiliseconds)(es?.expiryTimestamp)<Date.now()){et.setError(tw.pairing_expired);let{message:ee}=S("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw Error(ee)}},this.isValidPing=async ee=>{if(!so(ee)){let{message:et}=S("MISSING_OR_INVALID",`ping() params: ${ee}`);throw Error(et)}let{topic:et}=ee;await this.isValidPairingTopic(et)},this.isValidDisconnect=async ee=>{if(!so(ee)){let{message:et}=S("MISSING_OR_INVALID",`disconnect() params: ${ee}`);throw Error(et)}let{topic:et}=ee;await this.isValidPairingTopic(et)},this.isValidPairingTopic=async ee=>{if(!b(ee,!1)){let{message:et}=S("MISSING_OR_INVALID",`pairing topic should be a string: ${ee}`);throw Error(et)}if(!this.pairings.keys.includes(ee)){let{message:et}=S("NO_MATCHING_KEY",`pairing topic doesn't exist: ${ee}`);throw Error(et)}if(Ft(this.pairings.get(ee).expiry)){await this.deletePairing(ee);let{message:et}=S("EXPIRED",`pairing topic: ${ee}`);throw Error(et)}},this.core=ee,this.logger=(0,e_.Ep)(et,this.name),this.pairings=new li(this.core,this.logger,this.name,this.storagePrefix)}get context(){return(0,e_.Fd)(this.logger)}isInitialized(){if(!this.initialized){let{message:ee}=S("NOT_INITIALIZED",this.name);throw Error(ee)}}registerRelayerEvents(){this.core.relayer.on(ts.message,async ee=>{let{topic:et,message:ei,transportType:es}=ee;if(!this.pairings.keys.includes(et)||es===tc.link_mode||this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(ei)))return;let en=await this.core.crypto.decode(et,ei);try{(0,e0.isJsonRpcRequest)(en)?(this.core.history.set(et,en),this.onRelayEventRequest({topic:et,payload:en})):(0,e0.isJsonRpcResponse)(en)&&(await this.core.history.resolve(en),await this.onRelayEventResponse({topic:et,payload:en}),this.core.history.delete(et,en.id))}catch(ee){this.logger.error(ee)}})}registerExpirerEvents(){this.core.expirer.on(tg.expired,async ee=>{let{topic:et}=function(ee){let[et,ei]=ee.split(":"),es={id:void 0,topic:void 0};if("topic"===et&&"string"==typeof ei)es.topic=ei;else if("id"===et&&Number.isInteger(Number(ei)))es.id=Number(ei);else throw Error(`Invalid target, expected id:number or topic:string, got ${et}:${ei}`);return es}(ee.target);et&&this.pairings.keys.includes(et)&&(await this.deletePairing(et,!0),this.events.emit(tp.expire,{topic:et}))})}};let di=class di extends ev.yy{constructor(ee,et){super(ee,et),this.core=ee,this.logger=et,this.records=new Map,this.events=new en.EventEmitter,this.name="history",this.version="0.3",this.cached=[],this.initialized=!1,this.storagePrefix=e3,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(ee=>this.records.set(ee.id,ee)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.set=(ee,et,ei)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:ee,request:et,chainId:ei}),this.records.has(et.id))return;let es={id:et.id,topic:ee,request:{method:et.method,params:et.params||null},chainId:ei,expiry:Lt(ea.THIRTY_DAYS)};this.records.set(es.id,es),this.persist(),this.events.emit(tf.created,es)},this.resolve=async ee=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:ee}),!this.records.has(ee.id))return;let et=await this.getRecord(ee.id);typeof et.response>"u"&&(et.response=(0,e0.isJsonRpcError)(ee)?{error:ee.error}:{result:ee.result},this.records.set(et.id,et),this.persist(),this.events.emit(tf.updated,et))},this.get=async(ee,et)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:ee,id:et}),await this.getRecord(et)),this.delete=(ee,et)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:et}),this.values.forEach(ei=>{ei.topic!==ee||"u">typeof et&&ei.id!==et||(this.records.delete(ei.id),this.events.emit(tf.deleted,ei))}),this.persist()},this.exists=async(ee,et)=>(this.isInitialized(),!!this.records.has(et)&&(await this.getRecord(et)).topic===ee),this.on=(ee,et)=>{this.events.on(ee,et)},this.once=(ee,et)=>{this.events.once(ee,et)},this.off=(ee,et)=>{this.events.off(ee,et)},this.removeListener=(ee,et)=>{this.events.removeListener(ee,et)},this.logger=(0,e_.Ep)(et,this.name)}get context(){return(0,e_.Fd)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){let ee=[];return this.values.forEach(et=>{if("u">typeof et.response)return;let ei={topic:et.topic,request:(0,e0.formatJsonRpcRequest)(et.request.method,et.request.params,et.id),chainId:et.chainId};return ee.push(ei)}),ee}async setJsonRpcRecords(ee){await this.core.storage.setItem(this.storageKey,ee)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(ee){this.isInitialized();let et=this.records.get(ee);if(!et){let{message:et}=S("NO_MATCHING_KEY",`${this.name}: ${ee}`);throw Error(et)}return et}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(tf.sync)}async restore(){try{let ee=await this.getJsonRpcRecords();if(typeof ee>"u"||!ee.length)return;if(this.records.size){let{message:ee}=S("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(ee),Error(ee)}this.cached=ee,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(ee){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(ee)}}registerEventListeners(){this.events.on(tf.created,ee=>{let et=tf.created;this.logger.info(`Emitting ${et}`),this.logger.debug({type:"event",event:et,record:ee})}),this.events.on(tf.updated,ee=>{let et=tf.updated;this.logger.info(`Emitting ${et}`),this.logger.debug({type:"event",event:et,record:ee})}),this.events.on(tf.deleted,ee=>{let et=tf.deleted;this.logger.info(`Emitting ${et}`),this.logger.debug({type:"event",event:et,record:ee})}),this.core.heartbeat.on(eu.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let ee=!1;this.records.forEach(et=>{(0,ea.toMiliseconds)(et.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${et.id}`),this.records.delete(et.id),this.events.emit(tf.deleted,et,!1),ee=!0)}),ee&&this.persist()}catch(ee){this.logger.warn(ee)}}isInitialized(){if(!this.initialized){let{message:ee}=S("NOT_INITIALIZED",this.name);throw Error(ee)}}};let pi=class pi extends ev.D3{constructor(ee,et){super(ee,et),this.core=ee,this.logger=et,this.expirations=new Map,this.events=new en.EventEmitter,this.name="expirer",this.version="0.3",this.cached=[],this.initialized=!1,this.storagePrefix=e3,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(ee=>this.expirations.set(ee.target,ee)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.has=ee=>{try{let et=this.formatTarget(ee);return"u">typeof this.getExpiration(et)}catch{return!1}},this.set=(ee,et)=>{this.isInitialized();let ei=this.formatTarget(ee),es={target:ei,expiry:et};this.expirations.set(ei,es),this.checkExpiry(ei,es),this.events.emit(tg.created,{target:ei,expiration:es})},this.get=ee=>{this.isInitialized();let et=this.formatTarget(ee);return this.getExpiration(et)},this.del=ee=>{if(this.isInitialized(),this.has(ee)){let et=this.formatTarget(ee),ei=this.getExpiration(et);this.expirations.delete(et),this.events.emit(tg.deleted,{target:et,expiration:ei})}},this.on=(ee,et)=>{this.events.on(ee,et)},this.once=(ee,et)=>{this.events.once(ee,et)},this.off=(ee,et)=>{this.events.off(ee,et)},this.removeListener=(ee,et)=>{this.events.removeListener(ee,et)},this.logger=(0,e_.Ep)(et,this.name)}get context(){return(0,e_.Fd)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(ee){if("string"==typeof ee)return ae("topic",ee);if("number"==typeof ee)return ae("id",ee);let{message:et}=S("UNKNOWN_TYPE",`Target type: ${typeof ee}`);throw Error(et)}async setExpirations(ee){await this.core.storage.setItem(this.storageKey,ee)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(tg.sync)}async restore(){try{let ee=await this.getExpirations();if(typeof ee>"u"||!ee.length)return;if(this.expirations.size){let{message:ee}=S("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(ee),Error(ee)}this.cached=ee,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(ee){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(ee)}}getExpiration(ee){let et=this.expirations.get(ee);if(!et){let{message:et}=S("NO_MATCHING_KEY",`${this.name}: ${ee}`);throw this.logger.warn(et),Error(et)}return et}checkExpiry(ee,et){let{expiry:ei}=et;(0,ea.toMiliseconds)(ei)-Date.now()<=0&&this.expire(ee,et)}expire(ee,et){this.expirations.delete(ee),this.events.emit(tg.expired,{target:ee,expiration:et})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((ee,et)=>this.checkExpiry(et,ee))}registerEventListeners(){this.core.heartbeat.on(eu.pulse,()=>this.checkExpirations()),this.events.on(tg.created,ee=>{let et=tg.created;this.logger.info(`Emitting ${et}`),this.logger.debug({type:"event",event:et,data:ee}),this.persist()}),this.events.on(tg.expired,ee=>{let et=tg.expired;this.logger.info(`Emitting ${et}`),this.logger.debug({type:"event",event:et,data:ee}),this.persist()}),this.events.on(tg.deleted,ee=>{let et=tg.deleted;this.logger.info(`Emitting ${et}`),this.logger.debug({type:"event",event:et,data:ee}),this.persist()})}isInitialized(){if(!this.initialized){let{message:ee}=S("NOT_INITIALIZED",this.name);throw Error(ee)}}};let gi=class gi extends ev.Yo{constructor(ee,et,ei){super(ee,et,ei),this.core=ee,this.logger=et,this.store=ei,this.name="verify-api",this.verifyUrlV3=tb,this.storagePrefix=e3,this.version=2,this.init=async()=>{var ee;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&(0,ea.toMiliseconds)(null==(ee=this.publicKey)?void 0:ee.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))},this.register=async ee=>{if(!V()||this.isDevEnv)return;let et=window.location.origin,{id:ei,decryptedId:es}=ee,en=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${et}&id=${ei}&decryptedId=${es}`;try{let ee=(0,eS.getDocument)(),et=this.startAbortTimer(5*ea.ONE_SECOND),es=await new Promise((es,eo)=>{let l=()=>{window.removeEventListener("message",w),ee.body.removeChild(ea),eo("attestation aborted")};this.abortController.signal.addEventListener("abort",l);let ea=ee.createElement("iframe");ea.src=en,ea.style.display="none",ea.addEventListener("error",l,{signal:this.abortController.signal});let w=en=>{if(en.data&&"string"==typeof en.data)try{let eo=JSON.parse(en.data);if("verify_attestation"===eo.type){if((0,ew.decodeJWT)(eo.attestation).payload.id!==ei)return;clearInterval(et),ee.body.removeChild(ea),this.abortController.signal.removeEventListener("abort",l),window.removeEventListener("message",w),es(null===eo.attestation?"":eo.attestation)}}catch(ee){this.logger.warn(ee)}};ee.body.appendChild(ea),window.addEventListener("message",w,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",es),es}catch(ee){this.logger.warn(ee)}return""},this.resolve=async ee=>{if(this.isDevEnv)return"";let{attestationId:et,hash:ei,encryptedId:es}=ee;if(""===et){this.logger.debug("resolve: attestationId is empty, skipping");return}if(et){if((0,ew.decodeJWT)(et).payload.id!==es)return;let ee=await this.isValidJwtAttestation(et);if(ee){if(!ee.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return ee}}if(!ei)return;let en=this.getVerifyUrl(ee?.verifyUrl);return this.fetchAttestation(ei,en)},this.fetchAttestation=async(ee,et)=>{this.logger.debug(`resolving attestation: ${ee} from url: ${et}`);let ei=this.startAbortTimer(5*ea.ONE_SECOND),es=await fetch(`${et}/attestation/${ee}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(ei),200===es.status?await es.json():void 0},this.getVerifyUrl=ee=>{let et=ee||ty;return t_.includes(et)||(this.logger.info(`verify url: ${et}, not included in trusted list, assigning default: ${ty}`),et=ty),et},this.fetchPublicKey=async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);let ee=this.startAbortTimer(ea.FIVE_SECONDS),et=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(ee),await et.json()}catch(ee){this.logger.warn(ee)}},this.persistPublicKey=async ee=>{this.logger.debug("persisting public key to local storage",ee),await this.store.setItem(this.storeKey,ee),this.publicKey=ee},this.removePublicKey=async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0},this.isValidJwtAttestation=async ee=>{let et=await this.getPublicKey();try{if(et)return this.validateAttestation(ee,et)}catch(ee){this.logger.error(ee),this.logger.warn("error validating attestation")}let ei=await this.fetchAndPersistPublicKey();try{if(ei)return this.validateAttestation(ee,ei)}catch(ee){this.logger.error(ee),this.logger.warn("error validating attestation")}},this.getPublicKey=async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey(),this.fetchAndPersistPublicKey=async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async ee=>{let et=await this.fetchPublicKey();et&&(await this.persistPublicKey(et),ee(et))});let ee=await this.fetchPromise;return this.fetchPromise=void 0,ee},this.validateAttestation=(ee,et)=>{let ei=function(ee,et){let[ei,es,en]=ee.split("."),eo=eU.from(function(ee){let et=ee.replace(/-/g,"+").replace(/_/g,"/"),ei=et.length%4;return ei>0&&(et+="=".repeat(4-ei)),et}(en),"base64");if(64!==eo.length)throw Error("Invalid signature length");let ea=eo.slice(0,32).toString("hex"),ec=eo.slice(32,64).toString("hex"),el=`${ei}.${es}`,eu=new eD.mE().update(eU.from(el)).digest(),ed=new eP.ec("p256").keyFromPublic({x:eU.from(et.x,"base64").toString("hex"),y:eU.from(et.y,"base64").toString("hex")},"hex"),eh=eU.from(eu).toString("hex");if(!ed.verify(eh,{r:ea,s:ec}))throw Error("Invalid signature");return(0,ew.decodeJWT)(ee).payload}(ee,et.publicKey),es={hasExpired:(0,ea.toMiliseconds)(ei.exp)<Date.now(),payload:ei};if(es.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),Error("JWT attestation expired");return{origin:es.payload.origin,isScam:es.payload.isScam,isVerified:es.payload.isVerified}},this.logger=(0,e_.Ep)(et,this.name),this.abortController=new AbortController,this.isDevEnv=zt(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return(0,e_.Fd)(this.logger)}startAbortTimer(ee){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),(0,ea.toMiliseconds)(ee))}};let yi=class yi extends ev.pX{constructor(ee,et){super(ee,et),this.projectId=ee,this.logger=et,this.context="echo",this.registerDeviceToken=async ee=>{let{clientId:et,token:ei,notificationType:es,enableEncrypted:en=!1}=ee,eo=`https://echo.walletconnect.com/${this.projectId}/clients`;await fetch(eo,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:et,type:es,token:ei,always_raw:en})})},this.logger=(0,e_.Ep)(et,this.context)}};var rk=Object.defineProperty,rB=Object.getOwnPropertySymbols,rP=Object.prototype.hasOwnProperty,rO=Object.prototype.propertyIsEnumerable,mi=(ee,et,ei)=>et in ee?rk(ee,et,{enumerable:!0,configurable:!0,writable:!0,value:ei}):ee[et]=ei,index_es_Q=(ee,et)=>{for(var ei in et||(et={}))rP.call(et,ei)&&mi(ee,ei,et[ei]);if(rB)for(var ei of rB(et))rO.call(et,ei)&&mi(ee,ei,et[ei]);return ee};let bi=class bi extends ev.Mo{constructor(ee,et,ei=!0){super(ee,et,ei),this.core=ee,this.logger=et,this.context="event-client",this.storagePrefix=e3,this.storageVersion=.1,this.events=new Map,this.shouldPersist=!1,this.init=async()=>{if(!zt())try{let ee={eventId:Jt(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:Ge(this.core.relayer.protocol,this.core.relayer.version,ta)}}};await this.sendEvent([ee])}catch(ee){this.logger.warn(ee)}},this.createEvent=ee=>{let{event:et="ERROR",type:ei="",properties:{topic:es,trace:en}}=ee,eo=Jt(),ea=this.core.projectId||"",ec=Date.now(),el=index_es_Q({eventId:eo,timestamp:ec,props:{event:et,type:ei,properties:{topic:es,trace:en}},bundleId:ea,domain:this.getAppDomain()},this.setMethods(eo));return this.telemetryEnabled&&(this.events.set(eo,el),this.shouldPersist=!0),el},this.getEvent=ee=>{let{eventId:et,topic:ei}=ee;if(et)return this.events.get(et);let es=Array.from(this.events.values()).find(ee=>ee.props.properties.topic===ei);if(es)return index_es_Q(index_es_Q({},es),this.setMethods(es.eventId))},this.deleteEvent=ee=>{let{eventId:et}=ee;this.events.delete(et),this.shouldPersist=!0},this.setEventListeners=()=>{this.core.heartbeat.on(eu.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(ee=>{(0,ea.fromMiliseconds)(Date.now())-(0,ea.fromMiliseconds)(ee.timestamp)>86400&&(this.events.delete(ee.eventId),this.shouldPersist=!0)})})},this.setMethods=ee=>({addTrace:et=>this.addTrace(ee,et),setError:et=>this.setError(ee,et)}),this.addTrace=(ee,et)=>{let ei=this.events.get(ee);ei&&(ei.props.properties.trace.push(et),this.events.set(ee,ei),this.shouldPersist=!0)},this.setError=(ee,et)=>{let ei=this.events.get(ee);ei&&(ei.props.type=et,ei.timestamp=Date.now(),this.events.set(ee,ei),this.shouldPersist=!0)},this.persist=async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1},this.restore=async()=>{try{let ee=await this.core.storage.getItem(this.storageKey)||[];if(!ee.length)return;ee.forEach(ee=>{this.events.set(ee.eventId,index_es_Q(index_es_Q({},ee),this.setMethods(ee.eventId)))})}catch(ee){this.logger.warn(ee)}},this.submit=async()=>{if(!this.telemetryEnabled||0===this.events.size)return;let ee=[];for(let[et,ei]of this.events)ei.props.type&&ee.push(ei);if(0!==ee.length)try{if((await this.sendEvent(ee)).ok)for(let et of ee)this.events.delete(et.eventId),this.shouldPersist=!0}catch(ee){this.logger.warn(ee)}},this.sendEvent=async ee=>{let et=this.getAppDomain()?"":"&sp=desktop";return await fetch(`https://pulse.walletconnect.org/batch?projectId=${this.core.projectId}&st=events_sdk&sv=js-${ta}${et}`,{method:"POST",body:JSON.stringify(ee)})},this.getAppDomain=()=>((0,eE.D)()||{name:"",description:"",url:"",icons:[""]}).url,this.logger=(0,e_.Ep)(et,this.context),this.telemetryEnabled=ei,ei?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}};var rC=Object.defineProperty,rU=Object.getOwnPropertySymbols,rL=Object.prototype.hasOwnProperty,rj=Object.prototype.propertyIsEnumerable,vi=(ee,et,ei)=>et in ee?rC(ee,et,{enumerable:!0,configurable:!0,writable:!0,value:ei}):ee[et]=ei,_i=(ee,et)=>{for(var ei in et||(et={}))rL.call(et,ei)&&vi(ee,ei,et[ei]);if(rU)for(var ei of rU(et))rj.call(et,ei)&&vi(ee,ei,et[ei]);return ee};let index_es_oe=class index_es_oe extends ev.N1{constructor(ee){var et;super(ee),this.protocol="wc",this.version=2,this.name=e6,this.events=new en.EventEmitter,this.initialized=!1,this.on=(ee,et)=>this.events.on(ee,et),this.once=(ee,et)=>this.events.once(ee,et),this.off=(ee,et)=>this.events.off(ee,et),this.removeListener=(ee,et)=>this.events.removeListener(ee,et),this.dispatchEnvelope=({topic:ee,message:et,sessionExists:ei})=>{if(!ee||!et)return;let es={topic:ee,message:et,publishedAt:Date.now(),transportType:tc.link_mode};this.relayer.onLinkMessageEvent(es,{sessionExists:ei})},this.projectId=ee?.projectId,this.relayUrl=ee?.relayUrl||tr,this.customStoragePrefix=null!=ee&&ee.customStoragePrefix?`:${ee.customStoragePrefix}`:"";let ei=(0,e_.jI)({level:"string"==typeof ee?.logger&&ee.logger?ee.logger:e8.logger,name:e6}),{logger:es,chunkLoggerController:eo}=(0,e_.Rt)({opts:ei,maxSizeInBytes:ee?.maxLogBlobSizeInBytes,loggerOverride:ee?.logger});this.logChunkController=eo,null!=(et=this.logChunkController)&&et.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var ee,et;null!=(ee=this.logChunkController)&&ee.downloadLogsBlobInBrowser&&(null==(et=this.logChunkController)||et.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=(0,e_.Ep)(es,this.name),this.heartbeat=new index_es_i,this.crypto=new index_es_Yt(this,this.logger,ee?.keychain),this.history=new di(this,this.logger),this.expirer=new pi(this,this.logger),this.storage=null!=ee&&ee.storage?ee.storage:new h(_i(_i({},e4),ee?.storageOptions)),this.relayer=new oi({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new ui(this,this.logger),this.verify=new gi(this,this.logger,this.storage),this.echoClient=new yi(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new bi(this,this.logger,ee?.telemetryEnabled)}static async init(ee){let et=new index_es_oe(ee);await et.initialize();let ei=await et.crypto.getClientId();return await et.storage.setItem("WALLETCONNECT_CLIENT_ID",ei),et}get context(){return(0,e_.Fd)(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var ee;return null==(ee=this.logChunkController)?void 0:ee.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(ee){this.linkModeSupportedApps.includes(ee)||(this.linkModeSupportedApps.push(ee),await this.storage.setItem(tl,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(tl)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(ee){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,ee),this.logger.error(ee.message),ee}}};let rN=index_es_oe},40926:function(ee,et,ei){"use strict";function getBrowerCrypto(){return(null===ei.g||void 0===ei.g?void 0:ei.g.crypto)||(null===ei.g||void 0===ei.g?void 0:ei.g.msCrypto)||{}}function getSubtleCrypto(){let ee=getBrowerCrypto();return ee.subtle||ee.webkitSubtle}Object.defineProperty(et,"__esModule",{value:!0}),et.isBrowserCryptoAvailable=et.getSubtleCrypto=et.getBrowerCrypto=void 0,et.getBrowerCrypto=getBrowerCrypto,et.getSubtleCrypto=getSubtleCrypto,et.isBrowserCryptoAvailable=function(){return!!getBrowerCrypto()&&!!getSubtleCrypto()}},88618:function(ee,et,ei){"use strict";var es=ei(34155);function isReactNative(){return"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product}function isNode(){return void 0!==es&&void 0!==es.versions&&void 0!==es.versions.node}Object.defineProperty(et,"__esModule",{value:!0}),et.isBrowser=et.isNode=et.isReactNative=void 0,et.isReactNative=isReactNative,et.isNode=isNode,et.isBrowser=function(){return!isReactNative()&&!isNode()}},1468:function(ee,et,ei){"use strict";Object.defineProperty(et,"__esModule",{value:!0});let es=ei(34308);es.__exportStar(ei(40926),et),es.__exportStar(ei(88618),et)},34308:function(ee,et,ei){"use strict";ei.r(et),ei.d(et,{__assign:function(){return __assign},__asyncDelegator:function(){return __asyncDelegator},__asyncGenerator:function(){return __asyncGenerator},__asyncValues:function(){return __asyncValues},__await:function(){return __await},__awaiter:function(){return __awaiter},__classPrivateFieldGet:function(){return __classPrivateFieldGet},__classPrivateFieldSet:function(){return __classPrivateFieldSet},__createBinding:function(){return __createBinding},__decorate:function(){return __decorate},__exportStar:function(){return __exportStar},__extends:function(){return __extends},__generator:function(){return __generator},__importDefault:function(){return __importDefault},__importStar:function(){return __importStar},__makeTemplateObject:function(){return __makeTemplateObject},__metadata:function(){return __metadata},__param:function(){return __param},__read:function(){return __read},__rest:function(){return __rest},__spread:function(){return __spread},__spreadArrays:function(){return __spreadArrays},__values:function(){return __values}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics=function(ee,et){return(extendStatics=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(ee,et){ee.__proto__=et}||function(ee,et){for(var ei in et)et.hasOwnProperty(ei)&&(ee[ei]=et[ei])})(ee,et)};function __extends(ee,et){function __(){this.constructor=ee}extendStatics(ee,et),ee.prototype=null===et?Object.create(et):(__.prototype=et.prototype,new __)}var __assign=function(){return(__assign=Object.assign||function(ee){for(var et,ei=1,es=arguments.length;ei<es;ei++)for(var en in et=arguments[ei])Object.prototype.hasOwnProperty.call(et,en)&&(ee[en]=et[en]);return ee}).apply(this,arguments)};function __rest(ee,et){var ei={};for(var es in ee)Object.prototype.hasOwnProperty.call(ee,es)&&0>et.indexOf(es)&&(ei[es]=ee[es]);if(null!=ee&&"function"==typeof Object.getOwnPropertySymbols)for(var en=0,es=Object.getOwnPropertySymbols(ee);en<es.length;en++)0>et.indexOf(es[en])&&Object.prototype.propertyIsEnumerable.call(ee,es[en])&&(ei[es[en]]=ee[es[en]]);return ei}function __decorate(ee,et,ei,es){var en,eo=arguments.length,ea=eo<3?et:null===es?es=Object.getOwnPropertyDescriptor(et,ei):es;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ea=Reflect.decorate(ee,et,ei,es);else for(var ec=ee.length-1;ec>=0;ec--)(en=ee[ec])&&(ea=(eo<3?en(ea):eo>3?en(et,ei,ea):en(et,ei))||ea);return eo>3&&ea&&Object.defineProperty(et,ei,ea),ea}function __param(ee,et){return function(ei,es){et(ei,es,ee)}}function __metadata(ee,et){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(ee,et)}function __awaiter(ee,et,ei,es){return new(ei||(ei=Promise))(function(en,eo){function fulfilled(ee){try{step(es.next(ee))}catch(ee){eo(ee)}}function rejected(ee){try{step(es.throw(ee))}catch(ee){eo(ee)}}function step(ee){var et;ee.done?en(ee.value):((et=ee.value)instanceof ei?et:new ei(function(ee){ee(et)})).then(fulfilled,rejected)}step((es=es.apply(ee,et||[])).next())})}function __generator(ee,et){var ei,es,en,eo,ea={label:0,sent:function(){if(1&en[0])throw en[1];return en[1]},trys:[],ops:[]};return eo={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(eo[Symbol.iterator]=function(){return this}),eo;function verb(eo){return function(ec){return function(eo){if(ei)throw TypeError("Generator is already executing.");for(;ea;)try{if(ei=1,es&&(en=2&eo[0]?es.return:eo[0]?es.throw||((en=es.return)&&en.call(es),0):es.next)&&!(en=en.call(es,eo[1])).done)return en;switch(es=0,en&&(eo=[2&eo[0],en.value]),eo[0]){case 0:case 1:en=eo;break;case 4:return ea.label++,{value:eo[1],done:!1};case 5:ea.label++,es=eo[1],eo=[0];continue;case 7:eo=ea.ops.pop(),ea.trys.pop();continue;default:if(!(en=(en=ea.trys).length>0&&en[en.length-1])&&(6===eo[0]||2===eo[0])){ea=0;continue}if(3===eo[0]&&(!en||eo[1]>en[0]&&eo[1]<en[3])){ea.label=eo[1];break}if(6===eo[0]&&ea.label<en[1]){ea.label=en[1],en=eo;break}if(en&&ea.label<en[2]){ea.label=en[2],ea.ops.push(eo);break}en[2]&&ea.ops.pop(),ea.trys.pop();continue}eo=et.call(ee,ea)}catch(ee){eo=[6,ee],es=0}finally{ei=en=0}if(5&eo[0])throw eo[1];return{value:eo[0]?eo[1]:void 0,done:!0}}([eo,ec])}}}function __createBinding(ee,et,ei,es){void 0===es&&(es=ei),ee[es]=et[ei]}function __exportStar(ee,et){for(var ei in ee)"default"===ei||et.hasOwnProperty(ei)||(et[ei]=ee[ei])}function __values(ee){var et="function"==typeof Symbol&&Symbol.iterator,ei=et&&ee[et],es=0;if(ei)return ei.call(ee);if(ee&&"number"==typeof ee.length)return{next:function(){return ee&&es>=ee.length&&(ee=void 0),{value:ee&&ee[es++],done:!ee}}};throw TypeError(et?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(ee,et){var ei="function"==typeof Symbol&&ee[Symbol.iterator];if(!ei)return ee;var es,en,eo=ei.call(ee),ea=[];try{for(;(void 0===et||et-- >0)&&!(es=eo.next()).done;)ea.push(es.value)}catch(ee){en={error:ee}}finally{try{es&&!es.done&&(ei=eo.return)&&ei.call(eo)}finally{if(en)throw en.error}}return ea}function __spread(){for(var ee=[],et=0;et<arguments.length;et++)ee=ee.concat(__read(arguments[et]));return ee}function __spreadArrays(){for(var ee=0,et=0,ei=arguments.length;et<ei;et++)ee+=arguments[et].length;for(var es=Array(ee),en=0,et=0;et<ei;et++)for(var eo=arguments[et],ea=0,ec=eo.length;ea<ec;ea++,en++)es[en]=eo[ea];return es}function __await(ee){return this instanceof __await?(this.v=ee,this):new __await(ee)}function __asyncGenerator(ee,et,ei){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var es,en=ei.apply(ee,et||[]),eo=[];return es={},verb("next"),verb("throw"),verb("return"),es[Symbol.asyncIterator]=function(){return this},es;function verb(ee){en[ee]&&(es[ee]=function(et){return new Promise(function(ei,es){eo.push([ee,et,ei,es])>1||resume(ee,et)})})}function resume(ee,et){try{var ei;(ei=en[ee](et)).value instanceof __await?Promise.resolve(ei.value.v).then(fulfill,reject):settle(eo[0][2],ei)}catch(ee){settle(eo[0][3],ee)}}function fulfill(ee){resume("next",ee)}function reject(ee){resume("throw",ee)}function settle(ee,et){ee(et),eo.shift(),eo.length&&resume(eo[0][0],eo[0][1])}}function __asyncDelegator(ee){var et,ei;return et={},verb("next"),verb("throw",function(ee){throw ee}),verb("return"),et[Symbol.iterator]=function(){return this},et;function verb(es,en){et[es]=ee[es]?function(et){return(ei=!ei)?{value:__await(ee[es](et)),done:"return"===es}:en?en(et):et}:en}}function __asyncValues(ee){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var et,ei=ee[Symbol.asyncIterator];return ei?ei.call(ee):(ee=__values(ee),et={},verb("next"),verb("throw"),verb("return"),et[Symbol.asyncIterator]=function(){return this},et);function verb(ei){et[ei]=ee[ei]&&function(et){return new Promise(function(es,en){!function(ee,et,ei,es){Promise.resolve(es).then(function(et){ee({value:et,done:ei})},et)}(es,en,(et=ee[ei](et)).done,et.value)})}}}function __makeTemplateObject(ee,et){return Object.defineProperty?Object.defineProperty(ee,"raw",{value:et}):ee.raw=et,ee}function __importStar(ee){if(ee&&ee.__esModule)return ee;var et={};if(null!=ee)for(var ei in ee)Object.hasOwnProperty.call(ee,ei)&&(et[ei]=ee[ei]);return et.default=ee,et}function __importDefault(ee){return ee&&ee.__esModule?ee:{default:ee}}function __classPrivateFieldGet(ee,et){if(!et.has(ee))throw TypeError("attempted to get private field on non-instance");return et.get(ee)}function __classPrivateFieldSet(ee,et,ei){if(!et.has(ee))throw TypeError("attempted to set private field on non-instance");return et.set(ee,ei),ei}},38200:function(ee,et,ei){"use strict";ei.d(et,{q:function(){return IEvents}});let IEvents=class IEvents{}},79806:function(ee,et,ei){"use strict";ei.d(et,{CA:function(){return en},JV:function(){return ec},O4:function(){return es},dQ:function(){return eo},xK:function(){return ea}});let es="INTERNAL_ERROR",en="SERVER_ERROR",eo=[-32700,-32600,-32601,-32602,-32603],ea={PARSE_ERROR:{code:-32700,message:"Parse error"},INVALID_REQUEST:{code:-32600,message:"Invalid Request"},METHOD_NOT_FOUND:{code:-32601,message:"Method not found"},INVALID_PARAMS:{code:-32602,message:"Invalid params"},[es]:{code:-32603,message:"Internal error"},[en]:{code:-32e3,message:"Server error"}},ec=en},9698:function(ee,et,ei){"use strict";var es=ei(1468);ei.o(es,"IJsonRpcProvider")&&ei.d(et,{IJsonRpcProvider:function(){return es.IJsonRpcProvider}}),ei.o(es,"formatJsonRpcError")&&ei.d(et,{formatJsonRpcError:function(){return es.formatJsonRpcError}}),ei.o(es,"formatJsonRpcRequest")&&ei.d(et,{formatJsonRpcRequest:function(){return es.formatJsonRpcRequest}}),ei.o(es,"formatJsonRpcResult")&&ei.d(et,{formatJsonRpcResult:function(){return es.formatJsonRpcResult}}),ei.o(es,"getBigIntRpcId")&&ei.d(et,{getBigIntRpcId:function(){return es.getBigIntRpcId}}),ei.o(es,"isJsonRpcError")&&ei.d(et,{isJsonRpcError:function(){return es.isJsonRpcError}}),ei.o(es,"isJsonRpcRequest")&&ei.d(et,{isJsonRpcRequest:function(){return es.isJsonRpcRequest}}),ei.o(es,"isJsonRpcResponse")&&ei.d(et,{isJsonRpcResponse:function(){return es.isJsonRpcResponse}}),ei.o(es,"isJsonRpcResult")&&ei.d(et,{isJsonRpcResult:function(){return es.isJsonRpcResult}}),ei.o(es,"isLocalhostUrl")&&ei.d(et,{isLocalhostUrl:function(){return es.isLocalhostUrl}}),ei.o(es,"isReactNative")&&ei.d(et,{isReactNative:function(){return es.isReactNative}}),ei.o(es,"isWsUrl")&&ei.d(et,{isWsUrl:function(){return es.isWsUrl}}),ei.o(es,"payloadId")&&ei.d(et,{payloadId:function(){return es.payloadId}})},90110:function(ee,et,ei){"use strict";ei.d(et,{CX:function(){return parseConnectionError},L2:function(){return getErrorByCode},by:function(){return getError},i5:function(){return isReservedErrorCode}});var es=ei(79806);function isReservedErrorCode(ee){return es.dQ.includes(ee)}function getError(ee){return Object.keys(es.xK).includes(ee)?es.xK[ee]:es.xK[es.JV]}function getErrorByCode(ee){let et=Object.values(es.xK).find(et=>et.code===ee);return et||es.xK[es.JV]}function parseConnectionError(ee,et,ei){return ee.message.includes("getaddrinfo ENOTFOUND")||ee.message.includes("connect ECONNREFUSED")?Error(`Unavailable ${ei} RPC url at ${et}`):ee}},71937:function(ee,et,ei){"use strict";ei.d(et,{CS:function(){return getBigIntRpcId},RI:function(){return formatJsonRpcError},o0:function(){return payloadId},sT:function(){return formatJsonRpcRequest},tm:function(){return formatJsonRpcResult}});var es=ei(90110),en=ei(79806);function payloadId(ee=3){let et=Date.now()*Math.pow(10,ee),ei=Math.floor(Math.random()*Math.pow(10,ee));return et+ei}function getBigIntRpcId(ee=6){return BigInt(payloadId(ee))}function formatJsonRpcRequest(ee,et,ei){return{id:ei||payloadId(),jsonrpc:"2.0",method:ee,params:et}}function formatJsonRpcResult(ee,et){return{id:ee,jsonrpc:"2.0",result:et}}function formatJsonRpcError(ee,et,ei){var eo;return{id:ee,jsonrpc:"2.0",error:void 0===(eo=et)?(0,es.by)(en.O4):("string"==typeof eo&&(eo=Object.assign(Object.assign({},(0,es.by)(en.CA)),{message:eo})),void 0!==ei&&(eo.data=ei),(0,es.i5)(eo.code)&&(eo=(0,es.L2)(eo.code)),eo)}}},56186:function(ee,et,ei){"use strict";ei.d(et,{IJsonRpcProvider:function(){return ea.x0},formatJsonRpcError:function(){return eo.RI},formatJsonRpcRequest:function(){return eo.sT},formatJsonRpcResult:function(){return eo.tm},getBigIntRpcId:function(){return eo.CS},isJsonRpcError:function(){return el.jg},isJsonRpcRequest:function(){return el.DW},isJsonRpcResponse:function(){return el.u},isJsonRpcResult:function(){return el.k4},isLocalhostUrl:function(){return ec.JF},isWsUrl:function(){return ec.UZ},parseConnectionError:function(){return es.CX},payloadId:function(){return eo.o0}}),ei(79806);var es=ei(90110),en=ei(9698);ei.o(en,"IJsonRpcProvider")&&ei.d(et,{IJsonRpcProvider:function(){return en.IJsonRpcProvider}}),ei.o(en,"formatJsonRpcError")&&ei.d(et,{formatJsonRpcError:function(){return en.formatJsonRpcError}}),ei.o(en,"formatJsonRpcRequest")&&ei.d(et,{formatJsonRpcRequest:function(){return en.formatJsonRpcRequest}}),ei.o(en,"formatJsonRpcResult")&&ei.d(et,{formatJsonRpcResult:function(){return en.formatJsonRpcResult}}),ei.o(en,"getBigIntRpcId")&&ei.d(et,{getBigIntRpcId:function(){return en.getBigIntRpcId}}),ei.o(en,"isJsonRpcError")&&ei.d(et,{isJsonRpcError:function(){return en.isJsonRpcError}}),ei.o(en,"isJsonRpcRequest")&&ei.d(et,{isJsonRpcRequest:function(){return en.isJsonRpcRequest}}),ei.o(en,"isJsonRpcResponse")&&ei.d(et,{isJsonRpcResponse:function(){return en.isJsonRpcResponse}}),ei.o(en,"isJsonRpcResult")&&ei.d(et,{isJsonRpcResult:function(){return en.isJsonRpcResult}}),ei.o(en,"isLocalhostUrl")&&ei.d(et,{isLocalhostUrl:function(){return en.isLocalhostUrl}}),ei.o(en,"isReactNative")&&ei.d(et,{isReactNative:function(){return en.isReactNative}}),ei.o(en,"isWsUrl")&&ei.d(et,{isWsUrl:function(){return en.isWsUrl}}),ei.o(en,"payloadId")&&ei.d(et,{payloadId:function(){return en.payloadId}});var eo=ei(71937),ea=ei(64085),ec=ei(46119),el=ei(84733)},64085:function(ee,et,ei){"use strict";ei.d(et,{x0:function(){return r}});let e=class e{};let n=class n extends e{constructor(){super()}};let r=class r extends n{constructor(ee){super()}}},46119:function(ee,et,ei){"use strict";function isWsUrl(ee){return function(ee,et){let ei=function(ee){let et=ee.match(RegExp(/^\w+:/,"gi"));if(et&&et.length)return et[0]}(ee);return void 0!==ei&&new RegExp(et).test(ei)}(ee,"^wss?:")}function isLocalhostUrl(ee){return RegExp("wss?://localhost(:d{2,5})?").test(ee)}ei.d(et,{JF:function(){return isLocalhostUrl},UZ:function(){return isWsUrl}})},84733:function(ee,et,ei){"use strict";function isJsonRpcPayload(ee){return"object"==typeof ee&&"id"in ee&&"jsonrpc"in ee&&"2.0"===ee.jsonrpc}function isJsonRpcRequest(ee){return isJsonRpcPayload(ee)&&"method"in ee}function isJsonRpcResponse(ee){return isJsonRpcPayload(ee)&&(isJsonRpcResult(ee)||isJsonRpcError(ee))}function isJsonRpcResult(ee){return"result"in ee}function isJsonRpcError(ee){return"error"in ee}ei.d(et,{DW:function(){return isJsonRpcRequest},jg:function(){return isJsonRpcError},k4:function(){return isJsonRpcResult},u:function(){return isJsonRpcResponse}})},72030:function(ee){"use strict";ee.exports=function(){throw Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},12044:function(ee,et,ei){"use strict";ei.d(et,{Ep:function(){return E},Fd:function(){return y},Rt:function(){return A},gw:function(){return en.a},jI:function(){return k}});var es=ei(36559),en=ei.n(es),eo=ei(85094);let ea={level:"info"},ec="custom_context";let O=class O{constructor(ee){this.nodeValue=ee,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}};let d=class d{constructor(ee){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=ee,this.sizeInBytes=0}append(ee){let et=new O(ee);if(et.size>this.maxSizeInBytes)throw Error(`[LinkedList] Value too big to insert into list: ${ee} with size ${et.size}`);for(;this.size+et.size>this.maxSizeInBytes;)this.shift();this.head?this.tail&&(this.tail.next=et):this.head=et,this.tail=et,this.lengthInNodes++,this.sizeInBytes+=et.size}shift(){if(!this.head)return;let ee=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=ee.size}toArray(){let ee=[],et=this.head;for(;null!==et;)ee.push(et.value),et=et.next;return ee}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let ee=this.head;return{next:()=>{if(!ee)return{done:!0,value:null};let et=ee.value;return ee=ee.next,{done:!1,value:et}}}}};let L=class L{constructor(ee,et=1024e3){this.level=ee??"error",this.levelValue=es.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=et,this.logs=new d(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(ee,et){et===es.levels.values.error?console.error(ee):et===es.levels.values.warn?console.warn(ee):et===es.levels.values.debug?console.debug(ee):et===es.levels.values.trace?console.trace(ee):console.log(ee)}appendToLogs(ee){this.logs.append((0,eo.u)({timestamp:new Date().toISOString(),log:ee}));let et="string"==typeof ee?JSON.parse(ee).level:ee.level;et>=this.levelValue&&this.forwardToConsole(ee,et)}getLogs(){return this.logs}clearLogs(){this.logs=new d(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(ee){let et=this.getLogArray();return et.push((0,eo.u)({extraMetadata:ee})),new Blob(et,{type:"application/json"})}};let m=class m{constructor(ee,et=1024e3){this.baseChunkLogger=new L(ee,et)}write(ee){this.baseChunkLogger.appendToLogs(ee)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(ee){return this.baseChunkLogger.logsToBlob(ee)}downloadLogsBlobInBrowser(ee){let et=URL.createObjectURL(this.logsToBlob(ee)),ei=document.createElement("a");ei.href=et,ei.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(ei),ei.click(),document.body.removeChild(ei),URL.revokeObjectURL(et)}};let B=class B{constructor(ee,et=1024e3){this.baseChunkLogger=new L(ee,et)}write(ee){this.baseChunkLogger.appendToLogs(ee)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(ee){return this.baseChunkLogger.logsToBlob(ee)}};var el=Object.defineProperty,eu=Object.defineProperties,ed=Object.getOwnPropertyDescriptors,eh=Object.getOwnPropertySymbols,ep=Object.prototype.hasOwnProperty,ef=Object.prototype.propertyIsEnumerable,f=(ee,et,ei)=>et in ee?el(ee,et,{enumerable:!0,configurable:!0,writable:!0,value:ei}):ee[et]=ei,i=(ee,et)=>{for(var ei in et||(et={}))ep.call(et,ei)&&f(ee,ei,et[ei]);if(eh)for(var ei of eh(et))ef.call(et,ei)&&f(ee,ei,et[ei]);return ee},g=(ee,et)=>eu(ee,ed(et));function k(ee){return g(i({},ee),{level:ee?.level||ea.level})}function y(ee,et=ec){return typeof ee.bindings>"u"?function(ee,et=ec){return ee[et]||""}(ee,et):ee.bindings().context||""}function E(ee,et,ei=ec){let es=function(ee,et,ei=ec){let es=y(ee,ei);return es.trim()?`${es}/${et}`:et}(ee,et,ei),en=ee.child({context:es});return function(ee,et,ei=ec){return ee[ei]=et,ee}(en,es,ei)}function A(ee){return"u">typeof ee.loggerOverride&&"string"!=typeof ee.loggerOverride?{logger:ee.loggerOverride,chunkLoggerController:null}:"u">typeof window?function(ee){var et,ei;let es=new m(null==(et=ee.opts)?void 0:et.level,ee.maxSizeInBytes);return{logger:en()(g(i({},ee.opts),{level:"trace",browser:g(i({},null==(ei=ee.opts)?void 0:ei.browser),{write:ee=>es.write(ee)})})),chunkLoggerController:es}}(ee):function(ee){var et;let ei=new B(null==(et=ee.opts)?void 0:et.level,ee.maxSizeInBytes);return{logger:en()(g(i({},ee.opts),{level:"trace"}),ei),chunkLoggerController:ei}}(ee)}},37968:function(ee,et,ei){"use strict";ei.d(et,{iO:function(){return es}});let es={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}}},45154:function(ee,et,ei){"use strict";ei.d(et,{decodeJWT:function(){return utils_decodeJWT},encodeIss:function(){return encodeIss},generateKeyPair:function(){return generateKeyPair},signJWT:function(){return signJWT}});var es=ei(31050),en=ei(31416),eo=ei(66736);let ea="base64url",ec="utf8",el="utf8",eu="base58btc";function as_uint8array_asUint8Array(ee){return null!=globalThis.Buffer?new Uint8Array(ee.buffer,ee.byteOffset,ee.byteLength):ee}function allocUnsafe(ee=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?as_uint8array_asUint8Array(globalThis.Buffer.allocUnsafe(ee)):new Uint8Array(ee)}var ed=ei(91835);function createCodec(ee,et,ei,es){return{name:ee,prefix:et,encoder:{name:ee,prefix:et,encode:ei},decoder:{decode:es}}}let eh=createCodec("utf8","u",ee=>{let et=new TextDecoder("utf8");return"u"+et.decode(ee)},ee=>{let et=new TextEncoder;return et.encode(ee.substring(1))}),ep=createCodec("ascii","a",ee=>{let et="a";for(let ei=0;ei<ee.length;ei++)et+=String.fromCharCode(ee[ei]);return et},ee=>{ee=ee.substring(1);let et=allocUnsafe(ee.length);for(let ei=0;ei<ee.length;ei++)et[ei]=ee.charCodeAt(ei);return et}),ef={utf8:eh,"utf-8":eh,hex:ed.gh.base16,latin1:ep,ascii:ep,binary:ep,...ed.gh};function to_string_toString(ee,et="utf8"){let ei=ef[et];if(!ei)throw Error(`Unsupported encoding "${et}"`);return("utf8"===et||"utf-8"===et)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?globalThis.Buffer.from(ee.buffer,ee.byteOffset,ee.byteLength).toString("utf8"):ei.encoder.encode(ee).substring(1)}function from_string_fromString(ee,et="utf8"){let ei=ef[et];if(!ei)throw Error(`Unsupported encoding "${et}"`);return("utf8"===et||"utf-8"===et)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?as_uint8array_asUint8Array(globalThis.Buffer.from(ee,"utf-8")):ei.decoder.decode(`${ei.prefix}${ee}`)}var eg=ei(85094);function decodeJSON(ee){return(0,eg.D)(to_string_toString(from_string_fromString(ee,ea),ec))}function encodeJSON(ee){return to_string_toString(from_string_fromString((0,eg.u)(ee),ec),ea)}function encodeIss(ee){let et=from_string_fromString("K36",eu),ei="z"+to_string_toString(function(ee,et){et||(et=ee.reduce((ee,et)=>ee+et.length,0));let ei=allocUnsafe(et),es=0;for(let et of ee)ei.set(et,es),es+=et.length;return as_uint8array_asUint8Array(ei)}([et,ee]),eu);return["did","key",ei].join(":")}function utils_decodeJWT(ee){let et=ee.split("."),ei=decodeJSON(et[0]),es=decodeJSON(et[1]),en=from_string_fromString(et[2],ea),eo=from_string_fromString(et.slice(0,2).join("."),el);return{header:ei,payload:es,signature:en,data:eo}}function generateKeyPair(ee=(0,en.randomBytes)(32)){return es._w(ee)}async function signJWT(ee,et,ei,en,ec=(0,eo.fromMiliseconds)(Date.now())){var eu,ed;let eh={alg:"EdDSA",typ:"JWT"},ep=encodeIss(en.publicKey),ef={iss:ep,sub:ee,aud:et,iat:ec,exp:ec+ei},eg=from_string_fromString([encodeJSON((eu={header:eh,payload:ef}).header),encodeJSON(eu.payload)].join("."),el),em=es.Xx(en.secretKey,eg);return[encodeJSON((ed={header:eh,payload:ef,signature:em}).header),encodeJSON(ed.payload),to_string_toString(ed.signature,ea)].join(".")}ei(43014)},43014:function(){},85094:function(ee,et,ei){"use strict";ei.d(et,{D:function(){return safeJsonParse},u:function(){return safeJsonStringify}});let JSONStringify=ee=>JSON.stringify(ee,(ee,et)=>"bigint"==typeof et?et.toString()+"n":et),JSONParse=ee=>{let et=ee.replace(/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,'$1"$2n"$3');return JSON.parse(et,(ee,et)=>{let ei="string"==typeof et&&et.match(/^\d+n$/);return ei?BigInt(et.substring(0,et.length-1)):et})};function safeJsonParse(ee){if("string"!=typeof ee)throw Error(`Cannot safe json parse value of type ${typeof ee}`);try{return JSONParse(ee)}catch(et){return ee}}function safeJsonStringify(ee){return"string"==typeof ee?ee:JSONStringify(ee)||""}},39253:function(ee,et,ei){"use strict";ei.d(et,{ZP:function(){return index_es_e}});var es=ei(58184),en=ei(12044),eo=ei(28041),ea=ei(66736),ec=ei(62873),el=ei(65755);ei(17563);var eu=ei(16441),ed=ei(38197),eh=ei(29251);function hashMessage(ee){return"string"==typeof ee&&(ee=(0,eh.Y0)(ee)),(0,ed.w)((0,eu.zo)([(0,eh.Y0)("\x19Ethereum Signed Message:\n"),(0,eh.Y0)(String(ee.length)),ee]))}var ep=ei(639);ei(15501),ei(9328),ei(31416);var ef=ei(73294);ei(57664);var eg=ei(94622);ei(86266),ei(45154),ei(37968);var em=ei(34155),ey=ei(48764).Buffer;function re(ee){let[et,ei]=ee.split(":");return{namespace:et,reference:ei}}function W(ee,et){return ee.includes(":")?[ee]:et.chains||[]}Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;let eb={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"};function ce(){return"u">typeof em&&"u">typeof em.versions&&"u">typeof em.versions.node}function $(){return!(0,ec.getDocument)()&&!!(0,ec.getNavigator)()&&"ReactNative"===navigator.product}function V(){return!ce()&&!!(0,ec.getNavigator)()&&!!(0,ec.getDocument)()}function R(ee,et){return ee.filter(ee=>et.includes(ee)).length===ee.length}function Dt(ee=ea.FIVE_MINUTES,et){let ei,es,en,eo;let ec=(0,ea.toMiliseconds)(ee||ea.FIVE_MINUTES);return{resolve:ee=>{en&&ei&&(clearTimeout(en),ei(ee),eo=Promise.resolve(ee))},reject:ee=>{en&&es&&(clearTimeout(en),es(ee))},done:()=>new Promise((ee,ea)=>{if(eo)return ee(eo);en=setTimeout(()=>{let ee=Error(et);eo=Promise.reject(ee),ea(ee)},ec),ei=ee,es=ea})}}function Lt(ee,et){return(0,ea.fromMiliseconds)((et||Date.now())+(0,ea.toMiliseconds)(ee))}function Ft(ee){return Date.now()>=(0,ea.toMiliseconds)(ee)}function qt(ee,et){return`${ee}${et?`:${et}`:""}`}async function Bt({id:ee,topic:et,wcDeepLink:es}){var en;try{if(!es)return;let eo="string"==typeof es?JSON.parse(es):es,ea=eo?.href;if("string"!=typeof ea)return;let el=function(ee,et,ei){let es=`requestId=${et}&sessionTopic=${ei}`;ee.endsWith("/")&&(ee=ee.slice(0,-1));let en=`${ee}`;if(ee.startsWith("https://t.me")){let et=ee.includes("?")?"&startapp=":"?startapp=";en=`${en}${et}${function(ee,et=!1){let ei=ey.from(ee).toString("base64");return et?ei.replace(/[=]/g,""):ei}(es,!0)}`}else en=`${en}/wc?${es}`;return en}(ea,ee,et),eu=$()?eb.reactNative:ce()?eb.node:V()?eb.browser:eb.unknown;if(eu===eb.browser){if(!(null!=(en=(0,ec.getDocument)())&&en.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}el.startsWith("https://")||el.startsWith("http://")?window.open(el,"_blank","noreferrer noopener"):window.open(el,"u">typeof window&&(window.TelegramWebviewProxy||window.Telegram||window.TelegramWebviewProxyProto)?"_blank":"_self","noreferrer noopener")}else eu===eb.reactNative&&"u">typeof(null==ei.g?void 0:ei.g.Linking)&&await ei.g.Linking.openURL(el)}catch(ee){console.error(ee)}}async function Ht(ee,et){let ei="";try{if(V()&&(ei=localStorage.getItem(et)))return ei;ei=await ee.getItem(et)}catch(ee){console.error(ee)}return ei}function Wt(ee,et){if(!ee.includes(et))return null;let ei=ee.split(/([&,?,=])/),es=ei.indexOf(et);return ei[es+2]}async function tn(ee,et,ei,es,en,eo){switch(ei.t){case"eip191":var ea;return ea=ei.s,(0,ep.RJ)(hashMessage(et),ea).toLowerCase()===ee.toLowerCase();case"eip1271":return await on(ee,et,ei.s,es,en,eo);default:throw Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${ei.t}`)}}async function on(ee,et,ei,es,en,eo){let ea=re(es);if(!ea.namespace||!ea.reference)throw Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${es}`);try{let ea="0x1626ba7e",ec=ei.substring(2),el=hashMessage(et).substring(2),eu=await fetch(`${eo||"https://rpc.walletconnect.org/v1"}/?chainId=${es}&projectId=${en}`,{method:"POST",body:JSON.stringify({id:Date.now()+Math.floor(1e3*Math.random()),jsonrpc:"2.0",method:"eth_call",params:[{to:ee,data:ea+el+"00000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000041"+ec},"latest"]})}),{result:ed}=await eu.json();return!!ed&&ed.slice(0,ea.length).toLowerCase()===ea.toLowerCase()}catch(ee){return console.error("isValidEip1271Signature: ",ee),!1}}var e_=Object.defineProperty,ev=Object.defineProperties,ew=Object.getOwnPropertyDescriptors,ex=Object.getOwnPropertySymbols,eS=Object.prototype.hasOwnProperty,eE=Object.prototype.propertyIsEnumerable,cn=(ee,et,ei)=>et in ee?e_(ee,et,{enumerable:!0,configurable:!0,writable:!0,value:ei}):ee[et]=ei,de=(ee,et)=>{for(var ei in et||(et={}))eS.call(et,ei)&&cn(ee,ei,et[ei]);if(ex)for(var ei of ex(et))eE.call(et,ei)&&cn(ee,ei,et[ei]);return ee},an=(ee,et)=>ev(ee,ew(et));let z=ee=>ee?.split(":"),un=ee=>{let et=ee&&z(ee);if(et)return ee.includes("did:pkh:")?et[3]:et[1]},ln=ee=>{let et=ee&&z(ee);if(et)return et[2]+":"+et[3]},index_es_fe=ee=>{let et=ee&&z(ee);if(et)return et.pop()};async function or(ee){let{cacao:et,projectId:ei}=ee,{s:es,p:en}=et,eo=dn(en,en.iss),ea=index_es_fe(en.iss);return await tn(ea,eo,es,ln(en.iss),ei)}let dn=(ee,et)=>{let ei=`${ee.domain} wants you to sign in with your Ethereum account:`,es=index_es_fe(et);if(!ee.aud&&!ee.uri)throw Error("Either `aud` or `uri` is required to construct the message");let en=ee.statement||void 0,eo=`URI: ${ee.aud||ee.uri}`,ea=`Version: ${ee.version}`,ec=`Chain ID: ${un(et)}`,el=`Nonce: ${ee.nonce}`,eu=`Issued At: ${ee.iat}`,ed=ee.exp?`Expiration Time: ${ee.exp}`:void 0,eh=ee.nbf?`Not Before: ${ee.nbf}`:void 0,ep=ee.requestId?`Request ID: ${ee.requestId}`:void 0,ef=ee.resources?`Resources:${ee.resources.map(ee=>`
- ${ee}`).join("")}`:void 0,eg=Y(ee.resources);if(eg){let ee=I(eg);en=function(ee="",et){O(et);let ei="I further authorize the stated URI to perform the following actions on my behalf: ";if(ee.includes(ei))return ee;let es=[],en=0;Object.keys(et.att).forEach(ee=>{let ei=Object.keys(et.att[ee]).map(ee=>({ability:ee.split("/")[0],action:ee.split("/")[1]}));ei.sort((ee,et)=>ee.action.localeCompare(et.action));let eo={};ei.forEach(ee=>{eo[ee.ability]||(eo[ee.ability]=[]),eo[ee.ability].push(ee.action)});let ea=Object.keys(eo).map(et=>(en++,`(${en}) '${et}': '${eo[et].join("', '")}' for '${ee}'.`));es.push(ea.join(", ").replace(".,","."))});let eo=es.join(" "),ea=`${ei}${eo}`;return`${ee?ee+" ":""}${ea}`}(en,ee)}return[ei,es,"",en,"",eo,ea,ec,el,eu,ed,eh,ep,ef].filter(ee=>null!=ee).join(`
`)};function O(ee){if(!ee)throw Error("No recap provided, value is undefined");if(!ee.att)throw Error("No `att` property found");let et=Object.keys(ee.att);if(!(null!=et&&et.length))throw Error("No resources found in `att` property");et.forEach(et=>{let ei=ee.att[et];if(Array.isArray(ei)||"object"!=typeof ei)throw Error(`Resource must be an object: ${et}`);if(!Object.keys(ei).length)throw Error(`Resource object is empty: ${et}`);Object.keys(ei).forEach(ee=>{let et=ei[ee];if(!Array.isArray(et))throw Error(`Ability limits ${ee} must be an array of objects, found: ${et}`);if(!et.length)throw Error(`Value of ${ee} is empty array, must be an array with objects`);et.forEach(et=>{if("object"!=typeof et)throw Error(`Ability limits (${ee}) must be an array of objects, found: ${et}`)})})})}function G(ee){return O(ee),`urn:recap:${ey.from(JSON.stringify(ee)).toString("base64").replace(/=/g,"")}`}function I(ee){var et;let ei=(et=ee.replace("urn:recap:",""),JSON.parse(ey.from(et,"base64").toString("utf-8")));return O(ei),ei}function dr(ee){var et;let ei=I(ee);O(ei);let es=null==(et=ei.att)?void 0:et.eip155;return es?Object.keys(es).map(ee=>ee.split("/")[1]):[]}function fr(ee){let et=I(ee);O(et);let ei=[];return Object.values(et.att).forEach(ee=>{Object.values(ee).forEach(ee=>{var et;null!=(et=ee?.[0])&&et.chains&&ei.push(ee[0].chains)})}),[...new Set(ei.flat())]}function Y(ee){if(!ee)return;let et=ee?.[ee.length-1];return et&&et.includes("urn:recap:")?et:void 0}let eA="base16",eI="base64pad",eT="base64url";function vr(ee){let et=(0,ef.vp)((0,eg.mL)(ee,eA));return(0,eg.BB)(et,eA)}function br(ee){let et=(0,ef.vp)((0,eg.mL)(ee,"utf8"));return(0,eg.BB)(et,eA)}function Kr(ee,et,ei){return`${ee}?wc_ev=${ei}&topic=${et}`}function U(ee){let et=[];return ee.forEach(ee=>{let[ei,es]=ee.split(":");et.push(`${ei}:${es}`)}),et}function Yr(ee,et){et=et.map(ee=>ee.replace("did:pkh:",""));let ei=function(ee){let et={};return ee?.forEach(ee=>{let[ei,es]=ee.split(":");et[ei]||(et[ei]={accounts:[],chains:[],events:[]}),et[ei].accounts.push(ee),et[ei].chains.push(`${ei}:${es}`)}),et}(et);for(let[et,es]of Object.entries(ei))es.methods?es.methods=function(ee=[],et=[]){return[...new Set([...ee,...et])]}(es.methods,ee):es.methods=ee,es.events=["chainChanged","accountsChanged"];return ei}Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;let eR={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},eD={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function S(ee,et){let{message:ei,code:es}=eD[ee];return{message:et?`${ei} ${et}`:ei,code:es}}function index_es_(ee,et){let{message:ei,code:es}=eR[ee];return{message:et?`${ei} ${et}`:ei,code:es}}function L(ee,et){return!!Array.isArray(ee)&&(!("u">typeof et)||!ee.length||ee.every(et))}function Z(ee){return Object.getPrototypeOf(ee)===Object.prototype&&Object.keys(ee).length}function P(ee){return typeof ee>"u"}function b(ee,et){return!!(et&&P(ee))||"string"==typeof ee&&!!ee.trim().length}function X(ee,et){return!!(et&&P(ee))||"number"==typeof ee&&!isNaN(ee)}function F(ee){return!!(b(ee,!1)&&ee.includes(":"))&&2===ee.split(":").length}function Se(ee){let et=!0;return L(ee)?ee.length&&(et=ee.every(ee=>b(ee,!1))):et=!1,et}function $e(ee,et){let ei=null;return Object.values(ee).forEach(ee=>{var es;let en;if(ei)return;let eo=(es=`${et}, namespace`,en=null,Se(ee?.methods)?Se(ee?.events)||(en=index_es_("UNSUPPORTED_EVENTS",`${es}, events should be an array of strings or empty array for no events`)):en=index_es_("UNSUPPORTED_METHODS",`${es}, methods should be an array of strings or empty array for no methods`),en);eo&&(ei=eo)}),ei}function Wn(ee,et){let ei=null;if(ee&&Z(ee)){let es;let en=$e(ee,et);en&&(ei=en);let eo=(es=null,Object.values(ee).forEach(ee=>{var ei,en;let eo;if(es)return;let ea=(ei=ee?.accounts,en=`${et} namespace`,eo=null,L(ei)?ei.forEach(ee=>{eo||function(ee){if(b(ee,!1)&&ee.includes(":")){let et=ee.split(":");if(3===et.length){let ee=et[0]+":"+et[1];return!!et[2]&&F(ee)}}return!1}(ee)||(eo=index_es_("UNSUPPORTED_ACCOUNTS",`${en}, account ${ee} should be a string and conform to "namespace:chainId:address" format`))}):eo=index_es_("UNSUPPORTED_ACCOUNTS",`${en}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),eo);ea&&(es=ea)}),es);eo&&(ei=eo)}else ei=S("MISSING_OR_INVALID",`${et}, namespaces should be an object with data`);return ei}function Jn(ee){return b(ee.protocol,!0)}function so(ee){return"u">typeof ee}function lo(ee,et){return!(!F(et)||!(function(ee){let et=[];return Object.values(ee).forEach(ee=>{et.push(...U(ee.accounts))}),et})(ee).includes(et))}function zn(ee,et,ei){let es=null,en=function(ee){let et={};return Object.keys(ee).forEach(ei=>{var es;ei.includes(":")?et[ei]=ee[ei]:null==(es=ee[ei].chains)||es.forEach(es=>{et[es]={methods:ee[ei].methods,events:ee[ei].events}})}),et}(ee),eo=function(ee){let et={};return Object.keys(ee).forEach(ei=>{if(ei.includes(":"))et[ei]=ee[ei];else{let es=U(ee[ei].accounts);es?.forEach(es=>{et[es]={accounts:ee[ei].accounts.filter(ee=>ee.includes(`${es}:`)),methods:ee[ei].methods,events:ee[ei].events}})}}),et}(et),ea=Object.keys(en),ec=Object.keys(eo),el=Gn(Object.keys(ee)),eu=Gn(Object.keys(et)),ed=el.filter(ee=>!eu.includes(ee));return ed.length&&(es=S("NON_CONFORMING_NAMESPACES",`${ei} namespaces keys don't satisfy requiredNamespaces.
      Required: ${ed.toString()}
      Received: ${Object.keys(et).toString()}`)),R(ea,ec)||(es=S("NON_CONFORMING_NAMESPACES",`${ei} namespaces chains don't satisfy required namespaces.
      Required: ${ea.toString()}
      Approved: ${ec.toString()}`)),Object.keys(et).forEach(ee=>{if(!ee.includes(":")||es)return;let en=U(et[ee].accounts);en.includes(ee)||(es=S("NON_CONFORMING_NAMESPACES",`${ei} namespaces accounts don't satisfy namespace accounts for ${ee}
        Required: ${ee}
        Approved: ${en.toString()}`))}),ea.forEach(ee=>{es||(R(en[ee].methods,eo[ee].methods)?R(en[ee].events,eo[ee].events)||(es=S("NON_CONFORMING_NAMESPACES",`${ei} namespaces events don't satisfy namespace events for ${ee}`)):es=S("NON_CONFORMING_NAMESPACES",`${ei} namespaces methods don't satisfy namespace methods for ${ee}`))}),es}function Gn(ee){return[...new Set(ee.map(ee=>ee.includes(":")?ee.split(":")[0]:ee))]}let ek={};let bo=class bo{static get(ee){return ek[ee]}static set(ee,et){ek[ee]=et}static delete(ee){delete ek[ee]}};var eB=ei(17187),eP=ei.n(eB),eO=ei(56186);let eC="client",eU=`wc@2:${eC}:`,eL={name:eC,logger:"error"},ej="WALLETCONNECT_DEEPLINK_CHOICE",eN=ea.SEVEN_DAYS,eM={wc_sessionPropose:{req:{ttl:ea.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:ea.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:ea.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:ea.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:ea.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:ea.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:ea.ONE_DAY,prompt:!1,tag:1104},res:{ttl:ea.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:ea.ONE_DAY,prompt:!1,tag:1106},res:{ttl:ea.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:ea.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:ea.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:ea.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:ea.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:ea.ONE_DAY,prompt:!1,tag:1112},res:{ttl:ea.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:ea.ONE_DAY,prompt:!1,tag:1114},res:{ttl:ea.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:ea.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:ea.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:ea.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:ea.FIVE_MINUTES,prompt:!1,tag:1119}}},e$={min:ea.FIVE_MINUTES,max:ea.SEVEN_DAYS},eF={idle:"IDLE",active:"ACTIVE"},ez=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],eK="wc@1.5:auth:",eH=`${eK}:PUB_KEY`;var eV=Object.defineProperty,eW=Object.defineProperties,eJ=Object.getOwnPropertyDescriptors,eG=Object.getOwnPropertySymbols,eY=Object.prototype.hasOwnProperty,eQ=Object.prototype.propertyIsEnumerable,index_es_yt=(ee,et,ei)=>et in ee?eV(ee,et,{enumerable:!0,configurable:!0,writable:!0,value:ei}):ee[et]=ei,index_es_I=(ee,et)=>{for(var ei in et||(et={}))eY.call(et,ei)&&index_es_yt(ee,ei,et[ei]);if(eG)for(var ei of eG(et))eQ.call(et,ei)&&index_es_yt(ee,ei,et[ei]);return ee},index_es_D=(ee,et)=>eW(ee,eJ(et));let Rs=class Rs extends eo.W3{constructor(ee){super(ee),this.name="engine",this.events=new(eP()),this.initialized=!1,this.requestQueue={state:eF.idle,queue:[]},this.sessionRequestQueue={state:eF.idle,queue:[]},this.requestQueueDelay=ea.ONE_SECOND,this.expectedPairingMethodMap=new Map,this.recentlyDeletedMap=new Map,this.recentlyDeletedLimit=200,this.relayMessageCache=[],this.init=async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(eM)}),this.initialized=!0,setTimeout(()=>{this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},(0,ea.toMiliseconds)(this.requestQueueDelay)))},this.connect=async ee=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();let et=index_es_D(index_es_I({},ee),{requiredNamespaces:ee.requiredNamespaces||{},optionalNamespaces:ee.optionalNamespaces||{}});await this.isValidConnect(et);let{pairingTopic:ei,requiredNamespaces:en,optionalNamespaces:eo,sessionProperties:ec,relays:el}=et,eu=ei,ed,eh=!1;try{eu&&(eh=this.client.core.pairing.pairings.get(eu).active)}catch(ee){throw this.client.logger.error(`connect() -> pairing.get(${eu}) failed`),ee}if(!eu||!eh){let{topic:ee,uri:et}=await this.client.core.pairing.create();eu=ee,ed=et}if(!eu){let{message:ee}=S("NO_MATCHING_KEY",`connect() pairing topic: ${eu}`);throw Error(ee)}let ep=await this.client.core.crypto.generateKeyPair(),ef=eM.wc_sessionPropose.req.ttl||ea.FIVE_MINUTES,eg=Lt(ef),em=index_es_I({requiredNamespaces:en,optionalNamespaces:eo,relays:el??[{protocol:es.ZF}],proposer:{publicKey:ep,metadata:this.client.metadata},expiryTimestamp:eg,pairingTopic:eu},ec&&{sessionProperties:ec}),{reject:ey,resolve:eb,done:e_}=Dt(ef,"Proposal expired");this.events.once(qt("session_connect"),async({error:ee,session:et})=>{if(ee)ey(ee);else if(et){et.self.publicKey=ep;let ee=index_es_D(index_es_I({},et),{pairingTopic:em.pairingTopic,requiredNamespaces:em.requiredNamespaces,optionalNamespaces:em.optionalNamespaces,transportType:es.QZ.relay});await this.client.session.set(et.topic,ee),await this.setExpiry(et.topic,et.expiry),eu&&await this.client.core.pairing.updateMetadata({topic:eu,metadata:et.peer.metadata}),this.cleanupDuplicatePairings(ee),eb(ee)}});let ev=await this.sendRequest({topic:eu,method:"wc_sessionPropose",params:em,throwOnFailedPublish:!0});return await this.setProposal(ev,index_es_I({id:ev},em)),{uri:ed,approval:e_}},this.pair=async ee=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(ee)}catch(ee){throw this.client.logger.error("pair() failed"),ee}},this.approve=async ee=>{var et,ei,en;let eo=this.client.core.eventClient.createEvent({properties:{topic:null==(et=ee?.id)?void 0:et.toString(),trace:[es.Wk.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(ee){throw eo.setError(es.cQ.no_internet_connection),ee}try{await this.isValidProposalId(ee?.id)}catch(et){throw this.client.logger.error(`approve() -> proposal.get(${ee?.id}) failed`),eo.setError(es.cQ.proposal_not_found),et}try{await this.isValidApprove(ee)}catch(ee){throw this.client.logger.error("approve() -> isValidApprove() failed"),eo.setError(es.cQ.session_approve_namespace_validation_failure),ee}let{id:ea,relayProtocol:ec,namespaces:el,sessionProperties:eu,sessionConfig:ed}=ee,eh=this.client.proposal.get(ea);this.client.core.eventClient.deleteEvent({eventId:eo.eventId});let{pairingTopic:ep,proposer:ef,requiredNamespaces:eg,optionalNamespaces:em}=eh,ey=null==(ei=this.client.core.eventClient)?void 0:ei.getEvent({topic:ep});ey||(ey=null==(en=this.client.core.eventClient)?void 0:en.createEvent({type:es.Wk.session_approve_started,properties:{topic:ep,trace:[es.Wk.session_approve_started,es.Wk.session_namespaces_validation_success]}}));let eb=await this.client.core.crypto.generateKeyPair(),e_=ef.publicKey,ev=await this.client.core.crypto.generateSharedKey(eb,e_),ew=index_es_I(index_es_I({relay:{protocol:ec??"irn"},namespaces:el,controller:{publicKey:eb,metadata:this.client.metadata},expiry:Lt(eN)},eu&&{sessionProperties:eu}),ed&&{sessionConfig:ed}),ex=es.QZ.relay;ey.addTrace(es.Wk.subscribing_session_topic);try{await this.client.core.relayer.subscribe(ev,{transportType:ex})}catch(ee){throw ey.setError(es.cQ.subscribe_session_topic_failure),ee}ey.addTrace(es.Wk.subscribe_session_topic_success);let eS=index_es_D(index_es_I({},ew),{topic:ev,requiredNamespaces:eg,optionalNamespaces:em,pairingTopic:ep,acknowledged:!1,self:ew.controller,peer:{publicKey:ef.publicKey,metadata:ef.metadata},controller:eb,transportType:es.QZ.relay});await this.client.session.set(ev,eS),ey.addTrace(es.Wk.store_session);try{ey.addTrace(es.Wk.publishing_session_settle),await this.sendRequest({topic:ev,method:"wc_sessionSettle",params:ew,throwOnFailedPublish:!0}).catch(ee=>{throw ey?.setError(es.cQ.session_settle_publish_failure),ee}),ey.addTrace(es.Wk.session_settle_publish_success),ey.addTrace(es.Wk.publishing_session_approve),await this.sendResult({id:ea,topic:ep,result:{relay:{protocol:ec??"irn"},responderPublicKey:eb},throwOnFailedPublish:!0}).catch(ee=>{throw ey?.setError(es.cQ.session_approve_publish_failure),ee}),ey.addTrace(es.Wk.session_approve_publish_success)}catch(ee){throw this.client.logger.error(ee),this.client.session.delete(ev,index_es_("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(ev),ee}return this.client.core.eventClient.deleteEvent({eventId:ey.eventId}),await this.client.core.pairing.updateMetadata({topic:ep,metadata:ef.metadata}),await this.client.proposal.delete(ea,index_es_("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:ep}),await this.setExpiry(ev,Lt(eN)),{topic:ev,acknowledged:()=>Promise.resolve(this.client.session.get(ev))}},this.reject=async ee=>{let et;this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(ee)}catch(ee){throw this.client.logger.error("reject() -> isValidReject() failed"),ee}let{id:ei,reason:es}=ee;try{et=this.client.proposal.get(ei).pairingTopic}catch(ee){throw this.client.logger.error(`reject() -> proposal.get(${ei}) failed`),ee}et&&(await this.sendError({id:ei,topic:et,error:es,rpcOpts:eM.wc_sessionPropose.reject}),await this.client.proposal.delete(ei,index_es_("USER_DISCONNECTED")))},this.update=async ee=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(ee)}catch(ee){throw this.client.logger.error("update() -> isValidUpdate() failed"),ee}let{topic:et,namespaces:ei}=ee,{done:es,resolve:en,reject:eo}=Dt(),ea=(0,eO.payloadId)(),ec=(0,eO.getBigIntRpcId)().toString(),el=this.client.session.get(et).namespaces;return this.events.once(qt("session_update",ea),({error:ee})=>{ee?eo(ee):en()}),await this.client.session.update(et,{namespaces:ei}),await this.sendRequest({topic:et,method:"wc_sessionUpdate",params:{namespaces:ei},throwOnFailedPublish:!0,clientRpcId:ea,relayRpcId:ec}).catch(ee=>{this.client.logger.error(ee),this.client.session.update(et,{namespaces:el}),eo(ee)}),{acknowledged:es}},this.extend=async ee=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(ee)}catch(ee){throw this.client.logger.error("extend() -> isValidExtend() failed"),ee}let{topic:et}=ee,ei=(0,eO.payloadId)(),{done:es,resolve:en,reject:eo}=Dt();return this.events.once(qt("session_extend",ei),({error:ee})=>{ee?eo(ee):en()}),await this.setExpiry(et,Lt(eN)),this.sendRequest({topic:et,method:"wc_sessionExtend",params:{},clientRpcId:ei,throwOnFailedPublish:!0}).catch(ee=>{eo(ee)}),{acknowledged:es}},this.request=async ee=>{this.isInitialized();try{await this.isValidRequest(ee)}catch(ee){throw this.client.logger.error("request() -> isValidRequest() failed"),ee}let{chainId:et,request:ei,topic:en,expiry:eo=eM.wc_sessionRequest.req.ttl}=ee,ea=this.client.session.get(en);ea?.transportType===es.QZ.relay&&await this.confirmOnlineStateOrThrow();let ec=(0,eO.payloadId)(),el=(0,eO.getBigIntRpcId)().toString(),{done:eu,resolve:ed,reject:eh}=Dt(eo,"Request expired. Please try again.");this.events.once(qt("session_request",ec),({error:ee,result:et})=>{ee?eh(ee):ed(et)});let ep=this.getAppLinkIfEnabled(ea.peer.metadata,ea.transportType);return ep?(await this.sendRequest({clientRpcId:ec,relayRpcId:el,topic:en,method:"wc_sessionRequest",params:{request:index_es_D(index_es_I({},ei),{expiryTimestamp:Lt(eo)}),chainId:et},expiry:eo,throwOnFailedPublish:!0,appLink:ep}).catch(ee=>eh(ee)),this.client.events.emit("session_request_sent",{topic:en,request:ei,chainId:et,id:ec}),await eu()):await Promise.all([new Promise(async ee=>{await this.sendRequest({clientRpcId:ec,relayRpcId:el,topic:en,method:"wc_sessionRequest",params:{request:index_es_D(index_es_I({},ei),{expiryTimestamp:Lt(eo)}),chainId:et},expiry:eo,throwOnFailedPublish:!0}).catch(ee=>eh(ee)),this.client.events.emit("session_request_sent",{topic:en,request:ei,chainId:et,id:ec}),ee()}),new Promise(async ee=>{var et;if(!(null!=(et=ea.sessionConfig)&&et.disableDeepLink)){let ee=await Ht(this.client.core.storage,ej);await Bt({id:ec,topic:en,wcDeepLink:ee})}ee()}),eu()]).then(ee=>ee[2])},this.respond=async ee=>{this.isInitialized(),await this.isValidRespond(ee);let{topic:et,response:ei}=ee,{id:en}=ei,eo=this.client.session.get(et);eo.transportType===es.QZ.relay&&await this.confirmOnlineStateOrThrow();let ea=this.getAppLinkIfEnabled(eo.peer.metadata,eo.transportType);(0,eO.isJsonRpcResult)(ei)?await this.sendResult({id:en,topic:et,result:ei.result,throwOnFailedPublish:!0,appLink:ea}):(0,eO.isJsonRpcError)(ei)&&await this.sendError({id:en,topic:et,error:ei.error,appLink:ea}),this.cleanupAfterResponse(ee)},this.ping=async ee=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(ee)}catch(ee){throw this.client.logger.error("ping() -> isValidPing() failed"),ee}let{topic:et}=ee;if(this.client.session.keys.includes(et)){let ee=(0,eO.payloadId)(),ei=(0,eO.getBigIntRpcId)().toString(),{done:es,resolve:en,reject:eo}=Dt();this.events.once(qt("session_ping",ee),({error:ee})=>{ee?eo(ee):en()}),await Promise.all([this.sendRequest({topic:et,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:ee,relayRpcId:ei}),es()])}else this.client.core.pairing.pairings.keys.includes(et)&&await this.client.core.pairing.ping({topic:et})},this.emit=async ee=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(ee);let{topic:et,event:ei,chainId:es}=ee,en=(0,eO.getBigIntRpcId)().toString(),eo=(0,eO.payloadId)();await this.sendRequest({topic:et,method:"wc_sessionEvent",params:{event:ei,chainId:es},throwOnFailedPublish:!0,relayRpcId:en,clientRpcId:eo})},this.disconnect=async ee=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(ee);let{topic:et}=ee;if(this.client.session.keys.includes(et))await this.sendRequest({topic:et,method:"wc_sessionDelete",params:index_es_("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:et,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(et))await this.client.core.pairing.disconnect({topic:et});else{let{message:ee}=S("MISMATCHED_TOPIC",`Session or pairing topic not found: ${et}`);throw Error(ee)}},this.find=ee=>(this.isInitialized(),this.client.session.getAll().filter(et=>(function(ee,et){let{requiredNamespaces:ei}=et,es=Object.keys(ee.namespaces),en=Object.keys(ei),eo=!0;return!!R(en,es)&&(es.forEach(et=>{let{accounts:es,methods:en,events:ea}=ee.namespaces[et],ec=U(es),el=ei[et];R(W(et,el),ec)&&R(el.methods,en)&&R(el.events,ea)||(eo=!1)}),eo)})(et,ee))),this.getPendingSessionRequests=()=>this.client.pendingRequest.getAll(),this.authenticate=async(ee,et)=>{var ei;let en;this.isInitialized(),this.isValidAuthenticate(ee);let eo=et&&this.client.core.linkModeSupportedApps.includes(et)&&(null==(ei=this.client.metadata.redirect)?void 0:ei.linkMode),ea=eo?es.QZ.link_mode:es.QZ.relay;ea===es.QZ.relay&&await this.confirmOnlineStateOrThrow();let{chains:ec,statement:el="",uri:eu,domain:ed,nonce:eh,type:ep,exp:ef,nbf:eg,methods:em=[],expiry:ey}=ee,eb=[...ee.resources||[]],{topic:e_,uri:ev}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:ea});this.client.logger.info({message:"Generated new pairing",pairing:{topic:e_,uri:ev}});let ew=await this.client.core.crypto.generateKeyPair(),ex=vr(ew);if(await Promise.all([this.client.auth.authKeys.set(eH,{responseTopic:ex,publicKey:ew}),this.client.auth.pairingTopics.set(ex,{topic:ex,pairingTopic:e_})]),await this.client.core.relayer.subscribe(ex,{transportType:ea}),this.client.logger.info(`sending request to new pairing topic: ${e_}`),em.length>0){let{namespace:ee}=re(ec[0]),et=function(ee,et,ei){let es=function(ee,et,ei,es={}){return ei?.sort((ee,et)=>ee.localeCompare(et)),{att:{[ee]:function(ee,et,ei={}){et=et?.sort((ee,et)=>ee.localeCompare(et));let es=et.map(et=>({[`${ee}/${et}`]:[ei]}));return Object.assign({},...es)}(et,ei,es)}}}(ee,et,ei);return G(es)}(ee,"request",em);Y(eb)&&(et=function(ee,et){let ei=I(ee),es=I(et),en=function(ee,et){O(ee),O(et);let ei=Object.keys(ee.att).concat(Object.keys(et.att)).sort((ee,et)=>ee.localeCompare(et)),es={att:{}};return ei.forEach(ei=>{var en,eo;Object.keys((null==(en=ee.att)?void 0:en[ei])||{}).concat(Object.keys((null==(eo=et.att)?void 0:eo[ei])||{})).sort((ee,et)=>ee.localeCompare(et)).forEach(en=>{var eo,ea;es.att[ei]=an(de({},es.att[ei]),{[en]:(null==(eo=ee.att[ei])?void 0:eo[en])||(null==(ea=et.att[ei])?void 0:ea[en])})})}),es}(ei,es);return G(en)}(et,eb.pop())),eb.push(et)}let eS=ey&&ey>eM.wc_sessionAuthenticate.req.ttl?ey:eM.wc_sessionAuthenticate.req.ttl,eE={authPayload:{type:ep??"caip122",chains:ec,statement:el,aud:eu,domain:ed,version:"1",nonce:eh,iat:new Date().toISOString(),exp:ef,nbf:eg,resources:eb},requester:{publicKey:ew,metadata:this.client.metadata},expiryTimestamp:Lt(eS)},eA={eip155:{chains:ec,methods:[...new Set(["personal_sign",...em])],events:["chainChanged","accountsChanged"]}},eI={requiredNamespaces:{},optionalNamespaces:eA,relays:[{protocol:"irn"}],pairingTopic:e_,proposer:{publicKey:ew,metadata:this.client.metadata},expiryTimestamp:Lt(eM.wc_sessionPropose.req.ttl)},{done:eR,resolve:eD,reject:ek}=Dt(eS,"Request expired"),ce=async({error:ee,session:et})=>{if(this.events.off(qt("session_request",eB),Re),ee)ek(ee);else if(et){et.self.publicKey=ew,await this.client.session.set(et.topic,et),await this.setExpiry(et.topic,et.expiry),e_&&await this.client.core.pairing.updateMetadata({topic:e_,metadata:et.peer.metadata});let ee=this.client.session.get(et.topic);await this.deleteProposal(eP),eD({session:ee})}},Re=async ee=>{var ei,en,eo;let ec;if(await this.deletePendingAuthRequest(eB,{message:"fulfilled",code:0}),ee.error){let et=index_es_("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return ee.error.code===et.code?void 0:(this.events.off(qt("session_connect"),ce),ek(ee.error.message))}await this.deleteProposal(eP),this.events.off(qt("session_connect"),ce);let{cacaos:el,responder:eu}=ee.result,ed=[],eh=[];for(let ee of el){await or({cacao:ee,projectId:this.client.core.projectId})||(this.client.logger.error(ee,"Signature verification failed"),ek(index_es_("SESSION_SETTLEMENT_FAILED","Signature verification failed")));let{p:et}=ee,ei=Y(et.resources),es=[ln(et.iss)],en=index_es_fe(et.iss);if(ei){let ee=dr(ei),et=fr(ei);ed.push(...ee),es.push(...et)}for(let ee of es)eh.push(`${ee}:${en}`)}let ep=await this.client.core.crypto.generateSharedKey(ew,eu.publicKey);ed.length>0&&(ec={topic:ep,acknowledged:!0,self:{publicKey:ew,metadata:this.client.metadata},peer:eu,controller:eu.publicKey,expiry:Lt(eN),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:e_,namespaces:Yr([...new Set(ed)],[...new Set(eh)]),transportType:ea},await this.client.core.relayer.subscribe(ep,{transportType:ea}),await this.client.session.set(ep,ec),e_&&await this.client.core.pairing.updateMetadata({topic:e_,metadata:eu.metadata}),ec=this.client.session.get(ep)),null!=(ei=this.client.metadata.redirect)&&ei.linkMode&&null!=(en=eu.metadata.redirect)&&en.linkMode&&null!=(eo=eu.metadata.redirect)&&eo.universal&&et&&(this.client.core.addLinkModeSupportedApp(eu.metadata.redirect.universal),this.client.session.update(ep,{transportType:es.QZ.link_mode})),eD({auths:el,session:ec})},eB=(0,eO.payloadId)(),eP=(0,eO.payloadId)();this.events.once(qt("session_connect"),ce),this.events.once(qt("session_request",eB),Re);try{if(eo){let ee=(0,eO.formatJsonRpcRequest)("wc_sessionAuthenticate",eE,eB);this.client.core.history.set(e_,ee);let ei=await this.client.core.crypto.encode("",ee,{type:2,encoding:eT});en=Kr(et,e_,ei)}else await Promise.all([this.sendRequest({topic:e_,method:"wc_sessionAuthenticate",params:eE,expiry:ee.expiry,throwOnFailedPublish:!0,clientRpcId:eB}),this.sendRequest({topic:e_,method:"wc_sessionPropose",params:eI,expiry:eM.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:eP})])}catch(ee){throw this.events.off(qt("session_connect"),ce),this.events.off(qt("session_request",eB),Re),ee}return await this.setProposal(eP,index_es_I({id:eP},eI)),await this.setAuthRequest(eB,{request:index_es_D(index_es_I({},eE),{verifyContext:{}}),pairingTopic:e_,transportType:ea}),{uri:en??ev,response:eR}},this.approveSessionAuthenticate=async ee=>{let et;let{id:ei,auths:en}=ee,eo=this.client.core.eventClient.createEvent({properties:{topic:ei.toString(),trace:[es.t7.authenticated_session_approve_started]}});try{this.isInitialized()}catch(ee){throw eo.setError(es.E9.no_internet_connection),ee}let ea=this.getPendingAuthRequest(ei);if(!ea)throw eo.setError(es.E9.authenticated_session_pending_request_not_found),Error(`Could not find pending auth request with id ${ei}`);let ec=ea.transportType||es.QZ.relay;ec===es.QZ.relay&&await this.confirmOnlineStateOrThrow();let el=ea.requester.publicKey,eu=await this.client.core.crypto.generateKeyPair(),ed=vr(el),eh={type:1,receiverPublicKey:el,senderPublicKey:eu},ep=[],ef=[];for(let ee of en){if(!await or({cacao:ee,projectId:this.client.core.projectId})){eo.setError(es.E9.invalid_cacao);let ee=index_es_("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:ei,topic:ed,error:ee,encodeOpts:eh}),Error(ee.message)}eo.addTrace(es.t7.cacaos_verified);let{p:et}=ee,en=Y(et.resources),ea=[ln(et.iss)],ec=index_es_fe(et.iss);if(en){let ee=dr(en),et=fr(en);ep.push(...ee),ea.push(...et)}for(let ee of ea)ef.push(`${ee}:${ec}`)}let eg=await this.client.core.crypto.generateSharedKey(eu,el);if(eo.addTrace(es.t7.create_authenticated_session_topic),ep?.length>0){et={topic:eg,acknowledged:!0,self:{publicKey:eu,metadata:this.client.metadata},peer:{publicKey:el,metadata:ea.requester.metadata},controller:el,expiry:Lt(eN),authentication:en,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:ea.pairingTopic,namespaces:Yr([...new Set(ep)],[...new Set(ef)]),transportType:ec},eo.addTrace(es.t7.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(eg,{transportType:ec})}catch(ee){throw eo.setError(es.E9.subscribe_authenticated_session_topic_failure),ee}eo.addTrace(es.t7.subscribe_authenticated_session_topic_success),await this.client.session.set(eg,et),eo.addTrace(es.t7.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:ea.pairingTopic,metadata:ea.requester.metadata})}eo.addTrace(es.t7.publishing_authenticated_session_approve);try{await this.sendResult({topic:ed,id:ei,result:{cacaos:en,responder:{publicKey:eu,metadata:this.client.metadata}},encodeOpts:eh,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(ea.requester.metadata,ec)})}catch(ee){throw eo.setError(es.E9.authenticated_session_approve_publish_failure),ee}return await this.client.auth.requests.delete(ei,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:ea.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:eo.eventId}),{session:et}},this.rejectSessionAuthenticate=async ee=>{this.isInitialized();let{id:et,reason:ei}=ee,en=this.getPendingAuthRequest(et);if(!en)throw Error(`Could not find pending auth request with id ${et}`);en.transportType===es.QZ.relay&&await this.confirmOnlineStateOrThrow();let eo=en.requester.publicKey,ea=await this.client.core.crypto.generateKeyPair(),ec=vr(eo);await this.sendError({id:et,topic:ec,error:ei,encodeOpts:{type:1,receiverPublicKey:eo,senderPublicKey:ea},rpcOpts:eM.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(en.requester.metadata,en.transportType)}),await this.client.auth.requests.delete(et,{message:"rejected",code:0}),await this.client.proposal.delete(et,index_es_("USER_DISCONNECTED"))},this.formatAuthMessage=ee=>{this.isInitialized();let{request:et,iss:ei}=ee;return dn(et,ei)},this.processRelayMessageCache=()=>{setTimeout(async()=>{if(0!==this.relayMessageCache.length)for(;this.relayMessageCache.length>0;)try{let ee=this.relayMessageCache.shift();ee&&await this.onRelayMessage(ee)}catch(ee){this.client.logger.error(ee)}},50)},this.cleanupDuplicatePairings=async ee=>{if(ee.pairingTopic)try{let et=this.client.core.pairing.pairings.get(ee.pairingTopic),ei=this.client.core.pairing.pairings.getAll().filter(ei=>{var es,en;return(null==(es=ei.peerMetadata)?void 0:es.url)&&(null==(en=ei.peerMetadata)?void 0:en.url)===ee.peer.metadata.url&&ei.topic&&ei.topic!==et.topic});if(0===ei.length)return;this.client.logger.info(`Cleaning up ${ei.length} duplicate pairing(s)`),await Promise.all(ei.map(ee=>this.client.core.pairing.disconnect({topic:ee.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(ee){this.client.logger.error(ee)}},this.deleteSession=async ee=>{var et;let{topic:ei,expirerHasDeleted:es=!1,emitEvent:en=!0,id:eo=0}=ee,{self:ea}=this.client.session.get(ei);await this.client.core.relayer.unsubscribe(ei),await this.client.session.delete(ei,index_es_("USER_DISCONNECTED")),this.addToRecentlyDeleted(ei,"session"),this.client.core.crypto.keychain.has(ea.publicKey)&&await this.client.core.crypto.deleteKeyPair(ea.publicKey),this.client.core.crypto.keychain.has(ei)&&await this.client.core.crypto.deleteSymKey(ei),es||this.client.core.expirer.del(ei),this.client.core.storage.removeItem(ej).catch(ee=>this.client.logger.warn(ee)),this.getPendingSessionRequests().forEach(ee=>{ee.topic===ei&&this.deletePendingSessionRequest(ee.id,index_es_("USER_DISCONNECTED"))}),ei===(null==(et=this.sessionRequestQueue.queue[0])?void 0:et.topic)&&(this.sessionRequestQueue.state=eF.idle),en&&this.client.events.emit("session_delete",{id:eo,topic:ei})},this.deleteProposal=async(ee,et)=>{if(et)try{let et=this.client.proposal.get(ee),ei=this.client.core.eventClient.getEvent({topic:et.pairingTopic});ei?.setError(es.cQ.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(ee,index_es_("USER_DISCONNECTED")),et?Promise.resolve():this.client.core.expirer.del(ee)]),this.addToRecentlyDeleted(ee,"proposal")},this.deletePendingSessionRequest=async(ee,et,ei=!1)=>{await Promise.all([this.client.pendingRequest.delete(ee,et),ei?Promise.resolve():this.client.core.expirer.del(ee)]),this.addToRecentlyDeleted(ee,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(et=>et.id!==ee),ei&&(this.sessionRequestQueue.state=eF.idle,this.client.events.emit("session_request_expire",{id:ee}))},this.deletePendingAuthRequest=async(ee,et,ei=!1)=>{await Promise.all([this.client.auth.requests.delete(ee,et),ei?Promise.resolve():this.client.core.expirer.del(ee)])},this.setExpiry=async(ee,et)=>{this.client.session.keys.includes(ee)&&(this.client.core.expirer.set(ee,et),await this.client.session.update(ee,{expiry:et}))},this.setProposal=async(ee,et)=>{this.client.core.expirer.set(ee,Lt(eM.wc_sessionPropose.req.ttl)),await this.client.proposal.set(ee,et)},this.setAuthRequest=async(ee,et)=>{let{request:ei,pairingTopic:en,transportType:eo=es.QZ.relay}=et;this.client.core.expirer.set(ee,ei.expiryTimestamp),await this.client.auth.requests.set(ee,{authPayload:ei.authPayload,requester:ei.requester,expiryTimestamp:ei.expiryTimestamp,id:ee,pairingTopic:en,verifyContext:ei.verifyContext,transportType:eo})},this.setPendingSessionRequest=async ee=>{let{id:et,topic:ei,params:es,verifyContext:en}=ee,eo=es.request.expiryTimestamp||Lt(eM.wc_sessionRequest.req.ttl);this.client.core.expirer.set(et,eo),await this.client.pendingRequest.set(et,{id:et,topic:ei,params:es,verifyContext:en})},this.sendRequest=async ee=>{let et,es;let{topic:en,method:eo,params:ea,expiry:ec,relayRpcId:el,clientRpcId:eu,throwOnFailedPublish:ed,appLink:eh}=ee,ep=(0,eO.formatJsonRpcRequest)(eo,ea,eu),ef=!!eh;try{let ee=ef?eT:eI;et=await this.client.core.crypto.encode(en,ep,{encoding:ee})}catch(ee){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${en} failed`),ee}if(ez.includes(eo)){let ee=br(JSON.stringify(ep)),ei=br(et);es=await this.client.core.verify.register({id:ei,decryptedId:ee})}let eg=eM[eo].req;if(eg.attestation=es,ec&&(eg.ttl=ec),el&&(eg.id=el),this.client.core.history.set(en,ep),ef){let ee=Kr(eh,en,et);await ei.g.Linking.openURL(ee,this.client.name)}else{let ee=eM[eo].req;ec&&(ee.ttl=ec),el&&(ee.id=el),ed?(ee.internal=index_es_D(index_es_I({},ee.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(en,et,ee)):this.client.core.relayer.publish(en,et,ee).catch(ee=>this.client.logger.error(ee))}return ep.id},this.sendResult=async ee=>{let et,es;let{id:en,topic:eo,result:ea,throwOnFailedPublish:ec,encodeOpts:el,appLink:eu}=ee,ed=(0,eO.formatJsonRpcResult)(en,ea),eh=eu&&"u">typeof(null==ei.g?void 0:ei.g.Linking);try{let ee=eh?eT:eI;et=await this.client.core.crypto.encode(eo,ed,index_es_D(index_es_I({},el||{}),{encoding:ee}))}catch(ee){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${eo} failed`),ee}try{es=await this.client.core.history.get(eo,en)}catch(ee){throw this.client.logger.error(`sendResult() -> history.get(${eo}, ${en}) failed`),ee}if(eh){let ee=Kr(eu,eo,et);await ei.g.Linking.openURL(ee,this.client.name)}else{let ee=eM[es.request.method].res;ec?(ee.internal=index_es_D(index_es_I({},ee.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(eo,et,ee)):this.client.core.relayer.publish(eo,et,ee).catch(ee=>this.client.logger.error(ee))}await this.client.core.history.resolve(ed)},this.sendError=async ee=>{let et,es;let{id:en,topic:eo,error:ea,encodeOpts:ec,rpcOpts:el,appLink:eu}=ee,ed=(0,eO.formatJsonRpcError)(en,ea),eh=eu&&"u">typeof(null==ei.g?void 0:ei.g.Linking);try{let ee=eh?eT:eI;et=await this.client.core.crypto.encode(eo,ed,index_es_D(index_es_I({},ec||{}),{encoding:ee}))}catch(ee){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${eo} failed`),ee}try{es=await this.client.core.history.get(eo,en)}catch(ee){throw this.client.logger.error(`sendError() -> history.get(${eo}, ${en}) failed`),ee}if(eh){let ee=Kr(eu,eo,et);await ei.g.Linking.openURL(ee,this.client.name)}else{let ee=el||eM[es.request.method].res;this.client.core.relayer.publish(eo,et,ee)}await this.client.core.history.resolve(ed)},this.cleanup=async()=>{let ee=[],et=[];this.client.session.getAll().forEach(et=>{let ei=!1;Ft(et.expiry)&&(ei=!0),this.client.core.crypto.keychain.has(et.topic)||(ei=!0),ei&&ee.push(et.topic)}),this.client.proposal.getAll().forEach(ee=>{Ft(ee.expiryTimestamp)&&et.push(ee.id)}),await Promise.all([...ee.map(ee=>this.deleteSession({topic:ee})),...et.map(ee=>this.deleteProposal(ee))])},this.onRelayEventRequest=async ee=>{this.requestQueue.queue.push(ee),await this.processRequestsQueue()},this.processRequestsQueue=async()=>{if(this.requestQueue.state===eF.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=eF.active;let ee=this.requestQueue.queue.shift();if(ee)try{await this.processRequest(ee)}catch(ee){this.client.logger.warn(ee)}}this.requestQueue.state=eF.idle},this.processRequest=async ee=>{let{topic:et,payload:ei,attestation:es,transportType:en,encryptedId:eo}=ee,ea=ei.method;if(!this.shouldIgnorePairingRequest({topic:et,requestMethod:ea}))switch(ea){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:et,payload:ei,attestation:es,encryptedId:eo});case"wc_sessionSettle":return await this.onSessionSettleRequest(et,ei);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(et,ei);case"wc_sessionExtend":return await this.onSessionExtendRequest(et,ei);case"wc_sessionPing":return await this.onSessionPingRequest(et,ei);case"wc_sessionDelete":return await this.onSessionDeleteRequest(et,ei);case"wc_sessionRequest":return await this.onSessionRequest({topic:et,payload:ei,attestation:es,encryptedId:eo,transportType:en});case"wc_sessionEvent":return await this.onSessionEventRequest(et,ei);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:et,payload:ei,attestation:es,encryptedId:eo,transportType:en});default:return this.client.logger.info(`Unsupported request method ${ea}`)}},this.onRelayEventResponse=async ee=>{let{topic:et,payload:ei,transportType:es}=ee,en=(await this.client.core.history.get(et,ei.id)).request.method;switch(en){case"wc_sessionPropose":return this.onSessionProposeResponse(et,ei,es);case"wc_sessionSettle":return this.onSessionSettleResponse(et,ei);case"wc_sessionUpdate":return this.onSessionUpdateResponse(et,ei);case"wc_sessionExtend":return this.onSessionExtendResponse(et,ei);case"wc_sessionPing":return this.onSessionPingResponse(et,ei);case"wc_sessionRequest":return this.onSessionRequestResponse(et,ei);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(et,ei);default:return this.client.logger.info(`Unsupported response method ${en}`)}},this.onRelayEventUnknownPayload=ee=>{let{topic:et}=ee,{message:ei}=S("MISSING_OR_INVALID",`Decoded payload on topic ${et} is not identifiable as a JSON-RPC request or a response.`);throw Error(ei)},this.shouldIgnorePairingRequest=ee=>{let{topic:et,requestMethod:ei}=ee,es=this.expectedPairingMethodMap.get(et);return!(!es||es.includes(ei))&&!!(es.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)},this.onSessionProposeRequest=async ee=>{let{topic:et,payload:ei,attestation:en,encryptedId:eo}=ee,{params:ea,id:ec}=ei;try{let ee=this.client.core.eventClient.getEvent({topic:et});0===this.client.events.listenerCount("session_proposal")&&(console.warn("No listener for session_proposal event"),ee?.setError(es.jb.proposal_listener_not_found)),this.isValidConnect(index_es_I({},ei.params));let el=ea.expiryTimestamp||Lt(eM.wc_sessionPropose.req.ttl),eu=index_es_I({id:ec,pairingTopic:et,expiryTimestamp:el},ea);await this.setProposal(ec,eu);let ed=await this.getVerifyContext({attestationId:en,hash:br(JSON.stringify(ei)),encryptedId:eo,metadata:eu.proposer.metadata});ee?.addTrace(es.ne.emit_session_proposal),this.client.events.emit("session_proposal",{id:ec,params:eu,verifyContext:ed})}catch(ee){await this.sendError({id:ec,topic:et,error:ee,rpcOpts:eM.wc_sessionPropose.autoReject}),this.client.logger.error(ee)}},this.onSessionProposeResponse=async(ee,et,ei)=>{let{id:es}=et;if((0,eO.isJsonRpcResult)(et)){let{result:en}=et;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:en});let eo=this.client.proposal.get(es);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:eo});let ea=eo.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:ea});let ec=en.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:ec});let el=await this.client.core.crypto.generateSharedKey(ea,ec);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",sessionTopic:el});let eu=await this.client.core.relayer.subscribe(el,{transportType:ei});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:eu}),await this.client.core.pairing.activate({topic:ee})}else if((0,eO.isJsonRpcError)(et)){await this.client.proposal.delete(es,index_es_("USER_DISCONNECTED"));let ee=qt("session_connect");if(0===this.events.listenerCount(ee))throw Error(`emitting ${ee} without any listeners, 954`);this.events.emit(qt("session_connect"),{error:et.error})}},this.onSessionSettleRequest=async(ee,et)=>{let{id:ei,params:en}=et;try{this.isValidSessionSettleRequest(en);let{relay:ei,controller:eo,expiry:ea,namespaces:ec,sessionProperties:el,sessionConfig:eu}=et.params,ed=index_es_D(index_es_I(index_es_I({topic:ee,relay:ei,expiry:ea,namespaces:ec,acknowledged:!0,pairingTopic:"",requiredNamespaces:{},optionalNamespaces:{},controller:eo.publicKey,self:{publicKey:"",metadata:this.client.metadata},peer:{publicKey:eo.publicKey,metadata:eo.metadata}},el&&{sessionProperties:el}),eu&&{sessionConfig:eu}),{transportType:es.QZ.relay}),eh=qt("session_connect");if(0===this.events.listenerCount(eh))throw Error(`emitting ${eh} without any listeners 997`);this.events.emit(qt("session_connect"),{session:ed}),await this.sendResult({id:et.id,topic:ee,result:!0,throwOnFailedPublish:!0})}catch(et){await this.sendError({id:ei,topic:ee,error:et}),this.client.logger.error(et)}},this.onSessionSettleResponse=async(ee,et)=>{let{id:ei}=et;(0,eO.isJsonRpcResult)(et)?(await this.client.session.update(ee,{acknowledged:!0}),this.events.emit(qt("session_approve",ei),{})):(0,eO.isJsonRpcError)(et)&&(await this.client.session.delete(ee,index_es_("USER_DISCONNECTED")),this.events.emit(qt("session_approve",ei),{error:et.error}))},this.onSessionUpdateRequest=async(ee,et)=>{let{params:ei,id:es}=et;try{let et=`${ee}_session_update`,en=bo.get(et);if(en&&this.isRequestOutOfSync(en,es)){this.client.logger.warn(`Discarding out of sync request - ${es}`),this.sendError({id:es,topic:ee,error:index_es_("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(index_es_I({topic:ee},ei));try{bo.set(et,es),await this.client.session.update(ee,{namespaces:ei.namespaces}),await this.sendResult({id:es,topic:ee,result:!0,throwOnFailedPublish:!0})}catch(ee){throw bo.delete(et),ee}this.client.events.emit("session_update",{id:es,topic:ee,params:ei})}catch(et){await this.sendError({id:es,topic:ee,error:et}),this.client.logger.error(et)}},this.isRequestOutOfSync=(ee,et)=>et.toString().slice(0,-3)<ee.toString().slice(0,-3),this.onSessionUpdateResponse=(ee,et)=>{let{id:ei}=et,es=qt("session_update",ei);if(0===this.events.listenerCount(es))throw Error(`emitting ${es} without any listeners`);(0,eO.isJsonRpcResult)(et)?this.events.emit(qt("session_update",ei),{}):(0,eO.isJsonRpcError)(et)&&this.events.emit(qt("session_update",ei),{error:et.error})},this.onSessionExtendRequest=async(ee,et)=>{let{id:ei}=et;try{this.isValidExtend({topic:ee}),await this.setExpiry(ee,Lt(eN)),await this.sendResult({id:ei,topic:ee,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_extend",{id:ei,topic:ee})}catch(et){await this.sendError({id:ei,topic:ee,error:et}),this.client.logger.error(et)}},this.onSessionExtendResponse=(ee,et)=>{let{id:ei}=et,es=qt("session_extend",ei);if(0===this.events.listenerCount(es))throw Error(`emitting ${es} without any listeners`);(0,eO.isJsonRpcResult)(et)?this.events.emit(qt("session_extend",ei),{}):(0,eO.isJsonRpcError)(et)&&this.events.emit(qt("session_extend",ei),{error:et.error})},this.onSessionPingRequest=async(ee,et)=>{let{id:ei}=et;try{this.isValidPing({topic:ee}),await this.sendResult({id:ei,topic:ee,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:ei,topic:ee})}catch(et){await this.sendError({id:ei,topic:ee,error:et}),this.client.logger.error(et)}},this.onSessionPingResponse=(ee,et)=>{let{id:ei}=et,es=qt("session_ping",ei);if(0===this.events.listenerCount(es))throw Error(`emitting ${es} without any listeners`);setTimeout(()=>{(0,eO.isJsonRpcResult)(et)?this.events.emit(qt("session_ping",ei),{}):(0,eO.isJsonRpcError)(et)&&this.events.emit(qt("session_ping",ei),{error:et.error})},500)},this.onSessionDeleteRequest=async(ee,et)=>{let{id:ei}=et;try{this.isValidDisconnect({topic:ee,reason:et.params}),Promise.all([new Promise(et=>{this.client.core.relayer.once(es.Mb.publish,async()=>{et(await this.deleteSession({topic:ee,id:ei}))})}),this.sendResult({id:ei,topic:ee,result:!0,throwOnFailedPublish:!0}),this.cleanupPendingSentRequestsForTopic({topic:ee,error:index_es_("USER_DISCONNECTED")})]).catch(ee=>this.client.logger.error(ee))}catch(ee){this.client.logger.error(ee)}},this.onSessionRequest=async ee=>{var et,ei,en;let{topic:eo,payload:ea,attestation:ec,encryptedId:el,transportType:eu}=ee,{id:ed,params:eh}=ea;try{await this.isValidRequest(index_es_I({topic:eo},eh));let ee=this.client.session.get(eo),ea=await this.getVerifyContext({attestationId:ec,hash:br(JSON.stringify((0,eO.formatJsonRpcRequest)("wc_sessionRequest",eh,ed))),encryptedId:el,metadata:ee.peer.metadata,transportType:eu}),ep={id:ed,topic:eo,params:eh,verifyContext:ea};await this.setPendingSessionRequest(ep),eu===es.QZ.link_mode&&null!=(et=ee.peer.metadata.redirect)&&et.universal&&this.client.core.addLinkModeSupportedApp(null==(ei=ee.peer.metadata.redirect)?void 0:ei.universal),null!=(en=this.client.signConfig)&&en.disableRequestQueue?this.emitSessionRequest(ep):(this.addSessionRequestToSessionRequestQueue(ep),this.processSessionRequestQueue())}catch(ee){await this.sendError({id:ed,topic:eo,error:ee}),this.client.logger.error(ee)}},this.onSessionRequestResponse=(ee,et)=>{let{id:ei}=et,es=qt("session_request",ei);if(0===this.events.listenerCount(es))throw Error(`emitting ${es} without any listeners`);(0,eO.isJsonRpcResult)(et)?this.events.emit(qt("session_request",ei),{result:et.result}):(0,eO.isJsonRpcError)(et)&&this.events.emit(qt("session_request",ei),{error:et.error})},this.onSessionEventRequest=async(ee,et)=>{let{id:ei,params:es}=et;try{let et=`${ee}_session_event_${es.event.name}`,en=bo.get(et);if(en&&this.isRequestOutOfSync(en,ei)){this.client.logger.info(`Discarding out of sync request - ${ei}`);return}this.isValidEmit(index_es_I({topic:ee},es)),this.client.events.emit("session_event",{id:ei,topic:ee,params:es}),bo.set(et,ei)}catch(et){await this.sendError({id:ei,topic:ee,error:et}),this.client.logger.error(et)}},this.onSessionAuthenticateResponse=(ee,et)=>{let{id:ei}=et;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:ee,payload:et}),(0,eO.isJsonRpcResult)(et)?this.events.emit(qt("session_request",ei),{result:et.result}):(0,eO.isJsonRpcError)(et)&&this.events.emit(qt("session_request",ei),{error:et.error})},this.onSessionAuthenticateRequest=async ee=>{var et;let{topic:ei,payload:en,attestation:eo,encryptedId:ea,transportType:ec}=ee;try{let{requester:ee,authPayload:el,expiryTimestamp:eu}=en.params,ed=await this.getVerifyContext({attestationId:eo,hash:br(JSON.stringify(en)),encryptedId:ea,metadata:ee.metadata,transportType:ec}),eh={requester:ee,pairingTopic:ei,id:en.id,authPayload:el,verifyContext:ed,expiryTimestamp:eu};await this.setAuthRequest(en.id,{request:eh,pairingTopic:ei,transportType:ec}),ec===es.QZ.link_mode&&null!=(et=ee.metadata.redirect)&&et.universal&&this.client.core.addLinkModeSupportedApp(ee.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:ei,params:en.params,id:en.id,verifyContext:ed})}catch(eo){this.client.logger.error(eo);let ee=en.params.requester.publicKey,et=await this.client.core.crypto.generateKeyPair(),es=this.getAppLinkIfEnabled(en.params.requester.metadata,ec);await this.sendError({id:en.id,topic:ei,error:eo,encodeOpts:{type:1,receiverPublicKey:ee,senderPublicKey:et},rpcOpts:eM.wc_sessionAuthenticate.autoReject,appLink:es})}},this.addSessionRequestToSessionRequestQueue=ee=>{this.sessionRequestQueue.queue.push(ee)},this.cleanupAfterResponse=ee=>{this.deletePendingSessionRequest(ee.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=eF.idle,this.processSessionRequestQueue()},(0,ea.toMiliseconds)(this.requestQueueDelay))},this.cleanupPendingSentRequestsForTopic=({topic:ee,error:et})=>{let ei=this.client.core.history.pending;ei.length>0&&ei.filter(et=>et.topic===ee&&"wc_sessionRequest"===et.request.method).forEach(ee=>{let ei=ee.request.id,es=qt("session_request",ei);if(0===this.events.listenerCount(es))throw Error(`emitting ${es} without any listeners`);this.events.emit(qt("session_request",ee.request.id),{error:et})})},this.processSessionRequestQueue=()=>{if(this.sessionRequestQueue.state===eF.active){this.client.logger.info("session request queue is already active.");return}let ee=this.sessionRequestQueue.queue[0];if(!ee){this.client.logger.info("session request queue is empty.");return}try{this.sessionRequestQueue.state=eF.active,this.emitSessionRequest(ee)}catch(ee){this.client.logger.error(ee)}},this.emitSessionRequest=ee=>{this.client.events.emit("session_request",ee)},this.onPairingCreated=ee=>{if(ee.methods&&this.expectedPairingMethodMap.set(ee.topic,ee.methods),ee.active)return;let et=this.client.proposal.getAll().find(et=>et.pairingTopic===ee.topic);et&&this.onSessionProposeRequest({topic:ee.topic,payload:(0,eO.formatJsonRpcRequest)("wc_sessionPropose",{requiredNamespaces:et.requiredNamespaces,optionalNamespaces:et.optionalNamespaces,relays:et.relays,proposer:et.proposer,sessionProperties:et.sessionProperties},et.id)})},this.isValidConnect=async ee=>{let et;if(!so(ee)){let{message:et}=S("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(ee)}`);throw Error(et)}let{pairingTopic:ei,requiredNamespaces:es,optionalNamespaces:en,sessionProperties:eo,relays:ea}=ee;if(P(ei)||await this.isValidPairingTopic(ei),et=!1,ea?ea&&L(ea)&&ea.length&&ea.forEach(ee=>{et=Jn(ee)}):et=!0,!et){let{message:ee}=S("MISSING_OR_INVALID",`connect() relays: ${ea}`);throw Error(ee)}P(es)||0===Z(es)||this.validateNamespaces(es,"requiredNamespaces"),P(en)||0===Z(en)||this.validateNamespaces(en,"optionalNamespaces"),P(eo)||this.validateSessionProps(eo,"sessionProperties")},this.validateNamespaces=(ee,et)=>{let ei=function(ee,et,ei){let es=null;if(ee&&Z(ee)){let en;let eo=$e(ee,et);eo&&(es=eo);let ea=(en=null,Object.entries(ee).forEach(([ee,es])=>{var eo,ea;let ec;if(en)return;let el=(eo=W(ee,es),ea=`${et} ${ei}`,ec=null,L(eo)&&eo.length?eo.forEach(ee=>{ec||F(ee)||(ec=index_es_("UNSUPPORTED_CHAINS",`${ea}, chain ${ee} should be a string and conform to "namespace:chainId" format`))}):F(ee)||(ec=index_es_("UNSUPPORTED_CHAINS",`${ea}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),ec);el&&(en=el)}),en);ea&&(es=ea)}else es=S("MISSING_OR_INVALID",`${et}, ${ei} should be an object with data`);return es}(ee,"connect()",et);if(ei)throw Error(ei.message)},this.isValidApprove=async ee=>{if(!so(ee))throw Error(S("MISSING_OR_INVALID",`approve() params: ${ee}`).message);let{id:et,namespaces:ei,relayProtocol:es,sessionProperties:en}=ee;this.checkRecentlyDeleted(et),await this.isValidProposalId(et);let eo=this.client.proposal.get(et),ea=Wn(ei,"approve()");if(ea)throw Error(ea.message);let ec=zn(eo.requiredNamespaces,ei,"approve()");if(ec)throw Error(ec.message);if(!b(es,!0)){let{message:ee}=S("MISSING_OR_INVALID",`approve() relayProtocol: ${es}`);throw Error(ee)}P(en)||this.validateSessionProps(en,"sessionProperties")},this.isValidReject=async ee=>{if(!so(ee)){let{message:et}=S("MISSING_OR_INVALID",`reject() params: ${ee}`);throw Error(et)}let{id:et,reason:ei}=ee;if(this.checkRecentlyDeleted(et),await this.isValidProposalId(et),!ei||"object"!=typeof ei||!ei.code||!X(ei.code,!1)||!ei.message||!b(ei.message,!1)){let{message:ee}=S("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(ei)}`);throw Error(ee)}},this.isValidSessionSettleRequest=ee=>{let et;if(!so(ee)){let{message:et}=S("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${ee}`);throw Error(et)}let{relay:ei,controller:es,namespaces:en,expiry:eo}=ee;if(!Jn(ei)){let{message:ee}=S("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw Error(ee)}let ea=(et=null,b(es?.publicKey,!1)||(et=S("MISSING_OR_INVALID","onSessionSettleRequest() controller public key should be a string")),et);if(ea)throw Error(ea.message);let ec=Wn(en,"onSessionSettleRequest()");if(ec)throw Error(ec.message);if(Ft(eo)){let{message:ee}=S("EXPIRED","onSessionSettleRequest()");throw Error(ee)}},this.isValidUpdate=async ee=>{if(!so(ee)){let{message:et}=S("MISSING_OR_INVALID",`update() params: ${ee}`);throw Error(et)}let{topic:et,namespaces:ei}=ee;this.checkRecentlyDeleted(et),await this.isValidSessionTopic(et);let es=this.client.session.get(et),en=Wn(ei,"update()");if(en)throw Error(en.message);let eo=zn(es.requiredNamespaces,ei,"update()");if(eo)throw Error(eo.message)},this.isValidExtend=async ee=>{if(!so(ee)){let{message:et}=S("MISSING_OR_INVALID",`extend() params: ${ee}`);throw Error(et)}let{topic:et}=ee;this.checkRecentlyDeleted(et),await this.isValidSessionTopic(et)},this.isValidRequest=async ee=>{var et;if(!so(ee)){let{message:et}=S("MISSING_OR_INVALID",`request() params: ${ee}`);throw Error(et)}let{topic:ei,request:es,chainId:en,expiry:eo}=ee;this.checkRecentlyDeleted(ei),await this.isValidSessionTopic(ei);let{namespaces:ea}=this.client.session.get(ei);if(!lo(ea,en)){let{message:ee}=S("MISSING_OR_INVALID",`request() chainId: ${en}`);throw Error(ee)}if(P(es)||!b(es.method,!1)){let{message:ee}=S("MISSING_OR_INVALID",`request() ${JSON.stringify(es)}`);throw Error(ee)}if(!(b(et=es.method,!1)&&(function(ee,et){let ei=[];return Object.values(ee).forEach(ee=>{U(ee.accounts).includes(et)&&ei.push(...ee.methods)}),ei})(ea,en).includes(et))){let{message:ee}=S("MISSING_OR_INVALID",`request() method: ${es.method}`);throw Error(ee)}if(eo&&(!X(eo,!1)||!(eo<=e$.max)||!(eo>=e$.min))){let{message:ee}=S("MISSING_OR_INVALID",`request() expiry: ${eo}. Expiry must be a number (in seconds) between ${e$.min} and ${e$.max}`);throw Error(ee)}},this.isValidRespond=async ee=>{var et;if(!so(ee)){let{message:et}=S("MISSING_OR_INVALID",`respond() params: ${ee}`);throw Error(et)}let{topic:ei,response:es}=ee;try{await this.isValidSessionTopic(ei)}catch(ei){throw null!=(et=ee?.response)&&et.id&&this.cleanupAfterResponse(ee),ei}if(P(es)||P(es.result)&&P(es.error)||!X(es.id,!1)||!b(es.jsonrpc,!1)){let{message:ee}=S("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(es)}`);throw Error(ee)}},this.isValidPing=async ee=>{if(!so(ee)){let{message:et}=S("MISSING_OR_INVALID",`ping() params: ${ee}`);throw Error(et)}let{topic:et}=ee;await this.isValidSessionOrPairingTopic(et)},this.isValidEmit=async ee=>{var et;if(!so(ee)){let{message:et}=S("MISSING_OR_INVALID",`emit() params: ${ee}`);throw Error(et)}let{topic:ei,event:es,chainId:en}=ee;await this.isValidSessionTopic(ei);let{namespaces:eo}=this.client.session.get(ei);if(!lo(eo,en)){let{message:ee}=S("MISSING_OR_INVALID",`emit() chainId: ${en}`);throw Error(ee)}if(P(es)||!b(es.name,!1)){let{message:ee}=S("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(es)}`);throw Error(ee)}if(!(b(et=es.name,!1)&&(function(ee,et){let ei=[];return Object.values(ee).forEach(ee=>{U(ee.accounts).includes(et)&&ei.push(...ee.events)}),ei})(eo,en).includes(et))){let{message:ee}=S("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(es)}`);throw Error(ee)}},this.isValidDisconnect=async ee=>{if(!so(ee)){let{message:et}=S("MISSING_OR_INVALID",`disconnect() params: ${ee}`);throw Error(et)}let{topic:et}=ee;await this.isValidSessionOrPairingTopic(et)},this.isValidAuthenticate=ee=>{let{chains:et,uri:ei,domain:es,nonce:en}=ee;if(!Array.isArray(et)||0===et.length)throw Error("chains is required and must be a non-empty array");if(!b(ei,!1))throw Error("uri is required parameter");if(!b(es,!1))throw Error("domain is required parameter");if(!b(en,!1))throw Error("nonce is required parameter");if([...new Set(et.map(ee=>re(ee).namespace))].length>1)throw Error("Multi-namespace requests are not supported. Please request single namespace only.");let{namespace:eo}=re(et[0]);if("eip155"!==eo)throw Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")},this.getVerifyContext=async ee=>{let{attestationId:et,hash:ei,encryptedId:en,metadata:eo,transportType:ea}=ee,ec={verified:{verifyUrl:eo.verifyUrl||es.sG,validation:"UNKNOWN",origin:eo.url||""}};try{if(ea===es.QZ.link_mode){let ee=this.getAppLinkIfEnabled(eo,ea);return ec.verified.validation=ee&&new URL(ee).origin===new URL(eo.url).origin?"VALID":"INVALID",ec}let ee=await this.client.core.verify.resolve({attestationId:et,hash:ei,encryptedId:en,verifyUrl:eo.verifyUrl});ee&&(ec.verified.origin=ee.origin,ec.verified.isScam=ee.isScam,ec.verified.validation=ee.origin===new URL(eo.url).origin?"VALID":"INVALID")}catch(ee){this.client.logger.warn(ee)}return this.client.logger.debug(`Verify context: ${JSON.stringify(ec)}`),ec},this.validateSessionProps=(ee,et)=>{Object.values(ee).forEach(ee=>{if(!b(ee,!1)){let{message:ei}=S("MISSING_OR_INVALID",`${et} must be in Record<string, string> format. Received: ${JSON.stringify(ee)}`);throw Error(ei)}})},this.getPendingAuthRequest=ee=>{let et=this.client.auth.requests.get(ee);return"object"==typeof et?et:void 0},this.addToRecentlyDeleted=(ee,et)=>{if(this.recentlyDeletedMap.set(ee,et),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let ee=0,et=this.recentlyDeletedLimit/2;for(let ei of this.recentlyDeletedMap.keys()){if(ee++>=et)break;this.recentlyDeletedMap.delete(ei)}}},this.checkRecentlyDeleted=ee=>{let et=this.recentlyDeletedMap.get(ee);if(et){let{message:ei}=S("MISSING_OR_INVALID",`Record was recently deleted - ${et}: ${ee}`);throw Error(ei)}},this.isLinkModeEnabled=(ee,et)=>{var en,eo,ea,ec,el,eu,ed,eh,ep;return!!ee&&et===es.QZ.link_mode&&(null==(eo=null==(en=this.client.metadata)?void 0:en.redirect)?void 0:eo.linkMode)===!0&&(null==(ec=null==(ea=this.client.metadata)?void 0:ea.redirect)?void 0:ec.universal)!==void 0&&(null==(eu=null==(el=this.client.metadata)?void 0:el.redirect)?void 0:eu.universal)!==""&&(null==(ed=ee?.redirect)?void 0:ed.universal)!==void 0&&(null==(eh=ee?.redirect)?void 0:eh.universal)!==""&&(null==(ep=ee?.redirect)?void 0:ep.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(ee.redirect.universal)&&"u">typeof(null==ei.g?void 0:ei.g.Linking)},this.getAppLinkIfEnabled=(ee,et)=>{var ei;return this.isLinkModeEnabled(ee,et)?null==(ei=ee?.redirect)?void 0:ei.universal:void 0},this.handleLinkModeMessage=({url:ee})=>{if(!ee||!ee.includes("wc_ev")||!ee.includes("topic"))return;let et=Wt(ee,"topic")||"",ei=decodeURIComponent(Wt(ee,"wc_ev")||""),en=this.client.session.keys.includes(et);en&&this.client.session.update(et,{transportType:es.QZ.link_mode}),this.client.core.dispatchEnvelope({topic:et,message:ei,sessionExists:en})},this.registerLinkModeListeners=async()=>{var ee;if("u">typeof em&&"true"===em.env.IS_VITEST||$()&&null!=(ee=this.client.metadata.redirect)&&ee.linkMode){let ee=null==ei.g?void 0:ei.g.Linking;if("u">typeof ee){ee.addEventListener("url",this.handleLinkModeMessage,this.client.name);let et=await ee.getInitialURL();et&&setTimeout(()=>{this.handleLinkModeMessage({url:et})},50)}}}}isInitialized(){if(!this.initialized){let{message:ee}=S("NOT_INITIALIZED",this.name);throw Error(ee)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(es.Mb.message,ee=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(ee):this.onRelayMessage(ee)})}async onRelayMessage(ee){let{topic:et,message:ei,attestation:en,transportType:eo}=ee,{publicKey:ea}=this.client.auth.authKeys.keys.includes(eH)?this.client.auth.authKeys.get(eH):{responseTopic:void 0,publicKey:void 0},ec=await this.client.core.crypto.decode(et,ei,{receiverPublicKey:ea,encoding:eo===es.QZ.link_mode?eT:eI});try{(0,eO.isJsonRpcRequest)(ec)?(this.client.core.history.set(et,ec),this.onRelayEventRequest({topic:et,payload:ec,attestation:en,transportType:eo,encryptedId:br(ei)})):(0,eO.isJsonRpcResponse)(ec)?(await this.client.core.history.resolve(ec),await this.onRelayEventResponse({topic:et,payload:ec,transportType:eo}),this.client.core.history.delete(et,ec.id)):this.onRelayEventUnknownPayload({topic:et,payload:ec,transportType:eo})}catch(ee){this.client.logger.error(ee)}}registerExpirerEvents(){this.client.core.expirer.on(es.i9.expired,async ee=>{let{topic:et,id:ei}=function(ee){let[et,ei]=ee.split(":"),es={id:void 0,topic:void 0};if("topic"===et&&"string"==typeof ei)es.topic=ei;else if("id"===et&&Number.isInteger(Number(ei)))es.id=Number(ei);else throw Error(`Invalid target, expected id:number or topic:string, got ${et}:${ei}`);return es}(ee.target);return ei&&this.client.pendingRequest.keys.includes(ei)?await this.deletePendingSessionRequest(ei,S("EXPIRED"),!0):ei&&this.client.auth.requests.keys.includes(ei)?await this.deletePendingAuthRequest(ei,S("EXPIRED"),!0):void(et?this.client.session.keys.includes(et)&&(await this.deleteSession({topic:et,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:et})):ei&&(await this.deleteProposal(ei,!0),this.client.events.emit("proposal_expire",{id:ei})))})}registerPairingEvents(){this.client.core.pairing.events.on(es.I8.create,ee=>this.onPairingCreated(ee)),this.client.core.pairing.events.on(es.I8.delete,ee=>{this.addToRecentlyDeleted(ee.topic,"pairing")})}isValidPairingTopic(ee){if(!b(ee,!1)){let{message:et}=S("MISSING_OR_INVALID",`pairing topic should be a string: ${ee}`);throw Error(et)}if(!this.client.core.pairing.pairings.keys.includes(ee)){let{message:et}=S("NO_MATCHING_KEY",`pairing topic doesn't exist: ${ee}`);throw Error(et)}if(Ft(this.client.core.pairing.pairings.get(ee).expiry)){let{message:et}=S("EXPIRED",`pairing topic: ${ee}`);throw Error(et)}}async isValidSessionTopic(ee){if(!b(ee,!1)){let{message:et}=S("MISSING_OR_INVALID",`session topic should be a string: ${ee}`);throw Error(et)}if(this.checkRecentlyDeleted(ee),!this.client.session.keys.includes(ee)){let{message:et}=S("NO_MATCHING_KEY",`session topic doesn't exist: ${ee}`);throw Error(et)}if(Ft(this.client.session.get(ee).expiry)){await this.deleteSession({topic:ee});let{message:et}=S("EXPIRED",`session topic: ${ee}`);throw Error(et)}if(!this.client.core.crypto.keychain.has(ee)){let{message:et}=S("MISSING_OR_INVALID",`session topic does not exist in keychain: ${ee}`);throw await this.deleteSession({topic:ee}),Error(et)}}async isValidSessionOrPairingTopic(ee){if(this.checkRecentlyDeleted(ee),this.client.session.keys.includes(ee))await this.isValidSessionTopic(ee);else if(this.client.core.pairing.pairings.keys.includes(ee))this.isValidPairingTopic(ee);else if(b(ee,!1)){let{message:et}=S("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${ee}`);throw Error(et)}else{let{message:et}=S("MISSING_OR_INVALID",`session or pairing topic should be a string: ${ee}`);throw Error(et)}}async isValidProposalId(ee){if("number"!=typeof ee){let{message:et}=S("MISSING_OR_INVALID",`proposal id should be a number: ${ee}`);throw Error(et)}if(!this.client.proposal.keys.includes(ee)){let{message:et}=S("NO_MATCHING_KEY",`proposal id doesn't exist: ${ee}`);throw Error(et)}if(Ft(this.client.proposal.get(ee).expiryTimestamp)){await this.deleteProposal(ee);let{message:et}=S("EXPIRED",`proposal id: ${ee}`);throw Error(et)}}};let Ss=class Ss extends es.yh{constructor(ee,et){super(ee,et,"proposal",eU),this.core=ee,this.logger=et}};let index_es_wt=class index_es_wt extends es.yh{constructor(ee,et){super(ee,et,"session",eU),this.core=ee,this.logger=et}};let Is=class Is extends es.yh{constructor(ee,et){super(ee,et,"request",eU,ee=>ee.id),this.core=ee,this.logger=et}};let fs=class fs extends es.yh{constructor(ee,et){super(ee,et,"authKeys",eK,()=>eH),this.core=ee,this.logger=et}};let vs=class vs extends es.yh{constructor(ee,et){super(ee,et,"pairingTopics",eK),this.core=ee,this.logger=et}};let qs=class qs extends es.yh{constructor(ee,et){super(ee,et,"requests",eK,ee=>ee.id),this.core=ee,this.logger=et}};let Ts=class Ts{constructor(ee,et){this.core=ee,this.logger=et,this.authKeys=new fs(this.core,this.logger),this.pairingTopics=new vs(this.core,this.logger),this.requests=new qs(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}};let index_es_e=class index_es_e extends eo.lV{constructor(ee){super(ee),this.protocol="wc",this.version=2,this.name=eL.name,this.events=new eB.EventEmitter,this.on=(ee,et)=>this.events.on(ee,et),this.once=(ee,et)=>this.events.once(ee,et),this.off=(ee,et)=>this.events.off(ee,et),this.removeListener=(ee,et)=>this.events.removeListener(ee,et),this.removeAllListeners=ee=>this.events.removeAllListeners(ee),this.connect=async ee=>{try{return await this.engine.connect(ee)}catch(ee){throw this.logger.error(ee.message),ee}},this.pair=async ee=>{try{return await this.engine.pair(ee)}catch(ee){throw this.logger.error(ee.message),ee}},this.approve=async ee=>{try{return await this.engine.approve(ee)}catch(ee){throw this.logger.error(ee.message),ee}},this.reject=async ee=>{try{return await this.engine.reject(ee)}catch(ee){throw this.logger.error(ee.message),ee}},this.update=async ee=>{try{return await this.engine.update(ee)}catch(ee){throw this.logger.error(ee.message),ee}},this.extend=async ee=>{try{return await this.engine.extend(ee)}catch(ee){throw this.logger.error(ee.message),ee}},this.request=async ee=>{try{return await this.engine.request(ee)}catch(ee){throw this.logger.error(ee.message),ee}},this.respond=async ee=>{try{return await this.engine.respond(ee)}catch(ee){throw this.logger.error(ee.message),ee}},this.ping=async ee=>{try{return await this.engine.ping(ee)}catch(ee){throw this.logger.error(ee.message),ee}},this.emit=async ee=>{try{return await this.engine.emit(ee)}catch(ee){throw this.logger.error(ee.message),ee}},this.disconnect=async ee=>{try{return await this.engine.disconnect(ee)}catch(ee){throw this.logger.error(ee.message),ee}},this.find=ee=>{try{return this.engine.find(ee)}catch(ee){throw this.logger.error(ee.message),ee}},this.getPendingSessionRequests=()=>{try{return this.engine.getPendingSessionRequests()}catch(ee){throw this.logger.error(ee.message),ee}},this.authenticate=async(ee,et)=>{try{return await this.engine.authenticate(ee,et)}catch(ee){throw this.logger.error(ee.message),ee}},this.formatAuthMessage=ee=>{try{return this.engine.formatAuthMessage(ee)}catch(ee){throw this.logger.error(ee.message),ee}},this.approveSessionAuthenticate=async ee=>{try{return await this.engine.approveSessionAuthenticate(ee)}catch(ee){throw this.logger.error(ee.message),ee}},this.rejectSessionAuthenticate=async ee=>{try{return await this.engine.rejectSessionAuthenticate(ee)}catch(ee){throw this.logger.error(ee.message),ee}},this.name=ee?.name||eL.name,this.metadata=ee?.metadata||(0,el.D)()||{name:"",description:"",url:"",icons:[""]},this.signConfig=ee?.signConfig;let et="u">typeof ee?.logger&&"string"!=typeof ee?.logger?ee.logger:(0,en.gw)((0,en.jI)({level:ee?.logger||eL.logger}));this.core=ee?.core||new es.QY(ee),this.logger=(0,en.Ep)(et,this.name),this.session=new index_es_wt(this.core,this.logger),this.proposal=new Ss(this.core,this.logger),this.pendingRequest=new Is(this.core,this.logger),this.engine=new Rs(this),this.auth=new Ts(this.core,this.logger)}static async init(ee){let et=new index_es_e(ee);return await et.initialize(),et}get context(){return(0,en.Fd)(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success"),setTimeout(()=>{this.engine.processRelayMessageCache()},(0,ea.toMiliseconds)(ea.ONE_SECOND))}catch(ee){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(ee.message),ee}}}},36900:function(ee,et,ei){"use strict";Object.defineProperty(et,"__esModule",{value:!0});let es=ei(30004);es.__exportStar(ei(46869),et),es.__exportStar(ei(88033),et)},46869:function(ee,et){"use strict";Object.defineProperty(et,"__esModule",{value:!0}),et.ONE_THOUSAND=et.ONE_HUNDRED=void 0,et.ONE_HUNDRED=100,et.ONE_THOUSAND=1e3},88033:function(ee,et){"use strict";Object.defineProperty(et,"__esModule",{value:!0}),et.ONE_YEAR=et.FOUR_WEEKS=et.THREE_WEEKS=et.TWO_WEEKS=et.ONE_WEEK=et.THIRTY_DAYS=et.SEVEN_DAYS=et.FIVE_DAYS=et.THREE_DAYS=et.ONE_DAY=et.TWENTY_FOUR_HOURS=et.TWELVE_HOURS=et.SIX_HOURS=et.THREE_HOURS=et.ONE_HOUR=et.SIXTY_MINUTES=et.THIRTY_MINUTES=et.TEN_MINUTES=et.FIVE_MINUTES=et.ONE_MINUTE=et.SIXTY_SECONDS=et.THIRTY_SECONDS=et.TEN_SECONDS=et.FIVE_SECONDS=et.ONE_SECOND=void 0,et.ONE_SECOND=1,et.FIVE_SECONDS=5,et.TEN_SECONDS=10,et.THIRTY_SECONDS=30,et.SIXTY_SECONDS=60,et.ONE_MINUTE=et.SIXTY_SECONDS,et.FIVE_MINUTES=5*et.ONE_MINUTE,et.TEN_MINUTES=10*et.ONE_MINUTE,et.THIRTY_MINUTES=30*et.ONE_MINUTE,et.SIXTY_MINUTES=60*et.ONE_MINUTE,et.ONE_HOUR=et.SIXTY_MINUTES,et.THREE_HOURS=3*et.ONE_HOUR,et.SIX_HOURS=6*et.ONE_HOUR,et.TWELVE_HOURS=12*et.ONE_HOUR,et.TWENTY_FOUR_HOURS=24*et.ONE_HOUR,et.ONE_DAY=et.TWENTY_FOUR_HOURS,et.THREE_DAYS=3*et.ONE_DAY,et.FIVE_DAYS=5*et.ONE_DAY,et.SEVEN_DAYS=7*et.ONE_DAY,et.THIRTY_DAYS=30*et.ONE_DAY,et.ONE_WEEK=et.SEVEN_DAYS,et.TWO_WEEKS=2*et.ONE_WEEK,et.THREE_WEEKS=3*et.ONE_WEEK,et.FOUR_WEEKS=4*et.ONE_WEEK,et.ONE_YEAR=365*et.ONE_DAY},66736:function(ee,et,ei){"use strict";Object.defineProperty(et,"__esModule",{value:!0});let es=ei(30004);es.__exportStar(ei(44273),et),es.__exportStar(ei(47001),et),es.__exportStar(ei(52939),et),es.__exportStar(ei(36900),et)},52939:function(ee,et,ei){"use strict";Object.defineProperty(et,"__esModule",{value:!0});let es=ei(30004);es.__exportStar(ei(88766),et)},88766:function(ee,et){"use strict";Object.defineProperty(et,"__esModule",{value:!0}),et.IWatch=void 0,et.IWatch=class{}},83207:function(ee,et,ei){"use strict";Object.defineProperty(et,"__esModule",{value:!0}),et.fromMiliseconds=et.toMiliseconds=void 0;let es=ei(36900);et.toMiliseconds=function(ee){return ee*es.ONE_THOUSAND},et.fromMiliseconds=function(ee){return Math.floor(ee/es.ONE_THOUSAND)}},83873:function(ee,et){"use strict";Object.defineProperty(et,"__esModule",{value:!0}),et.delay=void 0,et.delay=function(ee){return new Promise(et=>{setTimeout(()=>{et(!0)},ee)})}},44273:function(ee,et,ei){"use strict";Object.defineProperty(et,"__esModule",{value:!0});let es=ei(30004);es.__exportStar(ei(83873),et),es.__exportStar(ei(83207),et)},47001:function(ee,et){"use strict";Object.defineProperty(et,"__esModule",{value:!0}),et.Watch=void 0;let Watch=class Watch{constructor(){this.timestamps=new Map}start(ee){if(this.timestamps.has(ee))throw Error(`Watch already started for label: ${ee}`);this.timestamps.set(ee,{started:Date.now()})}stop(ee){let et=this.get(ee);if(void 0!==et.elapsed)throw Error(`Watch already stopped for label: ${ee}`);let ei=Date.now()-et.started;this.timestamps.set(ee,{started:et.started,elapsed:ei})}get(ee){let et=this.timestamps.get(ee);if(void 0===et)throw Error(`No timestamp found for label: ${ee}`);return et}elapsed(ee){let et=this.get(ee),ei=et.elapsed||Date.now()-et.started;return ei}};et.Watch=Watch,et.default=Watch},30004:function(ee,et,ei){"use strict";ei.r(et),ei.d(et,{__assign:function(){return __assign},__asyncDelegator:function(){return __asyncDelegator},__asyncGenerator:function(){return __asyncGenerator},__asyncValues:function(){return __asyncValues},__await:function(){return __await},__awaiter:function(){return __awaiter},__classPrivateFieldGet:function(){return __classPrivateFieldGet},__classPrivateFieldSet:function(){return __classPrivateFieldSet},__createBinding:function(){return __createBinding},__decorate:function(){return __decorate},__exportStar:function(){return __exportStar},__extends:function(){return __extends},__generator:function(){return __generator},__importDefault:function(){return __importDefault},__importStar:function(){return __importStar},__makeTemplateObject:function(){return __makeTemplateObject},__metadata:function(){return __metadata},__param:function(){return __param},__read:function(){return __read},__rest:function(){return __rest},__spread:function(){return __spread},__spreadArrays:function(){return __spreadArrays},__values:function(){return __values}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics=function(ee,et){return(extendStatics=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(ee,et){ee.__proto__=et}||function(ee,et){for(var ei in et)et.hasOwnProperty(ei)&&(ee[ei]=et[ei])})(ee,et)};function __extends(ee,et){function __(){this.constructor=ee}extendStatics(ee,et),ee.prototype=null===et?Object.create(et):(__.prototype=et.prototype,new __)}var __assign=function(){return(__assign=Object.assign||function(ee){for(var et,ei=1,es=arguments.length;ei<es;ei++)for(var en in et=arguments[ei])Object.prototype.hasOwnProperty.call(et,en)&&(ee[en]=et[en]);return ee}).apply(this,arguments)};function __rest(ee,et){var ei={};for(var es in ee)Object.prototype.hasOwnProperty.call(ee,es)&&0>et.indexOf(es)&&(ei[es]=ee[es]);if(null!=ee&&"function"==typeof Object.getOwnPropertySymbols)for(var en=0,es=Object.getOwnPropertySymbols(ee);en<es.length;en++)0>et.indexOf(es[en])&&Object.prototype.propertyIsEnumerable.call(ee,es[en])&&(ei[es[en]]=ee[es[en]]);return ei}function __decorate(ee,et,ei,es){var en,eo=arguments.length,ea=eo<3?et:null===es?es=Object.getOwnPropertyDescriptor(et,ei):es;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ea=Reflect.decorate(ee,et,ei,es);else for(var ec=ee.length-1;ec>=0;ec--)(en=ee[ec])&&(ea=(eo<3?en(ea):eo>3?en(et,ei,ea):en(et,ei))||ea);return eo>3&&ea&&Object.defineProperty(et,ei,ea),ea}function __param(ee,et){return function(ei,es){et(ei,es,ee)}}function __metadata(ee,et){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(ee,et)}function __awaiter(ee,et,ei,es){return new(ei||(ei=Promise))(function(en,eo){function fulfilled(ee){try{step(es.next(ee))}catch(ee){eo(ee)}}function rejected(ee){try{step(es.throw(ee))}catch(ee){eo(ee)}}function step(ee){var et;ee.done?en(ee.value):((et=ee.value)instanceof ei?et:new ei(function(ee){ee(et)})).then(fulfilled,rejected)}step((es=es.apply(ee,et||[])).next())})}function __generator(ee,et){var ei,es,en,eo,ea={label:0,sent:function(){if(1&en[0])throw en[1];return en[1]},trys:[],ops:[]};return eo={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(eo[Symbol.iterator]=function(){return this}),eo;function verb(eo){return function(ec){return function(eo){if(ei)throw TypeError("Generator is already executing.");for(;ea;)try{if(ei=1,es&&(en=2&eo[0]?es.return:eo[0]?es.throw||((en=es.return)&&en.call(es),0):es.next)&&!(en=en.call(es,eo[1])).done)return en;switch(es=0,en&&(eo=[2&eo[0],en.value]),eo[0]){case 0:case 1:en=eo;break;case 4:return ea.label++,{value:eo[1],done:!1};case 5:ea.label++,es=eo[1],eo=[0];continue;case 7:eo=ea.ops.pop(),ea.trys.pop();continue;default:if(!(en=(en=ea.trys).length>0&&en[en.length-1])&&(6===eo[0]||2===eo[0])){ea=0;continue}if(3===eo[0]&&(!en||eo[1]>en[0]&&eo[1]<en[3])){ea.label=eo[1];break}if(6===eo[0]&&ea.label<en[1]){ea.label=en[1],en=eo;break}if(en&&ea.label<en[2]){ea.label=en[2],ea.ops.push(eo);break}en[2]&&ea.ops.pop(),ea.trys.pop();continue}eo=et.call(ee,ea)}catch(ee){eo=[6,ee],es=0}finally{ei=en=0}if(5&eo[0])throw eo[1];return{value:eo[0]?eo[1]:void 0,done:!0}}([eo,ec])}}}function __createBinding(ee,et,ei,es){void 0===es&&(es=ei),ee[es]=et[ei]}function __exportStar(ee,et){for(var ei in ee)"default"===ei||et.hasOwnProperty(ei)||(et[ei]=ee[ei])}function __values(ee){var et="function"==typeof Symbol&&Symbol.iterator,ei=et&&ee[et],es=0;if(ei)return ei.call(ee);if(ee&&"number"==typeof ee.length)return{next:function(){return ee&&es>=ee.length&&(ee=void 0),{value:ee&&ee[es++],done:!ee}}};throw TypeError(et?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(ee,et){var ei="function"==typeof Symbol&&ee[Symbol.iterator];if(!ei)return ee;var es,en,eo=ei.call(ee),ea=[];try{for(;(void 0===et||et-- >0)&&!(es=eo.next()).done;)ea.push(es.value)}catch(ee){en={error:ee}}finally{try{es&&!es.done&&(ei=eo.return)&&ei.call(eo)}finally{if(en)throw en.error}}return ea}function __spread(){for(var ee=[],et=0;et<arguments.length;et++)ee=ee.concat(__read(arguments[et]));return ee}function __spreadArrays(){for(var ee=0,et=0,ei=arguments.length;et<ei;et++)ee+=arguments[et].length;for(var es=Array(ee),en=0,et=0;et<ei;et++)for(var eo=arguments[et],ea=0,ec=eo.length;ea<ec;ea++,en++)es[en]=eo[ea];return es}function __await(ee){return this instanceof __await?(this.v=ee,this):new __await(ee)}function __asyncGenerator(ee,et,ei){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var es,en=ei.apply(ee,et||[]),eo=[];return es={},verb("next"),verb("throw"),verb("return"),es[Symbol.asyncIterator]=function(){return this},es;function verb(ee){en[ee]&&(es[ee]=function(et){return new Promise(function(ei,es){eo.push([ee,et,ei,es])>1||resume(ee,et)})})}function resume(ee,et){try{var ei;(ei=en[ee](et)).value instanceof __await?Promise.resolve(ei.value.v).then(fulfill,reject):settle(eo[0][2],ei)}catch(ee){settle(eo[0][3],ee)}}function fulfill(ee){resume("next",ee)}function reject(ee){resume("throw",ee)}function settle(ee,et){ee(et),eo.shift(),eo.length&&resume(eo[0][0],eo[0][1])}}function __asyncDelegator(ee){var et,ei;return et={},verb("next"),verb("throw",function(ee){throw ee}),verb("return"),et[Symbol.iterator]=function(){return this},et;function verb(es,en){et[es]=ee[es]?function(et){return(ei=!ei)?{value:__await(ee[es](et)),done:"return"===es}:en?en(et):et}:en}}function __asyncValues(ee){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var et,ei=ee[Symbol.asyncIterator];return ei?ei.call(ee):(ee=__values(ee),et={},verb("next"),verb("throw"),verb("return"),et[Symbol.asyncIterator]=function(){return this},et);function verb(ei){et[ei]=ee[ei]&&function(et){return new Promise(function(es,en){!function(ee,et,ei,es){Promise.resolve(es).then(function(et){ee({value:et,done:ei})},et)}(es,en,(et=ee[ei](et)).done,et.value)})}}}function __makeTemplateObject(ee,et){return Object.defineProperty?Object.defineProperty(ee,"raw",{value:et}):ee.raw=et,ee}function __importStar(ee){if(ee&&ee.__esModule)return ee;var et={};if(null!=ee)for(var ei in ee)Object.hasOwnProperty.call(ee,ei)&&(et[ei]=ee[ei]);return et.default=ee,et}function __importDefault(ee){return ee&&ee.__esModule?ee:{default:ee}}function __classPrivateFieldGet(ee,et){if(!et.has(ee))throw TypeError("attempted to get private field on non-instance");return et.get(ee)}function __classPrivateFieldSet(ee,et,ei){if(!et.has(ee))throw TypeError("attempted to set private field on non-instance");return et.set(ee,ei),ei}},28041:function(ee,et,ei){"use strict";ei.d(et,{D3:function(){return x},Mo:function(){return C},N1:function(){return n},W3:function(){return M},Yo:function(){return y},kZ:function(){return a},lV:function(){return S},oe:function(){return u},pX:function(){return v},pZ:function(){return p},sY:function(){return d},yy:function(){return h},z9:function(){return g}});var es=ei(38200);ei(17187);let n=class n extends es.q{constructor(ee){super(),this.opts=ee,this.protocol="wc",this.version=2}};let h=class h extends es.q{constructor(ee,et){super(),this.core=ee,this.logger=et,this.records=new Map}};let a=class a{constructor(ee,et){this.logger=ee,this.core=et}};let g=class g extends es.q{constructor(ee,et){super(),this.relayer=ee,this.logger=et}};let u=class u extends es.q{constructor(ee){super()}};let p=class p{constructor(ee,et,ei,es){this.core=ee,this.logger=et,this.name=ei}};let d=class d extends es.q{constructor(ee,et){super(),this.relayer=ee,this.logger=et}};let x=class x extends es.q{constructor(ee,et){super(),this.core=ee,this.logger=et}};let y=class y{constructor(ee,et,ei){this.core=ee,this.logger=et,this.store=ei}};let v=class v{constructor(ee,et){this.projectId=ee,this.logger=et}};let C=class C{constructor(ee,et,ei){this.core=ee,this.logger=et,this.telemetryEnabled=ei}};let S=class S{constructor(ee){this.opts=ee,this.protocol="wc",this.version=2}};let M=class M{constructor(ee){this.client=ee}}},29861:function(ee,et,ei){"use strict";ei.d(et,{DaH:function(){return index_es_Yr},D6H:function(){return index_es_de}}),ei(66736),ei(62873);var es,en,eo=ei(65755);function fe(ee,...et){if(!(ee instanceof Uint8Array||ArrayBuffer.isView(ee)&&"Uint8Array"===ee.constructor.name))throw Error("Uint8Array expected");if(et.length>0&&!et.includes(ee.length))throw Error("Uint8Array expected of length "+et+", got length="+ee.length)}function De(ee,et=!0){if(ee.destroyed)throw Error("Hash instance has been destroyed");if(et&&ee.finished)throw Error("Hash#digest() has already been called")}let ea="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,_t=ee=>new DataView(ee.buffer,ee.byteOffset,ee.byteLength);/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function de(ee){return"string"==typeof ee&&(ee=function(ee){if("string"!=typeof ee)throw Error("utf8ToBytes expected string, got "+typeof ee);return new Uint8Array(new TextEncoder().encode(ee))}(ee)),fe(ee),ee}let xn=class xn{clone(){return this._cloneInto()}};let An=class An extends xn{constructor(ee,et,ei,es){super(),this.blockLen=ee,this.outputLen=et,this.padOffset=ei,this.isLE=es,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(ee),this.view=_t(this.buffer)}update(ee){De(this);let{view:et,buffer:ei,blockLen:es}=this;ee=de(ee);let en=ee.length;for(let eo=0;eo<en;){let ea=Math.min(es-this.pos,en-eo);if(ea===es){let et=_t(ee);for(;es<=en-eo;eo+=es)this.process(et,eo);continue}ei.set(ee.subarray(eo,eo+ea),this.pos),this.pos+=ea,eo+=ea,this.pos===es&&(this.process(et,0),this.pos=0)}return this.length+=ee.length,this.roundClean(),this}digestInto(ee){De(this),function(ee,et){fe(ee);let ei=et.outputLen;if(ee.length<ei)throw Error("digestInto() expects output buffer of length at least "+ei)}(ee,this),this.finished=!0;let{buffer:et,view:ei,blockLen:es,isLE:en}=this,{pos:eo}=this;et[eo++]=128,this.buffer.subarray(eo).fill(0),this.padOffset>es-eo&&(this.process(ei,0),eo=0);for(let ee=eo;ee<es;ee++)et[ee]=0;(function(ee,et,ei,es){if("function"==typeof ee.setBigUint64)return ee.setBigUint64(et,ei,es);let en=BigInt(32),eo=BigInt(4294967295),ea=Number(ei>>en&eo),ec=Number(ei&eo),el=es?4:0,eu=es?0:4;ee.setUint32(et+el,ea,es),ee.setUint32(et+eu,ec,es)})(ei,es-8,BigInt(8*this.length),en),this.process(ei,0);let ea=_t(ee),ec=this.outputLen;if(ec%4)throw Error("_sha2: outputLen should be aligned to 32bit");let el=ec/4,eu=this.get();if(el>eu.length)throw Error("_sha2: outputLen bigger than state");for(let ee=0;ee<el;ee++)ea.setUint32(4*ee,eu[ee],en)}digest(){let{buffer:ee,outputLen:et}=this;this.digestInto(ee);let ei=ee.slice(0,et);return this.destroy(),ei}_cloneInto(ee){ee||(ee=new this.constructor),ee.set(...this.get());let{blockLen:et,buffer:ei,length:es,finished:en,destroyed:eo,pos:ea}=this;return ee.length=es,ee.pos=ea,ee.finished=en,ee.destroyed=eo,es%et&&ee.buffer.set(ei),ee}};let ec=BigInt(4294967296-1),el=BigInt(32);function le(ee,et=!1){return et?{h:Number(ee&ec),l:Number(ee>>el&ec)}:{h:0|Number(ee>>el&ec),l:0|Number(ee&ec)}}let eu={fromBig:le,split:function(ee,et=!1){let ei=new Uint32Array(ee.length),es=new Uint32Array(ee.length);for(let en=0;en<ee.length;en++){let{h:eo,l:ea}=le(ee[en],et);[ei[en],es[en]]=[eo,ea]}return[ei,es]},toBig:(ee,et)=>BigInt(ee>>>0)<<el|BigInt(et>>>0),shrSH:(ee,et,ei)=>ee>>>ei,shrSL:(ee,et,ei)=>ee<<32-ei|et>>>ei,rotrSH:(ee,et,ei)=>ee>>>ei|et<<32-ei,rotrSL:(ee,et,ei)=>ee<<32-ei|et>>>ei,rotrBH:(ee,et,ei)=>ee<<64-ei|et>>>ei-32,rotrBL:(ee,et,ei)=>ee>>>ei-32|et<<64-ei,rotr32H:(ee,et)=>et,rotr32L:(ee,et)=>ee,rotlSH:(ee,et,ei)=>ee<<ei|et>>>32-ei,rotlSL:(ee,et,ei)=>et<<ei|ee>>>32-ei,rotlBH:(ee,et,ei)=>et<<ei-32|ee>>>64-ei,rotlBL:(ee,et,ei)=>ee<<ei-32|et>>>64-ei,add:function(ee,et,ei,es){let en=(et>>>0)+(es>>>0);return{h:ee+ei+(en/4294967296|0)|0,l:0|en}},add3L:(ee,et,ei)=>(ee>>>0)+(et>>>0)+(ei>>>0),add3H:(ee,et,ei,es)=>et+ei+es+(ee/4294967296|0)|0,add4L:(ee,et,ei,es)=>(ee>>>0)+(et>>>0)+(ei>>>0)+(es>>>0),add4H:(ee,et,ei,es,en)=>et+ei+es+en+(ee/4294967296|0)|0,add5H:(ee,et,ei,es,en,eo)=>et+ei+es+en+eo+(ee/4294967296|0)|0,add5L:(ee,et,ei,es,en)=>(ee>>>0)+(et>>>0)+(ei>>>0)+(es>>>0)+(en>>>0)},[ed,eh]=eu.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(ee=>BigInt(ee))),ep=new Uint32Array(80),ef=new Uint32Array(80);let Jn=class Jn extends An{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:ee,Al:et,Bh:ei,Bl:es,Ch:en,Cl:eo,Dh:ea,Dl:ec,Eh:el,El:eu,Fh:ed,Fl:eh,Gh:ep,Gl:ef,Hh:eg,Hl:em}=this;return[ee,et,ei,es,en,eo,ea,ec,el,eu,ed,eh,ep,ef,eg,em]}set(ee,et,ei,es,en,eo,ea,ec,el,eu,ed,eh,ep,ef,eg,em){this.Ah=0|ee,this.Al=0|et,this.Bh=0|ei,this.Bl=0|es,this.Ch=0|en,this.Cl=0|eo,this.Dh=0|ea,this.Dl=0|ec,this.Eh=0|el,this.El=0|eu,this.Fh=0|ed,this.Fl=0|eh,this.Gh=0|ep,this.Gl=0|ef,this.Hh=0|eg,this.Hl=0|em}process(ee,et){for(let ei=0;ei<16;ei++,et+=4)ep[ei]=ee.getUint32(et),ef[ei]=ee.getUint32(et+=4);for(let ee=16;ee<80;ee++){let et=0|ep[ee-15],ei=0|ef[ee-15],es=eu.rotrSH(et,ei,1)^eu.rotrSH(et,ei,8)^eu.shrSH(et,ei,7),en=eu.rotrSL(et,ei,1)^eu.rotrSL(et,ei,8)^eu.shrSL(et,ei,7),eo=0|ep[ee-2],ea=0|ef[ee-2],ec=eu.rotrSH(eo,ea,19)^eu.rotrBH(eo,ea,61)^eu.shrSH(eo,ea,6),el=eu.rotrSL(eo,ea,19)^eu.rotrBL(eo,ea,61)^eu.shrSL(eo,ea,6),ed=eu.add4L(en,el,ef[ee-7],ef[ee-16]),eh=eu.add4H(ed,es,ec,ep[ee-7],ep[ee-16]);ep[ee]=0|eh,ef[ee]=0|ed}let{Ah:ei,Al:es,Bh:en,Bl:eo,Ch:ea,Cl:ec,Dh:el,Dl:eg,Eh:em,El:ey,Fh:eb,Fl:e_,Gh:ev,Gl:ew,Hh:ex,Hl:eS}=this;for(let ee=0;ee<80;ee++){let et=eu.rotrSH(em,ey,14)^eu.rotrSH(em,ey,18)^eu.rotrBH(em,ey,41),eE=eu.rotrSL(em,ey,14)^eu.rotrSL(em,ey,18)^eu.rotrBL(em,ey,41),eA=em&eb^~em&ev,eI=ey&e_^~ey&ew,eT=eu.add5L(eS,eE,eI,eh[ee],ef[ee]),eR=eu.add5H(eT,ex,et,eA,ed[ee],ep[ee]),eD=0|eT,ek=eu.rotrSH(ei,es,28)^eu.rotrBH(ei,es,34)^eu.rotrBH(ei,es,39),eB=eu.rotrSL(ei,es,28)^eu.rotrBL(ei,es,34)^eu.rotrBL(ei,es,39),eP=ei&en^ei&ea^en&ea,eO=es&eo^es&ec^eo&ec;ex=0|ev,eS=0|ew,ev=0|eb,ew=0|e_,eb=0|em,e_=0|ey,({h:em,l:ey}=eu.add(0|el,0|eg,0|eR,0|eD)),el=0|ea,eg=0|ec,ea=0|en,ec=0|eo,en=0|ei,eo=0|es;let eC=eu.add3L(eD,eB,eO);ei=eu.add3H(eC,eR,ek,eP),es=0|eC}({h:ei,l:es}=eu.add(0|this.Ah,0|this.Al,0|ei,0|es)),({h:en,l:eo}=eu.add(0|this.Bh,0|this.Bl,0|en,0|eo)),({h:ea,l:ec}=eu.add(0|this.Ch,0|this.Cl,0|ea,0|ec)),({h:el,l:eg}=eu.add(0|this.Dh,0|this.Dl,0|el,0|eg)),({h:em,l:ey}=eu.add(0|this.Eh,0|this.El,0|em,0|ey)),({h:eb,l:e_}=eu.add(0|this.Fh,0|this.Fl,0|eb,0|e_)),({h:ev,l:ew}=eu.add(0|this.Gh,0|this.Gl,0|ev,0|ew)),({h:ex,l:eS}=eu.add(0|this.Hh,0|this.Hl,0|ex,0|eS)),this.set(ei,es,en,eo,ea,ec,el,eg,em,ey,eb,e_,ev,ew,ex,eS)}roundClean(){ep.fill(0),ef.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};let eg=function(ee){let e=et=>ee().update(de(et)).digest(),et=ee();return e.outputLen=et.outputLen,e.blockLen=et.blockLen,e.create=()=>ee(),e}(()=>new Jn),em=BigInt(0),ey=BigInt(1),eb=BigInt(2);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function It(ee){return ee instanceof Uint8Array||ArrayBuffer.isView(ee)&&"Uint8Array"===ee.constructor.name}function Ut(ee){if(!It(ee))throw Error("Uint8Array expected")}function Tt(ee,et){if("boolean"!=typeof et)throw Error(ee+" boolean expected, got "+et)}let e_=Array.from({length:256},(ee,et)=>et.toString(16).padStart(2,"0"));function Ft(ee){Ut(ee);let et="";for(let ei=0;ei<ee.length;ei++)et+=e_[ee[ei]];return et}function pe(ee){if("string"!=typeof ee)throw Error("hex string expected, got "+typeof ee);return""===ee?em:BigInt("0x"+ee)}let ev={_0:48,_9:57,A:65,F:70,a:97,f:102};function we(ee){return ee>=ev._0&&ee<=ev._9?ee-ev._0:ee>=ev.A&&ee<=ev.F?ee-(ev.A-10):ee>=ev.a&&ee<=ev.f?ee-(ev.a-10):void 0}function Ee(ee){if("string"!=typeof ee)throw Error("hex string expected, got "+typeof ee);let et=ee.length,ei=et/2;if(et%2)throw Error("hex string expected, got unpadded hex of length "+et);let es=new Uint8Array(ei);for(let et=0,en=0;et<ei;et++,en+=2){let ei=we(ee.charCodeAt(en)),eo=we(ee.charCodeAt(en+1));if(void 0===ei||void 0===eo){let et=ee[en]+ee[en+1];throw Error('hex string expected, got non-hex character "'+et+'" at index '+en)}es[et]=16*ei+eo}return es}function Et(ee){return Ut(ee),pe(Ft(Uint8Array.from(ee).reverse()))}function ge(ee,et){return Ee(ee.toString(16).padStart(2*et,"0"))}function Nt(ee,et){return ge(ee,et).reverse()}function index_es_W(ee,et,ei){let es;if("string"==typeof et)try{es=Ee(et)}catch(et){throw Error(ee+" must be hex string or Uint8Array, cause: "+et)}else if(It(et))es=Uint8Array.from(et);else throw Error(ee+" must be hex string or Uint8Array");let en=es.length;if("number"==typeof ei&&en!==ei)throw Error(ee+" of length "+ei+" expected, got "+en);return es}let Lt=ee=>"bigint"==typeof ee&&em<=ee;function ft(ee,et,ei,es){if(!(Lt(et)&&Lt(ei)&&Lt(es))||!(ei<=et)||!(et<es))throw Error("expected valid "+ee+": "+ei+" <= n < "+es+", got "+et)}let er=ee=>(eb<<BigInt(ee-1))-ey,ew={bigint:ee=>"bigint"==typeof ee,function:ee=>"function"==typeof ee,boolean:ee=>"boolean"==typeof ee,string:ee=>"string"==typeof ee,stringOrUint8Array:ee=>"string"==typeof ee||It(ee),isSafeInteger:ee=>Number.isSafeInteger(ee),array:ee=>Array.isArray(ee),field:(ee,et)=>et.Fp.isValid(ee),hash:ee=>"function"==typeof ee&&Number.isSafeInteger(ee.outputLen)};function Ot(ee,et,ei={}){let r=(et,ei,es)=>{let en=ew[ei];if("function"!=typeof en)throw Error("invalid validator function");let eo=ee[et];if(!(es&&void 0===eo)&&!en(eo,ee))throw Error("param "+String(et)+" is invalid. Expected "+ei+", got "+eo)};for(let[ee,ei]of Object.entries(et))r(ee,ei,!1);for(let[ee,et]of Object.entries(ei))r(ee,et,!0);return ee}function xe(ee){let et=new WeakMap;return(ei,...es)=>{let en=et.get(ei);if(void 0!==en)return en;let eo=ee(ei,...es);return et.set(ei,eo),eo}}let ex=BigInt(0),eS=BigInt(1),eE=BigInt(2),eA=BigInt(3),eI=BigInt(4),eT=BigInt(5),eR=BigInt(8);function H(ee,et){let ei=ee%et;return ei>=ex?ei:et+ei}function J(ee,et,ei){let es=ee;for(;et-- >ex;)es*=es,es%=ei;return es}function Ae(ee,et){if(ee===ex)throw Error("invert: expected non-zero number");if(et<=ex)throw Error("invert: expected positive modulus, got "+et);let ei=H(ee,et),es=et,en=ex,eo=eS;for(;ei!==ex;){let ee=es/ei,et=es%ei,ea=en-eo*ee;es=ei,ei=et,en=eo,eo=ea}if(es!==eS)throw Error("invert: does not exist");return H(en,et)}let ur=(ee,et)=>(H(ee,et)&eS)===eS,eD=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function me(ee,et){let ei=void 0!==et?et:ee.toString(2).length,es=Math.ceil(ei/8);return{nBitLength:ei,nByteLength:es}}function _e(ee,et,ei=!1,es={}){let en;if(ee<=ex)throw Error("invalid field: expected ORDER > 0, got "+ee);let{nBitLength:eo,nByteLength:ea}=me(ee,et);if(ea>2048)throw Error("invalid field: expected ORDER of <= 2048 bytes");let ec=Object.freeze({ORDER:ee,isLE:ei,BITS:eo,BYTES:ea,MASK:er(eo),ZERO:ex,ONE:eS,create:et=>H(et,ee),isValid:et=>{if("bigint"!=typeof et)throw Error("invalid field element: expected bigint, got "+typeof et);return ex<=et&&et<ee},is0:ee=>ee===ex,isOdd:ee=>(ee&eS)===eS,neg:et=>H(-et,ee),eql:(ee,et)=>ee===et,sqr:et=>H(et*et,ee),add:(et,ei)=>H(et+ei,ee),sub:(et,ei)=>H(et-ei,ee),mul:(et,ei)=>H(et*ei,ee),pow:(ee,et)=>(function(ee,et,ei){if(ei<ex)throw Error("invalid exponent, negatives unsupported");if(ei===ex)return ee.ONE;if(ei===eS)return et;let es=ee.ONE,en=et;for(;ei>ex;)ei&eS&&(es=ee.mul(es,en)),en=ee.sqr(en),ei>>=eS;return es})(ec,ee,et),div:(et,ei)=>H(et*Ae(ei,ee),ee),sqrN:ee=>ee*ee,addN:(ee,et)=>ee+et,subN:(ee,et)=>ee-et,mulN:(ee,et)=>ee*et,inv:et=>Ae(et,ee),sqrt:es.sqrt||(et=>(en||(en=function(ee){if(ee%eI===eA){let et=(ee+eS)/eI;return function(ee,ei){let es=ee.pow(ei,et);if(!ee.eql(ee.sqr(es),ei))throw Error("Cannot find square root");return es}}if(ee%eR===eT){let et=(ee-eT)/eR;return function(ee,ei){let es=ee.mul(ei,eE),en=ee.pow(es,et),eo=ee.mul(ei,en),ea=ee.mul(ee.mul(eo,eE),en),ec=ee.mul(eo,ee.sub(ea,ee.ONE));if(!ee.eql(ee.sqr(ec),ei))throw Error("Cannot find square root");return ec}}return function(ee){let et,ei,es;let en=(ee-eS)/eE;for(et=ee-eS,ei=0;et%eE===ex;et/=eE,ei++);for(es=eE;es<ee&&function(ee,et,ei){if(et<ex)throw Error("invalid exponent, negatives unsupported");if(ei<=ex)throw Error("invalid modulus");if(ei===eS)return ex;let es=eS;for(;et>ex;)et&eS&&(es=es*ee%ei),ee=ee*ee%ei,et>>=eS;return es}(es,en,ee)!==ee-eS;es++)if(es>1e3)throw Error("Cannot find square root: likely non-prime P");if(1===ei){let et=(ee+eS)/eI;return function(ee,ei){let es=ee.pow(ei,et);if(!ee.eql(ee.sqr(es),ei))throw Error("Cannot find square root");return es}}let eo=(et+eS)/eE;return function(ee,ea){if(ee.pow(ea,en)===ee.neg(ee.ONE))throw Error("Cannot find square root");let ec=ei,el=ee.pow(ee.mul(ee.ONE,es),et),eu=ee.pow(ea,eo),ed=ee.pow(ea,et);for(;!ee.eql(ed,ee.ONE);){if(ee.eql(ed,ee.ZERO))return ee.ZERO;let et=1;for(let ei=ee.sqr(ed);et<ec&&!ee.eql(ei,ee.ONE);et++)ei=ee.sqr(ei);let ei=ee.pow(el,eS<<BigInt(ec-et-1));el=ee.sqr(ei),eu=ee.mul(eu,ei),ed=ee.mul(ed,el),ec=et}return eu}}(ee)}(ee)),en(ec,et))),invertBatch:ee=>(function(ee,et){let ei=Array(et.length),es=et.reduce((et,es,en)=>ee.is0(es)?et:(ei[en]=et,ee.mul(et,es)),ee.ONE),en=ee.inv(es);return et.reduceRight((et,es,en)=>ee.is0(es)?et:(ei[en]=ee.mul(et,ei[en]),ee.mul(et,es)),en),ei})(ec,ee),cmov:(ee,et,ei)=>ei?et:ee,toBytes:ee=>ei?Nt(ee,ea):ge(ee,ea),fromBytes:ee=>{if(ee.length!==ea)throw Error("Field.fromBytes: expected "+ea+" bytes, got "+ee.length);return ei?Et(ee):pe(Ft(ee))}});return Object.freeze(ec)}let ek=BigInt(0),eB=BigInt(1);function zt(ee,et){let ei=et.negate();return ee?ei:et}function ve(ee,et){if(!Number.isSafeInteger(ee)||ee<=0||ee>et)throw Error("invalid window size, expected [1.."+et+"], got W="+ee)}function Mt(ee,et){ve(ee,et);let ei=Math.ceil(et/ee)+1,es=2**(ee-1);return{windows:ei,windowSize:es}}let eP=new WeakMap,eO=new WeakMap;function $t(ee){return eO.get(ee)||1}let eC=BigInt(0),eU=BigInt(1),eL=BigInt(2),ej=BigInt(8);BigInt(0),BigInt(1);let eN=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),eM=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);let e$=BigInt(1),eF=BigInt(2);BigInt(3);let ez=BigInt(5),eK=BigInt(8),eH=_e(eN,void 0,!0),eV={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:eH,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:eK,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:eg,randomBytes:function(ee=32){if(ea&&"function"==typeof ea.getRandomValues)return ea.getRandomValues(new Uint8Array(ee));if(ea&&"function"==typeof ea.randomBytes)return ea.randomBytes(ee);throw Error("crypto.getRandomValues must be defined")},adjustScalarBytes:function(ee){return ee[0]&=248,ee[31]&=127,ee[31]|=64,ee},uvRatio:function(ee,et){let ei=H(et*et*et,eN),es=H(ei*ei*et,eN),en=function(ee){let et=BigInt(10),ei=BigInt(20),es=BigInt(40),en=BigInt(80),eo=ee*ee%eN*ee%eN,ea=J(eo,eF,eN)*eo%eN,ec=J(ea,e$,eN)*ee%eN,el=J(ec,ez,eN)*ec%eN,eu=J(el,et,eN)*el%eN,ed=J(eu,ei,eN)*eu%eN,eh=J(ed,es,eN)*ed%eN,ep=J(eh,en,eN)*eh%eN,ef=J(ep,en,eN)*eh%eN,eg=J(ef,et,eN)*el%eN;return{pow_p_5_8:J(eg,eF,eN)*ee%eN,b2:eo}}(ee*es).pow_p_5_8,eo=H(ee*ei*en,eN),ea=H(et*eo*eo,eN),ec=eo,el=H(eo*eM,eN),eu=ea===ee,ed=ea===H(-ee,eN),eh=ea===H(-ee*eM,eN);return eu&&(eo=ec),(ed||eh)&&(eo=el),ur(eo,eN)&&(eo=H(-eo,eN)),{isValid:eu||ed,value:eo}}};!function(ee){var et;let ei=function(ee){let et=(function(ee){let et=eD.reduce((ee,et)=>(ee[et]="function",ee),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});Ot(ee,et)}(ee.Fp),Ot(ee,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...me(ee.n,ee.nBitLength),...ee,p:ee.Fp.ORDER}));return Ot(ee,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...et})}(ee),{Fp:es,n:en,prehash:eo,hash:ea,randomBytes:ec,nByteLength:el,h:eu}=ei,ed=eL<<BigInt(8*el)-eU,eh=es.create,ep=_e(ei.n,ei.nBitLength),ef=ei.uvRatio||((ee,et)=>{try{return{isValid:!0,value:es.sqrt(ee*es.inv(et))}}catch{return{isValid:!1,value:eC}}}),eg=ei.adjustScalarBytes||(ee=>ee);function g(ee,et){ft("coordinate "+ee,et,eC,ed)}function S(ee){if(!(ee instanceof d))throw Error("ExtendedPoint expected")}ei.domain||((ee,et,ei)=>{if(Tt("phflag",ei),et.length||ei)throw Error("Contexts/pre-hash are not supported");return ee});let eb=xe((ee,et)=>{let{ex:ei,ey:en,ez:eo}=ee,ea=ee.is0();null==et&&(et=ea?ej:es.inv(eo));let ec=eh(ei*et),el=eh(en*et),eu=eh(eo*et);if(ea)return{x:eC,y:eU};if(eu!==eU)throw Error("invZ was invalid");return{x:ec,y:el}}),e_=xe(ee=>{let{a:et,d:es}=ei;if(ee.is0())throw Error("bad point: ZERO");let{ex:en,ey:eo,ez:ea,et:ec}=ee,el=eh(en*en),eu=eh(eo*eo),ed=eh(ea*ea),ep=eh(ed*ed),ef=eh(el*et),eg=eh(ed*eh(ef+eu)),em=eh(ep+eh(es*eh(el*eu)));if(eg!==em)throw Error("bad point: equation left != right (1)");let ey=eh(en*eo),eb=eh(ea*ec);if(ey!==eb)throw Error("bad point: equation left != right (2)");return!0});let d=class d{constructor(ee,et,ei,es){this.ex=ee,this.ey=et,this.ez=ei,this.et=es,g("x",ee),g("y",et),g("z",ei),g("t",es),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(ee){if(ee instanceof d)throw Error("extended point not allowed");let{x:et,y:ei}=ee||{};return g("x",et),g("y",ei),new d(et,ei,eU,eh(et*ei))}static normalizeZ(ee){let et=es.invertBatch(ee.map(ee=>ee.ez));return ee.map((ee,ei)=>ee.toAffine(et[ei])).map(d.fromAffine)}static msm(ee,et){return function(ee,et,ei,es){if(function(ee,et){if(!Array.isArray(ee))throw Error("array expected");ee.forEach((ee,ei)=>{if(!(ee instanceof et))throw Error("invalid point at index "+ei)})}(ei,ee),function(ee,et){if(!Array.isArray(ee))throw Error("array of scalars expected");ee.forEach((ee,ei)=>{if(!et.isValid(ee))throw Error("invalid scalar at index "+ei)})}(es,et),ei.length!==es.length)throw Error("arrays of points and scalars must have equal length");let en=ee.ZERO,eo=function(ee){let et;for(et=0;ee>em;ee>>=ey,et+=1);return et}(BigInt(ei.length)),ea=eo>12?eo-3:eo>4?eo-2:eo?2:1,ec=(1<<ea)-1,el=Array(ec+1).fill(en),eu=Math.floor((et.BITS-1)/ea)*ea,ed=en;for(let ee=eu;ee>=0;ee-=ea){el.fill(en);for(let et=0;et<es.length;et++){let en=es[et],eo=Number(en>>BigInt(ee)&BigInt(ec));el[eo]=el[eo].add(ei[et])}let et=en;for(let ee=el.length-1,ei=en;ee>0;ee--)ei=ei.add(el[ee]),et=et.add(ei);if(ed=ed.add(et),0!==ee)for(let ee=0;ee<ea;ee++)ed=ed.double()}return ed}(d,ep,ee,et)}_setWindowSize(ee){ex.setWindowSize(this,ee)}assertValidity(){e_(this)}equals(ee){S(ee);let{ex:et,ey:ei,ez:es}=this,{ex:en,ey:eo,ez:ea}=ee,ec=eh(et*ea),el=eh(en*es),eu=eh(ei*ea),ed=eh(eo*es);return ec===el&&eu===ed}is0(){return this.equals(d.ZERO)}negate(){return new d(eh(-this.ex),this.ey,this.ez,eh(-this.et))}double(){let{a:ee}=ei,{ex:et,ey:es,ez:en}=this,eo=eh(et*et),ea=eh(es*es),ec=eh(eL*eh(en*en)),el=eh(ee*eo),eu=et+es,ed=eh(eh(eu*eu)-eo-ea),ep=el+ea,ef=ep-ec,eg=el-ea,em=eh(ed*ef),ey=eh(ep*eg),eb=eh(ed*eg),e_=eh(ef*ep);return new d(em,ey,e_,eb)}add(ee){S(ee);let{a:et,d:es}=ei,{ex:en,ey:eo,ez:ea,et:ec}=this,{ex:el,ey:eu,ez:ed,et:ep}=ee;if(et===BigInt(-1)){let ee=eh((eo-en)*(eu+el)),et=eh((eo+en)*(eu-el)),ei=eh(et-ee);if(ei===eC)return this.double();let es=eh(ea*eL*ep),ef=eh(ec*eL*ed),eg=ef+es,em=et+ee,ey=ef-es,eb=eh(eg*ei),e_=eh(em*ey),ev=eh(eg*ey),ew=eh(ei*em);return new d(eb,e_,ew,ev)}let ef=eh(en*el),eg=eh(eo*eu),em=eh(ec*es*ep),ey=eh(ea*ed),eb=eh((en+eo)*(el+eu)-ef-eg),e_=ey-em,ev=ey+em,ew=eh(eg-et*ef),ex=eh(eb*e_),eS=eh(ev*ew),eE=eh(eb*ew),eA=eh(e_*ev);return new d(ex,eS,eA,eE)}subtract(ee){return this.add(ee.negate())}wNAF(ee){return ex.wNAFCached(this,ee,d.normalizeZ)}multiply(ee){ft("scalar",ee,eU,en);let{p:et,f:ei}=this.wNAF(ee);return d.normalizeZ([et,ei])[0]}multiplyUnsafe(ee,et=d.ZERO){return ft("scalar",ee,eC,en),ee===eC?ew:this.is0()||ee===eU?this:ex.wNAFCachedUnsafe(this,ee,d.normalizeZ,et)}isSmallOrder(){return this.multiplyUnsafe(eu).is0()}isTorsionFree(){return ex.unsafeLadder(this,en).is0()}toAffine(ee){return eb(this,ee)}clearCofactor(){let{h:ee}=ei;return ee===eU?this:this.multiplyUnsafe(ee)}static fromHex(ee,et=!1){let{d:en,a:eo}=ei,ea=es.BYTES;ee=index_es_W("pointHex",ee,ea),Tt("zip215",et);let ec=ee.slice(),el=ee[ea-1];ec[ea-1]=-129&el;let eu=Et(ec),ep=et?ed:es.ORDER;ft("pointHex.y",eu,eC,ep);let eg=eh(eu*eu),em=eh(eg-eU),ey=eh(en*eg-eo),{isValid:eb,value:e_}=ef(em,ey);if(!eb)throw Error("Point.fromHex: invalid y coordinate");let ev=(e_&eU)===eU,ew=(128&el)!=0;if(!et&&e_===eC&&ew)throw Error("Point.fromHex: x=0 and x_0=1");return ew!==ev&&(e_=eh(-e_)),d.fromAffine({x:e_,y:eu})}static fromPrivateKey(ee){return function(ee){let et=es.BYTES;ee=index_es_W("private key",ee,et);let ei=index_es_W("hashed private key",ea(ee),2*et),eo=eg(ei.slice(0,et)),ec=ei.slice(et,2*et),el=H(Et(eo),en),eu=ev.multiply(el),ed=eu.toRawBytes();return{head:eo,prefix:ec,scalar:el,point:eu,pointBytes:ed}}(ee).point}toRawBytes(){let{x:ee,y:et}=this.toAffine(),ei=Nt(et,es.BYTES);return ei[ei.length-1]|=ee&eU?128:0,ei}toHex(){return Ft(this.toRawBytes())}};d.BASE=new d(ei.Gx,ei.Gy,eU,eh(ei.Gx*ei.Gy)),d.ZERO=new d(eC,eU,eU,eC);let{BASE:ev,ZERO:ew}=d,ex=(et=8*el,{constTimeNegate:zt,hasPrecomputes:ee=>1!==$t(ee),unsafeLadder(ee,et,ei=d.ZERO){let es=ee;for(;et>ek;)et&eB&&(ei=ei.add(es)),es=es.double(),et>>=eB;return ei},precomputeWindow(ee,ei){let{windows:es,windowSize:en}=Mt(ei,et),eo=[],ea=ee,ec=ea;for(let ee=0;ee<es;ee++){ec=ea,eo.push(ec);for(let ee=1;ee<en;ee++)ec=ec.add(ea),eo.push(ec);ea=ec.double()}return eo},wNAF(ee,ei,es){let{windows:en,windowSize:eo}=Mt(ee,et),ea=d.ZERO,ec=d.BASE,el=BigInt(2**ee-1),eu=2**ee,ed=BigInt(ee);for(let ee=0;ee<en;ee++){let et=ee*eo,en=Number(es&el);es>>=ed,en>eo&&(en-=eu,es+=eB);let eh=et+Math.abs(en)-1,ep=ee%2!=0,ef=en<0;0===en?ec=ec.add(zt(ep,ei[et])):ea=ea.add(zt(ef,ei[eh]))}return{p:ea,f:ec}},wNAFUnsafe(ee,ei,es,en=d.ZERO){let{windows:eo,windowSize:ea}=Mt(ee,et),ec=BigInt(2**ee-1),el=2**ee,eu=BigInt(ee);for(let ee=0;ee<eo;ee++){let et=ee*ea;if(es===ek)break;let eo=Number(es&ec);if(es>>=eu,eo>ea&&(eo-=el,es+=eB),0===eo)continue;let ed=ei[et+Math.abs(eo)-1];eo<0&&(ed=ed.negate()),en=en.add(ed)}return en},getPrecomputes(ee,et,ei){let es=eP.get(et);return es||(es=this.precomputeWindow(et,ee),1!==ee&&eP.set(et,ei(es))),es},wNAFCached(ee,et,ei){let es=$t(ee);return this.wNAF(es,this.getPrecomputes(es,ee,ei),et)},wNAFCachedUnsafe(ee,et,ei,es){let en=$t(ee);return 1===en?this.unsafeLadder(ee,et,es):this.wNAFUnsafe(en,this.getPrecomputes(en,ee,ei),et,es)},setWindowSize(ee,ei){ve(ei,et),eO.set(ee,ei),eP.delete(ee)}});ev._setWindowSize(8)}(eV);var Tr=function(ee,et){if(ee.length>=255)throw TypeError("Alphabet too long");for(var ei=new Uint8Array(256),es=0;es<ei.length;es++)ei[es]=255;for(var en=0;en<ee.length;en++){var eo=ee.charAt(en),ea=eo.charCodeAt(0);if(255!==ei[ea])throw TypeError(eo+" is ambiguous");ei[ea]=en}var ec=ee.length,el=ee.charAt(0),eu=Math.log(ec)/Math.log(256),ed=Math.log(256)/Math.log(ec);function p(ee){if("string"!=typeof ee)throw TypeError("Expected String");if(0===ee.length)return new Uint8Array;var et=0;if(" "!==ee[0]){for(var es=0,en=0;ee[et]===el;)es++,et++;for(var eo=(ee.length-et)*eu+1>>>0,ea=new Uint8Array(eo);ee[et];){var ed=ei[ee.charCodeAt(et)];if(255===ed)return;for(var eh=0,ep=eo-1;(0!==ed||eh<en)&&-1!==ep;ep--,eh++)ed+=ec*ea[ep]>>>0,ea[ep]=ed%256>>>0,ed=ed/256>>>0;if(0!==ed)throw Error("Non-zero carry");en=eh,et++}if(" "!==ee[et]){for(var ef=eo-en;ef!==eo&&0===ea[ef];)ef++;for(var eg=new Uint8Array(es+(eo-ef)),em=es;ef!==eo;)eg[em++]=ea[ef++];return eg}}}return{encode:function(et){if(et instanceof Uint8Array||(ArrayBuffer.isView(et)?et=new Uint8Array(et.buffer,et.byteOffset,et.byteLength):Array.isArray(et)&&(et=Uint8Array.from(et))),!(et instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===et.length)return"";for(var ei=0,es=0,en=0,eo=et.length;en!==eo&&0===et[en];)en++,ei++;for(var ea=(eo-en)*ed+1>>>0,eu=new Uint8Array(ea);en!==eo;){for(var eh=et[en],ep=0,ef=ea-1;(0!==eh||ep<es)&&-1!==ef;ef--,ep++)eh+=256*eu[ef]>>>0,eu[ef]=eh%ec>>>0,eh=eh/ec>>>0;if(0!==eh)throw Error("Non-zero carry");es=ep,en++}for(var eg=ea-es;eg!==ea&&0===eu[eg];)eg++;for(var em=el.repeat(ei);eg<ea;++eg)em+=ee.charAt(eu[eg]);return em},decodeUnsafe:p,decode:function(ee){var ei=p(ee);if(ei)return ei;throw Error(`Non-${et} character`)}}};let He=ee=>{if(ee instanceof Uint8Array&&"Uint8Array"===ee.constructor.name)return ee;if(ee instanceof ArrayBuffer)return new Uint8Array(ee);if(ArrayBuffer.isView(ee))return new Uint8Array(ee.buffer,ee.byteOffset,ee.byteLength);throw Error("Unknown type, must be binary type")},Fr=ee=>new TextEncoder().encode(ee),Nr=ee=>new TextDecoder().decode(ee);let index_es_Lr=class index_es_Lr{constructor(ee,et,ei){this.name=ee,this.prefix=et,this.baseEncode=ei}encode(ee){if(ee instanceof Uint8Array)return`${this.prefix}${this.baseEncode(ee)}`;throw Error("Unknown type, must be binary type")}};let Or=class Or{constructor(ee,et,ei){if(this.name=ee,this.prefix=et,void 0===et.codePointAt(0))throw Error("Invalid prefix character");this.prefixCodePoint=et.codePointAt(0),this.baseDecode=ei}decode(ee){if("string"==typeof ee){if(ee.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(ee)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(ee.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(ee){return index_es_ze(this,ee)}};let Hr=class Hr{constructor(ee){this.decoders=ee}or(ee){return index_es_ze(this,ee)}decode(ee){let et=ee[0],ei=this.decoders[et];if(ei)return ei.decode(ee);throw RangeError(`Unable to decode multibase string ${JSON.stringify(ee)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};let index_es_ze=(ee,et)=>new Hr({...ee.decoders||{[ee.prefix]:ee},...et.decoders||{[et.prefix]:et}});let zr=class zr{constructor(ee,et,ei,es){this.name=ee,this.prefix=et,this.baseEncode=ei,this.baseDecode=es,this.encoder=new index_es_Lr(ee,et,ei),this.decoder=new Or(ee,et,es)}encode(ee){return this.encoder.encode(ee)}decode(ee){return this.decoder.decode(ee)}};let Bt=({name:ee,prefix:et,encode:ei,decode:es})=>new zr(ee,et,ei,es),ht=({prefix:ee,name:et,alphabet:ei})=>{let{encode:es,decode:en}=Tr(ei,et);return Bt({prefix:ee,name:et,encode:es,decode:ee=>He(en(ee))})},Mr=(ee,et,ei,es)=>{let en={};for(let ee=0;ee<et.length;++ee)en[et[ee]]=ee;let eo=ee.length;for(;"="===ee[eo-1];)--eo;let ea=new Uint8Array(eo*ei/8|0),ec=0,el=0,eu=0;for(let et=0;et<eo;++et){let eo=en[ee[et]];if(void 0===eo)throw SyntaxError(`Non-${es} character`);el=el<<ei|eo,(ec+=ei)>=8&&(ec-=8,ea[eu++]=255&el>>ec)}if(ec>=ei||255&el<<8-ec)throw SyntaxError("Unexpected end of data");return ea},qr=(ee,et,ei)=>{let es="="===et[et.length-1],en=(1<<ei)-1,eo="",ea=0,ec=0;for(let es=0;es<ee.length;++es)for(ec=ec<<8|ee[es],ea+=8;ea>ei;)ea-=ei,eo+=et[en&ec>>ea];if(ea&&(eo+=et[en&ec<<ei-ea]),es)for(;eo.length*ei&7;)eo+="=";return eo},k=({name:ee,prefix:et,bitsPerChar:ei,alphabet:es})=>Bt({prefix:et,name:ee,encode:ee=>qr(ee,es,ei),decode:et=>Mr(et,es,ei,ee)}),eW=Bt({prefix:"\x00",name:"identity",encode:ee=>Nr(ee),decode:ee=>Fr(ee)});var eJ=Object.freeze({__proto__:null,identity:eW});let eG=k({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var eY=Object.freeze({__proto__:null,base2:eG});let eQ=k({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var eZ=Object.freeze({__proto__:null,base8:eQ});let eX=ht({prefix:"9",name:"base10",alphabet:"0123456789"});var e0=Object.freeze({__proto__:null,base10:eX});let e1=k({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),e5=k({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var e2=Object.freeze({__proto__:null,base16:e1,base16upper:e5});let e6=k({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),e3=k({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),e8=k({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),e4=k({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),e9=k({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),e7=k({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),te=k({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),tt=k({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),tr=k({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var ts=Object.freeze({__proto__:null,base32:e6,base32upper:e3,base32pad:e8,base32padupper:e4,base32hex:e9,base32hexupper:e7,base32hexpad:te,base32hexpadupper:tt,base32z:tr});let to=ht({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),ta=ht({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var tc=Object.freeze({__proto__:null,base36:to,base36upper:ta});let tl=ht({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),tu=ht({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var td=Object.freeze({__proto__:null,base58btc:tl,base58flickr:tu});let th=k({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),tp=k({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),tf=k({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),tg=k({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var tm=Object.freeze({__proto__:null,base64:th,base64pad:tp,base64url:tf,base64urlpad:tg});let ty=Array.from("\uD83D\uDE80\uD83E\uDE90\uD83D\uDEF0\uD83C\uDF0C\uD83C\uDF11\uD83C\uDF12\uD83C\uDF13\uD83C\uDF14\uD83C\uDF15\uD83C\uDF16\uD83C\uDF17\uD83C\uDF18\uD83C\uDF0D\uD83C\uDF0F\uD83C\uDF0E\uD83D\uDC09\uD83D\uDCBB\uD83D\uDDA5\uD83D\uDCBE\uD83D\uDCBF\uD83D\uDE02\uD83D\uDE0D\uD83E\uDD23\uD83D\uDE0A\uD83D\uDE4F\uD83D\uDC95\uD83D\uDE2D\uD83D\uDE18\uD83D\uDC4D\uD83D\uDE05\uD83D\uDC4F\uD83D\uDE01\uD83D\uDD25\uD83E\uDD70\uD83D\uDC94\uD83D\uDC96\uD83D\uDC99\uD83D\uDE22\uD83E\uDD14\uD83D\uDE06\uD83D\uDE44\uD83D\uDCAA\uD83D\uDE09\uD83D\uDC4C\uD83E\uDD17\uD83D\uDC9C\uD83D\uDE14\uD83D\uDE0E\uD83D\uDE07\uD83C\uDF39\uD83E\uDD26\uD83C\uDF89\uD83D\uDC9E\uD83E\uDD37\uD83D\uDE31\uD83D\uDE0C\uD83C\uDF38\uD83D\uDE4C\uD83D\uDE0B\uD83D\uDC97\uD83D\uDC9A\uD83D\uDE0F\uD83D\uDC9B\uD83D\uDE42\uD83D\uDC93\uD83E\uDD29\uD83D\uDE04\uD83D\uDE00\uD83D\uDDA4\uD83D\uDE03\uD83D\uDCAF\uD83D\uDE48\uD83D\uDC47\uD83C\uDFB6\uD83D\uDE12\uD83E\uDD2D\uD83D\uDE1C\uD83D\uDC8B\uD83D\uDC40\uD83D\uDE2A\uD83D\uDE11\uD83D\uDCA5\uD83D\uDE4B\uD83D\uDE1E\uD83D\uDE29\uD83D\uDE21\uD83E\uDD2A\uD83D\uDC4A\uD83E\uDD73\uD83D\uDE25\uD83E\uDD24\uD83D\uDC49\uD83D\uDC83\uD83D\uDE33\uD83D\uDE1A\uD83D\uDE1D\uD83D\uDE34\uD83C\uDF1F\uD83D\uDE2C\uD83D\uDE43\uD83C\uDF40\uD83C\uDF37\uD83D\uDE3B\uD83D\uDE13\uD83E\uDD7A\uD83C\uDF08\uD83D\uDE08\uD83E\uDD18\uD83D\uDCA6\uD83D\uDE23\uD83C\uDFC3\uD83D\uDC90\uD83C\uDF8A\uD83D\uDC98\uD83D\uDE20\uD83D\uDE15\uD83C\uDF3A\uD83C\uDF82\uD83C\uDF3B\uD83D\uDE10\uD83D\uDD95\uD83D\uDC9D\uD83D\uDE4A\uD83D\uDE39\uD83D\uDDE3\uD83D\uDCAB\uD83D\uDC80\uD83D\uDC51\uD83C\uDFB5\uD83E\uDD1E\uD83D\uDE1B\uD83D\uDD34\uD83D\uDE24\uD83C\uDF3C\uD83D\uDE2B\uD83E\uDD19\uD83C\uDFC6\uD83E\uDD2B\uD83D\uDC48\uD83D\uDE2E\uD83D\uDE46\uD83C\uDF7B\uD83C\uDF43\uD83D\uDC36\uD83D\uDC81\uD83D\uDE32\uD83C\uDF3F\uD83E\uDDE1\uD83C\uDF81\uD83C\uDF1E\uD83C\uDF88\uD83D\uDC4B\uD83D\uDE30\uD83E\uDD28\uD83D\uDE36\uD83E\uDD1D\uD83D\uDEB6\uD83D\uDCB0\uD83C\uDF53\uD83D\uDCA2\uD83E\uDD1F\uD83D\uDE41\uD83D\uDEA8\uD83D\uDCA8\uD83E\uDD2C\uD83C\uDF80\uD83C\uDF7A\uD83E\uDD13\uD83D\uDE19\uD83D\uDC9F\uD83C\uDF31\uD83D\uDE16\uD83D\uDC76\uD83E\uDD74\uD83D\uDC8E\uD83D\uDCB8\uD83D\uDE28\uD83C\uDF1A\uD83E\uDD8B\uD83D\uDE37\uD83D\uDD7A\uD83D\uDE45\uD83D\uDE1F\uD83D\uDE35\uD83D\uDC4E\uD83E\uDD32\uD83E\uDD20\uD83E\uDD27\uD83D\uDCCC\uD83D\uDD35\uD83D\uDC85\uD83E\uDDD0\uD83D\uDC3E\uD83C\uDF52\uD83D\uDE17\uD83E\uDD11\uD83C\uDF0A\uD83E\uDD2F\uD83D\uDC37\uD83D\uDCA7\uD83D\uDE2F\uD83D\uDC86\uD83D\uDC46\uD83C\uDFA4\uD83D\uDE47\uD83C\uDF51\uD83C\uDF34\uD83D\uDCA3\uD83D\uDC38\uD83D\uDC8C\uD83D\uDCCD\uD83E\uDD40\uD83E\uDD22\uD83D\uDC45\uD83D\uDCA1\uD83D\uDCA9\uD83D\uDC50\uD83D\uDCF8\uD83D\uDC7B\uD83E\uDD10\uD83E\uDD2E\uD83C\uDFBC\uD83E\uDD75\uD83D\uDEA9\uD83C\uDF4E\uD83C\uDF4A\uD83D\uDC7C\uD83D\uDC8D\uD83D\uDCE3\uD83E\uDD42"),tb=ty.reduce((ee,et,ei)=>(ee[ei]=et,ee),[]),t_=ty.reduce((ee,et,ei)=>(ee[et.codePointAt(0)]=ei,ee),[]),tv=Bt({prefix:"\uD83D\uDE80",name:"base256emoji",encode:function(ee){return ee.reduce((ee,et)=>ee+=tb[et],"")},decode:function(ee){let et=[];for(let ei of ee){let ee=t_[ei.codePointAt(0)];if(void 0===ee)throw Error(`Non-base256emoji character: ${ei}`);et.push(ee)}return new Uint8Array(et)}});var tw=Object.freeze({__proto__:null,base256emoji:tv});function $e(ee,et,ei){et=et||[],ei=ei||0;for(var es=ei;ee>=2147483648;)et[ei++]=255&ee|128,ee/=128;for(;-128&ee;)et[ei++]=255&ee|128,ee>>>=7;return et[ei]=0|ee,$e.bytes=ei-es+1,et}function Pt(ee,et){var ei,es=0,et=et||0,en=0,eo=et,ea=ee.length;do{if(eo>=ea)throw Pt.bytes=0,RangeError("Could not decode varint");ei=ee[eo++],es+=en<28?(127&ei)<<en:(127&ei)*Math.pow(2,en),en+=7}while(ei>=128);return Pt.bytes=eo-et,es}var tx={encode:$e,decode:Pt,encodingLength:function(ee){return ee<128?1:ee<16384?2:ee<2097152?3:ee<268435456?4:ee<34359738368?5:ee<4398046511104?6:ee<562949953421312?7:ee<72057594037927940?8:ee<0x7fffffffffffffff?9:10}};let je=(ee,et,ei=0)=>(tx.encode(ee,et,ei),et),Ze=ee=>tx.encodingLength(ee),Qt=(ee,et)=>{let ei=et.byteLength,es=Ze(ee),en=es+Ze(ei),eo=new Uint8Array(en+ei);return je(ee,eo,0),je(ei,eo,es),eo.set(et,en),new Ro(ee,ei,et,eo)};let Ro=class Ro{constructor(ee,et,ei,es){this.code=ee,this.size=et,this.digest=ei,this.bytes=es}};let Ge=({name:ee,code:et,encode:ei})=>new jo(ee,et,ei);let jo=class jo{constructor(ee,et,ei){this.name=ee,this.code=et,this.encode=ei}digest(ee){if(ee instanceof Uint8Array){let et=this.encode(ee);return et instanceof Uint8Array?Qt(this.code,et):et.then(ee=>Qt(this.code,ee))}throw Error("Unknown type, must be binary type")}};let Ve=ee=>async et=>new Uint8Array(await crypto.subtle.digest(ee,et)),tS=Ge({name:"sha2-256",code:18,encode:Ve("SHA-256")}),tE=Ge({name:"sha2-512",code:19,encode:Ve("SHA-512")});var tA=Object.freeze({__proto__:null,sha256:tS,sha512:tE}),tI=Object.freeze({__proto__:null,identity:{code:0,name:"identity",encode:He,digest:ee=>Qt(0,He(ee))}});new TextEncoder,new TextDecoder;let tT={...eJ,...eY,...eZ,...e0,...e2,...ts,...tc,...td,...tm,...tw};function index_es_We(ee,et,ei,es){return{name:ee,prefix:et,encoder:{name:ee,prefix:et,encode:ei},decoder:{decode:es}}}function index_es_Yr(){return(0,eo.D)()||{name:"",description:"",url:"",icons:[""]}}function index_es_Ne(ee){if(!Number.isSafeInteger(ee)||ee<0)throw Error("positive integer expected, got "+ee)}function index_es_je(ee,...et){if(!(ee instanceof Uint8Array||ArrayBuffer.isView(ee)&&"Uint8Array"===ee.constructor.name))throw Error("Uint8Array expected");if(et.length>0&&!et.includes(ee.length))throw Error("Uint8Array expected of length "+et+", got length="+ee.length)}function index_es_me(ee,et=!0){if(ee.destroyed)throw Error("Hash instance has been destroyed");if(et&&ee.finished)throw Error("Hash#digest() has already been called")}function index_es_sn(ee,et){index_es_je(ee);let ei=et.outputLen;if(ee.length<ei)throw Error("digestInto() expects output buffer of length at least "+ei)}index_es_We("utf8","u",ee=>"u"+new TextDecoder("utf8").decode(ee),ee=>new TextEncoder().encode(ee.substring(1))),index_es_We("ascii","a",ee=>{let et="a";for(let ei=0;ei<ee.length;ei++)et+=String.fromCharCode(ee[ei]);return et},ee=>{ee=ee.substring(1);let et=function(ee=0){var et;return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?(et=globalThis.Buffer.allocUnsafe(ee),null!=globalThis.Buffer?new Uint8Array(et.buffer,et.byteOffset,et.byteLength):et):new Uint8Array(ee)}(ee.length);for(let ei=0;ei<ee.length;ei++)et[ei]=ee.charCodeAt(ei);return et}),tT.base16,ei(94622),ei(86266),ei(37968),ei(34155),ei(48764).Buffer;let tR=BigInt(4294967296-1),tD=BigInt(32),index_es_Ao=(ee,et,ei)=>ee<<ei|et>>>32-ei,index_es_No=(ee,et,ei)=>et<<ei|ee>>>32-ei,index_es_So=(ee,et,ei)=>et<<ei-32|ee>>>64-ei,index_es_Uo=(ee,et,ei)=>ee<<ei-32|et>>>64-ei,tk="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;function st(ee){return new DataView(ee.buffer,ee.byteOffset,ee.byteLength)}function index_es_J(ee,et){return ee<<32-et|ee>>>et}let tB=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0];function un(ee){for(let ei=0;ei<ee.length;ei++){var et;ee[ei]=(et=ee[ei])<<24&4278190080|et<<8&16711680|et>>>8&65280|et>>>24&255}}function index_es_we(ee){return"string"==typeof ee&&(ee=function(ee){if("string"!=typeof ee)throw Error("utf8ToBytes expected string, got "+typeof ee);return new Uint8Array(new TextEncoder().encode(ee))}(ee)),index_es_je(ee),ee}let index_es_it=class index_es_it{clone(){return this._cloneInto()}};function fn(ee){let t=et=>ee().update(index_es_we(et)).digest(),et=ee();return t.outputLen=et.outputLen,t.blockLen=et.blockLen,t.create=()=>ee(),t}let tP=[],tO=[],tC=[],tU=BigInt(0),tL=BigInt(1),tj=BigInt(2),tN=BigInt(7),tM=BigInt(256),tq=BigInt(113);for(let ee=0,et=tL,ei=1,es=0;ee<24;ee++){[ei,es]=[es,(2*ei+3*es)%5],tP.push(2*(5*es+ei)),tO.push((ee+1)*(ee+2)/2%64);let en=tU;for(let ee=0;ee<7;ee++)(et=(et<<tL^(et>>tN)*tq)%tM)&tj&&(en^=tL<<(tL<<BigInt(ee))-tL);tC.push(en)}let[t$,tF]=function(ee,et=!1){let ei=new Uint32Array(ee.length),es=new Uint32Array(ee.length);for(let en=0;en<ee.length;en++){let{h:eo,l:ea}=function(ee,et=!1){return et?{h:Number(ee&tR),l:Number(ee>>tD&tR)}:{h:0|Number(ee>>tD&tR),l:0|Number(ee&tR)}}(ee[en],et);[ei[en],es[en]]=[eo,ea]}return[ei,es]}(tC,!0),index_es_pn=(ee,et,ei)=>ei>32?index_es_So(ee,et,ei):index_es_Ao(ee,et,ei),index_es_gn=(ee,et,ei)=>ei>32?index_es_Uo(ee,et,ei):index_es_No(ee,et,ei);let index_es_Bt=class index_es_Bt extends index_es_it{constructor(ee,et,ei,es=!1,en=24){var eo;if(super(),this.blockLen=ee,this.suffix=et,this.outputLen=ei,this.enableXOF=es,this.rounds=en,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,index_es_Ne(ei),0>=this.blockLen||this.blockLen>=200)throw Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(eo=this.state,new Uint32Array(eo.buffer,eo.byteOffset,Math.floor(eo.byteLength/4)))}keccak(){tB||un(this.state32),function(ee,et=24){let ei=new Uint32Array(10);for(let es=24-et;es<24;es++){for(let et=0;et<10;et++)ei[et]=ee[et]^ee[et+10]^ee[et+20]^ee[et+30]^ee[et+40];for(let et=0;et<10;et+=2){let es=(et+8)%10,en=(et+2)%10,eo=ei[en],ea=ei[en+1],ec=index_es_pn(eo,ea,1)^ei[es],el=index_es_gn(eo,ea,1)^ei[es+1];for(let ei=0;ei<50;ei+=10)ee[et+ei]^=ec,ee[et+ei+1]^=el}let et=ee[2],en=ee[3];for(let ei=0;ei<24;ei++){let es=tO[ei],eo=index_es_pn(et,en,es),ea=index_es_gn(et,en,es),ec=tP[ei];et=ee[ec],en=ee[ec+1],ee[ec]=eo,ee[ec+1]=ea}for(let et=0;et<50;et+=10){for(let es=0;es<10;es++)ei[es]=ee[et+es];for(let es=0;es<10;es++)ee[et+es]^=~ei[(es+2)%10]&ei[(es+4)%10]}ee[0]^=t$[es],ee[1]^=tF[es]}ei.fill(0)}(this.state32,this.rounds),tB||un(this.state32),this.posOut=0,this.pos=0}update(ee){index_es_me(this);let{blockLen:et,state:ei}=this;ee=index_es_we(ee);let es=ee.length;for(let en=0;en<es;){let eo=Math.min(et-this.pos,es-en);for(let et=0;et<eo;et++)ei[this.pos++]^=ee[en++];this.pos===et&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:ee,suffix:et,pos:ei,blockLen:es}=this;ee[ei]^=et,(128&et)!=0&&ei===es-1&&this.keccak(),ee[es-1]^=128,this.keccak()}writeInto(ee){index_es_me(this,!1),index_es_je(ee),this.finish();let et=this.state,{blockLen:ei}=this;for(let es=0,en=ee.length;es<en;){this.posOut>=ei&&this.keccak();let eo=Math.min(ei-this.posOut,en-es);ee.set(et.subarray(this.posOut,this.posOut+eo),es),this.posOut+=eo,es+=eo}return ee}xofInto(ee){if(!this.enableXOF)throw Error("XOF is not possible for this instance");return this.writeInto(ee)}xof(ee){return index_es_Ne(ee),this.xofInto(new Uint8Array(ee))}digestInto(ee){if(index_es_sn(ee,this),this.finished)throw Error("digest() was already called");return this.writeInto(ee),this.destroy(),ee}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(ee){let{blockLen:et,suffix:ei,outputLen:es,rounds:en,enableXOF:eo}=this;return ee||(ee=new index_es_Bt(et,ei,es,eo,en)),ee.state32.set(this.state32),ee.pos=this.pos,ee.posOut=this.posOut,ee.finished=this.finished,ee.rounds=en,ee.suffix=ei,ee.outputLen=es,ee.enableXOF=eo,ee.destroyed=this.destroyed,ee}};function index_es_ht(ee){if(!Number.isSafeInteger(ee)||ee<0)throw Error("positive integer expected, got "+ee)}function index_es_Ln(ee){return ee instanceof Uint8Array||ArrayBuffer.isView(ee)&&"Uint8Array"===ee.constructor.name}function F(ee,...et){if(!index_es_Ln(ee))throw Error("Uint8Array expected");if(et.length>0&&!et.includes(ee.length))throw Error("Uint8Array expected of length "+et+", got length="+ee.length)}function index_es_Bn(ee,et=!0){if(ee.destroyed)throw Error("Hash instance has been destroyed");if(et&&ee.finished)throw Error("Hash#digest() has already been called")}function index_es_jn(ee){if("boolean"!=typeof ee)throw Error(`boolean expected, not ${ee}`)}fn(()=>new index_es_Bt(136,1,32)),Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;let se=ee=>new Uint32Array(ee.buffer,ee.byteOffset,Math.floor(ee.byteLength/4)),is=ee=>new DataView(ee.buffer,ee.byteOffset,ee.byteLength),tz=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0];if(!tz)throw Error("Non little-endian hardware is not supported");function pt(ee){if("string"==typeof ee)ee=function(ee){if("string"!=typeof ee)throw Error("string expected");return new Uint8Array(new TextEncoder().encode(ee))}(ee);else if(index_es_Ln(ee))ee=index_es_gt(ee);else throw Error("Uint8Array expected, got "+typeof ee);return ee}function index_es_Cn(ee,et,ei=!0){if(void 0===et)return new Uint8Array(ee);if(et.length!==ee)throw Error("invalid output length, expected "+ee+", got: "+et.length);if(ei&&et.byteOffset%4!=0)throw Error("invalid output, must be aligned");return et}function index_es_kn(ee,et,ei,es){if("function"==typeof ee.setBigUint64)return ee.setBigUint64(et,ei,es);let en=BigInt(32),eo=BigInt(4294967295),ea=Number(ei>>en&eo),ec=Number(ei&eo),el=es?4:0,eu=es?0:4;ee.setUint32(et+el,ea,es),ee.setUint32(et+eu,ec,es)}function index_es_gt(ee){return Uint8Array.from(ee)}function index_es_Ee(...ee){for(let et=0;et<ee.length;et++)ee[et].fill(0)}let Dn=ee=>Uint8Array.from(ee.split("").map(ee=>ee.charCodeAt(0))),tK=Dn("expand 16-byte k"),tH=Dn("expand 32-byte k"),tV=se(tK),tW=se(tH);function index_es_x(ee,et){return ee<<et|ee>>>32-et}function index_es_yt(ee){return ee.byteOffset%4==0}let tJ=4294967296-1,tG=new Uint32Array,index_es_M=(ee,et)=>255&ee[et++]|(255&ee[et++])<<8;let Es=class Es{constructor(ee){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,F(ee=pt(ee),32);let et=index_es_M(ee,0),ei=index_es_M(ee,2),es=index_es_M(ee,4),en=index_es_M(ee,6),eo=index_es_M(ee,8),ea=index_es_M(ee,10),ec=index_es_M(ee,12),el=index_es_M(ee,14);this.r[0]=8191&et,this.r[1]=(et>>>13|ei<<3)&8191,this.r[2]=(ei>>>10|es<<6)&7939,this.r[3]=(es>>>7|en<<9)&8191,this.r[4]=(en>>>4|eo<<12)&255,this.r[5]=eo>>>1&8190,this.r[6]=(eo>>>14|ea<<2)&8191,this.r[7]=(ea>>>11|ec<<5)&8065,this.r[8]=(ec>>>8|el<<8)&8191,this.r[9]=el>>>5&127;for(let et=0;et<8;et++)this.pad[et]=index_es_M(ee,16+2*et)}process(ee,et,ei=!1){let{h:es,r:en}=this,eo=en[0],ea=en[1],ec=en[2],el=en[3],eu=en[4],ed=en[5],eh=en[6],ep=en[7],ef=en[8],eg=en[9],em=index_es_M(ee,et+0),ey=index_es_M(ee,et+2),eb=index_es_M(ee,et+4),e_=index_es_M(ee,et+6),ev=index_es_M(ee,et+8),ew=index_es_M(ee,et+10),ex=index_es_M(ee,et+12),eS=index_es_M(ee,et+14),eE=es[0]+(8191&em),eA=es[1]+((em>>>13|ey<<3)&8191),eI=es[2]+((ey>>>10|eb<<6)&8191),eT=es[3]+((eb>>>7|e_<<9)&8191),eR=es[4]+((e_>>>4|ev<<12)&8191),eD=es[5]+(ev>>>1&8191),ek=es[6]+((ev>>>14|ew<<2)&8191),eB=es[7]+((ew>>>11|ex<<5)&8191),eP=es[8]+((ex>>>8|eS<<8)&8191),eO=es[9]+(eS>>>5|(ei?0:2048)),eC=0,eU=0+eE*eo+eA*(5*eg)+eI*(5*ef)+eT*(5*ep)+eR*(5*eh);eC=eU>>>13,eU&=8191,eU+=eD*(5*ed)+ek*(5*eu)+eB*(5*el)+eP*(5*ec)+eO*(5*ea),eC+=eU>>>13,eU&=8191;let eL=eC+eE*ea+eA*eo+eI*(5*eg)+eT*(5*ef)+eR*(5*ep);eC=eL>>>13,eL&=8191,eL+=eD*(5*eh)+ek*(5*ed)+eB*(5*eu)+eP*(5*el)+eO*(5*ec),eC+=eL>>>13,eL&=8191;let ej=eC+eE*ec+eA*ea+eI*eo+eT*(5*eg)+eR*(5*ef);eC=ej>>>13,ej&=8191,ej+=eD*(5*ep)+ek*(5*eh)+eB*(5*ed)+eP*(5*eu)+eO*(5*el),eC+=ej>>>13,ej&=8191;let eN=eC+eE*el+eA*ec+eI*ea+eT*eo+eR*(5*eg);eC=eN>>>13,eN&=8191,eN+=eD*(5*ef)+ek*(5*ep)+eB*(5*eh)+eP*(5*ed)+eO*(5*eu),eC+=eN>>>13,eN&=8191;let eM=eC+eE*eu+eA*el+eI*ec+eT*ea+eR*eo;eC=eM>>>13,eM&=8191,eM+=eD*(5*eg)+ek*(5*ef)+eB*(5*ep)+eP*(5*eh)+eO*(5*ed),eC+=eM>>>13,eM&=8191;let e$=eC+eE*ed+eA*eu+eI*el+eT*ec+eR*ea;eC=e$>>>13,e$&=8191,e$+=eD*eo+ek*(5*eg)+eB*(5*ef)+eP*(5*ep)+eO*(5*eh),eC+=e$>>>13,e$&=8191;let eF=eC+eE*eh+eA*ed+eI*eu+eT*el+eR*ec;eC=eF>>>13,eF&=8191,eF+=eD*ea+ek*eo+eB*(5*eg)+eP*(5*ef)+eO*(5*ep),eC+=eF>>>13,eF&=8191;let ez=eC+eE*ep+eA*eh+eI*ed+eT*eu+eR*el;eC=ez>>>13,ez&=8191,ez+=eD*ec+ek*ea+eB*eo+eP*(5*eg)+eO*(5*ef),eC+=ez>>>13,ez&=8191;let eK=eC+eE*ef+eA*ep+eI*eh+eT*ed+eR*eu;eC=eK>>>13,eK&=8191,eK+=eD*el+ek*ec+eB*ea+eP*eo+eO*(5*eg),eC+=eK>>>13,eK&=8191;let eH=eC+eE*eg+eA*ef+eI*ep+eT*eh+eR*ed;eC=eH>>>13,eH&=8191,eH+=eD*eu+ek*el+eB*ec+eP*ea+eO*eo,eC+=eH>>>13,eH&=8191,eU=8191&(eC=(eC=(eC<<2)+eC|0)+eU|0),eC>>>=13,eL+=eC,es[0]=eU,es[1]=eL,es[2]=ej,es[3]=eN,es[4]=eM,es[5]=e$,es[6]=eF,es[7]=ez,es[8]=eK,es[9]=eH}finalize(){let{h:ee,pad:et}=this,ei=new Uint16Array(10),es=ee[1]>>>13;ee[1]&=8191;for(let et=2;et<10;et++)ee[et]+=es,es=ee[et]>>>13,ee[et]&=8191;ee[0]+=5*es,es=ee[0]>>>13,ee[0]&=8191,ee[1]+=es,es=ee[1]>>>13,ee[1]&=8191,ee[2]+=es,ei[0]=ee[0]+5,es=ei[0]>>>13,ei[0]&=8191;for(let et=1;et<10;et++)ei[et]=ee[et]+es,es=ei[et]>>>13,ei[et]&=8191;ei[9]-=8192;let en=(1^es)-1;for(let ee=0;ee<10;ee++)ei[ee]&=en;en=~en;for(let et=0;et<10;et++)ee[et]=ee[et]&en|ei[et];ee[0]=(ee[0]|ee[1]<<13)&65535,ee[1]=(ee[1]>>>3|ee[2]<<10)&65535,ee[2]=(ee[2]>>>6|ee[3]<<7)&65535,ee[3]=(ee[3]>>>9|ee[4]<<4)&65535,ee[4]=(ee[4]>>>12|ee[5]<<1|ee[6]<<14)&65535,ee[5]=(ee[6]>>>2|ee[7]<<11)&65535,ee[6]=(ee[7]>>>5|ee[8]<<8)&65535,ee[7]=(ee[8]>>>8|ee[9]<<5)&65535;let eo=ee[0]+et[0];ee[0]=65535&eo;for(let ei=1;ei<8;ei++)eo=(ee[ei]+et[ei]|0)+(eo>>>16)|0,ee[ei]=65535&eo;index_es_Ee(ei)}update(ee){index_es_Bn(this);let{buffer:et,blockLen:ei}=this;ee=pt(ee);let es=ee.length;for(let en=0;en<es;){let eo=Math.min(ei-this.pos,es-en);if(eo===ei){for(;ei<=es-en;en+=ei)this.process(ee,en);continue}et.set(ee.subarray(en,en+eo),this.pos),this.pos+=eo,en+=eo,this.pos===ei&&(this.process(et,0,!1),this.pos=0)}return this}destroy(){index_es_Ee(this.h,this.r,this.buffer,this.pad)}digestInto(ee){index_es_Bn(this),function(ee,et){F(ee);let ei=et.outputLen;if(ee.length<ei)throw Error("digestInto() expects output buffer of length at least "+ei)}(ee,this),this.finished=!0;let{buffer:et,h:ei}=this,{pos:es}=this;if(es){for(et[es++]=1;es<16;es++)et[es]=0;this.process(et,0,!0)}this.finalize();let en=0;for(let et=0;et<8;et++)ee[en++]=ei[et]>>>0,ee[en++]=ei[et]>>>8;return ee}digest(){let{buffer:ee,outputLen:et}=this;this.digestInto(ee);let ei=ee.slice(0,et);return this.destroy(),ei}};let tY=function(ee){let t=(et,ei)=>ee(ei).update(pt(et)).digest(),et=ee(new Uint8Array(32));return t.outputLen=et.outputLen,t.blockLen=et.blockLen,t.create=et=>ee(et),t}(ee=>new Es(ee)),tQ=function(ee,et){let{allowShortKeys:ei,extendNonceFn:es,counterLength:en,counterRight:eo,rounds:ea}=function(ee,et){if(null==et||"object"!=typeof et)throw Error("options must be defined");return Object.assign(ee,et)}({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},et);if("function"!=typeof ee)throw Error("core must be a function");return index_es_ht(en),index_es_ht(ea),index_es_jn(eo),index_es_jn(ei),(et,ec,el,eu,ed=0)=>{F(et),F(ec),F(el);let eh=el.length;if(void 0===eu&&(eu=new Uint8Array(eh)),F(eu),index_es_ht(ed),ed<0||ed>=tJ)throw Error("arx: counter overflow");if(eu.length<eh)throw Error(`arx: output (${eu.length}) is shorter than data (${eh})`);let ep=[],ef=et.length,eg,em;if(32===ef)ep.push(eg=index_es_gt(et)),em=tW;else if(16===ef&&ei)(eg=new Uint8Array(32)).set(et),eg.set(et,16),em=tV,ep.push(eg);else throw Error(`arx: invalid 32-byte key, got length=${ef}`);index_es_yt(ec)||ep.push(ec=index_es_gt(ec));let ey=se(eg);if(es){if(24!==ec.length)throw Error("arx: extended nonce must be 24 bytes");es(em,ey,se(ec.subarray(0,16)),ey),ec=ec.subarray(16)}let eb=16-en;if(eb!==ec.length)throw Error(`arx: nonce must be ${eb} or 16 bytes`);if(12!==eb){let ee=new Uint8Array(12);ee.set(ec,eo?0:12-ec.length),ec=ee,ep.push(ec)}let e_=se(ec);return function(ee,et,ei,es,en,eo,ea,ec){let el=en.length,eu=new Uint8Array(64),ed=se(eu),eh=index_es_yt(en)&&index_es_yt(eo),ep=eh?se(en):tG,ef=eh?se(eo):tG;for(let eg=0;eg<el;ea++){if(ee(et,ei,es,ed,ea,ec),ea>=tJ)throw Error("arx: counter overflow");let em=Math.min(64,el-eg);if(eh&&64===em){let ee=eg/4;if(eg%4!=0)throw Error("arx: invalid block position");for(let et=0,ei;et<16;et++)ef[ei=ee+et]=ep[ei]^ed[et];eg+=64;continue}for(let ee=0,et;ee<em;ee++)eo[et=eg+ee]=en[et]^eu[ee];eg+=em}}(ee,em,ey,e_,el,eu,ed,ea),index_es_Ee(...ep),eu}}(function(ee,et,ei,es,en,eo=20){let ea=ee[0],ec=ee[1],el=ee[2],eu=ee[3],ed=et[0],eh=et[1],ep=et[2],ef=et[3],eg=et[4],em=et[5],ey=et[6],eb=et[7],e_=ei[0],ev=ei[1],ew=ei[2],ex=ea,eS=ec,eE=el,eA=eu,eI=ed,eT=eh,eR=ep,eD=ef,ek=eg,eB=em,eP=ey,eO=eb,eC=en,eU=e_,eL=ev,ej=ew;for(let ee=0;ee<eo;ee+=2)ek=ek+(eC=index_es_x(eC^(ex=ex+eI|0),16))|0,ex=ex+(eI=index_es_x(eI^ek,12))|0,ek=ek+(eC=index_es_x(eC^ex,8))|0,eI=index_es_x(eI^ek,7),eB=eB+(eU=index_es_x(eU^(eS=eS+eT|0),16))|0,eS=eS+(eT=index_es_x(eT^eB,12))|0,eB=eB+(eU=index_es_x(eU^eS,8))|0,eT=index_es_x(eT^eB,7),eP=eP+(eL=index_es_x(eL^(eE=eE+eR|0),16))|0,eE=eE+(eR=index_es_x(eR^eP,12))|0,eP=eP+(eL=index_es_x(eL^eE,8))|0,eR=index_es_x(eR^eP,7),eO=eO+(ej=index_es_x(ej^(eA=eA+eD|0),16))|0,eA=eA+(eD=index_es_x(eD^eO,12))|0,eO=eO+(ej=index_es_x(ej^eA,8))|0,eD=index_es_x(eD^eO,7),eP=eP+(ej=index_es_x(ej^(ex=ex+eT|0),16))|0,ex=ex+(eT=index_es_x(eT^eP,12))|0,eP=eP+(ej=index_es_x(ej^ex,8))|0,eT=index_es_x(eT^eP,7),eO=eO+(eC=index_es_x(eC^(eS=eS+eR|0),16))|0,eS=eS+(eR=index_es_x(eR^eO,12))|0,eO=eO+(eC=index_es_x(eC^eS,8))|0,eR=index_es_x(eR^eO,7),ek=ek+(eU=index_es_x(eU^(eE=eE+eD|0),16))|0,eE=eE+(eD=index_es_x(eD^ek,12))|0,ek=ek+(eU=index_es_x(eU^eE,8))|0,eD=index_es_x(eD^ek,7),eB=eB+(eL=index_es_x(eL^(eA=eA+eI|0),16))|0,eA=eA+(eI=index_es_x(eI^eB,12))|0,eB=eB+(eL=index_es_x(eL^eA,8))|0,eI=index_es_x(eI^eB,7);let eN=0;es[eN++]=ea+ex|0,es[eN++]=ec+eS|0,es[eN++]=el+eE|0,es[eN++]=eu+eA|0,es[eN++]=ed+eI|0,es[eN++]=eh+eT|0,es[eN++]=ep+eR|0,es[eN++]=ef+eD|0,es[eN++]=eg+ek|0,es[eN++]=em+eB|0,es[eN++]=ey+eP|0,es[eN++]=eb+eO|0,es[eN++]=en+eC|0,es[eN++]=e_+eU|0,es[eN++]=ev+eL|0,es[eN++]=ew+ej|0},{counterRight:!1,counterLength:4,allowShortKeys:!1}),tZ=new Uint8Array(16),index_es_Hn=(ee,et)=>{ee.update(et);let ei=et.length%16;ei&&ee.update(tZ.subarray(ei))},tX=new Uint8Array(32);function index_es_Kn(ee,et,ei,es,en){let eo=ee(et,ei,tX),ea=tY.create(eo);en&&index_es_Hn(ea,en),index_es_Hn(ea,es);let ec=new Uint8Array(16),el=is(ec);index_es_kn(el,0,BigInt(en?en.length:0),!0),index_es_kn(el,8,BigInt(es.length),!0),ea.update(ec);let eu=ea.digest();return index_es_Ee(eo,ec),eu}es={blockSize:64,nonceLength:12,tagLength:16},en=(ee,et,ei)=>({encrypt(es,en){let eo=es.length;(en=index_es_Cn(eo+16,en,!1)).set(es);let ea=en.subarray(0,-16);tQ(ee,et,ea,ea,1);let ec=index_es_Kn(tQ,ee,et,ea,ei);return en.set(ec,eo),index_es_Ee(ec),en},decrypt(es,en){en=index_es_Cn(es.length-16,en,!1);let eo=es.subarray(0,-16),ea=es.subarray(-16),ec=index_es_Kn(tQ,ee,et,eo,ei);if(!function(ee,et){if(ee.length!==et.length)return!1;let ei=0;for(let es=0;es<ee.length;es++)ei|=ee[es]^et[es];return 0===ei}(ea,ec))throw Error("invalid tag");return en.set(es.subarray(0,-16)),tQ(ee,et,en,en,1),index_es_Ee(ec),en}}),Object.assign(function(ee,...et){if(F(ee),void 0!==es.nonceLength){let ee=et[0];if(!ee)throw Error("nonce / iv required");es.varSizeNonce?F(ee):F(ee,es.nonceLength)}let ei=es.tagLength;ei&&void 0!==et[1]&&F(et[1]);let eo=en(ee,...et),c=(ee,et)=>{if(void 0!==et){if(2!==ee)throw Error("cipher output not supported");F(et)}},ea=!1;return{encrypt(ee,et){if(ea)throw Error("cannot encrypt() twice with same key + nonce");return ea=!0,F(ee),c(eo.encrypt.length,et),eo.encrypt(ee,et)},decrypt(ee,et){if(F(ee),ei&&ee.length<ei)throw Error("invalid ciphertext length: smaller than tagLength="+ei);return c(eo.decrypt.length,et),eo.decrypt(ee,et)}}},es),new Uint8Array([0]),new Uint8Array;let Ls=class Ls extends index_es_it{constructor(ee,et,ei,es){super(),this.blockLen=ee,this.outputLen=et,this.padOffset=ei,this.isLE=es,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(ee),this.view=st(this.buffer)}update(ee){index_es_me(this);let{view:et,buffer:ei,blockLen:es}=this;ee=index_es_we(ee);let en=ee.length;for(let eo=0;eo<en;){let ea=Math.min(es-this.pos,en-eo);if(ea===es){let et=st(ee);for(;es<=en-eo;eo+=es)this.process(et,eo);continue}ei.set(ee.subarray(eo,eo+ea),this.pos),this.pos+=ea,eo+=ea,this.pos===es&&(this.process(et,0),this.pos=0)}return this.length+=ee.length,this.roundClean(),this}digestInto(ee){index_es_me(this),index_es_sn(ee,this),this.finished=!0;let{buffer:et,view:ei,blockLen:es,isLE:en}=this,{pos:eo}=this;et[eo++]=128,this.buffer.subarray(eo).fill(0),this.padOffset>es-eo&&(this.process(ei,0),eo=0);for(let ee=eo;ee<es;ee++)et[ee]=0;(function(ee,et,ei,es){if("function"==typeof ee.setBigUint64)return ee.setBigUint64(et,ei,es);let en=BigInt(32),eo=BigInt(4294967295),ea=Number(ei>>en&eo),ec=Number(ei&eo),el=es?4:0,eu=es?0:4;ee.setUint32(et+el,ea,es),ee.setUint32(et+eu,ec,es)})(ei,es-8,BigInt(8*this.length),en),this.process(ei,0);let ea=st(ee),ec=this.outputLen;if(ec%4)throw Error("_sha2: outputLen should be aligned to 32bit");let el=ec/4,eu=this.get();if(el>eu.length)throw Error("_sha2: outputLen bigger than state");for(let ee=0;ee<el;ee++)ea.setUint32(4*ee,eu[ee],en)}digest(){let{buffer:ee,outputLen:et}=this;this.digestInto(ee);let ei=ee.slice(0,et);return this.destroy(),ei}_cloneInto(ee){ee||(ee=new this.constructor),ee.set(...this.get());let{blockLen:et,buffer:ei,length:es,finished:en,destroyed:eo,pos:ea}=this;return ee.length=es,ee.pos=ea,ee.finished=en,ee.destroyed=eo,es%et&&ee.buffer.set(ei),ee}};let t0=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),t1=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),t5=new Uint32Array(64);let js=class js extends Ls{constructor(){super(64,32,8,!1),this.A=0|t1[0],this.B=0|t1[1],this.C=0|t1[2],this.D=0|t1[3],this.E=0|t1[4],this.F=0|t1[5],this.G=0|t1[6],this.H=0|t1[7]}get(){let{A:ee,B:et,C:ei,D:es,E:en,F:eo,G:ea,H:ec}=this;return[ee,et,ei,es,en,eo,ea,ec]}set(ee,et,ei,es,en,eo,ea,ec){this.A=0|ee,this.B=0|et,this.C=0|ei,this.D=0|es,this.E=0|en,this.F=0|eo,this.G=0|ea,this.H=0|ec}process(ee,et){for(let ei=0;ei<16;ei++,et+=4)t5[ei]=ee.getUint32(et,!1);for(let ee=16;ee<64;ee++){let et=t5[ee-15],ei=t5[ee-2],es=index_es_J(et,7)^index_es_J(et,18)^et>>>3,en=index_es_J(ei,17)^index_es_J(ei,19)^ei>>>10;t5[ee]=en+t5[ee-7]+es+t5[ee-16]|0}let{A:ei,B:es,C:en,D:eo,E:ea,F:ec,G:el,H:eu}=this;for(let ee=0;ee<64;ee++){var ed,eh,ep,ef;let et=index_es_J(ea,6)^index_es_J(ea,11)^index_es_J(ea,25),eg=eu+et+((ed=ea)&ec^~ed&el)+t0[ee]+t5[ee]|0,em=(index_es_J(ei,2)^index_es_J(ei,13)^index_es_J(ei,22))+((eh=ei)&(ep=es)^eh&(ef=en)^ep&ef)|0;eu=el,el=ec,ec=ea,ea=eo+eg|0,eo=en,en=es,es=ei,ei=eg+em|0}ei=ei+this.A|0,es=es+this.B|0,en=en+this.C|0,eo=eo+this.D|0,ea=ea+this.E|0,ec=ec+this.F|0,el=el+this.G|0,eu=eu+this.H|0,this.set(ei,es,en,eo,ea,ec,el,eu)}roundClean(){t5.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};fn(()=>new js);let t2=BigInt(0);function index_es_wt(ee){return ee instanceof Uint8Array||ArrayBuffer.isView(ee)&&"Uint8Array"===ee.constructor.name}function index_es_zn(ee){if(!index_es_wt(ee))throw Error("Uint8Array expected")}let t6=Array.from({length:256},(ee,et)=>et.toString(16).padStart(2,"0")),t3={_0:48,_9:57,A:65,F:70,a:97,f:102};function index_es_Jn(ee){return ee>=t3._0&&ee<=t3._9?ee-t3._0:ee>=t3.A&&ee<=t3.F?ee-(t3.A-10):ee>=t3.a&&ee<=t3.f?ee-(t3.a-10):void 0}function index_es_Yn(ee){if("string"!=typeof ee)throw Error("hex string expected, got "+typeof ee);let et=ee.length,ei=et/2;if(et%2)throw Error("hex string expected, got unpadded hex of length "+et);let es=new Uint8Array(ei);for(let et=0,en=0;et<ei;et++,en+=2){let ei=index_es_Jn(ee.charCodeAt(en)),eo=index_es_Jn(ee.charCodeAt(en+1));if(void 0===ei||void 0===eo){let et=ee[en]+ee[en+1];throw Error('hex string expected, got non-hex character "'+et+'" at index '+en)}es[et]=16*ei+eo}return es}let index_es_Et=ee=>"bigint"==typeof ee&&t2<=ee,t8={bigint:ee=>"bigint"==typeof ee,function:ee=>"function"==typeof ee,boolean:ee=>"boolean"==typeof ee,string:ee=>"string"==typeof ee,stringOrUint8Array:ee=>"string"==typeof ee||index_es_wt(ee),isSafeInteger:ee=>Number.isSafeInteger(ee),array:ee=>Array.isArray(ee),field:(ee,et)=>et.Fp.isValid(ee),hash:ee=>"function"==typeof ee&&Number.isSafeInteger(ee.outputLen)},t4=BigInt(0),t9=BigInt(1);function index_es_er(ee,et){let ei=ee%et;return ei>=t4?ei:et+ei}function z(ee,et,ei){let es=ee;for(;et-- >t4;)es*=es,es%=ei;return es}BigInt(0),BigInt(1),BigInt(0),BigInt(1),BigInt(2),BigInt(8),BigInt(0),BigInt(1);let t7=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949");BigInt(0);let rt=BigInt(1),rr=BigInt(2),rs=BigInt(3),rn=BigInt(5);BigInt(8),function(ee){var et;let ei=(function(ee,et,ei={}){let r=(et,ei,es)=>{let en=t8[ei];if("function"!=typeof en)throw Error("invalid validator function");let eo=ee[et];if(!(es&&void 0===eo)&&!en(eo,ee))throw Error("param "+String(et)+" is invalid. Expected "+ei+", got "+eo)};for(let[ee,ei]of Object.entries(et))r(ee,ei,!1);for(let[ee,et]of Object.entries(ei))r(ee,et,!0)}(ee,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...ee})),{P:es}=ei,r=ee=>index_es_er(ee,es),en=ei.montgomeryBits,eo=Math.ceil(en/8);ei.nByteLength,ei.adjustScalarBytes||(ee=>ee),ei.powPminus2||(ee=>(function(ee,et,ei){if(et<t4)throw Error("invalid exponent, negatives unsupported");if(ei<=t4)throw Error("invalid modulus");if(ei===t9)return t4;let es=t9;for(;et>t4;)et&t9&&(es=es*ee%ei),ee=ee*ee%ei,et>>=t9;return es})(ee,es-BigInt(2),es));ei.a,BigInt(2),BigInt(4);index_es_Yn(r(ei.Gu).toString(16).padStart(2*eo,"0")).reverse()}({P:t7,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:ee=>{let{pow_p_5_8:et,b2:ei}=function(ee){let et=BigInt(10),ei=BigInt(20),es=BigInt(40),en=BigInt(80),eo=ee*ee%t7*ee%t7,ea=z(eo,rr,t7)*eo%t7,ec=z(ea,rt,t7)*ee%t7,el=z(ec,rn,t7)*ec%t7,eu=z(el,et,t7)*el%t7,ed=z(eu,ei,t7)*eu%t7,eh=z(ed,es,t7)*ed%t7,ep=z(eh,en,t7)*eh%t7,ef=z(ep,en,t7)*eh%t7,eg=z(ef,et,t7)*el%t7;return{pow_p_5_8:z(eg,rr,t7)*ee%t7,b2:eo}}(ee);return index_es_er(z(et,rs,t7)*ei,t7)},adjustScalarBytes:function(ee){return ee[0]&=248,ee[31]&=127,ee[31]|=64,ee},randomBytes:function(ee=32){if(tk&&"function"==typeof tk.getRandomValues)return tk.getRandomValues(new Uint8Array(ee));if(tk&&"function"==typeof tk.randomBytes)return tk.randomBytes(ee);throw Error("crypto.getRandomValues must be defined")}}),Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;let ro={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}};function index_es_de(ee,et){let{message:ei,code:es}=ro[ee];return{message:et?`${ei} ${et}`:ei,code:es}}},62873:function(ee,et){"use strict";function getFromWindow(ee){let et;return"undefined"!=typeof window&&void 0!==window[ee]&&(et=window[ee]),et}function getFromWindowOrThrow(ee){let et=getFromWindow(ee);if(!et)throw Error(`${ee} is not defined in Window`);return et}Object.defineProperty(et,"__esModule",{value:!0}),et.getLocalStorage=et.getLocalStorageOrThrow=et.getCrypto=et.getCryptoOrThrow=et.getLocation=et.getLocationOrThrow=et.getNavigator=et.getNavigatorOrThrow=et.getDocument=et.getDocumentOrThrow=et.getFromWindowOrThrow=et.getFromWindow=void 0,et.getFromWindow=getFromWindow,et.getFromWindowOrThrow=getFromWindowOrThrow,et.getDocumentOrThrow=function(){return getFromWindowOrThrow("document")},et.getDocument=function(){return getFromWindow("document")},et.getNavigatorOrThrow=function(){return getFromWindowOrThrow("navigator")},et.getNavigator=function(){return getFromWindow("navigator")},et.getLocationOrThrow=function(){return getFromWindowOrThrow("location")},et.getLocation=function(){return getFromWindow("location")},et.getCryptoOrThrow=function(){return getFromWindowOrThrow("crypto")},et.getCrypto=function(){return getFromWindow("crypto")},et.getLocalStorageOrThrow=function(){return getFromWindowOrThrow("localStorage")},et.getLocalStorage=function(){return getFromWindow("localStorage")}},65755:function(ee,et,ei){"use strict";et.D=void 0;let es=ei(62873);et.D=function(){let ee,et,ei;try{ee=es.getDocumentOrThrow(),et=es.getLocationOrThrow()}catch(ee){return null}function getWindowMetadataOfAny(...et){let ei=ee.getElementsByTagName("meta");for(let ee=0;ee<ei.length;ee++){let es=ei[ee],en=["itemprop","property","name"].map(ee=>es.getAttribute(ee)).filter(ee=>!!ee&&et.includes(ee));if(en.length&&en){let ee=es.getAttribute("content");if(ee)return ee}}return""}let en=((ei=getWindowMetadataOfAny("name","og:site_name","og:title","twitter:title"))||(ei=ee.title),ei),eo=function(){let ee=getWindowMetadataOfAny("description","og:description","twitter:description","keywords");return ee}(),ea=et.origin,ec=function(){let ei=ee.getElementsByTagName("link"),es=[];for(let ee=0;ee<ei.length;ee++){let en=ei[ee],eo=en.getAttribute("rel");if(eo&&eo.toLowerCase().indexOf("icon")>-1){let ee=en.getAttribute("href");if(ee){if(-1===ee.toLowerCase().indexOf("https:")&&-1===ee.toLowerCase().indexOf("http:")&&0!==ee.indexOf("//")){let ei=et.protocol+"//"+et.host;if(0===ee.indexOf("/"))ei+=ee;else{let es=et.pathname.split("/");es.pop();let en=es.join("/");ei+=en+"/"+ee}es.push(ei)}else if(0===ee.indexOf("//")){let ei=et.protocol+ee;es.push(ei)}else es.push(ee)}}}return es}();return{description:eo,url:ea,icons:ec,name:en}}},66424:function(ee,et,ei){var es=ei(34155);ee.exports=function(ee){var et={};function r(ei){if(et[ei])return et[ei].exports;var es=et[ei]={i:ei,l:!1,exports:{}};return ee[ei].call(es.exports,es,es.exports,r),es.l=!0,es.exports}return r.m=ee,r.c=et,r.d=function(ee,et,ei){r.o(ee,et)||Object.defineProperty(ee,et,{enumerable:!0,get:ei})},r.r=function(ee){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(ee,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(ee,"__esModule",{value:!0})},r.t=function(ee,et){if(1&et&&(ee=r(ee)),8&et||4&et&&"object"==typeof ee&&ee&&ee.__esModule)return ee;var ei=Object.create(null);if(r.r(ei),Object.defineProperty(ei,"default",{enumerable:!0,value:ee}),2&et&&"string"!=typeof ee)for(var es in ee)r.d(ei,es,(function(et){return ee[et]}).bind(null,es));return ei},r.n=function(ee){var et=ee&&ee.__esModule?function(){return ee.default}:function(){return ee};return r.d(et,"a",et),et},r.o=function(ee,et){return Object.prototype.hasOwnProperty.call(ee,et)},r.p="",r(r.s=0)}([function(ee,et,ei){"use strict";ei.r(et),ei.d(et,"encode",function(){return T}),ei.d(et,"decode",function(){return V}),ei.d(et,"decodeAsync",function(){return Y}),ei.d(et,"decodeArrayStream",function(){return Z}),ei.d(et,"decodeStream",function(){return $}),ei.d(et,"Decoder",function(){return ex}),ei.d(et,"Encoder",function(){return ef}),ei.d(et,"ExtensionCodec",function(){return ep}),ei.d(et,"ExtData",function(){return p}),ei.d(et,"EXT_TIMESTAMP",function(){return ed}),ei.d(et,"encodeDateToTimeSpec",function(){return g}),ei.d(et,"encodeTimeSpecToTimestamp",function(){return v}),ei.d(et,"decodeTimestampToTimeSpec",function(){return U}),ei.d(et,"encodeTimestampExtension",function(){return b}),ei.d(et,"decodeTimestampExtension",function(){return m});var n=function(ee,et){var ei="function"==typeof Symbol&&ee[Symbol.iterator];if(!ei)return ee;var es,en,eo=ei.call(ee),ea=[];try{for(;(void 0===et||et-- >0)&&!(es=eo.next()).done;)ea.push(es.value)}catch(ee){en={error:ee}}finally{try{es&&!es.done&&(ei=eo.return)&&ei.call(eo)}finally{if(en)throw en.error}}return ea},i=function(){for(var ee=[],et=0;et<arguments.length;et++)ee=ee.concat(n(arguments[et]));return ee},en=void 0!==es&&"undefined"!=typeof TextEncoder&&"undefined"!=typeof TextDecoder;function s(ee){for(var et=ee.length,ei=0,es=0;es<et;){var en=ee.charCodeAt(es++);if(0!=(4294967168&en)){if(0==(4294965248&en))ei+=2;else{if(en>=55296&&en<=56319&&es<et){var eo=ee.charCodeAt(es);56320==(64512&eo)&&(++es,en=((1023&en)<<10)+(1023&eo)+65536)}ei+=0==(4294901760&en)?3:4}}else ei++}return ei}var eo=en?new TextEncoder:void 0,ea=void 0!==es?200:0,ec=(null==eo?void 0:eo.encodeInto)?function(ee,et,ei){eo.encodeInto(ee,et.subarray(ei))}:function(ee,et,ei){et.set(eo.encode(ee),ei)};function c(ee,et,ei){for(var es=et,en=es+ei,eo=[],ea="";es<en;){var ec=ee[es++];if(0==(128&ec))eo.push(ec);else if(192==(224&ec)){var el=63&ee[es++];eo.push((31&ec)<<6|el)}else if(224==(240&ec)){el=63&ee[es++];var eu=63&ee[es++];eo.push((31&ec)<<12|el<<6|eu)}else if(240==(248&ec)){var ed=(7&ec)<<18|(el=63&ee[es++])<<12|(eu=63&ee[es++])<<6|63&ee[es++];ed>65535&&(ed-=65536,eo.push(ed>>>10&1023|55296),ed=56320|1023&ed),eo.push(ed)}else eo.push(ec);eo.length>=4096&&(ea+=String.fromCharCode.apply(String,i(eo)),eo.length=0)}return eo.length>0&&(ea+=String.fromCharCode.apply(String,i(eo))),ea}var el=en?new TextDecoder:null,eu=void 0!==es?200:0,p=function(ee,et){this.type=ee,this.data=et};function d(ee,et,ei){var es=Math.floor(ei/4294967296);ee.setUint32(et,es),ee.setUint32(et+4,ei)}function y(ee,et){var ei=ee.getInt32(et),es=ee.getUint32(et+4),en=ei<Math.floor(Number.MIN_SAFE_INTEGER/4294967296)||ei===Math.floor(Number.MIN_SAFE_INTEGER/4294967296)&&0===es,eo=ei>Math.floor(Number.MAX_SAFE_INTEGER/4294967296);return en||eo?BigInt(ei)*BigInt(4294967296)+BigInt(es):4294967296*ei+es}var ed=-1;function v(ee){var et,ei=ee.sec,es=ee.nsec;if(ei>=0&&es>=0&&ei<=17179869183){if(0===es&&ei<=4294967295){var en=new Uint8Array(4);return(et=new DataView(en.buffer)).setUint32(0,ei),en}var eo=ei/4294967296,ea=4294967295&ei;return en=new Uint8Array(8),(et=new DataView(en.buffer)).setUint32(0,es<<2|3&eo),et.setUint32(4,ea),en}return en=new Uint8Array(12),(et=new DataView(en.buffer)).setUint32(0,es),d(et,4,ei),en}function g(ee){var et=ee.getTime(),ei=Math.floor(et/1e3),es=1e6*(et-1e3*ei),en=Math.floor(es/1e9);return{sec:ei+en,nsec:es-1e9*en}}function b(ee){return ee instanceof Date?v(g(ee)):null}function U(ee){var et=new DataView(ee.buffer,ee.byteOffset,ee.byteLength);switch(ee.byteLength){case 4:return{sec:et.getUint32(0),nsec:0};case 8:var ei=et.getUint32(0);return{sec:4294967296*(3&ei)+et.getUint32(4),nsec:ei>>>2};case 12:return{sec:y(et,4),nsec:et.getUint32(0)};default:throw Error("Unrecognized data size for timestamp: "+ee.length)}}function m(ee){var et=U(ee);return new Date(1e3*et.sec+et.nsec/1e6)}var eh={type:-1,encode:b,decode:m},ep=function(){function t(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(eh)}return t.prototype.register=function(ee){var et=ee.type,ei=ee.encode,es=ee.decode;if(et>=0)this.encoders[et]=ei,this.decoders[et]=es;else{var en=1+et;this.builtInEncoders[en]=ei,this.builtInDecoders[en]=es}},t.prototype.tryToEncode=function(ee,et){for(var ei,es,en=0;en<this.builtInEncoders.length;en++)if(null!=(ei=this.builtInEncoders[en])&&null!=(es=ei(ee,et)))return new p(-1-en,es);for(en=0;en<this.encoders.length;en++)if(null!=(ei=this.encoders[en])&&null!=(es=ei(ee,et)))return new p(en,es);return ee instanceof p?ee:null},t.prototype.decode=function(ee,et,ei){var es=et<0?this.builtInDecoders[-1-et]:this.decoders[et];return es?es(ee,et,ei):new p(et,ee)},t.defaultCodec=new t,t}();function B(ee){return ee instanceof Uint8Array?ee:ArrayBuffer.isView(ee)?new Uint8Array(ee.buffer,ee.byteOffset,ee.byteLength):ee instanceof ArrayBuffer?new Uint8Array(ee):Uint8Array.from(ee)}var E=function(ee){var et="function"==typeof Symbol&&Symbol.iterator,ei=et&&ee[et],es=0;if(ei)return ei.call(ee);if(ee&&"number"==typeof ee.length)return{next:function(){return ee&&es>=ee.length&&(ee=void 0),{value:ee&&ee[es++],done:!ee}}};throw TypeError(et?"Object is not iterable.":"Symbol.iterator is not defined.")},ef=function(){function t(ee,et,ei,es,en,eo,ea,ec){void 0===ee&&(ee=ep.defaultCodec),void 0===et&&(et=void 0),void 0===ei&&(ei=100),void 0===es&&(es=2048),void 0===en&&(en=!1),void 0===eo&&(eo=!1),void 0===ea&&(ea=!1),void 0===ec&&(ec=!1),this.extensionCodec=ee,this.context=et,this.maxDepth=ei,this.initialBufferSize=es,this.sortKeys=en,this.forceFloat32=eo,this.ignoreUndefined=ea,this.forceIntegerToFloat=ec,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}return t.prototype.getUint8Array=function(){return this.bytes.subarray(0,this.pos)},t.prototype.reinitializeState=function(){this.pos=0},t.prototype.encode=function(ee){return this.reinitializeState(),this.doEncode(ee,1),this.getUint8Array()},t.prototype.doEncode=function(ee,et){if(et>this.maxDepth)throw Error("Too deep objects in depth "+et);null==ee?this.encodeNil():"boolean"==typeof ee?this.encodeBoolean(ee):"number"==typeof ee?this.encodeNumber(ee):"string"==typeof ee?this.encodeString(ee):"bigint"==typeof ee?this.encodebigint(ee):this.encodeObject(ee,et)},t.prototype.ensureBufferSizeToWrite=function(ee){var et=this.pos+ee;this.view.byteLength<et&&this.resizeBuffer(2*et)},t.prototype.resizeBuffer=function(ee){var et=new ArrayBuffer(ee),ei=new Uint8Array(et),es=new DataView(et);ei.set(this.bytes),this.view=es,this.bytes=ei},t.prototype.encodeNil=function(){this.writeU8(192)},t.prototype.encodeBoolean=function(ee){!1===ee?this.writeU8(194):this.writeU8(195)},t.prototype.encodeNumber=function(ee){Number.isSafeInteger(ee)&&!this.forceIntegerToFloat?ee>=0?ee<128?this.writeU8(ee):ee<256?(this.writeU8(204),this.writeU8(ee)):ee<65536?(this.writeU8(205),this.writeU16(ee)):ee<4294967296?(this.writeU8(206),this.writeU32(ee)):(this.writeU8(207),this.writeU64(ee)):ee>=-32?this.writeU8(224|ee+32):ee>=-128?(this.writeU8(208),this.writeI8(ee)):ee>=-32768?(this.writeU8(209),this.writeI16(ee)):ee>=-2147483648?(this.writeU8(210),this.writeI32(ee)):(this.writeU8(211),this.writeI64(ee)):this.forceFloat32?(this.writeU8(202),this.writeF32(ee)):(this.writeU8(203),this.writeF64(ee))},t.prototype.encodebigint=function(ee){ee>=BigInt(0)?ee<BigInt(128)?this.writeU8(Number(ee)):ee<BigInt(256)?(this.writeU8(204),this.writeU8(Number(ee))):ee<BigInt(65536)?(this.writeU8(205),this.writeU16(Number(ee))):ee<BigInt(4294967296)?(this.writeU8(206),this.writeU32(Number(ee))):(this.writeU8(207),this.writeBig64(ee)):ee>=BigInt(-32)?this.writeU8(224|Number(ee)+32):ee>=BigInt(-128)?(this.writeU8(208),this.writeI8(Number(ee))):ee>=BigInt(-32768)?(this.writeU8(209),this.writeI16(Number(ee))):ee>=BigInt(-2147483648)?(this.writeU8(210),this.writeI32(Number(ee))):(this.writeU8(211),this.writeBig64(ee))},t.prototype.writeStringHeader=function(ee){if(ee<32)this.writeU8(160+ee);else if(ee<256)this.writeU8(217),this.writeU8(ee);else if(ee<65536)this.writeU8(218),this.writeU16(ee);else{if(!(ee<4294967296))throw Error("Too long string: "+ee+" bytes in UTF-8");this.writeU8(219),this.writeU32(ee)}},t.prototype.encodeString=function(ee){var et=ee.length;if(en&&et>ea){var ei=s(ee);this.ensureBufferSizeToWrite(5+ei),this.writeStringHeader(ei),ec(ee,this.bytes,this.pos),this.pos+=ei}else ei=s(ee),this.ensureBufferSizeToWrite(5+ei),this.writeStringHeader(ei),function(ee,et,ei){for(var es=ee.length,en=ei,eo=0;eo<es;){var ea=ee.charCodeAt(eo++);if(0!=(4294967168&ea)){if(0==(4294965248&ea))et[en++]=ea>>6&31|192;else{if(ea>=55296&&ea<=56319&&eo<es){var ec=ee.charCodeAt(eo);56320==(64512&ec)&&(++eo,ea=((1023&ea)<<10)+(1023&ec)+65536)}0==(4294901760&ea)?et[en++]=ea>>12&15|224:(et[en++]=ea>>18&7|240,et[en++]=ea>>12&63|128),et[en++]=ea>>6&63|128}et[en++]=63&ea|128}else et[en++]=ea}}(ee,this.bytes,this.pos),this.pos+=ei},t.prototype.encodeObject=function(ee,et){var ei=this.extensionCodec.tryToEncode(ee,this.context);if(null!=ei)this.encodeExtension(ei);else if(Array.isArray(ee))this.encodeArray(ee,et);else if(ArrayBuffer.isView(ee))this.encodeBinary(ee);else{if("object"!=typeof ee)throw Error("Unrecognized object: "+Object.prototype.toString.apply(ee));this.encodeMap(ee,et)}},t.prototype.encodeBinary=function(ee){var et=ee.byteLength;if(et<256)this.writeU8(196),this.writeU8(et);else if(et<65536)this.writeU8(197),this.writeU16(et);else{if(!(et<4294967296))throw Error("Too large binary: "+et);this.writeU8(198),this.writeU32(et)}var ei=B(ee);this.writeU8a(ei)},t.prototype.encodeArray=function(ee,et){var ei,es,en=ee.length;if(en<16)this.writeU8(144+en);else if(en<65536)this.writeU8(220),this.writeU16(en);else{if(!(en<4294967296))throw Error("Too large array: "+en);this.writeU8(221),this.writeU32(en)}try{for(var eo=E(ee),ea=eo.next();!ea.done;ea=eo.next()){var ec=ea.value;this.doEncode(ec,et+1)}}catch(ee){ei={error:ee}}finally{try{ea&&!ea.done&&(es=eo.return)&&es.call(eo)}finally{if(ei)throw ei.error}}},t.prototype.countWithoutUndefined=function(ee,et){var ei,es,en=0;try{for(var eo=E(et),ea=eo.next();!ea.done;ea=eo.next())void 0!==ee[ea.value]&&en++}catch(ee){ei={error:ee}}finally{try{ea&&!ea.done&&(es=eo.return)&&es.call(eo)}finally{if(ei)throw ei.error}}return en},t.prototype.encodeMap=function(ee,et){var ei,es,en=Object.keys(ee);this.sortKeys&&en.sort();var eo=this.ignoreUndefined?this.countWithoutUndefined(ee,en):en.length;if(eo<16)this.writeU8(128+eo);else if(eo<65536)this.writeU8(222),this.writeU16(eo);else{if(!(eo<4294967296))throw Error("Too large map object: "+eo);this.writeU8(223),this.writeU32(eo)}try{for(var ea=E(en),ec=ea.next();!ec.done;ec=ea.next()){var el=ec.value,eu=ee[el];this.ignoreUndefined&&void 0===eu||(this.encodeString(el),this.doEncode(eu,et+1))}}catch(ee){ei={error:ee}}finally{try{ec&&!ec.done&&(es=ea.return)&&es.call(ea)}finally{if(ei)throw ei.error}}},t.prototype.encodeExtension=function(ee){var et=ee.data.length;if(1===et)this.writeU8(212);else if(2===et)this.writeU8(213);else if(4===et)this.writeU8(214);else if(8===et)this.writeU8(215);else if(16===et)this.writeU8(216);else if(et<256)this.writeU8(199),this.writeU8(et);else if(et<65536)this.writeU8(200),this.writeU16(et);else{if(!(et<4294967296))throw Error("Too large extension object: "+et);this.writeU8(201),this.writeU32(et)}this.writeI8(ee.type),this.writeU8a(ee.data)},t.prototype.writeU8=function(ee){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,ee),this.pos++},t.prototype.writeU8a=function(ee){var et=ee.length;this.ensureBufferSizeToWrite(et),this.bytes.set(ee,this.pos),this.pos+=et},t.prototype.writeI8=function(ee){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,ee),this.pos++},t.prototype.writeU16=function(ee){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,ee),this.pos+=2},t.prototype.writeI16=function(ee){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,ee),this.pos+=2},t.prototype.writeU32=function(ee){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,ee),this.pos+=4},t.prototype.writeI32=function(ee){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,ee),this.pos+=4},t.prototype.writeF32=function(ee){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,ee),this.pos+=4},t.prototype.writeF64=function(ee){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,ee),this.pos+=8},t.prototype.writeU64=function(ee){var et,ei,es;this.ensureBufferSizeToWrite(8),et=this.view,ei=this.pos,es=ee/4294967296,et.setUint32(ei,es),et.setUint32(ei+4,ee),this.pos+=8},t.prototype.writeI64=function(ee){this.ensureBufferSizeToWrite(8),d(this.view,this.pos,ee),this.pos+=8},t.prototype.writeBig64=function(ee){var et,ei,es,en;this.ensureBufferSizeToWrite(8),et=this.view,ei=this.pos,es=Number(ee/BigInt(4294967296)),en=Number(ee%BigInt(4294967296)),es<0&&0!==en&&(es-=1),et.setUint32(ei,es),et.setUint32(ei+4,en),this.pos+=8},t}(),eg={};function T(ee,et){return void 0===et&&(et=eg),new ef(et.extensionCodec,et.context,et.maxDepth,et.initialBufferSize,et.sortKeys,et.forceFloat32,et.ignoreUndefined,et.forceIntegerToFloat).encode(ee)}function L(ee){return(ee<0?"-":"")+"0x"+Math.abs(ee).toString(16).padStart(2,"0")}var em=function(){function t(ee,et){void 0===ee&&(ee=16),void 0===et&&(et=16),this.maxKeyLength=ee,this.maxLengthPerKey=et,this.hit=0,this.miss=0,this.caches=[];for(var ei=0;ei<this.maxKeyLength;ei++)this.caches.push([])}return t.prototype.canBeCached=function(ee){return ee>0&&ee<=this.maxKeyLength},t.prototype.get=function(ee,et,ei){var es=this.caches[ei-1],en=es.length;e:for(var eo=0;eo<en;eo++){for(var ea=es[eo],ec=ea.bytes,el=0;el<ei;el++)if(ec[el]!==ee[et+el])continue e;return ea.value}return null},t.prototype.store=function(ee,et){var ei=this.caches[ee.length-1],es={bytes:ee,value:et};ei.length>=this.maxLengthPerKey?ei[Math.random()*ei.length|0]=es:ei.push(es)},t.prototype.decode=function(ee,et,ei){var es=this.get(ee,et,ei);if(null!=es)return this.hit++,es;this.miss++;var en=c(ee,et,ei),eo=Uint8Array.prototype.slice.call(ee,et,et+ei);return this.store(eo,en),en},t}(),z=function(ee,et){var ei,es,en,eo,ea={label:0,sent:function(){if(1&en[0])throw en[1];return en[1]},trys:[],ops:[]};return eo={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(eo[Symbol.iterator]=function(){return this}),eo;function a(eo){return function(ec){return function(eo){if(ei)throw TypeError("Generator is already executing.");for(;ea;)try{if(ei=1,es&&(en=2&eo[0]?es.return:eo[0]?es.throw||((en=es.return)&&en.call(es),0):es.next)&&!(en=en.call(es,eo[1])).done)return en;switch(es=0,en&&(eo=[2&eo[0],en.value]),eo[0]){case 0:case 1:en=eo;break;case 4:return ea.label++,{value:eo[1],done:!1};case 5:ea.label++,es=eo[1],eo=[0];continue;case 7:eo=ea.ops.pop(),ea.trys.pop();continue;default:if(!(en=(en=ea.trys).length>0&&en[en.length-1])&&(6===eo[0]||2===eo[0])){ea=0;continue}if(3===eo[0]&&(!en||eo[1]>en[0]&&eo[1]<en[3])){ea.label=eo[1];break}if(6===eo[0]&&ea.label<en[1]){ea.label=en[1],en=eo;break}if(en&&ea.label<en[2]){ea.label=en[2],ea.ops.push(eo);break}en[2]&&ea.ops.pop(),ea.trys.pop();continue}eo=et.call(ee,ea)}catch(ee){eo=[6,ee],es=0}finally{ei=en=0}if(5&eo[0])throw eo[1];return{value:eo[0]?eo[1]:void 0,done:!0}}([eo,ec])}}},D=function(ee){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var et,ei=ee[Symbol.asyncIterator];return ei?ei.call(ee):(ee="function"==typeof __values?__values(ee):ee[Symbol.iterator](),et={},n("next"),n("throw"),n("return"),et[Symbol.asyncIterator]=function(){return this},et);function n(ei){et[ei]=ee[ei]&&function(et){return new Promise(function(es,en){!function(ee,et,ei,es){Promise.resolve(es).then(function(et){ee({value:et,done:ei})},et)}(es,en,(et=ee[ei](et)).done,et.value)})}}},N=function(ee){return this instanceof N?(this.v=ee,this):new N(ee)},C=function(ee,et,ei){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var es,en=ei.apply(ee,et||[]),eo=[];return es={},s("next"),s("throw"),s("return"),es[Symbol.asyncIterator]=function(){return this},es;function s(ee){en[ee]&&(es[ee]=function(et){return new Promise(function(ei,es){eo.push([ee,et,ei,es])>1||a(ee,et)})})}function a(ee,et){var ei;try{(ei=en[ee](et)).value instanceof N?Promise.resolve(ei.value.v).then(h,u):c(eo[0][2],ei)}catch(ee){c(eo[0][3],ee)}}function h(ee){a("next",ee)}function u(ee){a("throw",ee)}function c(ee,et){ee(et),eo.shift(),eo.length&&a(eo[0][0],eo[0][1])}},ey=new DataView(new ArrayBuffer(0)),eb=new Uint8Array(ey.buffer),e_=function(){try{ey.getInt8(0)}catch(ee){return ee.constructor}throw Error("never reached")}(),ev=new e_("Insufficient data"),ew=new em,ex=function(){function t(ee,et,ei,es,en,eo,ea,ec){void 0===ee&&(ee=ep.defaultCodec),void 0===et&&(et=void 0),void 0===ei&&(ei=4294967295),void 0===es&&(es=4294967295),void 0===en&&(en=4294967295),void 0===eo&&(eo=4294967295),void 0===ea&&(ea=4294967295),void 0===ec&&(ec=ew),this.extensionCodec=ee,this.context=et,this.maxStrLength=ei,this.maxBinLength=es,this.maxArrayLength=en,this.maxMapLength=eo,this.maxExtLength=ea,this.keyDecoder=ec,this.totalPos=0,this.pos=0,this.view=ey,this.bytes=eb,this.headByte=-1,this.stack=[]}return t.prototype.reinitializeState=function(){this.totalPos=0,this.headByte=-1},t.prototype.setBuffer=function(ee){this.bytes=B(ee),this.view=function(ee){if(ee instanceof ArrayBuffer)return new DataView(ee);var et=B(ee);return new DataView(et.buffer,et.byteOffset,et.byteLength)}(this.bytes),this.pos=0},t.prototype.appendBuffer=function(ee){if(-1!==this.headByte||this.hasRemaining()){var et=this.bytes.subarray(this.pos),ei=B(ee),es=new Uint8Array(et.length+ei.length);es.set(et),es.set(ei,et.length),this.setBuffer(es)}else this.setBuffer(ee)},t.prototype.hasRemaining=function(ee){return void 0===ee&&(ee=1),this.view.byteLength-this.pos>=ee},t.prototype.createNoExtraBytesError=function(ee){var et=this.view,ei=this.pos;return RangeError("Extra "+(et.byteLength-ei)+" of "+et.byteLength+" byte(s) found at buffer["+ee+"]")},t.prototype.decode=function(ee){return this.reinitializeState(),this.setBuffer(ee),this.doDecodeSingleSync()},t.prototype.doDecodeSingleSync=function(){var ee=this.doDecodeSync();if(this.hasRemaining())throw this.createNoExtraBytesError(this.pos);return ee},t.prototype.decodeAsync=function(ee){var et,ei,es,en,eo,ea,ec,el;return eo=this,ea=void 0,ec=void 0,el=function(){var eo,ea,ec,el,eu,ed,eh;return z(this,function(ep){switch(ep.label){case 0:eo=!1,ep.label=1;case 1:ep.trys.push([1,6,7,12]),et=D(ee),ep.label=2;case 2:return[4,et.next()];case 3:if((ei=ep.sent()).done)return[3,5];if(ec=ei.value,eo)throw this.createNoExtraBytesError(this.totalPos);this.appendBuffer(ec);try{ea=this.doDecodeSync(),eo=!0}catch(ee){if(!(ee instanceof e_))throw ee}this.totalPos+=this.pos,ep.label=4;case 4:return[3,2];case 5:return[3,12];case 6:return es={error:ep.sent()},[3,12];case 7:return ep.trys.push([7,,10,11]),ei&&!ei.done&&(en=et.return)?[4,en.call(et)]:[3,9];case 8:ep.sent(),ep.label=9;case 9:return[3,11];case 10:if(es)throw es.error;return[7];case 11:return[7];case 12:if(eo){if(this.hasRemaining())throw this.createNoExtraBytesError(this.totalPos);return[2,ea]}throw eu=(el=this).headByte,ed=el.pos,eh=el.totalPos,RangeError("Insufficient data in parcing "+L(eu)+" at "+eh+" ("+ed+" in the current buffer)")}})},new(ec||(ec=Promise))(function(ee,et){function s(ee){try{h(el.next(ee))}catch(ee){et(ee)}}function a(ee){try{h(el.throw(ee))}catch(ee){et(ee)}}function h(et){var ei;et.done?ee(et.value):((ei=et.value)instanceof ec?ei:new ec(function(ee){ee(ei)})).then(s,a)}h((el=el.apply(eo,ea||[])).next())})},t.prototype.decodeArrayStream=function(ee){return this.decodeMultiAsync(ee,!0)},t.prototype.decodeStream=function(ee){return this.decodeMultiAsync(ee,!1)},t.prototype.decodeMultiAsync=function(ee,et){return C(this,arguments,function(){var ei,es,en,eo,ea,ec,el,eu;return z(this,function(ed){switch(ed.label){case 0:ei=et,es=-1,ed.label=1;case 1:ed.trys.push([1,13,14,19]),en=D(ee),ed.label=2;case 2:return[4,N(en.next())];case 3:if((eo=ed.sent()).done)return[3,12];if(ea=eo.value,et&&0===es)throw this.createNoExtraBytesError(this.totalPos);this.appendBuffer(ea),ei&&(es=this.readArraySize(),ei=!1,this.complete()),ed.label=4;case 4:ed.trys.push([4,9,,10]),ed.label=5;case 5:return[4,N(this.doDecodeSync())];case 6:return[4,ed.sent()];case 7:return ed.sent(),0==--es?[3,8]:[3,5];case 8:return[3,10];case 9:if(!((ec=ed.sent())instanceof e_))throw ec;return[3,10];case 10:this.totalPos+=this.pos,ed.label=11;case 11:return[3,2];case 12:return[3,19];case 13:return el={error:ed.sent()},[3,19];case 14:return ed.trys.push([14,,17,18]),eo&&!eo.done&&(eu=en.return)?[4,N(eu.call(en))]:[3,16];case 15:ed.sent(),ed.label=16;case 16:return[3,18];case 17:if(el)throw el.error;return[7];case 18:return[7];case 19:return[2]}})})},t.prototype.doDecodeSync=function(){e:for(;;){var ee,et=this.readHeadByte(),ei=void 0;if(et>=224)ei=et-256;else if(et<192){if(et<128)ei=et;else if(et<144){if(0!=(en=et-128)){this.pushMapState(en),this.complete();continue}ei={}}else if(et<160){if(0!=(en=et-144)){this.pushArrayState(en),this.complete();continue}ei=[]}else{var es=et-160;ei=this.decodeUtf8String(es,0)}}else if(192===et)ei=null;else if(194===et)ei=!1;else if(195===et)ei=!0;else if(202===et)ei=this.readF32();else if(203===et)ei=this.readF64();else if(204===et)ei=this.readU8();else if(205===et)ei=this.readU16();else if(206===et)ei=this.readU32();else if(207===et)ei=this.readU64();else if(208===et)ei=this.readI8();else if(209===et)ei=this.readI16();else if(210===et)ei=this.readI32();else if(211===et)ei=this.readI64();else if(217===et)es=this.lookU8(),ei=this.decodeUtf8String(es,1);else if(218===et)es=this.lookU16(),ei=this.decodeUtf8String(es,2);else if(219===et)es=this.lookU32(),ei=this.decodeUtf8String(es,4);else if(220===et){if(0!==(en=this.readU16())){this.pushArrayState(en),this.complete();continue}ei=[]}else if(221===et){if(0!==(en=this.readU32())){this.pushArrayState(en),this.complete();continue}ei=[]}else if(222===et){if(0!==(en=this.readU16())){this.pushMapState(en),this.complete();continue}ei={}}else if(223===et){if(0!==(en=this.readU32())){this.pushMapState(en),this.complete();continue}ei={}}else if(196===et){var en=this.lookU8();ei=this.decodeBinary(en,1)}else if(197===et)en=this.lookU16(),ei=this.decodeBinary(en,2);else if(198===et)en=this.lookU32(),ei=this.decodeBinary(en,4);else if(212===et)ei=this.decodeExtension(1,0);else if(213===et)ei=this.decodeExtension(2,0);else if(214===et)ei=this.decodeExtension(4,0);else if(215===et)ei=this.decodeExtension(8,0);else if(216===et)ei=this.decodeExtension(16,0);else if(199===et)en=this.lookU8(),ei=this.decodeExtension(en,1);else if(200===et)en=this.lookU16(),ei=this.decodeExtension(en,2);else{if(201!==et)throw Error("Unrecognized type byte: "+L(et));en=this.lookU32(),ei=this.decodeExtension(en,4)}this.complete();for(var eo=this.stack;eo.length>0;){var ea=eo[eo.length-1];if(0===ea.type){if(ea.array[ea.position]=ei,ea.position++,ea.position!==ea.size)continue e;eo.pop(),ei=ea.array}else{if(1===ea.type){if(ee=void 0,"string"!=(ee=typeof ei)&&"number"!==ee)throw Error("The type of key must be string or number but "+typeof ei);ea.key=ei,ea.type=2;continue e}if(ea.map[ea.key]=ei,ea.readCount++,ea.readCount!==ea.size){ea.key=null,ea.type=1;continue e}eo.pop(),ei=ea.map}}return ei}},t.prototype.readHeadByte=function(){return -1===this.headByte&&(this.headByte=this.readU8()),this.headByte},t.prototype.complete=function(){this.headByte=-1},t.prototype.readArraySize=function(){var ee=this.readHeadByte();switch(ee){case 220:return this.readU16();case 221:return this.readU32();default:if(ee<160)return ee-144;throw Error("Unrecognized array type byte: "+L(ee))}},t.prototype.pushMapState=function(ee){if(ee>this.maxMapLength)throw Error("Max length exceeded: map length ("+ee+") > maxMapLengthLength ("+this.maxMapLength+")");this.stack.push({type:1,size:ee,key:null,readCount:0,map:{}})},t.prototype.pushArrayState=function(ee){if(ee>this.maxArrayLength)throw Error("Max length exceeded: array length ("+ee+") > maxArrayLength ("+this.maxArrayLength+")");this.stack.push({type:0,size:ee,array:Array(ee),position:0})},t.prototype.decodeUtf8String=function(ee,et){if(ee>this.maxStrLength)throw Error("Max length exceeded: UTF-8 byte length ("+ee+") > maxStrLength ("+this.maxStrLength+")");if(this.bytes.byteLength<this.pos+et+ee)throw ev;var ei,es,eo,ea=this.pos+et;return eo=this.stateIsMapKey()&&(null===(es=this.keyDecoder)||void 0===es?void 0:es.canBeCached(ee))?this.keyDecoder.decode(this.bytes,ea,ee):en&&ee>eu?(ei=this.bytes.subarray(ea,ea+ee),el.decode(ei)):c(this.bytes,ea,ee),this.pos+=et+ee,eo},t.prototype.stateIsMapKey=function(){return this.stack.length>0&&1===this.stack[this.stack.length-1].type},t.prototype.decodeBinary=function(ee,et){if(ee>this.maxBinLength)throw Error("Max length exceeded: bin length ("+ee+") > maxBinLength ("+this.maxBinLength+")");if(!this.hasRemaining(ee+et))throw ev;var ei=this.pos+et,es=this.bytes.subarray(ei,ei+ee);return this.pos+=et+ee,es},t.prototype.decodeExtension=function(ee,et){if(ee>this.maxExtLength)throw Error("Max length exceeded: ext length ("+ee+") > maxExtLength ("+this.maxExtLength+")");var ei=this.view.getInt8(this.pos+et),es=this.decodeBinary(ee,et+1);return this.extensionCodec.decode(es,ei,this.context)},t.prototype.lookU8=function(){return this.view.getUint8(this.pos)},t.prototype.lookU16=function(){return this.view.getUint16(this.pos)},t.prototype.lookU32=function(){return this.view.getUint32(this.pos)},t.prototype.readU8=function(){var ee=this.view.getUint8(this.pos);return this.pos++,ee},t.prototype.readI8=function(){var ee=this.view.getInt8(this.pos);return this.pos++,ee},t.prototype.readU16=function(){var ee=this.view.getUint16(this.pos);return this.pos+=2,ee},t.prototype.readI16=function(){var ee=this.view.getInt16(this.pos);return this.pos+=2,ee},t.prototype.readU32=function(){var ee=this.view.getUint32(this.pos);return this.pos+=4,ee},t.prototype.readI32=function(){var ee=this.view.getInt32(this.pos);return this.pos+=4,ee},t.prototype.readU64=function(){var ee,et,ei,es,en=(ee=this.view,et=this.pos,ei=ee.getUint32(et),es=ee.getUint32(et+4),ei>Math.floor(Number.MAX_SAFE_INTEGER/4294967296)?BigInt(ei)*BigInt(4294967296)+BigInt(es):4294967296*ei+es);return this.pos+=8,en},t.prototype.readI64=function(){var ee=y(this.view,this.pos);return this.pos+=8,ee},t.prototype.readF32=function(){var ee=this.view.getFloat32(this.pos);return this.pos+=4,ee},t.prototype.readF64=function(){var ee=this.view.getFloat64(this.pos);return this.pos+=8,ee},t}(),eS={};function V(ee,et){return void 0===et&&(et=eS),new ex(et.extensionCodec,et.context,et.maxStrLength,et.maxBinLength,et.maxArrayLength,et.maxMapLength,et.maxExtLength).decode(ee)}var K=function(ee,et){var ei,es,en,eo,ea={label:0,sent:function(){if(1&en[0])throw en[1];return en[1]},trys:[],ops:[]};return eo={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(eo[Symbol.iterator]=function(){return this}),eo;function a(eo){return function(ec){return function(eo){if(ei)throw TypeError("Generator is already executing.");for(;ea;)try{if(ei=1,es&&(en=2&eo[0]?es.return:eo[0]?es.throw||((en=es.return)&&en.call(es),0):es.next)&&!(en=en.call(es,eo[1])).done)return en;switch(es=0,en&&(eo=[2&eo[0],en.value]),eo[0]){case 0:case 1:en=eo;break;case 4:return ea.label++,{value:eo[1],done:!1};case 5:ea.label++,es=eo[1],eo=[0];continue;case 7:eo=ea.ops.pop(),ea.trys.pop();continue;default:if(!(en=(en=ea.trys).length>0&&en[en.length-1])&&(6===eo[0]||2===eo[0])){ea=0;continue}if(3===eo[0]&&(!en||eo[1]>en[0]&&eo[1]<en[3])){ea.label=eo[1];break}if(6===eo[0]&&ea.label<en[1]){ea.label=en[1],en=eo;break}if(en&&ea.label<en[2]){ea.label=en[2],ea.ops.push(eo);break}en[2]&&ea.ops.pop(),ea.trys.pop();continue}eo=et.call(ee,ea)}catch(ee){eo=[6,ee],es=0}finally{ei=en=0}if(5&eo[0])throw eo[1];return{value:eo[0]?eo[1]:void 0,done:!0}}([eo,ec])}}},G=function(ee){return this instanceof G?(this.v=ee,this):new G(ee)},H=function(ee,et,ei){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var es,en=ei.apply(ee,et||[]),eo=[];return es={},s("next"),s("throw"),s("return"),es[Symbol.asyncIterator]=function(){return this},es;function s(ee){en[ee]&&(es[ee]=function(et){return new Promise(function(ei,es){eo.push([ee,et,ei,es])>1||a(ee,et)})})}function a(ee,et){var ei;try{(ei=en[ee](et)).value instanceof G?Promise.resolve(ei.value.v).then(h,u):c(eo[0][2],ei)}catch(ee){c(eo[0][3],ee)}}function h(ee){a("next",ee)}function u(ee){a("throw",ee)}function c(ee,et){ee(et),eo.shift(),eo.length&&a(eo[0][0],eo[0][1])}};function q(ee){return null!=ee[Symbol.asyncIterator]?ee:function(ee){return H(this,arguments,function(){var et,ei,es,en;return K(this,function(eo){switch(eo.label){case 0:et=ee.getReader(),eo.label=1;case 1:eo.trys.push([1,,9,10]),eo.label=2;case 2:return[4,G(et.read())];case 3:return es=(ei=eo.sent()).done,en=ei.value,es?[4,G(void 0)]:[3,5];case 4:return[2,eo.sent()];case 5:return function(ee){if(null==ee)throw Error("Assertion Failure: value must not be null nor undefined")}(en),[4,G(en)];case 6:return[4,eo.sent()];case 7:return eo.sent(),[3,2];case 8:return[3,10];case 9:return et.releaseLock(),[7];case 10:return[2]}})})}(ee)}var Q=function(ee,et){var ei,es,en,eo,ea={label:0,sent:function(){if(1&en[0])throw en[1];return en[1]},trys:[],ops:[]};return eo={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(eo[Symbol.iterator]=function(){return this}),eo;function a(eo){return function(ec){return function(eo){if(ei)throw TypeError("Generator is already executing.");for(;ea;)try{if(ei=1,es&&(en=2&eo[0]?es.return:eo[0]?es.throw||((en=es.return)&&en.call(es),0):es.next)&&!(en=en.call(es,eo[1])).done)return en;switch(es=0,en&&(eo=[2&eo[0],en.value]),eo[0]){case 0:case 1:en=eo;break;case 4:return ea.label++,{value:eo[1],done:!1};case 5:ea.label++,es=eo[1],eo=[0];continue;case 7:eo=ea.ops.pop(),ea.trys.pop();continue;default:if(!(en=(en=ea.trys).length>0&&en[en.length-1])&&(6===eo[0]||2===eo[0])){ea=0;continue}if(3===eo[0]&&(!en||eo[1]>en[0]&&eo[1]<en[3])){ea.label=eo[1];break}if(6===eo[0]&&ea.label<en[1]){ea.label=en[1],en=eo;break}if(en&&ea.label<en[2]){ea.label=en[2],ea.ops.push(eo);break}en[2]&&ea.ops.pop(),ea.trys.pop();continue}eo=et.call(ee,ea)}catch(ee){eo=[6,ee],es=0}finally{ei=en=0}if(5&eo[0])throw eo[1];return{value:eo[0]?eo[1]:void 0,done:!0}}([eo,ec])}}};function Y(ee,et){var ei,es,en,eo;return void 0===et&&(et=eS),ei=this,es=void 0,en=void 0,eo=function(){var ei;return Q(this,function(es){return ei=q(ee),[2,new ex(et.extensionCodec,et.context,et.maxStrLength,et.maxBinLength,et.maxArrayLength,et.maxMapLength,et.maxExtLength).decodeAsync(ei)]})},new(en||(en=Promise))(function(ee,et){function s(ee){try{h(eo.next(ee))}catch(ee){et(ee)}}function a(ee){try{h(eo.throw(ee))}catch(ee){et(ee)}}function h(et){var ei;et.done?ee(et.value):((ei=et.value)instanceof en?ei:new en(function(ee){ee(ei)})).then(s,a)}h((eo=eo.apply(ei,es||[])).next())})}function Z(ee,et){void 0===et&&(et=eS);var ei=q(ee);return new ex(et.extensionCodec,et.context,et.maxStrLength,et.maxBinLength,et.maxArrayLength,et.maxMapLength,et.maxExtLength).decodeArrayStream(ei)}function $(ee,et){void 0===et&&(et=eS);var ei=q(ee);return new ex(et.extensionCodec,et.context,et.maxStrLength,et.maxBinLength,et.maxArrayLength,et.maxMapLength,et.maxExtLength).decodeStream(ei)}}])},81838:function(ee,et,ei){"use strict";ei.d(et,{ZP:function(){return e2}});var es,en,eo,ea,ec,el,eu,ed,eh,ep,ef,eg,em={};ei.r(em),ei.d(em,{Account:function(){return Account},AccountApplicationResponse:function(){return AccountApplicationResponse},AccountAssetHolding:function(){return AccountAssetHolding},AccountAssetResponse:function(){return AccountAssetResponse},AccountAssetsInformationResponse:function(){return AccountAssetsInformationResponse},AccountParticipation:function(){return AccountParticipation},AccountStateDelta:function(){return AccountStateDelta},AppCallLogs:function(){return AppCallLogs},Application:function(){return Application},ApplicationInitialStates:function(){return ApplicationInitialStates},ApplicationKVStorage:function(){return ApplicationKVStorage},ApplicationLocalReference:function(){return ApplicationLocalReference},ApplicationLocalState:function(){return ApplicationLocalState},ApplicationParams:function(){return ApplicationParams},ApplicationStateOperation:function(){return ApplicationStateOperation},ApplicationStateSchema:function(){return ApplicationStateSchema},Asset:function(){return Asset},AssetHolding:function(){return AssetHolding},AssetHoldingReference:function(){return AssetHoldingReference},AssetParams:function(){return AssetParams},AvmKeyValue:function(){return AvmKeyValue},AvmValue:function(){return AvmValue},BlockHashResponse:function(){return BlockHashResponse},BlockHeaderResponse:function(){return BlockHeaderResponse},BlockLogsResponse:function(){return BlockLogsResponse},BlockResponse:function(){return BlockResponse},BlockTxidsResponse:function(){return BlockTxidsResponse},Box:function(){return Box},BoxDescriptor:function(){return BoxDescriptor},BoxReference:function(){return BoxReference},BoxesResponse:function(){return BoxesResponse},BuildVersion:function(){return BuildVersion},CompileResponse:function(){return CompileResponse},DisassembleResponse:function(){return DisassembleResponse},DryrunRequest:function(){return DryrunRequest},DryrunResponse:function(){return DryrunResponse},DryrunSource:function(){return DryrunSource},DryrunState:function(){return DryrunState},DryrunTxnResult:function(){return DryrunTxnResult},ErrorResponse:function(){return ErrorResponse},EvalDelta:function(){return EvalDelta},EvalDeltaKeyValue:function(){return EvalDeltaKeyValue},GetBlockTimeStampOffsetResponse:function(){return GetBlockTimeStampOffsetResponse},GetSyncRoundResponse:function(){return GetSyncRoundResponse},KvDelta:function(){return KvDelta},LedgerStateDeltaForTransactionGroup:function(){return LedgerStateDeltaForTransactionGroup},LightBlockHeaderProof:function(){return LightBlockHeaderProof},NodeStatusResponse:function(){return NodeStatusResponse},PendingTransactionResponse:function(){return PendingTransactionResponse},PendingTransactionsResponse:function(){return PendingTransactionsResponse},PostTransactionsResponse:function(){return PostTransactionsResponse},ScratchChange:function(){return ScratchChange},SimulateInitialStates:function(){return SimulateInitialStates},SimulateRequest:function(){return SimulateRequest},SimulateRequestTransactionGroup:function(){return SimulateRequestTransactionGroup},SimulateResponse:function(){return SimulateResponse},SimulateTraceConfig:function(){return SimulateTraceConfig},SimulateTransactionGroupResult:function(){return SimulateTransactionGroupResult},SimulateTransactionResult:function(){return SimulateTransactionResult},SimulateUnnamedResourcesAccessed:function(){return SimulateUnnamedResourcesAccessed},SimulationEvalOverrides:function(){return SimulationEvalOverrides},SimulationOpcodeTraceUnit:function(){return SimulationOpcodeTraceUnit},SimulationTransactionExecTrace:function(){return SimulationTransactionExecTrace},StateProof:function(){return StateProof},StateProofMessage:function(){return StateProofMessage},SupplyResponse:function(){return SupplyResponse},TealKeyValue:function(){return TealKeyValue},TealValue:function(){return TealValue},TransactionGroupLedgerStateDeltasForRoundResponse:function(){return TransactionGroupLedgerStateDeltasForRoundResponse},TransactionParametersResponse:function(){return TransactionParametersResponse},TransactionProofResponse:function(){return TransactionProofResponse},Version:function(){return Version}});var ey={};ei.r(ey),ei.d(ey,{Account:function(){return types_Account},AccountParticipation:function(){return types_AccountParticipation},AccountResponse:function(){return AccountResponse},AccountStateDelta:function(){return types_AccountStateDelta},AccountsResponse:function(){return AccountsResponse},Application:function(){return types_Application},ApplicationLocalState:function(){return types_ApplicationLocalState},ApplicationLocalStatesResponse:function(){return ApplicationLocalStatesResponse},ApplicationLogData:function(){return ApplicationLogData},ApplicationLogsResponse:function(){return ApplicationLogsResponse},ApplicationParams:function(){return types_ApplicationParams},ApplicationResponse:function(){return ApplicationResponse},ApplicationStateSchema:function(){return types_ApplicationStateSchema},ApplicationsResponse:function(){return ApplicationsResponse},Asset:function(){return types_Asset},AssetBalancesResponse:function(){return AssetBalancesResponse},AssetHolding:function(){return types_AssetHolding},AssetHoldingsResponse:function(){return AssetHoldingsResponse},AssetParams:function(){return types_AssetParams},AssetResponse:function(){return AssetResponse},AssetsResponse:function(){return AssetsResponse},Block:function(){return types_Block},BlockHeadersResponse:function(){return BlockHeadersResponse},BlockRewards:function(){return BlockRewards},BlockUpgradeState:function(){return BlockUpgradeState},BlockUpgradeVote:function(){return BlockUpgradeVote},Box:function(){return types_Box},BoxDescriptor:function(){return types_BoxDescriptor},BoxesResponse:function(){return types_BoxesResponse},ErrorResponse:function(){return types_ErrorResponse},EvalDelta:function(){return types_EvalDelta},EvalDeltaKeyValue:function(){return types_EvalDeltaKeyValue},HashFactory:function(){return HashFactory},HbProofFields:function(){return HbProofFields},HealthCheck:function(){return types_HealthCheck},IndexerStateProofMessage:function(){return IndexerStateProofMessage},MerkleArrayProof:function(){return MerkleArrayProof},MiniAssetHolding:function(){return MiniAssetHolding},ParticipationUpdates:function(){return ParticipationUpdates},StateProofFields:function(){return StateProofFields},StateProofParticipant:function(){return StateProofParticipant},StateProofReveal:function(){return StateProofReveal},StateProofSigSlot:function(){return StateProofSigSlot},StateProofSignature:function(){return StateProofSignature},StateProofTracking:function(){return StateProofTracking},StateProofVerifier:function(){return StateProofVerifier},StateSchema:function(){return StateSchema},TealKeyValue:function(){return types_TealKeyValue},TealValue:function(){return types_TealValue},Transaction:function(){return types_Transaction},TransactionApplication:function(){return TransactionApplication},TransactionAssetConfig:function(){return TransactionAssetConfig},TransactionAssetFreeze:function(){return TransactionAssetFreeze},TransactionAssetTransfer:function(){return TransactionAssetTransfer},TransactionHeartbeat:function(){return TransactionHeartbeat},TransactionKeyreg:function(){return TransactionKeyreg},TransactionPayment:function(){return TransactionPayment},TransactionResponse:function(){return TransactionResponse},TransactionSignature:function(){return TransactionSignature},TransactionSignatureLogicsig:function(){return TransactionSignatureLogicsig},TransactionSignatureMultisig:function(){return TransactionSignatureMultisig},TransactionSignatureMultisigSubsignature:function(){return TransactionSignatureMultisigSubsignature},TransactionStateProof:function(){return TransactionStateProof},TransactionsResponse:function(){return TransactionsResponse}});var eb={};ei.r(eb),ei.d(eb,{ABIAddressType:function(){return ABIAddressType},ABIArrayDynamicType:function(){return ABIArrayDynamicType},ABIArrayStaticType:function(){return ABIArrayStaticType},ABIBoolType:function(){return ABIBoolType},ABIByteType:function(){return ABIByteType},ABIContract:function(){return ABIContract},ABIInterface:function(){return ABIInterface},ABIMethod:function(){return ABIMethod},ABIReferenceType:function(){return ef},ABIStringType:function(){return ABIStringType},ABITransactionType:function(){return ep},ABITupleType:function(){return ABITupleType},ABIType:function(){return ABIType},ABIUfixedType:function(){return ABIUfixedType},ABIUintType:function(){return ABIUintType},ADDR_BYTE_SIZE:function(){return eV},ALGORAND_MIN_TX_FEE:function(){return eU},Algodv2:function(){return AlgodClient},AtomicTransactionComposer:function(){return AtomicTransactionComposer},AtomicTransactionComposerStatus:function(){return eg},DryrunResult:function(){return DryrunResult},ERROR_INVALID_MICROALGOS:function(){return e5},ERROR_MULTISIG_BAD_SENDER:function(){return e1},INVALID_MICROALGOS_ERROR_MSG:function(){return eL},Indexer:function(){return IndexerClient},IntDecoding:function(){return eI},Kmd:function(){return Kmd},LENGTH_ENCODE_BYTE_SIZE:function(){return eG},LogicSig:function(){return LogicSig},LogicSigAccount:function(){return LogicSigAccount},MAX_LEN:function(){return eH},MULTISIG_BAD_SENDER_ERROR_MSG:function(){return e0},OnApplicationComplete:function(){return eh},SINGLE_BOOL_SIZE:function(){return eJ},SINGLE_BYTE_SIZE:function(){return eW},SourceMap:function(){return SourceMap},Transaction:function(){return Transaction},TransactionType:function(){return ed},abiCheckTransactionType:function(){return abiCheckTransactionType},abiTypeIsReference:function(){return abiTypeIsReference},abiTypeIsTransaction:function(){return abiTypeIsTransaction},algosToMicroalgos:function(){return algosToMicroalgos},appendSignMultisigTransaction:function(){return appendSignMultisigTransaction},appendSignRawMultisigSignature:function(){return appendSignRawMultisigSignature},assignGroupID:function(){return assignGroupID},bigIntToBytes:function(){return bigIntToBytes},bytesToBigInt:function(){return bytesToBigInt},computeGroupID:function(){return computeGroupID},createDryrun:function(){return createDryrun},createMultisigTransaction:function(){return createMultisigTransaction},decodeAddress:function(){return decodeAddress},decodeObj:function(){return decodeObj},decodeSignedTransaction:function(){return decodeSignedTransaction},decodeUint64:function(){return decodeUint64},decodeUnsignedTransaction:function(){return decodeUnsignedTransaction},encodeAddress:function(){return encodeAddress},encodeObj:function(){return encodeObj},encodeUint64:function(){return encodeUint64},encodeUnsignedSimulateTransaction:function(){return encodeUnsignedSimulateTransaction},encodeUnsignedTransaction:function(){return encodeUnsignedTransaction},generateAccount:function(){return generateAccount},getApplicationAddress:function(){return getApplicationAddress},getMethodByName:function(){return getMethodByName},indexerModels:function(){return ey},instantiateTxnIfNeeded:function(){return instantiateTxnIfNeeded},isTransactionWithSigner:function(){return isTransactionWithSigner},isValidAddress:function(){return isValidAddress},logicSigFromByte:function(){return logicSigFromByte},makeApplicationCallTxnFromObject:function(){return makeApplicationCallTxnFromObject},makeApplicationClearStateTxn:function(){return makeApplicationClearStateTxn},makeApplicationClearStateTxnFromObject:function(){return makeApplicationClearStateTxnFromObject},makeApplicationCloseOutTxn:function(){return makeApplicationCloseOutTxn},makeApplicationCloseOutTxnFromObject:function(){return makeApplicationCloseOutTxnFromObject},makeApplicationCreateTxn:function(){return makeApplicationCreateTxn},makeApplicationCreateTxnFromObject:function(){return makeApplicationCreateTxnFromObject},makeApplicationDeleteTxn:function(){return makeApplicationDeleteTxn},makeApplicationDeleteTxnFromObject:function(){return makeApplicationDeleteTxnFromObject},makeApplicationNoOpTxn:function(){return makeApplicationNoOpTxn},makeApplicationNoOpTxnFromObject:function(){return makeApplicationNoOpTxnFromObject},makeApplicationOptInTxn:function(){return makeApplicationOptInTxn},makeApplicationOptInTxnFromObject:function(){return makeApplicationOptInTxnFromObject},makeApplicationUpdateTxn:function(){return makeApplicationUpdateTxn},makeApplicationUpdateTxnFromObject:function(){return makeApplicationUpdateTxnFromObject},makeAssetConfigTxnWithSuggestedParams:function(){return makeAssetConfigTxnWithSuggestedParams},makeAssetConfigTxnWithSuggestedParamsFromObject:function(){return makeAssetConfigTxnWithSuggestedParamsFromObject},makeAssetCreateTxnWithSuggestedParams:function(){return makeAssetCreateTxnWithSuggestedParams},makeAssetCreateTxnWithSuggestedParamsFromObject:function(){return makeAssetCreateTxnWithSuggestedParamsFromObject},makeAssetDestroyTxnWithSuggestedParams:function(){return makeAssetDestroyTxnWithSuggestedParams},makeAssetDestroyTxnWithSuggestedParamsFromObject:function(){return makeAssetDestroyTxnWithSuggestedParamsFromObject},makeAssetFreezeTxnWithSuggestedParams:function(){return makeAssetFreezeTxnWithSuggestedParams},makeAssetFreezeTxnWithSuggestedParamsFromObject:function(){return makeAssetFreezeTxnWithSuggestedParamsFromObject},makeAssetTransferTxnWithSuggestedParams:function(){return makeAssetTransferTxnWithSuggestedParams},makeAssetTransferTxnWithSuggestedParamsFromObject:function(){return makeAssetTransferTxnWithSuggestedParamsFromObject},makeBasicAccountTransactionSigner:function(){return makeBasicAccountTransactionSigner},makeEmptyTransactionSigner:function(){return makeEmptyTransactionSigner},makeKeyRegistrationTxnWithSuggestedParams:function(){return makeKeyRegistrationTxnWithSuggestedParams},makeKeyRegistrationTxnWithSuggestedParamsFromObject:function(){return makeKeyRegistrationTxnWithSuggestedParamsFromObject},makeLogicSigAccountTransactionSigner:function(){return makeLogicSigAccountTransactionSigner},makeMultiSigAccountTransactionSigner:function(){return makeMultiSigAccountTransactionSigner},makePaymentTxnWithSuggestedParams:function(){return makePaymentTxnWithSuggestedParams},makePaymentTxnWithSuggestedParamsFromObject:function(){return makePaymentTxnWithSuggestedParamsFromObject},masterDerivationKeyToMnemonic:function(){return masterDerivationKeyToMnemonic},mergeMultisigTransactions:function(){return mergeMultisigTransactions},microalgosToAlgos:function(){return microalgosToAlgos},mnemonicFromSeed:function(){return mnemonicFromSeed},mnemonicToMasterDerivationKey:function(){return mnemonicToMasterDerivationKey},mnemonicToSecretKey:function(){return mnemonicToSecretKey},modelsv2:function(){return em},multisigAddress:function(){return multisigAddress},secretKeyToMnemonic:function(){return secretKeyToMnemonic},seedFromMnemonic:function(){return seedFromMnemonic},signBid:function(){return signBid},signBytes:function(){return signBytes},signLogicSigTransaction:function(){return signLogicSigTransaction},signLogicSigTransactionObject:function(){return signLogicSigTransactionObject},signMultisigTransaction:function(){return signMultisigTransaction},signTransaction:function(){return signTransaction},tealSign:function(){return tealSign},tealSignFromProgram:function(){return tealSignFromProgram},verifyBytes:function(){return verifyBytes},verifyMultisig:function(){return verifyMultisig},verifyTealSign:function(){return verifyTealSign},waitForConfirmation:function(){return waitForConfirmation}});var e_=ei(48764),ev=ei(50780),ew=ei.n(ev),ex=ei(93434),eS=ei.n(ex),eE=ei(4400),eA=ei.n(eE);(es=eu||(eu={})).DEFAULT="default",es.SAFE="safe",es.MIXED="mixed",es.BIGINT="bigint";var eI=eu;ei(34155);let eT=eA()({useNativeBigInt:!0,strict:!0});function arrayEqual(ee,et){return ee.length===et.length&&Array.from(ee).every((ee,ei)=>ee===et[ei])}function concatArrays(...ee){let et=ee.reduce((ee,et)=>ee+et.length,0),ei=new Uint8Array(et),es=0;for(let et=0;et<ee.length;et++)ei.set(ee[et],es),es+=ee[et].length;return ei}function genericHash(ee){return eS().sha512_256.array(ee)}function keyPairFromSeed(ee){return ew().sign.keyPair.fromSeed(ee)}function isValidSignatureLength(ee){return ee===ew().sign.signatureLength}function keyPairFromSecretKey(ee){return ew().sign.keyPair.fromSecretKey(ee)}function sign(ee,et){return ew().sign.detached(ee,et)}function bytesEqual(ee,et){return ew().verify(ee,et)}function verify(ee,et,ei){return ew().sign.detached.verify(ee,et,ei)}let eR=ew().sign.publicKeyLength;ew().sign.secretKeyLength;var eD=ei(89090),ek=ei.n(eD);function encodeUint64(ee){let et="bigint"==typeof ee||Number.isInteger(ee);if(!et||ee<0||ee>BigInt("0xffffffffffffffff"))throw Error("Input is not a 64-bit unsigned integer");let ei=new Uint8Array(8),es=new DataView(ei.buffer);return es.setBigUint64(0,BigInt(ee)),ei}function decodeUint64(ee,et="safe"){if("safe"!==et&&"mixed"!==et&&"bigint"!==et)throw Error(`Unknown decodingMode option: ${et}`);if(0===ee.byteLength||ee.byteLength>8)throw Error(`Data has unacceptable length. Expected length is between 1 and 8, got ${ee.byteLength}`);let ei=new Uint8Array(8-ee.byteLength),es=concatArrays(ei,ee),en=new DataView(es.buffer),eo=en.getBigUint64(0),ea=eo>BigInt(Number.MAX_SAFE_INTEGER);if("safe"===et){if(ea)throw Error(`Integer exceeds maximum safe integer: ${eo.toString()}. Try decoding with "mixed" or "safe" decodingMode.`);return Number(eo)}return"mixed"!==et||ea?eo:Number(eo)}let eB=new Uint8Array([77,117,108,116,105,115,105,103,65,100,100,114]),eP=e_.Buffer.from("appID"),eO="address seems to be malformed";function decodeAddress(ee){if("string"!=typeof ee||58!==ee.length)throw Error(eO);let et=ek().decode.asBytes(ee.toString());if(36!==et.length)throw Error(eO);let ei=new Uint8Array(et.slice(0,32)),es=new Uint8Array(et.slice(eR,36)),en=genericHash(ei).slice(28,32);if(!arrayEqual(en,es))throw Error("wrong checksum for address");return{publicKey:ei,checksum:es}}function isValidAddress(ee){try{decodeAddress(ee)}catch(ee){return!1}return!0}function encodeAddress(ee){let et=genericHash(ee).slice(eR-4,eR),ei=ek().encode(concatArrays(ee,et));return ei.toString().slice(0,58)}function fromMultisigPreImg({version:ee,threshold:et,pks:ei}){if(1!==ee||ee>255||ee<0)throw Error("invalid multisig version");if(0===et||0===ei.length||et>ei.length||et>255)throw Error("bad multisig threshold");if(32!==eR)throw Error("nacl public key length is not 32 bytes");let es=new Uint8Array(eB.length+2+32*ei.length);es.set(eB,0),es.set([ee],eB.length),es.set([et],eB.length+1);for(let ee=0;ee<ei.length;ee++){if(32!==ei[ee].length)throw Error("bad multisig public key - wrong length");es.set(ei[ee],eB.length+2+32*ee)}return new Uint8Array(genericHash(es))}function fromMultisigPreImgAddrs({version:ee,threshold:et,addrs:ei}){let es=ei.map(ee=>decodeAddress(ee).publicKey);return encodeAddress(fromMultisigPreImg({version:ee,threshold:et,pks:es}))}function getApplicationAddress(ee){let et=concatArrays(eP,encodeUint64(ee)),ei=genericHash(et);return encodeAddress(new Uint8Array(ei))}var eC=ei(66424);function rawEncode(ee){return eC.encode(ee,{sortKeys:!0})}function encode(ee){let et=function(ee){for(let et in ee)if(Object.prototype.hasOwnProperty.call(ee,et)&&(!ee[et]||0===ee[et].length))return{containsEmpty:!0,firstEmptyKey:et};return{containsEmpty:!1,firstEmptyKey:void 0}}(ee);if(et.containsEmpty)throw Error("The object contains empty or 0 values. First empty or 0 value encountered during encoding: "+et.firstEmptyKey);return rawEncode(ee)}function decode(ee){return eC.decode(ee)}(en=ed||(ed={})).pay="pay",en.keyreg="keyreg",en.acfg="acfg",en.axfer="axfer",en.afrz="afrz",en.appl="appl",en.stpf="stpf",en.hb="hb",(eo=eh||(eh={}))[eo.NoOpOC=0]="NoOpOC",eo[eo.OptInOC=1]="OptInOC",eo[eo.CloseOutOC=2]="CloseOutOC",eo[eo.ClearStateOC=3]="ClearStateOC",eo[eo.UpdateApplicationOC=4]="UpdateApplicationOC",eo[eo.DeleteApplicationOC=5]="DeleteApplicationOC";let eU=1e3;let HeartbeatProof=class HeartbeatProof{constructor(ee,et,ei,es,en){this.s=ee,this.p=et,this.p2=ei,this.p1s=es,this.p2s=en}static from_obj_for_encoding(ee){let et=Object.create(this.prototype);return et.s=ee.s,et.p=ee.p,et.p2=ee.p2,et.p1s=ee.p1s,et.p2s=ee.p2s,et}get_obj_for_encoding(){let ee={s:this.s,p:this.p,p2:this.p2,p1s:this.p1s,p2s:this.p2s};return ee}};let HeartbeatFields=class HeartbeatFields{constructor(ee,et,ei,es,en){this.a=ee,this.prf=HeartbeatProof.from_obj_for_encoding(et),this.sd=ei,this.vid=es,this.kd=en}static from_obj_for_encoding(ee){let et=Object.create(this.prototype);return et.a=decodeAddress(encodeAddress(ee.a)),et.prf=HeartbeatProof.from_obj_for_encoding(ee.prf),et.sd=e_.Buffer.from(ee.sd),et.vid=e_.Buffer.from(ee.vid),et.kd=ee.kd,et}get_obj_for_encoding(){let ee={a:e_.Buffer.from(this.a.publicKey),prf:this.prf.get_obj_for_encoding(),sd:this.sd,vid:this.vid,kd:this.kd};return ee}};function getKeyregKey(ee,et,ei){let es;if(null!=ee){if("string"==typeof ee?es=e_.Buffer.from(ee,"base64"):ee.constructor===Uint8Array?es=e_.Buffer.from(ee):e_.Buffer.isBuffer(ee)&&(es=ee),null==es||es.byteLength!==ei)throw Error(`${et} must be a ${ei} byte Uint8Array or Buffer or base64 string.`);return es}}let Transaction=class Transaction{constructor({...ee}){this.name="Transaction",this.tag=e_.Buffer.from("TX");let et={type:ed.pay,flatFee:!1,nonParticipation:!1};if(void 0===ee.type&&(ee.type=et.type),void 0===ee.flatFee&&(ee.flatFee=et.flatFee),ee.type===ed.keyreg&&void 0!==ee.voteKey&&void 0===ee.nonParticipation&&(ee.nonParticipation=et.nonParticipation),void 0!==ee.suggestedParams&&(ee.genesisHash=ee.suggestedParams.genesisHash,ee.fee=ee.suggestedParams.fee,void 0!==ee.suggestedParams.flatFee&&(ee.flatFee=ee.suggestedParams.flatFee),ee.firstRound=ee.suggestedParams.firstRound,ee.lastRound=ee.suggestedParams.lastRound,ee.genesisID=ee.suggestedParams.genesisID),ee.from=decodeAddress(ee.from),void 0!==ee.to&&(ee.to=decodeAddress(ee.to)),void 0!==ee.closeRemainderTo&&(ee.closeRemainderTo=decodeAddress(ee.closeRemainderTo)),void 0!==ee.assetManager&&(ee.assetManager=decodeAddress(ee.assetManager)),void 0!==ee.assetReserve&&(ee.assetReserve=decodeAddress(ee.assetReserve)),void 0!==ee.assetFreeze&&(ee.assetFreeze=decodeAddress(ee.assetFreeze)),void 0!==ee.assetClawback&&(ee.assetClawback=decodeAddress(ee.assetClawback)),void 0!==ee.assetRevocationTarget&&(ee.assetRevocationTarget=decodeAddress(ee.assetRevocationTarget)),void 0!==ee.freezeAccount&&(ee.freezeAccount=decodeAddress(ee.freezeAccount)),void 0!==ee.reKeyTo&&(ee.reKeyTo=decodeAddress(ee.reKeyTo)),void 0===ee.genesisHash)throw Error("genesis hash must be specified and in a base64 string.");if(ee.genesisHash=e_.Buffer.from(ee.genesisHash,"base64"),void 0!==ee.amount&&(!(Number.isSafeInteger(ee.amount)||"bigint"==typeof ee.amount&&ee.amount<=BigInt("0xffffffffffffffff"))||ee.amount<0))throw Error("Amount must be a positive number and smaller than 2^64-1. If the number is larger than 2^53-1, use bigint.");if(!Number.isSafeInteger(ee.fee)||ee.fee<0)throw Error("fee must be a positive number and smaller than 2^53-1");if(!Number.isSafeInteger(ee.firstRound)||ee.firstRound<0)throw Error("firstRound must be a positive number");if(!Number.isSafeInteger(ee.lastRound)||ee.lastRound<0)throw Error("lastRound must be a positive number");if(void 0!==ee.extraPages&&(!Number.isInteger(ee.extraPages)||ee.extraPages<0||ee.extraPages>3))throw Error("extraPages must be an Integer between and including 0 to 3");if(void 0!==ee.assetTotal&&(!(Number.isSafeInteger(ee.assetTotal)||"bigint"==typeof ee.assetTotal&&ee.assetTotal<=BigInt("0xffffffffffffffff"))||ee.assetTotal<0))throw Error("Total asset issuance must be a positive number and smaller than 2^64-1. If the number is larger than 2^53-1, use bigint.");if(void 0!==ee.assetDecimals&&(!Number.isSafeInteger(ee.assetDecimals)||ee.assetDecimals<0||ee.assetDecimals>19))throw Error("assetDecimals must be a positive number and smaller than 19");if(void 0!==ee.assetIndex&&(!Number.isSafeInteger(ee.assetIndex)||ee.assetIndex<0))throw Error("Asset index must be a positive number and smaller than 2^53-1");if(void 0!==ee.appIndex&&(!Number.isSafeInteger(ee.appIndex)||ee.appIndex<0))throw Error("Application index must be a positive number and smaller than 2^53-1");if(void 0!==ee.appLocalInts&&(!Number.isSafeInteger(ee.appLocalInts)||ee.appLocalInts<0))throw Error("Application local ints count must be a positive number and smaller than 2^53-1");if(void 0!==ee.appLocalByteSlices&&(!Number.isSafeInteger(ee.appLocalByteSlices)||ee.appLocalByteSlices<0))throw Error("Application local byte slices count must be a positive number and smaller than 2^53-1");if(void 0!==ee.appGlobalInts&&(!Number.isSafeInteger(ee.appGlobalInts)||ee.appGlobalInts<0))throw Error("Application global ints count must be a positive number and smaller than 2^53-1");if(void 0!==ee.appGlobalByteSlices&&(!Number.isSafeInteger(ee.appGlobalByteSlices)||ee.appGlobalByteSlices<0))throw Error("Application global byte slices count must be a positive number and smaller than 2^53-1");if(void 0!==ee.appApprovalProgram&&ee.appApprovalProgram.constructor!==Uint8Array)throw Error("appApprovalProgram must be a Uint8Array.");if(void 0!==ee.appClearProgram&&ee.appClearProgram.constructor!==Uint8Array)throw Error("appClearProgram must be a Uint8Array.");if(void 0!==ee.appArgs){if(!Array.isArray(ee.appArgs))throw Error("appArgs must be an Array of Uint8Array.");ee.appArgs=ee.appArgs.slice(),ee.appArgs.forEach(ee=>{if(ee.constructor!==Uint8Array)throw Error("each element of AppArgs must be a Uint8Array.")})}else ee.appArgs=[];if(void 0!==ee.appAccounts){if(!Array.isArray(ee.appAccounts))throw Error("appAccounts must be an Array of addresses.");ee.appAccounts=ee.appAccounts.map(ee=>decodeAddress(ee))}if(void 0!==ee.appForeignApps){if(!Array.isArray(ee.appForeignApps))throw Error("appForeignApps must be an Array of integers.");ee.appForeignApps=ee.appForeignApps.slice(),ee.appForeignApps.forEach(ee=>{if(!Number.isSafeInteger(ee)||ee<0)throw Error("each foreign application index must be a positive number and smaller than 2^53-1")})}if(void 0!==ee.appForeignAssets){if(!Array.isArray(ee.appForeignAssets))throw Error("appForeignAssets must be an Array of integers.");ee.appForeignAssets=ee.appForeignAssets.slice(),ee.appForeignAssets.forEach(ee=>{if(!Number.isSafeInteger(ee)||ee<0)throw Error("each foreign asset index must be a positive number and smaller than 2^53-1")})}if(void 0!==ee.boxes){if(!Array.isArray(ee.boxes))throw Error("boxes must be an Array of BoxReference.");ee.boxes=ee.boxes.slice(),ee.boxes.forEach(ee=>{if(!Number.isSafeInteger(ee.appIndex)||ee.name.constructor!==Uint8Array)throw Error("box app index must be a number and name must be an Uint8Array.")})}if(void 0!==ee.assetMetadataHash&&0!==ee.assetMetadataHash.length){if("string"==typeof ee.assetMetadataHash&&(ee.assetMetadataHash=new Uint8Array(e_.Buffer.from(ee.assetMetadataHash))),ee.assetMetadataHash.constructor!==Uint8Array||32!==ee.assetMetadataHash.byteLength)throw Error("assetMetadataHash must be a 32 byte Uint8Array or string.");ee.assetMetadataHash.every(ee=>0===ee)&&(ee.assetMetadataHash=void 0)}else ee.assetMetadataHash=void 0;if(void 0!==ee.note){if(ee.note.constructor!==Uint8Array)throw Error("note must be a Uint8Array.")}else ee.note=new Uint8Array(0);if(void 0!==ee.lease){if(ee.lease.constructor!==Uint8Array)throw Error("lease must be a Uint8Array.");if(32!==ee.lease.length)throw Error("lease must be of length 32.");ee.lease.every(ee=>0===ee)&&(ee.lease=new Uint8Array(0))}else ee.lease=new Uint8Array(0);if(ee.voteKey=getKeyregKey(ee.voteKey,"voteKey",32),ee.selectionKey=getKeyregKey(ee.selectionKey,"selectionKey",32),ee.stateProofKey=getKeyregKey(ee.stateProofKey,"stateProofKey",64),ee.nonParticipation&&(ee.voteKey||ee.selectionKey||ee.voteFirst||ee.stateProofKey||ee.voteLast||ee.voteKeyDilution))throw Error("nonParticipation is true but participation params are present.");if(!ee.nonParticipation&&(ee.voteKey||ee.selectionKey||ee.stateProofKey||ee.voteFirst||ee.voteLast||ee.voteKeyDilution)&&!(ee.voteKey&&ee.selectionKey&&ee.voteFirst&&ee.voteLast&&ee.voteKeyDilution))throw Error("online key registration missing at least one of the following fields: voteKey, selectionKey, voteFirst, voteLast, voteKeyDilution");if(delete ee.suggestedParams,Object.assign(this,function(ee){let et={...ee};return Object.keys(et).forEach(ee=>{void 0===et[ee]&&delete et[ee]}),et}(ee)),!ee.flatFee&&(this.fee*=this.estimateSize(),this.fee<eU&&(this.fee=eU)),this.group=void 0,void 0!==ee.stateProofType&&(!Number.isSafeInteger(ee.stateProofType)||ee.stateProofType<0))throw Error("State Proof type must be a positive number and smaller than 2^53-1");if(void 0!==ee.stateProofMessage){if(ee.stateProofMessage.constructor!==Uint8Array)throw Error("stateProofMessage must be a Uint8Array.")}else ee.stateProofMessage=new Uint8Array(0);if(void 0!==ee.stateProof){if(ee.stateProof.constructor!==Uint8Array)throw Error("stateProof must be a Uint8Array.")}else ee.stateProof=new Uint8Array(0);if(void 0!==ee.heartbeatFields&&ee.heartbeatFields.constructor!==HeartbeatFields)throw Error("heartbeatFields must be a HeartbeatFields.")}get_obj_for_encoding(){if("pay"===this.type){let ee={amt:this.amount,fee:this.fee,fv:this.firstRound,lv:this.lastRound,note:e_.Buffer.from(this.note),snd:e_.Buffer.from(this.from.publicKey),type:"pay",gen:this.genesisID,gh:this.genesisHash,lx:e_.Buffer.from(this.lease),grp:this.group};return void 0!==this.closeRemainderTo&&"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAY5HFKQ"!==encodeAddress(this.closeRemainderTo.publicKey)&&(ee.close=e_.Buffer.from(this.closeRemainderTo.publicKey)),void 0!==this.reKeyTo&&(ee.rekey=e_.Buffer.from(this.reKeyTo.publicKey)),void 0!==this.to&&(ee.rcv=e_.Buffer.from(this.to.publicKey)),ee.note.length||delete ee.note,ee.amt||delete ee.amt,ee.fee||delete ee.fee,ee.fv||delete ee.fv,ee.gen||delete ee.gen,void 0===ee.grp&&delete ee.grp,ee.lx.length||delete ee.lx,ee.rekey||delete ee.rekey,ee}if("keyreg"===this.type){let ee={fee:this.fee,fv:this.firstRound,lv:this.lastRound,note:e_.Buffer.from(this.note),snd:e_.Buffer.from(this.from.publicKey),type:this.type,gen:this.genesisID,gh:this.genesisHash,lx:e_.Buffer.from(this.lease),grp:this.group,votekey:this.voteKey,selkey:this.selectionKey,sprfkey:this.stateProofKey,votefst:this.voteFirst,votelst:this.voteLast,votekd:this.voteKeyDilution};return ee.note.length||delete ee.note,ee.lx.length||delete ee.lx,ee.fee||delete ee.fee,ee.fv||delete ee.fv,ee.gen||delete ee.gen,void 0===ee.grp&&delete ee.grp,void 0!==this.reKeyTo&&(ee.rekey=e_.Buffer.from(this.reKeyTo.publicKey)),this.nonParticipation&&(ee.nonpart=!0),ee.selkey||delete ee.selkey,ee.votekey||delete ee.votekey,ee.sprfkey||delete ee.sprfkey,ee.votefst||delete ee.votefst,ee.votelst||delete ee.votelst,ee.votekd||delete ee.votekd,ee}if("acfg"===this.type){let ee={fee:this.fee,fv:this.firstRound,lv:this.lastRound,note:e_.Buffer.from(this.note),snd:e_.Buffer.from(this.from.publicKey),type:this.type,gen:this.genesisID,gh:this.genesisHash,lx:e_.Buffer.from(this.lease),grp:this.group,caid:this.assetIndex,apar:{t:this.assetTotal,df:this.assetDefaultFrozen,dc:this.assetDecimals}};return void 0!==this.assetManager&&(ee.apar.m=e_.Buffer.from(this.assetManager.publicKey)),void 0!==this.assetReserve&&(ee.apar.r=e_.Buffer.from(this.assetReserve.publicKey)),void 0!==this.assetFreeze&&(ee.apar.f=e_.Buffer.from(this.assetFreeze.publicKey)),void 0!==this.assetClawback&&(ee.apar.c=e_.Buffer.from(this.assetClawback.publicKey)),void 0!==this.assetName&&(ee.apar.an=this.assetName),void 0!==this.assetUnitName&&(ee.apar.un=this.assetUnitName),void 0!==this.assetURL&&(ee.apar.au=this.assetURL),void 0!==this.assetMetadataHash&&(ee.apar.am=e_.Buffer.from(this.assetMetadataHash)),ee.note.length||delete ee.note,ee.lx.length||delete ee.lx,ee.amt||delete ee.amt,ee.fee||delete ee.fee,ee.fv||delete ee.fv,ee.gen||delete ee.gen,void 0!==this.reKeyTo&&(ee.rekey=e_.Buffer.from(this.reKeyTo.publicKey)),ee.caid||delete ee.caid,ee.apar.t||ee.apar.un||ee.apar.an||ee.apar.df||ee.apar.m||ee.apar.r||ee.apar.f||ee.apar.c||ee.apar.au||ee.apar.am||ee.apar.dc?(ee.apar.t||delete ee.apar.t,ee.apar.dc||delete ee.apar.dc,ee.apar.un||delete ee.apar.un,ee.apar.an||delete ee.apar.an,ee.apar.df||delete ee.apar.df,ee.apar.m||delete ee.apar.m,ee.apar.r||delete ee.apar.r,ee.apar.f||delete ee.apar.f,ee.apar.c||delete ee.apar.c,ee.apar.au||delete ee.apar.au,ee.apar.am||delete ee.apar.am):delete ee.apar,void 0===ee.grp&&delete ee.grp,ee}if("axfer"===this.type){let ee={aamt:this.amount,fee:this.fee,fv:this.firstRound,lv:this.lastRound,note:e_.Buffer.from(this.note),snd:e_.Buffer.from(this.from.publicKey),arcv:e_.Buffer.from(this.to.publicKey),type:this.type,gen:this.genesisID,gh:this.genesisHash,lx:e_.Buffer.from(this.lease),grp:this.group,xaid:this.assetIndex};return void 0!==this.closeRemainderTo&&(ee.aclose=e_.Buffer.from(this.closeRemainderTo.publicKey)),void 0!==this.assetRevocationTarget&&(ee.asnd=e_.Buffer.from(this.assetRevocationTarget.publicKey)),ee.note.length||delete ee.note,ee.lx.length||delete ee.lx,ee.aamt||delete ee.aamt,ee.amt||delete ee.amt,ee.fee||delete ee.fee,ee.fv||delete ee.fv,ee.gen||delete ee.gen,void 0===ee.grp&&delete ee.grp,ee.aclose||delete ee.aclose,ee.asnd||delete ee.asnd,ee.rekey||delete ee.rekey,void 0!==this.reKeyTo&&(ee.rekey=e_.Buffer.from(this.reKeyTo.publicKey)),ee}if("afrz"===this.type){let ee={fee:this.fee,fv:this.firstRound,lv:this.lastRound,note:e_.Buffer.from(this.note),snd:e_.Buffer.from(this.from.publicKey),type:this.type,gen:this.genesisID,gh:this.genesisHash,lx:e_.Buffer.from(this.lease),grp:this.group,faid:this.assetIndex,afrz:this.freezeState};return void 0!==this.freezeAccount&&(ee.fadd=e_.Buffer.from(this.freezeAccount.publicKey)),ee.note.length||delete ee.note,ee.lx.length||delete ee.lx,ee.amt||delete ee.amt,ee.fee||delete ee.fee,ee.fv||delete ee.fv,ee.gen||delete ee.gen,ee.afrz||delete ee.afrz,void 0===ee.grp&&delete ee.grp,void 0!==this.reKeyTo&&(ee.rekey=e_.Buffer.from(this.reKeyTo.publicKey)),ee}if("appl"===this.type){var ee,et,ei;let es={fee:this.fee,fv:this.firstRound,lv:this.lastRound,note:e_.Buffer.from(this.note),snd:e_.Buffer.from(this.from.publicKey),type:this.type,gen:this.genesisID,gh:this.genesisHash,lx:e_.Buffer.from(this.lease),grp:this.group,apid:this.appIndex,apan:this.appOnComplete,apls:{nui:this.appLocalInts,nbs:this.appLocalByteSlices},apgs:{nui:this.appGlobalInts,nbs:this.appGlobalByteSlices},apfa:this.appForeignApps,apas:this.appForeignAssets,apep:this.extraPages,apbx:(ee=this.boxes,et=this.appForeignApps,ei=this.appIndex,null==ee?[]:ee.map(ee=>(function(ee,et,ei){let es=ee.appIndex,en=ee.name,eo=0===es||es===ei,ea=0;if(null!=et&&(ea=et.indexOf(es)+1),0===ea&&!eo)throw Error(`Box ref with appId ${es} not in foreign-apps`);return{i:ea,n:en}})(ee,et,ei)))};for(let ee of(void 0!==this.reKeyTo&&(es.rekey=e_.Buffer.from(this.reKeyTo.publicKey)),void 0!==this.appApprovalProgram&&(es.apap=e_.Buffer.from(this.appApprovalProgram)),void 0!==this.appClearProgram&&(es.apsu=e_.Buffer.from(this.appClearProgram)),void 0!==this.appArgs&&(es.apaa=this.appArgs.map(ee=>e_.Buffer.from(ee))),void 0!==this.appAccounts&&(es.apat=this.appAccounts.map(ee=>e_.Buffer.from(ee.publicKey))),es.note.length||delete es.note,es.lx.length||delete es.lx,es.amt||delete es.amt,es.fee||delete es.fee,es.fv||delete es.fv,es.gen||delete es.gen,es.apid||delete es.apid,es.apls.nui||delete es.apls.nui,es.apls.nbs||delete es.apls.nbs,es.apls.nui||es.apls.nbs||delete es.apls,es.apgs.nui||delete es.apgs.nui,es.apgs.nbs||delete es.apgs.nbs,es.apaa&&es.apaa.length||delete es.apaa,es.apgs.nui||es.apgs.nbs||delete es.apgs,es.apap||delete es.apap,es.apsu||delete es.apsu,es.apan||delete es.apan,es.apfa&&es.apfa.length||delete es.apfa,es.apas&&es.apas.length||delete es.apas,es.apbx))ee.i||delete ee.i,ee.n&&ee.n.length||delete ee.n;return es.apbx&&es.apbx.length||delete es.apbx,es.apat&&es.apat.length||delete es.apat,es.apep||delete es.apep,void 0===es.grp&&delete es.grp,es}if("stpf"===this.type){let ee={fee:this.fee,fv:this.firstRound,lv:this.lastRound,note:e_.Buffer.from(this.note),snd:e_.Buffer.from(this.from.publicKey),type:this.type,gen:this.genesisID,gh:this.genesisHash,lx:e_.Buffer.from(this.lease),sptype:this.stateProofType,spmsg:e_.Buffer.from(this.stateProofMessage),sp:e_.Buffer.from(this.stateProof)};return ee.sptype||delete ee.sptype,ee.note.length||delete ee.note,ee.lx.length||delete ee.lx,ee.amt||delete ee.amt,ee.fee||delete ee.fee,ee.fv||delete ee.fv,ee.gen||delete ee.gen,ee.apid||delete ee.apid,ee.apaa&&ee.apaa.length||delete ee.apaa,ee.apap||delete ee.apap,ee.apsu||delete ee.apsu,ee.apan||delete ee.apan,ee.apfa&&ee.apfa.length||delete ee.apfa,ee.apas&&ee.apas.length||delete ee.apas,ee.apat&&ee.apat.length||delete ee.apat,ee.apep||delete ee.apep,void 0===ee.grp&&delete ee.grp,ee}if("hb"===this.type){let ee={fee:this.fee,fv:this.firstRound,lv:this.lastRound,note:e_.Buffer.from(this.note),snd:e_.Buffer.from(this.from.publicKey),type:this.type,gen:this.genesisID,gh:this.genesisHash,lx:e_.Buffer.from(this.lease),hb:this.heartbeatFields.get_obj_for_encoding()};return ee.note.length||delete ee.note,ee.lx.length||delete ee.lx,ee.fee||delete ee.fee,ee.gen||delete ee.gen,void 0===ee.grp&&delete ee.grp,ee}}static from_obj_for_encoding(ee){var et;let ei=Object.create(this.prototype);if(ei.name="Transaction",ei.tag=e_.Buffer.from("TX"),ei.genesisID=ee.gen,ei.genesisHash=e_.Buffer.from(ee.gh),!((et=ee.type)===ed.pay||et===ed.keyreg||et===ed.acfg||et===ed.axfer||et===ed.afrz||et===ed.appl||et===ed.stpf||et===ed.hb))throw Error(`Unrecognized transaction type: ${ee.type}`);return ei.type=ee.type,ei.fee=ee.fee,ei.firstRound=ee.fv,ei.lastRound=ee.lv,ei.note=new Uint8Array(ee.note),ei.lease=new Uint8Array(ee.lx),ei.from=decodeAddress(encodeAddress(new Uint8Array(ee.snd))),void 0!==ee.grp&&(ei.group=e_.Buffer.from(ee.grp)),void 0!==ee.rekey&&(ei.reKeyTo=decodeAddress(encodeAddress(new Uint8Array(ee.rekey)))),"pay"===ee.type?(ei.amount=ee.amt,ei.to=decodeAddress(encodeAddress(new Uint8Array(ee.rcv))),void 0!==ee.close&&(ei.closeRemainderTo=decodeAddress(encodeAddress(ee.close)))):"keyreg"===ee.type?(void 0!==ee.votekey&&(ei.voteKey=e_.Buffer.from(ee.votekey)),void 0!==ee.selkey&&(ei.selectionKey=e_.Buffer.from(ee.selkey)),void 0!==ee.sprfkey&&(ei.stateProofKey=e_.Buffer.from(ee.sprfkey)),void 0!==ee.votekd&&(ei.voteKeyDilution=ee.votekd),void 0!==ee.votefst&&(ei.voteFirst=ee.votefst),void 0!==ee.votelst&&(ei.voteLast=ee.votelst),void 0!==ee.nonpart&&(ei.nonParticipation=ee.nonpart)):"acfg"===ee.type?(void 0!==ee.caid&&(ei.assetIndex=ee.caid),void 0!==ee.apar&&(ei.assetTotal=ee.apar.t,ei.assetDefaultFrozen=ee.apar.df,void 0!==ee.apar.dc&&(ei.assetDecimals=ee.apar.dc),void 0!==ee.apar.m&&(ei.assetManager=decodeAddress(encodeAddress(new Uint8Array(ee.apar.m)))),void 0!==ee.apar.r&&(ei.assetReserve=decodeAddress(encodeAddress(new Uint8Array(ee.apar.r)))),void 0!==ee.apar.f&&(ei.assetFreeze=decodeAddress(encodeAddress(new Uint8Array(ee.apar.f)))),void 0!==ee.apar.c&&(ei.assetClawback=decodeAddress(encodeAddress(new Uint8Array(ee.apar.c)))),void 0!==ee.apar.un&&(ei.assetUnitName=ee.apar.un),void 0!==ee.apar.an&&(ei.assetName=ee.apar.an),void 0!==ee.apar.au&&(ei.assetURL=ee.apar.au),void 0!==ee.apar.am&&(ei.assetMetadataHash=ee.apar.am))):"axfer"===ee.type?(void 0!==ee.xaid&&(ei.assetIndex=ee.xaid),void 0!==ee.aamt&&(ei.amount=ee.aamt),void 0!==ee.aclose&&(ei.closeRemainderTo=decodeAddress(encodeAddress(new Uint8Array(ee.aclose)))),void 0!==ee.asnd&&(ei.assetRevocationTarget=decodeAddress(encodeAddress(new Uint8Array(ee.asnd)))),ei.to=decodeAddress(encodeAddress(new Uint8Array(ee.arcv)))):"afrz"===ee.type?(void 0!==ee.afrz&&(ei.freezeState=ee.afrz),void 0!==ee.faid&&(ei.assetIndex=ee.faid),ei.freezeAccount=decodeAddress(encodeAddress(new Uint8Array(ee.fadd)))):"appl"===ee.type?(void 0!==ee.apid&&(ei.appIndex=ee.apid),void 0!==ee.apan&&(ei.appOnComplete=ee.apan),void 0!==ee.apls&&(void 0!==ee.apls.nui&&(ei.appLocalInts=ee.apls.nui),void 0!==ee.apls.nbs&&(ei.appLocalByteSlices=ee.apls.nbs)),void 0!==ee.apgs&&(void 0!==ee.apgs.nui&&(ei.appGlobalInts=ee.apgs.nui),void 0!==ee.apgs.nbs&&(ei.appGlobalByteSlices=ee.apgs.nbs)),void 0!==ee.apep&&(ei.extraPages=ee.apep),void 0!==ee.apap&&(ei.appApprovalProgram=new Uint8Array(ee.apap)),void 0!==ee.apsu&&(ei.appClearProgram=new Uint8Array(ee.apsu)),void 0!==ee.apaa&&(ei.appArgs=ee.apaa.map(ee=>new Uint8Array(ee))),void 0!==ee.apat&&(ei.appAccounts=ee.apat.map(ee=>decodeAddress(encodeAddress(new Uint8Array(ee))))),void 0!==ee.apfa&&(ei.appForeignApps=ee.apfa),void 0!==ee.apas&&(ei.appForeignAssets=ee.apas),void 0!==ee.apbx&&(ei.boxes=ee.apbx.map(ee=>({appIndex:ee.i?ei.appForeignApps[ee.i-1]:0,name:ee.n})))):"stpf"===ee.type?(void 0!==ee.sptype&&(ei.stateProofType=ee.sptype),void 0!==ee.sp&&(ei.stateProof=ee.sp),void 0!==ee.spmsg&&(ei.stateProofMessage=ee.spmsg)):"hb"===ee.type&&void 0!==ee.hb&&(ei.heartbeatFields=HeartbeatFields.from_obj_for_encoding(ee.hb)),ei}estimateSize(){return this.toByte().length+75}bytesToSign(){let ee=this.toByte();return e_.Buffer.from(concatArrays(this.tag,ee))}toByte(){return encode(this.get_obj_for_encoding())}rawSignTxn(ee){let et=this.bytesToSign(),ei=sign(et,ee);return e_.Buffer.from(ei)}signTxn(ee){let et={sig:this.rawSignTxn(ee),txn:this.get_obj_for_encoding()},ei=keyPairFromSecretKey(ee),es=ei.publicKey;return encodeAddress(es)!==encodeAddress(this.from.publicKey)&&(et.sgnr=e_.Buffer.from(es)),new Uint8Array(encode(et))}attachSignature(ee,et){if(!isValidSignatureLength(et.length))throw Error("Invalid signature length");let ei={sig:e_.Buffer.from(et),txn:this.get_obj_for_encoding()};if(ee!==encodeAddress(this.from.publicKey)){let et=decodeAddress(ee).publicKey;ei.sgnr=e_.Buffer.from(et)}return new Uint8Array(encode(ei))}rawTxID(){let ee=this.toByte(),et=e_.Buffer.from(concatArrays(this.tag,ee));return e_.Buffer.from(genericHash(et))}txID(){let ee=this.rawTxID();return ek().encode(ee).slice(0,52)}addLease(ee,et=0){let ei;if(void 0!==ee){if(ee.constructor!==Uint8Array)throw Error("lease must be a Uint8Array.");if(32!==ee.length)throw Error("lease must be of length 32.");ei=new Uint8Array(ee)}else ei=new Uint8Array(0);this.lease=ei,0!==et&&(this.fee+=37*et)}addRekey(ee,et=0){void 0!==ee&&(this.reKeyTo=decodeAddress(ee)),0!==et&&(this.fee+=37*et)}_getDictForDisplay(){let ee={...this};return ee.tag=ee.tag.toString(),ee.from=encodeAddress(ee.from.publicKey),void 0!==ee.to&&(ee.to=encodeAddress(ee.to.publicKey)),void 0!==ee.freezeAccount&&(ee.freezeAccount=encodeAddress(ee.freezeAccount.publicKey)),void 0!==ee.closeRemainderTo&&(ee.closeRemainderTo=encodeAddress(ee.closeRemainderTo.publicKey)),void 0!==ee.assetManager&&(ee.assetManager=encodeAddress(ee.assetManager.publicKey)),void 0!==ee.assetReserve&&(ee.assetReserve=encodeAddress(ee.assetReserve.publicKey)),void 0!==ee.assetFreeze&&(ee.assetFreeze=encodeAddress(ee.assetFreeze.publicKey)),void 0!==ee.assetClawback&&(ee.assetClawback=encodeAddress(ee.assetClawback.publicKey)),void 0!==ee.assetRevocationTarget&&(ee.assetRevocationTarget=encodeAddress(ee.assetRevocationTarget.publicKey)),void 0!==ee.reKeyTo&&(ee.reKeyTo=encodeAddress(ee.reKeyTo.publicKey)),ee.genesisHash=ee.genesisHash.toString("base64"),ee}prettyPrint(){console.log(this._getDictForDisplay())}toString(){return JSON.stringify(this._getDictForDisplay())}};function encodeUnsignedSimulateTransaction(ee){let et={txn:ee.get_obj_for_encoding()};return encode(et)}function encodeUnsignedTransaction(ee){let et=ee.get_obj_for_encoding();return encode(et)}function decodeUnsignedTransaction(ee){let et=decode(ee);return Transaction.from_obj_for_encoding(et)}function decodeSignedTransaction(ee){let et=decode(ee),ei={...et,txn:Transaction.from_obj_for_encoding(et.txn)};return ei}function instantiateTxnIfNeeded(ee){return ee instanceof Transaction?ee:new Transaction(ee)}let Bid=class Bid{constructor({bidderKey:ee,bidAmount:et,bidID:ei,auctionKey:es,auctionID:en,maxPrice:eo}){this.name="Bid",this.tag=e_.Buffer.from([97,66]);let ea=decodeAddress(ee),ec=decodeAddress(es);if(!Number.isSafeInteger(et)||et<0)throw Error("Bid amount must be positive and 2^53-1");if(!Number.isSafeInteger(ei)||ei<0)throw Error("BidID must be positive and 2^53-1");if(!Number.isSafeInteger(en)||en<0)throw Error("auctionID must be positive");Object.assign(this,{bidderKey:ea,bidAmount:et,bidID:ei,auctionKey:ec,auctionID:en,maxPrice:eo})}get_obj_for_encoding(){return{bidder:e_.Buffer.from(this.bidderKey.publicKey),cur:this.bidAmount,price:this.maxPrice,id:this.bidID,auc:e_.Buffer.from(this.auctionKey.publicKey),aid:this.auctionID}}signBid(ee){let et=encode(this.get_obj_for_encoding()),ei=e_.Buffer.from(concatArrays(this.tag,et)),es=sign(ei,ee),en={sig:e_.Buffer.from(es),bid:this.get_obj_for_encoding()};return new Uint8Array(encode({t:"b",b:en}))}};let eL="Microalgos should be positive and less than 2^53 - 1.";function microalgosToAlgos(ee){if(ee<0||!Number.isSafeInteger(ee))throw Error(eL);return ee/1e6}function algosToMicroalgos(ee){return Math.round(1e6*ee)}let URLTokenBaseHTTPError=class URLTokenBaseHTTPError extends Error{constructor(ee,et){super(ee),this.response=et,this.name="URLTokenBaseHTTPError",this.response=et}};let URLTokenBaseHTTPClient=class URLTokenBaseHTTPClient{constructor(ee,et,ei,es={}){this.defaultHeaders=es;let en=et.endsWith("/")?et:`${et}/`,eo=new URL(en);if(void 0!==ei&&(eo.port=ei.toString()),0===eo.protocol.length)throw Error("Invalid base server URL, protocol must be defined.");this.baseURL=eo,this.tokenHeader=ee}getURL(ee,et){let ei;ei=ee.startsWith("./")?ee:ee.startsWith("/")?`.${ee}`:`./${ee}`;let es=new URL(ei,this.baseURL);if(et)for(let[ee,ei]of Object.entries(et))es.searchParams.set(ee,ei);return es.toString()}static formatFetchResponseHeaders(ee){let et={};return ee.forEach((ee,ei)=>{et[ee]=ei}),et}static async checkHttpError(ee){if(ee.ok)return;let et=null,ei=null;try{et=new Uint8Array(await ee.arrayBuffer());let es=JSON.parse(e_.Buffer.from(et).toString());es.message&&(ei=es.message)}catch(ee){}let es=`Network request error. Received status ${ee.status} (${ee.statusText})`;throw ei&&(es+=`: ${ei}`),new URLTokenBaseHTTPError(es,{body:et,status:ee.status,headers:URLTokenBaseHTTPClient.formatFetchResponseHeaders(ee.headers)})}static async formatFetchResponse(ee){return await this.checkHttpError(ee),{body:new Uint8Array(await ee.arrayBuffer()),status:ee.status,headers:URLTokenBaseHTTPClient.formatFetchResponseHeaders(ee.headers)}}async get(ee,et,ei={}){let es={...this.tokenHeader,...this.defaultHeaders,...ei},en=await fetch(this.getURL(ee,et),{headers:es});return URLTokenBaseHTTPClient.formatFetchResponse(en)}async post(ee,et,ei,es={}){let en={...this.tokenHeader,...this.defaultHeaders,...es},eo=await fetch(this.getURL(ee,ei),{method:"POST",body:et,headers:en});return URLTokenBaseHTTPClient.formatFetchResponse(eo)}async delete(ee,et,ei,es={}){let en={...this.tokenHeader,...this.defaultHeaders,...es},eo=await fetch(this.getURL(ee,ei),{method:"DELETE",body:et,headers:en});return URLTokenBaseHTTPClient.formatFetchResponse(eo)}};function tolowerCaseKeys(ee){return Object.keys(ee).reduce((et,ei)=>(et[ei.toLowerCase()]=ee[ei],et),{})}let HTTPClient=class HTTPClient{constructor(ee,et,ei,es={}){void 0!==et?this.bc=new URLTokenBaseHTTPClient(ee,et,ei,es):this.bc=ee}static parseJSON(ee,et,ei={}){try{if(0===Object.keys(ei).length)return ee&&JSON.parse(ee);return ee&&function(ee,et){let ei=et&&et.intDecoding?et.intDecoding:eI.DEFAULT;return eT.parse(ee,(ee,et)=>{if(null!=et&&"object"==typeof et&&null==Object.getPrototypeOf(et)&&Object.setPrototypeOf(et,Object.prototype),"bigint"==typeof et){if("safe"===ei&&et>Number.MAX_SAFE_INTEGER)throw Error(`Integer exceeds maximum safe integer: ${et.toString()}. Try parsing with a different intDecoding option.`);return"bigint"===ei||"mixed"===ei&&et>Number.MAX_SAFE_INTEGER?et:Number(et)}return"number"==typeof et&&"bigint"===ei&&Number.isInteger(et)?BigInt(et):et})}(ee,ei)}catch(ei){throw ei.rawResponse=ee||null,ei.statusCode=et,ei}}static serializeData(ee,et){if(!ee)return new Uint8Array(0);if("application/json"===et["content-type"])return new Uint8Array(e_.Buffer.from(JSON.stringify(ee)));if("string"==typeof ee)return new Uint8Array(e_.Buffer.from(ee));if(ee instanceof Uint8Array)return ee;throw Error("provided data is neither a string nor a Uint8Array and content-type is not application/json")}static prepareResponse(ee,et,ei,es={}){let en,{body:eo}=ee;return"application/msgpack"!==et&&(en=eo&&e_.Buffer.from(eo).toString()||""),ei&&"application/json"===et&&(eo=HTTPClient.parseJSON(en,ee.status,es)),{...ee,body:eo,text:en,ok:2===Math.trunc(ee.status/100)}}static prepareResponseError(ee){return ee.response&&(ee.response=HTTPClient.prepareResponse(ee.response,"application/json",!0),ee.status=ee.response.status),ee}async get(ee,et,ei={},es={},en=!0){let eo=void 0!==et&&Object.prototype.hasOwnProperty.call(et,"format")&&"msgpack"===et.format?"application/msgpack":"application/json",ea={...ei,accept:eo};try{let ei=await this.bc.get(ee,function(ee){for(let et in ee)Object.prototype.hasOwnProperty.call(ee,et)&&(!ee[et]||0===ee[et].length)&&delete ee[et];return ee}(et),ea);return HTTPClient.prepareResponse(ei,eo,en,es)}catch(ee){throw HTTPClient.prepareResponseError(ee)}}async post(ee,et,ei={},es,en=!0){let eo={"content-type":"application/json",...tolowerCaseKeys(ei)};try{let ei=await this.bc.post(ee,HTTPClient.serializeData(et,eo),es,eo);return HTTPClient.prepareResponse(ei,"application/json",en)}catch(ee){throw HTTPClient.prepareResponseError(ee)}}async delete(ee,et,ei={},es=!0){let en={"content-type":"application/json",...tolowerCaseKeys(ei)},eo=await this.bc.delete(ee,HTTPClient.serializeData(et,en),void 0,en);return HTTPClient.prepareResponse(eo,"application/json",es)}};let ServiceClient=class ServiceClient{constructor(ee,et,ei,es,en={}){if("function"==typeof et.get)this.c=new HTTPClient(et);else{let eo;eo="string"==typeof et?function(ee="",et){let ei={};return""===ee||(ei[et]=ee),ei}(et,ee):et,this.c=new HTTPClient(eo,ei,es,en)}this.intDecoding=eI.DEFAULT}setIntEncoding(ee){this.intDecoding=ee}getIntEncoding(){return this.intDecoding}};let BaseModel=class BaseModel{get_obj_for_encoding(ee=!1){let et={};for(let ei of Object.keys(this.attribute_map)){let es=this.attribute_map[ei],en=this[ei];void 0!==en&&(et[es]=null===en?null:function _get_obj_for_encoding(ee,et){let ei;if(ee instanceof Uint8Array)ei=et?ee:e_.Buffer.from(ee).toString("base64");else if("function"==typeof ee.get_obj_for_encoding)ei=ee.get_obj_for_encoding(et);else if(Array.isArray(ee))for(let es of(ei=[],ee))ei.push(_get_obj_for_encoding(es,et));else if("object"==typeof ee){let es={};for(let ei of Object.keys(ee))es[ei]=_get_obj_for_encoding(ee[ei],et);ei=es}else if(void 0===ee||null==ee||"object"!=typeof ee&&"function"!=typeof ee)ei=ee;else throw Error(`Unsupported value: ${String(ee)}`);return ei}(en,ee))}return et}};let Account=class Account extends BaseModel{constructor({address:ee,amount:et,amountWithoutPendingRewards:ei,minBalance:es,pendingRewards:en,rewards:eo,round:ea,status:ec,totalAppsOptedIn:el,totalAssetsOptedIn:eu,totalCreatedApps:ed,totalCreatedAssets:eh,appsLocalState:ep,appsTotalExtraPages:ef,appsTotalSchema:eg,assets:em,authAddr:ey,createdApps:eb,createdAssets:e_,incentiveEligible:ev,lastHeartbeat:ew,lastProposed:ex,participation:eS,rewardBase:eE,sigType:eA,totalBoxBytes:eI,totalBoxes:eT}){super(),this.address=ee,this.amount=et,this.amountWithoutPendingRewards=ei,this.minBalance=es,this.pendingRewards=en,this.rewards=eo,this.round=ea,this.status=ec,this.totalAppsOptedIn=el,this.totalAssetsOptedIn=eu,this.totalCreatedApps=ed,this.totalCreatedAssets=eh,this.appsLocalState=ep,this.appsTotalExtraPages=ef,this.appsTotalSchema=eg,this.assets=em,this.authAddr=ey,this.createdApps=eb,this.createdAssets=e_,this.incentiveEligible=ev,this.lastHeartbeat=ew,this.lastProposed=ex,this.participation=eS,this.rewardBase=eE,this.sigType=eA,this.totalBoxBytes=eI,this.totalBoxes=eT,this.attribute_map={address:"address",amount:"amount",amountWithoutPendingRewards:"amount-without-pending-rewards",minBalance:"min-balance",pendingRewards:"pending-rewards",rewards:"rewards",round:"round",status:"status",totalAppsOptedIn:"total-apps-opted-in",totalAssetsOptedIn:"total-assets-opted-in",totalCreatedApps:"total-created-apps",totalCreatedAssets:"total-created-assets",appsLocalState:"apps-local-state",appsTotalExtraPages:"apps-total-extra-pages",appsTotalSchema:"apps-total-schema",assets:"assets",authAddr:"auth-addr",createdApps:"created-apps",createdAssets:"created-assets",incentiveEligible:"incentive-eligible",lastHeartbeat:"last-heartbeat",lastProposed:"last-proposed",participation:"participation",rewardBase:"reward-base",sigType:"sig-type",totalBoxBytes:"total-box-bytes",totalBoxes:"total-boxes"}}static from_obj_for_encoding(ee){if(void 0===ee.address)throw Error(`Response is missing required field 'address': ${ee}`);if(void 0===ee.amount)throw Error(`Response is missing required field 'amount': ${ee}`);if(void 0===ee["amount-without-pending-rewards"])throw Error(`Response is missing required field 'amount-without-pending-rewards': ${ee}`);if(void 0===ee["min-balance"])throw Error(`Response is missing required field 'min-balance': ${ee}`);if(void 0===ee["pending-rewards"])throw Error(`Response is missing required field 'pending-rewards': ${ee}`);if(void 0===ee.rewards)throw Error(`Response is missing required field 'rewards': ${ee}`);if(void 0===ee.round)throw Error(`Response is missing required field 'round': ${ee}`);if(void 0===ee.status)throw Error(`Response is missing required field 'status': ${ee}`);if(void 0===ee["total-apps-opted-in"])throw Error(`Response is missing required field 'total-apps-opted-in': ${ee}`);if(void 0===ee["total-assets-opted-in"])throw Error(`Response is missing required field 'total-assets-opted-in': ${ee}`);if(void 0===ee["total-created-apps"])throw Error(`Response is missing required field 'total-created-apps': ${ee}`);if(void 0===ee["total-created-assets"])throw Error(`Response is missing required field 'total-created-assets': ${ee}`);return new Account({address:ee.address,amount:ee.amount,amountWithoutPendingRewards:ee["amount-without-pending-rewards"],minBalance:ee["min-balance"],pendingRewards:ee["pending-rewards"],rewards:ee.rewards,round:ee.round,status:ee.status,totalAppsOptedIn:ee["total-apps-opted-in"],totalAssetsOptedIn:ee["total-assets-opted-in"],totalCreatedApps:ee["total-created-apps"],totalCreatedAssets:ee["total-created-assets"],appsLocalState:void 0!==ee["apps-local-state"]?ee["apps-local-state"].map(ApplicationLocalState.from_obj_for_encoding):void 0,appsTotalExtraPages:ee["apps-total-extra-pages"],appsTotalSchema:void 0!==ee["apps-total-schema"]?ApplicationStateSchema.from_obj_for_encoding(ee["apps-total-schema"]):void 0,assets:void 0!==ee.assets?ee.assets.map(AssetHolding.from_obj_for_encoding):void 0,authAddr:ee["auth-addr"],createdApps:void 0!==ee["created-apps"]?ee["created-apps"].map(Application.from_obj_for_encoding):void 0,createdAssets:void 0!==ee["created-assets"]?ee["created-assets"].map(Asset.from_obj_for_encoding):void 0,incentiveEligible:ee["incentive-eligible"],lastHeartbeat:ee["last-heartbeat"],lastProposed:ee["last-proposed"],participation:void 0!==ee.participation?AccountParticipation.from_obj_for_encoding(ee.participation):void 0,rewardBase:ee["reward-base"],sigType:ee["sig-type"],totalBoxBytes:ee["total-box-bytes"],totalBoxes:ee["total-boxes"]})}};let AccountApplicationResponse=class AccountApplicationResponse extends BaseModel{constructor({round:ee,appLocalState:et,createdApp:ei}){super(),this.round=ee,this.appLocalState=et,this.createdApp=ei,this.attribute_map={round:"round",appLocalState:"app-local-state",createdApp:"created-app"}}static from_obj_for_encoding(ee){if(void 0===ee.round)throw Error(`Response is missing required field 'round': ${ee}`);return new AccountApplicationResponse({round:ee.round,appLocalState:void 0!==ee["app-local-state"]?ApplicationLocalState.from_obj_for_encoding(ee["app-local-state"]):void 0,createdApp:void 0!==ee["created-app"]?ApplicationParams.from_obj_for_encoding(ee["created-app"]):void 0})}};let AccountAssetHolding=class AccountAssetHolding extends BaseModel{constructor({assetHolding:ee,assetParams:et}){super(),this.assetHolding=ee,this.assetParams=et,this.attribute_map={assetHolding:"asset-holding",assetParams:"asset-params"}}static from_obj_for_encoding(ee){if(void 0===ee["asset-holding"])throw Error(`Response is missing required field 'asset-holding': ${ee}`);return new AccountAssetHolding({assetHolding:AssetHolding.from_obj_for_encoding(ee["asset-holding"]),assetParams:void 0!==ee["asset-params"]?AssetParams.from_obj_for_encoding(ee["asset-params"]):void 0})}};let AccountAssetResponse=class AccountAssetResponse extends BaseModel{constructor({round:ee,assetHolding:et,createdAsset:ei}){super(),this.round=ee,this.assetHolding=et,this.createdAsset=ei,this.attribute_map={round:"round",assetHolding:"asset-holding",createdAsset:"created-asset"}}static from_obj_for_encoding(ee){if(void 0===ee.round)throw Error(`Response is missing required field 'round': ${ee}`);return new AccountAssetResponse({round:ee.round,assetHolding:void 0!==ee["asset-holding"]?AssetHolding.from_obj_for_encoding(ee["asset-holding"]):void 0,createdAsset:void 0!==ee["created-asset"]?AssetParams.from_obj_for_encoding(ee["created-asset"]):void 0})}};let AccountAssetsInformationResponse=class AccountAssetsInformationResponse extends BaseModel{constructor({round:ee,assetHoldings:et,nextToken:ei}){super(),this.round=ee,this.assetHoldings=et,this.nextToken=ei,this.attribute_map={round:"round",assetHoldings:"asset-holdings",nextToken:"next-token"}}static from_obj_for_encoding(ee){if(void 0===ee.round)throw Error(`Response is missing required field 'round': ${ee}`);return new AccountAssetsInformationResponse({round:ee.round,assetHoldings:void 0!==ee["asset-holdings"]?ee["asset-holdings"].map(AccountAssetHolding.from_obj_for_encoding):void 0,nextToken:ee["next-token"]})}};let AccountParticipation=class AccountParticipation extends BaseModel{constructor({selectionParticipationKey:ee,voteFirstValid:et,voteKeyDilution:ei,voteLastValid:es,voteParticipationKey:en,stateProofKey:eo}){super(),this.selectionParticipationKey="string"==typeof ee?new Uint8Array(e_.Buffer.from(ee,"base64")):ee,this.voteFirstValid=et,this.voteKeyDilution=ei,this.voteLastValid=es,this.voteParticipationKey="string"==typeof en?new Uint8Array(e_.Buffer.from(en,"base64")):en,this.stateProofKey="string"==typeof eo?new Uint8Array(e_.Buffer.from(eo,"base64")):eo,this.attribute_map={selectionParticipationKey:"selection-participation-key",voteFirstValid:"vote-first-valid",voteKeyDilution:"vote-key-dilution",voteLastValid:"vote-last-valid",voteParticipationKey:"vote-participation-key",stateProofKey:"state-proof-key"}}static from_obj_for_encoding(ee){if(void 0===ee["selection-participation-key"])throw Error(`Response is missing required field 'selection-participation-key': ${ee}`);if(void 0===ee["vote-first-valid"])throw Error(`Response is missing required field 'vote-first-valid': ${ee}`);if(void 0===ee["vote-key-dilution"])throw Error(`Response is missing required field 'vote-key-dilution': ${ee}`);if(void 0===ee["vote-last-valid"])throw Error(`Response is missing required field 'vote-last-valid': ${ee}`);if(void 0===ee["vote-participation-key"])throw Error(`Response is missing required field 'vote-participation-key': ${ee}`);return new AccountParticipation({selectionParticipationKey:ee["selection-participation-key"],voteFirstValid:ee["vote-first-valid"],voteKeyDilution:ee["vote-key-dilution"],voteLastValid:ee["vote-last-valid"],voteParticipationKey:ee["vote-participation-key"],stateProofKey:ee["state-proof-key"]})}};let AccountStateDelta=class AccountStateDelta extends BaseModel{constructor({address:ee,delta:et}){super(),this.address=ee,this.delta=et,this.attribute_map={address:"address",delta:"delta"}}static from_obj_for_encoding(ee){if(void 0===ee.address)throw Error(`Response is missing required field 'address': ${ee}`);if(!Array.isArray(ee.delta))throw Error(`Response is missing required array field 'delta': ${ee}`);return new AccountStateDelta({address:ee.address,delta:ee.delta.map(EvalDeltaKeyValue.from_obj_for_encoding)})}};let AppCallLogs=class AppCallLogs extends BaseModel{constructor({applicationIndex:ee,logs:et,txid:ei}){super(),this.applicationIndex=ee,this.logs=et,this.txid=ei,this.attribute_map={applicationIndex:"application-index",logs:"logs",txid:"txId"}}static from_obj_for_encoding(ee){if(void 0===ee["application-index"])throw Error(`Response is missing required field 'application-index': ${ee}`);if(!Array.isArray(ee.logs))throw Error(`Response is missing required array field 'logs': ${ee}`);if(void 0===ee.txId)throw Error(`Response is missing required field 'txId': ${ee}`);return new AppCallLogs({applicationIndex:ee["application-index"],logs:ee.logs,txid:ee.txId})}};let Application=class Application extends BaseModel{constructor({id:ee,params:et}){super(),this.id=ee,this.params=et,this.attribute_map={id:"id",params:"params"}}static from_obj_for_encoding(ee){if(void 0===ee.id)throw Error(`Response is missing required field 'id': ${ee}`);if(void 0===ee.params)throw Error(`Response is missing required field 'params': ${ee}`);return new Application({id:ee.id,params:ApplicationParams.from_obj_for_encoding(ee.params)})}};let ApplicationInitialStates=class ApplicationInitialStates extends BaseModel{constructor({id:ee,appBoxes:et,appGlobals:ei,appLocals:es}){super(),this.id=ee,this.appBoxes=et,this.appGlobals=ei,this.appLocals=es,this.attribute_map={id:"id",appBoxes:"app-boxes",appGlobals:"app-globals",appLocals:"app-locals"}}static from_obj_for_encoding(ee){if(void 0===ee.id)throw Error(`Response is missing required field 'id': ${ee}`);return new ApplicationInitialStates({id:ee.id,appBoxes:void 0!==ee["app-boxes"]?ApplicationKVStorage.from_obj_for_encoding(ee["app-boxes"]):void 0,appGlobals:void 0!==ee["app-globals"]?ApplicationKVStorage.from_obj_for_encoding(ee["app-globals"]):void 0,appLocals:void 0!==ee["app-locals"]?ee["app-locals"].map(ApplicationKVStorage.from_obj_for_encoding):void 0})}};let ApplicationKVStorage=class ApplicationKVStorage extends BaseModel{constructor({kvs:ee,account:et}){super(),this.kvs=ee,this.account=et,this.attribute_map={kvs:"kvs",account:"account"}}static from_obj_for_encoding(ee){if(!Array.isArray(ee.kvs))throw Error(`Response is missing required array field 'kvs': ${ee}`);return new ApplicationKVStorage({kvs:ee.kvs.map(AvmKeyValue.from_obj_for_encoding),account:ee.account})}};let ApplicationLocalReference=class ApplicationLocalReference extends BaseModel{constructor({account:ee,app:et}){super(),this.account=ee,this.app=et,this.attribute_map={account:"account",app:"app"}}static from_obj_for_encoding(ee){if(void 0===ee.account)throw Error(`Response is missing required field 'account': ${ee}`);if(void 0===ee.app)throw Error(`Response is missing required field 'app': ${ee}`);return new ApplicationLocalReference({account:ee.account,app:ee.app})}};let ApplicationLocalState=class ApplicationLocalState extends BaseModel{constructor({id:ee,schema:et,keyValue:ei}){super(),this.id=ee,this.schema=et,this.keyValue=ei,this.attribute_map={id:"id",schema:"schema",keyValue:"key-value"}}static from_obj_for_encoding(ee){if(void 0===ee.id)throw Error(`Response is missing required field 'id': ${ee}`);if(void 0===ee.schema)throw Error(`Response is missing required field 'schema': ${ee}`);return new ApplicationLocalState({id:ee.id,schema:ApplicationStateSchema.from_obj_for_encoding(ee.schema),keyValue:void 0!==ee["key-value"]?ee["key-value"].map(TealKeyValue.from_obj_for_encoding):void 0})}};let ApplicationParams=class ApplicationParams extends BaseModel{constructor({approvalProgram:ee,clearStateProgram:et,creator:ei,extraProgramPages:es,globalState:en,globalStateSchema:eo,localStateSchema:ea}){super(),this.approvalProgram="string"==typeof ee?new Uint8Array(e_.Buffer.from(ee,"base64")):ee,this.clearStateProgram="string"==typeof et?new Uint8Array(e_.Buffer.from(et,"base64")):et,this.creator=ei,this.extraProgramPages=es,this.globalState=en,this.globalStateSchema=eo,this.localStateSchema=ea,this.attribute_map={approvalProgram:"approval-program",clearStateProgram:"clear-state-program",creator:"creator",extraProgramPages:"extra-program-pages",globalState:"global-state",globalStateSchema:"global-state-schema",localStateSchema:"local-state-schema"}}static from_obj_for_encoding(ee){if(void 0===ee["approval-program"])throw Error(`Response is missing required field 'approval-program': ${ee}`);if(void 0===ee["clear-state-program"])throw Error(`Response is missing required field 'clear-state-program': ${ee}`);if(void 0===ee.creator)throw Error(`Response is missing required field 'creator': ${ee}`);return new ApplicationParams({approvalProgram:ee["approval-program"],clearStateProgram:ee["clear-state-program"],creator:ee.creator,extraProgramPages:ee["extra-program-pages"],globalState:void 0!==ee["global-state"]?ee["global-state"].map(TealKeyValue.from_obj_for_encoding):void 0,globalStateSchema:void 0!==ee["global-state-schema"]?ApplicationStateSchema.from_obj_for_encoding(ee["global-state-schema"]):void 0,localStateSchema:void 0!==ee["local-state-schema"]?ApplicationStateSchema.from_obj_for_encoding(ee["local-state-schema"]):void 0})}};let ApplicationStateOperation=class ApplicationStateOperation extends BaseModel{constructor({appStateType:ee,key:et,operation:ei,account:es,newValue:en}){super(),this.appStateType=ee,this.key="string"==typeof et?new Uint8Array(e_.Buffer.from(et,"base64")):et,this.operation=ei,this.account=es,this.newValue=en,this.attribute_map={appStateType:"app-state-type",key:"key",operation:"operation",account:"account",newValue:"new-value"}}static from_obj_for_encoding(ee){if(void 0===ee["app-state-type"])throw Error(`Response is missing required field 'app-state-type': ${ee}`);if(void 0===ee.key)throw Error(`Response is missing required field 'key': ${ee}`);if(void 0===ee.operation)throw Error(`Response is missing required field 'operation': ${ee}`);return new ApplicationStateOperation({appStateType:ee["app-state-type"],key:ee.key,operation:ee.operation,account:ee.account,newValue:void 0!==ee["new-value"]?AvmValue.from_obj_for_encoding(ee["new-value"]):void 0})}};let ApplicationStateSchema=class ApplicationStateSchema extends BaseModel{constructor({numUint:ee,numByteSlice:et}){super(),this.numUint=ee,this.numByteSlice=et,this.attribute_map={numUint:"num-uint",numByteSlice:"num-byte-slice"}}static from_obj_for_encoding(ee){if(void 0===ee["num-uint"])throw Error(`Response is missing required field 'num-uint': ${ee}`);if(void 0===ee["num-byte-slice"])throw Error(`Response is missing required field 'num-byte-slice': ${ee}`);return new ApplicationStateSchema({numUint:ee["num-uint"],numByteSlice:ee["num-byte-slice"]})}};let Asset=class Asset extends BaseModel{constructor({index:ee,params:et}){super(),this.index=ee,this.params=et,this.attribute_map={index:"index",params:"params"}}static from_obj_for_encoding(ee){if(void 0===ee.index)throw Error(`Response is missing required field 'index': ${ee}`);if(void 0===ee.params)throw Error(`Response is missing required field 'params': ${ee}`);return new Asset({index:ee.index,params:AssetParams.from_obj_for_encoding(ee.params)})}};let AssetHolding=class AssetHolding extends BaseModel{constructor({amount:ee,assetId:et,isFrozen:ei}){super(),this.amount=ee,this.assetId=et,this.isFrozen=ei,this.attribute_map={amount:"amount",assetId:"asset-id",isFrozen:"is-frozen"}}static from_obj_for_encoding(ee){if(void 0===ee.amount)throw Error(`Response is missing required field 'amount': ${ee}`);if(void 0===ee["asset-id"])throw Error(`Response is missing required field 'asset-id': ${ee}`);if(void 0===ee["is-frozen"])throw Error(`Response is missing required field 'is-frozen': ${ee}`);return new AssetHolding({amount:ee.amount,assetId:ee["asset-id"],isFrozen:ee["is-frozen"]})}};let AssetHoldingReference=class AssetHoldingReference extends BaseModel{constructor({account:ee,asset:et}){super(),this.account=ee,this.asset=et,this.attribute_map={account:"account",asset:"asset"}}static from_obj_for_encoding(ee){if(void 0===ee.account)throw Error(`Response is missing required field 'account': ${ee}`);if(void 0===ee.asset)throw Error(`Response is missing required field 'asset': ${ee}`);return new AssetHoldingReference({account:ee.account,asset:ee.asset})}};let AssetParams=class AssetParams extends BaseModel{constructor({creator:ee,decimals:et,total:ei,clawback:es,defaultFrozen:en,freeze:eo,manager:ea,metadataHash:ec,name:el,nameB64:eu,reserve:ed,unitName:eh,unitNameB64:ep,url:ef,urlB64:eg}){super(),this.creator=ee,this.decimals=et,this.total=ei,this.clawback=es,this.defaultFrozen=en,this.freeze=eo,this.manager=ea,this.metadataHash="string"==typeof ec?new Uint8Array(e_.Buffer.from(ec,"base64")):ec,this.name=el,this.nameB64="string"==typeof eu?new Uint8Array(e_.Buffer.from(eu,"base64")):eu,this.reserve=ed,this.unitName=eh,this.unitNameB64="string"==typeof ep?new Uint8Array(e_.Buffer.from(ep,"base64")):ep,this.url=ef,this.urlB64="string"==typeof eg?new Uint8Array(e_.Buffer.from(eg,"base64")):eg,this.attribute_map={creator:"creator",decimals:"decimals",total:"total",clawback:"clawback",defaultFrozen:"default-frozen",freeze:"freeze",manager:"manager",metadataHash:"metadata-hash",name:"name",nameB64:"name-b64",reserve:"reserve",unitName:"unit-name",unitNameB64:"unit-name-b64",url:"url",urlB64:"url-b64"}}static from_obj_for_encoding(ee){if(void 0===ee.creator)throw Error(`Response is missing required field 'creator': ${ee}`);if(void 0===ee.decimals)throw Error(`Response is missing required field 'decimals': ${ee}`);if(void 0===ee.total)throw Error(`Response is missing required field 'total': ${ee}`);return new AssetParams({creator:ee.creator,decimals:ee.decimals,total:ee.total,clawback:ee.clawback,defaultFrozen:ee["default-frozen"],freeze:ee.freeze,manager:ee.manager,metadataHash:ee["metadata-hash"],name:ee.name,nameB64:ee["name-b64"],reserve:ee.reserve,unitName:ee["unit-name"],unitNameB64:ee["unit-name-b64"],url:ee.url,urlB64:ee["url-b64"]})}};let AvmKeyValue=class AvmKeyValue extends BaseModel{constructor({key:ee,value:et}){super(),this.key="string"==typeof ee?new Uint8Array(e_.Buffer.from(ee,"base64")):ee,this.value=et,this.attribute_map={key:"key",value:"value"}}static from_obj_for_encoding(ee){if(void 0===ee.key)throw Error(`Response is missing required field 'key': ${ee}`);if(void 0===ee.value)throw Error(`Response is missing required field 'value': ${ee}`);return new AvmKeyValue({key:ee.key,value:AvmValue.from_obj_for_encoding(ee.value)})}};let AvmValue=class AvmValue extends BaseModel{constructor({type:ee,bytes:et,uint:ei}){super(),this.type=ee,this.bytes="string"==typeof et?new Uint8Array(e_.Buffer.from(et,"base64")):et,this.uint=ei,this.attribute_map={type:"type",bytes:"bytes",uint:"uint"}}static from_obj_for_encoding(ee){if(void 0===ee.type)throw Error(`Response is missing required field 'type': ${ee}`);return new AvmValue({type:ee.type,bytes:ee.bytes,uint:ee.uint})}};let BlockHashResponse=class BlockHashResponse extends BaseModel{constructor({blockhash:ee}){super(),this.blockhash=ee,this.attribute_map={blockhash:"blockHash"}}static from_obj_for_encoding(ee){if(void 0===ee.blockHash)throw Error(`Response is missing required field 'blockHash': ${ee}`);return new BlockHashResponse({blockhash:ee.blockHash})}};let BlockHeaderResponse=class BlockHeaderResponse extends BaseModel{constructor({blockheader:ee}){super(),this.blockheader=ee,this.attribute_map={blockheader:"blockHeader"}}static from_obj_for_encoding(ee){return new BlockHeaderResponse({blockheader:ee.blockHeader})}};let BlockLogsResponse=class BlockLogsResponse extends BaseModel{constructor({logs:ee}){super(),this.logs=ee,this.attribute_map={logs:"logs"}}static from_obj_for_encoding(ee){if(!Array.isArray(ee.logs))throw Error(`Response is missing required array field 'logs': ${ee}`);return new BlockLogsResponse({logs:ee.logs.map(AppCallLogs.from_obj_for_encoding)})}};let BlockResponse=class BlockResponse extends BaseModel{constructor({block:ee,cert:et}){super(),this.block=ee,this.cert=et,this.attribute_map={block:"block",cert:"cert"}}static from_obj_for_encoding(ee){if(void 0===ee.block)throw Error(`Response is missing required field 'block': ${ee}`);return new BlockResponse({block:ee.block,cert:ee.cert})}};let BlockTxidsResponse=class BlockTxidsResponse extends BaseModel{constructor({blocktxids:ee}){super(),this.blocktxids=ee,this.attribute_map={blocktxids:"blockTxids"}}static from_obj_for_encoding(ee){if(!Array.isArray(ee.blockTxids))throw Error(`Response is missing required array field 'blockTxids': ${ee}`);return new BlockTxidsResponse({blocktxids:ee.blockTxids})}};let Box=class Box extends BaseModel{constructor({name:ee,round:et,value:ei}){super(),this.name="string"==typeof ee?new Uint8Array(e_.Buffer.from(ee,"base64")):ee,this.round=et,this.value="string"==typeof ei?new Uint8Array(e_.Buffer.from(ei,"base64")):ei,this.attribute_map={name:"name",round:"round",value:"value"}}static from_obj_for_encoding(ee){if(void 0===ee.name)throw Error(`Response is missing required field 'name': ${ee}`);if(void 0===ee.round)throw Error(`Response is missing required field 'round': ${ee}`);if(void 0===ee.value)throw Error(`Response is missing required field 'value': ${ee}`);return new Box({name:ee.name,round:ee.round,value:ee.value})}};let BoxDescriptor=class BoxDescriptor extends BaseModel{constructor({name:ee}){super(),this.name="string"==typeof ee?new Uint8Array(e_.Buffer.from(ee,"base64")):ee,this.attribute_map={name:"name"}}static from_obj_for_encoding(ee){if(void 0===ee.name)throw Error(`Response is missing required field 'name': ${ee}`);return new BoxDescriptor({name:ee.name})}};let BoxReference=class BoxReference extends BaseModel{constructor({app:ee,name:et}){super(),this.app=ee,this.name="string"==typeof et?new Uint8Array(e_.Buffer.from(et,"base64")):et,this.attribute_map={app:"app",name:"name"}}static from_obj_for_encoding(ee){if(void 0===ee.app)throw Error(`Response is missing required field 'app': ${ee}`);if(void 0===ee.name)throw Error(`Response is missing required field 'name': ${ee}`);return new BoxReference({app:ee.app,name:ee.name})}};let BoxesResponse=class BoxesResponse extends BaseModel{constructor({boxes:ee}){super(),this.boxes=ee,this.attribute_map={boxes:"boxes"}}static from_obj_for_encoding(ee){if(!Array.isArray(ee.boxes))throw Error(`Response is missing required array field 'boxes': ${ee}`);return new BoxesResponse({boxes:ee.boxes.map(BoxDescriptor.from_obj_for_encoding)})}};let BuildVersion=class BuildVersion extends BaseModel{constructor({branch:ee,buildNumber:et,channel:ei,commitHash:es,major:en,minor:eo}){super(),this.branch=ee,this.buildNumber=et,this.channel=ei,this.commitHash=es,this.major=en,this.minor=eo,this.attribute_map={branch:"branch",buildNumber:"build_number",channel:"channel",commitHash:"commit_hash",major:"major",minor:"minor"}}static from_obj_for_encoding(ee){if(void 0===ee.branch)throw Error(`Response is missing required field 'branch': ${ee}`);if(void 0===ee.build_number)throw Error(`Response is missing required field 'build_number': ${ee}`);if(void 0===ee.channel)throw Error(`Response is missing required field 'channel': ${ee}`);if(void 0===ee.commit_hash)throw Error(`Response is missing required field 'commit_hash': ${ee}`);if(void 0===ee.major)throw Error(`Response is missing required field 'major': ${ee}`);if(void 0===ee.minor)throw Error(`Response is missing required field 'minor': ${ee}`);return new BuildVersion({branch:ee.branch,buildNumber:ee.build_number,channel:ee.channel,commitHash:ee.commit_hash,major:ee.major,minor:ee.minor})}};let CompileResponse=class CompileResponse extends BaseModel{constructor({hash:ee,result:et,sourcemap:ei}){super(),this.hash=ee,this.result=et,this.sourcemap=ei,this.attribute_map={hash:"hash",result:"result",sourcemap:"sourcemap"}}static from_obj_for_encoding(ee){if(void 0===ee.hash)throw Error(`Response is missing required field 'hash': ${ee}`);if(void 0===ee.result)throw Error(`Response is missing required field 'result': ${ee}`);return new CompileResponse({hash:ee.hash,result:ee.result,sourcemap:ee.sourcemap})}};let DisassembleResponse=class DisassembleResponse extends BaseModel{constructor({result:ee}){super(),this.result=ee,this.attribute_map={result:"result"}}static from_obj_for_encoding(ee){if(void 0===ee.result)throw Error(`Response is missing required field 'result': ${ee}`);return new DisassembleResponse({result:ee.result})}};let DryrunRequest=class DryrunRequest extends BaseModel{constructor({accounts:ee,apps:et,latestTimestamp:ei,protocolVersion:es,round:en,sources:eo,txns:ea}){super(),this.accounts=ee,this.apps=et,this.latestTimestamp=ei,this.protocolVersion=es,this.round=en,this.sources=eo,this.txns=ea,this.attribute_map={accounts:"accounts",apps:"apps",latestTimestamp:"latest-timestamp",protocolVersion:"protocol-version",round:"round",sources:"sources",txns:"txns"}}static from_obj_for_encoding(ee){if(!Array.isArray(ee.accounts))throw Error(`Response is missing required array field 'accounts': ${ee}`);if(!Array.isArray(ee.apps))throw Error(`Response is missing required array field 'apps': ${ee}`);if(void 0===ee["latest-timestamp"])throw Error(`Response is missing required field 'latest-timestamp': ${ee}`);if(void 0===ee["protocol-version"])throw Error(`Response is missing required field 'protocol-version': ${ee}`);if(void 0===ee.round)throw Error(`Response is missing required field 'round': ${ee}`);if(!Array.isArray(ee.sources))throw Error(`Response is missing required array field 'sources': ${ee}`);if(!Array.isArray(ee.txns))throw Error(`Response is missing required array field 'txns': ${ee}`);return new DryrunRequest({accounts:ee.accounts.map(Account.from_obj_for_encoding),apps:ee.apps.map(Application.from_obj_for_encoding),latestTimestamp:ee["latest-timestamp"],protocolVersion:ee["protocol-version"],round:ee.round,sources:ee.sources.map(DryrunSource.from_obj_for_encoding),txns:ee.txns})}};let DryrunResponse=class DryrunResponse extends BaseModel{constructor({error:ee,protocolVersion:et,txns:ei}){super(),this.error=ee,this.protocolVersion=et,this.txns=ei,this.attribute_map={error:"error",protocolVersion:"protocol-version",txns:"txns"}}static from_obj_for_encoding(ee){if(void 0===ee.error)throw Error(`Response is missing required field 'error': ${ee}`);if(void 0===ee["protocol-version"])throw Error(`Response is missing required field 'protocol-version': ${ee}`);if(!Array.isArray(ee.txns))throw Error(`Response is missing required array field 'txns': ${ee}`);return new DryrunResponse({error:ee.error,protocolVersion:ee["protocol-version"],txns:ee.txns.map(DryrunTxnResult.from_obj_for_encoding)})}};let DryrunSource=class DryrunSource extends BaseModel{constructor({fieldName:ee,source:et,txnIndex:ei,appIndex:es}){super(),this.fieldName=ee,this.source=et,this.txnIndex=ei,this.appIndex=es,this.attribute_map={fieldName:"field-name",source:"source",txnIndex:"txn-index",appIndex:"app-index"}}static from_obj_for_encoding(ee){if(void 0===ee["field-name"])throw Error(`Response is missing required field 'field-name': ${ee}`);if(void 0===ee.source)throw Error(`Response is missing required field 'source': ${ee}`);if(void 0===ee["txn-index"])throw Error(`Response is missing required field 'txn-index': ${ee}`);if(void 0===ee["app-index"])throw Error(`Response is missing required field 'app-index': ${ee}`);return new DryrunSource({fieldName:ee["field-name"],source:ee.source,txnIndex:ee["txn-index"],appIndex:ee["app-index"]})}};let DryrunState=class DryrunState extends BaseModel{constructor({line:ee,pc:et,stack:ei,error:es,scratch:en}){super(),this.line=ee,this.pc=et,this.stack=ei,this.error=es,this.scratch=en,this.attribute_map={line:"line",pc:"pc",stack:"stack",error:"error",scratch:"scratch"}}static from_obj_for_encoding(ee){if(void 0===ee.line)throw Error(`Response is missing required field 'line': ${ee}`);if(void 0===ee.pc)throw Error(`Response is missing required field 'pc': ${ee}`);if(!Array.isArray(ee.stack))throw Error(`Response is missing required array field 'stack': ${ee}`);return new DryrunState({line:ee.line,pc:ee.pc,stack:ee.stack.map(TealValue.from_obj_for_encoding),error:ee.error,scratch:void 0!==ee.scratch?ee.scratch.map(TealValue.from_obj_for_encoding):void 0})}};let DryrunTxnResult=class DryrunTxnResult extends BaseModel{constructor({disassembly:ee,appCallMessages:et,appCallTrace:ei,budgetAdded:es,budgetConsumed:en,globalDelta:eo,localDeltas:ea,logicSigDisassembly:ec,logicSigMessages:el,logicSigTrace:eu,logs:ed}){super(),this.disassembly=ee,this.appCallMessages=et,this.appCallTrace=ei,this.budgetAdded=es,this.budgetConsumed=en,this.globalDelta=eo,this.localDeltas=ea,this.logicSigDisassembly=ec,this.logicSigMessages=el,this.logicSigTrace=eu,this.logs=ed,this.attribute_map={disassembly:"disassembly",appCallMessages:"app-call-messages",appCallTrace:"app-call-trace",budgetAdded:"budget-added",budgetConsumed:"budget-consumed",globalDelta:"global-delta",localDeltas:"local-deltas",logicSigDisassembly:"logic-sig-disassembly",logicSigMessages:"logic-sig-messages",logicSigTrace:"logic-sig-trace",logs:"logs"}}static from_obj_for_encoding(ee){if(!Array.isArray(ee.disassembly))throw Error(`Response is missing required array field 'disassembly': ${ee}`);return new DryrunTxnResult({disassembly:ee.disassembly,appCallMessages:ee["app-call-messages"],appCallTrace:void 0!==ee["app-call-trace"]?ee["app-call-trace"].map(DryrunState.from_obj_for_encoding):void 0,budgetAdded:ee["budget-added"],budgetConsumed:ee["budget-consumed"],globalDelta:void 0!==ee["global-delta"]?ee["global-delta"].map(EvalDeltaKeyValue.from_obj_for_encoding):void 0,localDeltas:void 0!==ee["local-deltas"]?ee["local-deltas"].map(AccountStateDelta.from_obj_for_encoding):void 0,logicSigDisassembly:ee["logic-sig-disassembly"],logicSigMessages:ee["logic-sig-messages"],logicSigTrace:void 0!==ee["logic-sig-trace"]?ee["logic-sig-trace"].map(DryrunState.from_obj_for_encoding):void 0,logs:ee.logs})}};let ErrorResponse=class ErrorResponse extends BaseModel{constructor({message:ee,data:et}){super(),this.message=ee,this.data=et,this.attribute_map={message:"message",data:"data"}}static from_obj_for_encoding(ee){if(void 0===ee.message)throw Error(`Response is missing required field 'message': ${ee}`);return new ErrorResponse({message:ee.message,data:ee.data})}};let EvalDelta=class EvalDelta extends BaseModel{constructor({action:ee,bytes:et,uint:ei}){super(),this.action=ee,this.bytes=et,this.uint=ei,this.attribute_map={action:"action",bytes:"bytes",uint:"uint"}}static from_obj_for_encoding(ee){if(void 0===ee.action)throw Error(`Response is missing required field 'action': ${ee}`);return new EvalDelta({action:ee.action,bytes:ee.bytes,uint:ee.uint})}};let EvalDeltaKeyValue=class EvalDeltaKeyValue extends BaseModel{constructor({key:ee,value:et}){super(),this.key=ee,this.value=et,this.attribute_map={key:"key",value:"value"}}static from_obj_for_encoding(ee){if(void 0===ee.key)throw Error(`Response is missing required field 'key': ${ee}`);if(void 0===ee.value)throw Error(`Response is missing required field 'value': ${ee}`);return new EvalDeltaKeyValue({key:ee.key,value:EvalDelta.from_obj_for_encoding(ee.value)})}};let GetBlockTimeStampOffsetResponse=class GetBlockTimeStampOffsetResponse extends BaseModel{constructor({offset:ee}){super(),this.offset=ee,this.attribute_map={offset:"offset"}}static from_obj_for_encoding(ee){if(void 0===ee.offset)throw Error(`Response is missing required field 'offset': ${ee}`);return new GetBlockTimeStampOffsetResponse({offset:ee.offset})}};let GetSyncRoundResponse=class GetSyncRoundResponse extends BaseModel{constructor({round:ee}){super(),this.round=ee,this.attribute_map={round:"round"}}static from_obj_for_encoding(ee){if(void 0===ee.round)throw Error(`Response is missing required field 'round': ${ee}`);return new GetSyncRoundResponse({round:ee.round})}};let KvDelta=class KvDelta extends BaseModel{constructor({key:ee,value:et}){super(),this.key="string"==typeof ee?new Uint8Array(e_.Buffer.from(ee,"base64")):ee,this.value="string"==typeof et?new Uint8Array(e_.Buffer.from(et,"base64")):et,this.attribute_map={key:"key",value:"value"}}static from_obj_for_encoding(ee){return new KvDelta({key:ee.key,value:ee.value})}};let LedgerStateDeltaForTransactionGroup=class LedgerStateDeltaForTransactionGroup extends BaseModel{constructor({delta:ee,ids:et}){super(),this.delta=ee,this.ids=et,this.attribute_map={delta:"Delta",ids:"Ids"}}static from_obj_for_encoding(ee){if(void 0===ee.Delta)throw Error(`Response is missing required field 'Delta': ${ee}`);if(!Array.isArray(ee.Ids))throw Error(`Response is missing required array field 'Ids': ${ee}`);return new LedgerStateDeltaForTransactionGroup({delta:ee.Delta,ids:ee.Ids})}};let LightBlockHeaderProof=class LightBlockHeaderProof extends BaseModel{constructor({index:ee,proof:et,treedepth:ei}){super(),this.index=ee,this.proof="string"==typeof et?new Uint8Array(e_.Buffer.from(et,"base64")):et,this.treedepth=ei,this.attribute_map={index:"index",proof:"proof",treedepth:"treedepth"}}static from_obj_for_encoding(ee){if(void 0===ee.index)throw Error(`Response is missing required field 'index': ${ee}`);if(void 0===ee.proof)throw Error(`Response is missing required field 'proof': ${ee}`);if(void 0===ee.treedepth)throw Error(`Response is missing required field 'treedepth': ${ee}`);return new LightBlockHeaderProof({index:ee.index,proof:ee.proof,treedepth:ee.treedepth})}};let NodeStatusResponse=class NodeStatusResponse extends BaseModel{constructor({catchupTime:ee,lastRound:et,lastVersion:ei,nextVersion:es,nextVersionRound:en,nextVersionSupported:eo,stoppedAtUnsupportedRound:ea,timeSinceLastRound:ec,catchpoint:el,catchpointAcquiredBlocks:eu,catchpointProcessedAccounts:ed,catchpointProcessedKvs:eh,catchpointTotalAccounts:ep,catchpointTotalBlocks:ef,catchpointTotalKvs:eg,catchpointVerifiedAccounts:em,catchpointVerifiedKvs:ey,lastCatchpoint:eb,upgradeDelay:e_,upgradeNextProtocolVoteBefore:ev,upgradeNoVotes:ew,upgradeNodeVote:ex,upgradeVoteRounds:eS,upgradeVotes:eE,upgradeVotesRequired:eA,upgradeYesVotes:eI}){super(),this.catchupTime=ee,this.lastRound=et,this.lastVersion=ei,this.nextVersion=es,this.nextVersionRound=en,this.nextVersionSupported=eo,this.stoppedAtUnsupportedRound=ea,this.timeSinceLastRound=ec,this.catchpoint=el,this.catchpointAcquiredBlocks=eu,this.catchpointProcessedAccounts=ed,this.catchpointProcessedKvs=eh,this.catchpointTotalAccounts=ep,this.catchpointTotalBlocks=ef,this.catchpointTotalKvs=eg,this.catchpointVerifiedAccounts=em,this.catchpointVerifiedKvs=ey,this.lastCatchpoint=eb,this.upgradeDelay=e_,this.upgradeNextProtocolVoteBefore=ev,this.upgradeNoVotes=ew,this.upgradeNodeVote=ex,this.upgradeVoteRounds=eS,this.upgradeVotes=eE,this.upgradeVotesRequired=eA,this.upgradeYesVotes=eI,this.attribute_map={catchupTime:"catchup-time",lastRound:"last-round",lastVersion:"last-version",nextVersion:"next-version",nextVersionRound:"next-version-round",nextVersionSupported:"next-version-supported",stoppedAtUnsupportedRound:"stopped-at-unsupported-round",timeSinceLastRound:"time-since-last-round",catchpoint:"catchpoint",catchpointAcquiredBlocks:"catchpoint-acquired-blocks",catchpointProcessedAccounts:"catchpoint-processed-accounts",catchpointProcessedKvs:"catchpoint-processed-kvs",catchpointTotalAccounts:"catchpoint-total-accounts",catchpointTotalBlocks:"catchpoint-total-blocks",catchpointTotalKvs:"catchpoint-total-kvs",catchpointVerifiedAccounts:"catchpoint-verified-accounts",catchpointVerifiedKvs:"catchpoint-verified-kvs",lastCatchpoint:"last-catchpoint",upgradeDelay:"upgrade-delay",upgradeNextProtocolVoteBefore:"upgrade-next-protocol-vote-before",upgradeNoVotes:"upgrade-no-votes",upgradeNodeVote:"upgrade-node-vote",upgradeVoteRounds:"upgrade-vote-rounds",upgradeVotes:"upgrade-votes",upgradeVotesRequired:"upgrade-votes-required",upgradeYesVotes:"upgrade-yes-votes"}}static from_obj_for_encoding(ee){if(void 0===ee["catchup-time"])throw Error(`Response is missing required field 'catchup-time': ${ee}`);if(void 0===ee["last-round"])throw Error(`Response is missing required field 'last-round': ${ee}`);if(void 0===ee["last-version"])throw Error(`Response is missing required field 'last-version': ${ee}`);if(void 0===ee["next-version"])throw Error(`Response is missing required field 'next-version': ${ee}`);if(void 0===ee["next-version-round"])throw Error(`Response is missing required field 'next-version-round': ${ee}`);if(void 0===ee["next-version-supported"])throw Error(`Response is missing required field 'next-version-supported': ${ee}`);if(void 0===ee["stopped-at-unsupported-round"])throw Error(`Response is missing required field 'stopped-at-unsupported-round': ${ee}`);if(void 0===ee["time-since-last-round"])throw Error(`Response is missing required field 'time-since-last-round': ${ee}`);return new NodeStatusResponse({catchupTime:ee["catchup-time"],lastRound:ee["last-round"],lastVersion:ee["last-version"],nextVersion:ee["next-version"],nextVersionRound:ee["next-version-round"],nextVersionSupported:ee["next-version-supported"],stoppedAtUnsupportedRound:ee["stopped-at-unsupported-round"],timeSinceLastRound:ee["time-since-last-round"],catchpoint:ee.catchpoint,catchpointAcquiredBlocks:ee["catchpoint-acquired-blocks"],catchpointProcessedAccounts:ee["catchpoint-processed-accounts"],catchpointProcessedKvs:ee["catchpoint-processed-kvs"],catchpointTotalAccounts:ee["catchpoint-total-accounts"],catchpointTotalBlocks:ee["catchpoint-total-blocks"],catchpointTotalKvs:ee["catchpoint-total-kvs"],catchpointVerifiedAccounts:ee["catchpoint-verified-accounts"],catchpointVerifiedKvs:ee["catchpoint-verified-kvs"],lastCatchpoint:ee["last-catchpoint"],upgradeDelay:ee["upgrade-delay"],upgradeNextProtocolVoteBefore:ee["upgrade-next-protocol-vote-before"],upgradeNoVotes:ee["upgrade-no-votes"],upgradeNodeVote:ee["upgrade-node-vote"],upgradeVoteRounds:ee["upgrade-vote-rounds"],upgradeVotes:ee["upgrade-votes"],upgradeVotesRequired:ee["upgrade-votes-required"],upgradeYesVotes:ee["upgrade-yes-votes"]})}};let PendingTransactionResponse=class PendingTransactionResponse extends BaseModel{constructor({poolError:ee,txn:et,applicationIndex:ei,assetClosingAmount:es,assetIndex:en,closeRewards:eo,closingAmount:ea,confirmedRound:ec,globalStateDelta:el,innerTxns:eu,localStateDelta:ed,logs:eh,receiverRewards:ep,senderRewards:ef}){super(),this.poolError=ee,this.txn=et,this.applicationIndex=ei,this.assetClosingAmount=es,this.assetIndex=en,this.closeRewards=eo,this.closingAmount=ea,this.confirmedRound=ec,this.globalStateDelta=el,this.innerTxns=eu,this.localStateDelta=ed,this.logs=eh,this.receiverRewards=ep,this.senderRewards=ef,this.attribute_map={poolError:"pool-error",txn:"txn",applicationIndex:"application-index",assetClosingAmount:"asset-closing-amount",assetIndex:"asset-index",closeRewards:"close-rewards",closingAmount:"closing-amount",confirmedRound:"confirmed-round",globalStateDelta:"global-state-delta",innerTxns:"inner-txns",localStateDelta:"local-state-delta",logs:"logs",receiverRewards:"receiver-rewards",senderRewards:"sender-rewards"}}static from_obj_for_encoding(ee){if(void 0===ee["pool-error"])throw Error(`Response is missing required field 'pool-error': ${ee}`);if(void 0===ee.txn)throw Error(`Response is missing required field 'txn': ${ee}`);return new PendingTransactionResponse({poolError:ee["pool-error"],txn:ee.txn,applicationIndex:ee["application-index"],assetClosingAmount:ee["asset-closing-amount"],assetIndex:ee["asset-index"],closeRewards:ee["close-rewards"],closingAmount:ee["closing-amount"],confirmedRound:ee["confirmed-round"],globalStateDelta:void 0!==ee["global-state-delta"]?ee["global-state-delta"].map(EvalDeltaKeyValue.from_obj_for_encoding):void 0,innerTxns:void 0!==ee["inner-txns"]?ee["inner-txns"].map(PendingTransactionResponse.from_obj_for_encoding):void 0,localStateDelta:void 0!==ee["local-state-delta"]?ee["local-state-delta"].map(AccountStateDelta.from_obj_for_encoding):void 0,logs:ee.logs,receiverRewards:ee["receiver-rewards"],senderRewards:ee["sender-rewards"]})}};let PendingTransactionsResponse=class PendingTransactionsResponse extends BaseModel{constructor({topTransactions:ee,totalTransactions:et}){super(),this.topTransactions=ee,this.totalTransactions=et,this.attribute_map={topTransactions:"top-transactions",totalTransactions:"total-transactions"}}static from_obj_for_encoding(ee){if(!Array.isArray(ee["top-transactions"]))throw Error(`Response is missing required array field 'top-transactions': ${ee}`);if(void 0===ee["total-transactions"])throw Error(`Response is missing required field 'total-transactions': ${ee}`);return new PendingTransactionsResponse({topTransactions:ee["top-transactions"],totalTransactions:ee["total-transactions"]})}};let PostTransactionsResponse=class PostTransactionsResponse extends BaseModel{constructor({txid:ee}){super(),this.txid=ee,this.attribute_map={txid:"txId"}}static from_obj_for_encoding(ee){if(void 0===ee.txId)throw Error(`Response is missing required field 'txId': ${ee}`);return new PostTransactionsResponse({txid:ee.txId})}};let ScratchChange=class ScratchChange extends BaseModel{constructor({newValue:ee,slot:et}){super(),this.newValue=ee,this.slot=et,this.attribute_map={newValue:"new-value",slot:"slot"}}static from_obj_for_encoding(ee){if(void 0===ee["new-value"])throw Error(`Response is missing required field 'new-value': ${ee}`);if(void 0===ee.slot)throw Error(`Response is missing required field 'slot': ${ee}`);return new ScratchChange({newValue:AvmValue.from_obj_for_encoding(ee["new-value"]),slot:ee.slot})}};let SimulateInitialStates=class SimulateInitialStates extends BaseModel{constructor({appInitialStates:ee}){super(),this.appInitialStates=ee,this.attribute_map={appInitialStates:"app-initial-states"}}static from_obj_for_encoding(ee){return new SimulateInitialStates({appInitialStates:void 0!==ee["app-initial-states"]?ee["app-initial-states"].map(ApplicationInitialStates.from_obj_for_encoding):void 0})}};let SimulateRequest=class SimulateRequest extends BaseModel{constructor({txnGroups:ee,allowEmptySignatures:et,allowMoreLogging:ei,allowUnnamedResources:es,execTraceConfig:en,extraOpcodeBudget:eo,fixSigners:ea,round:ec}){super(),this.txnGroups=ee,this.allowEmptySignatures=et,this.allowMoreLogging=ei,this.allowUnnamedResources=es,this.execTraceConfig=en,this.extraOpcodeBudget=eo,this.fixSigners=ea,this.round=ec,this.attribute_map={txnGroups:"txn-groups",allowEmptySignatures:"allow-empty-signatures",allowMoreLogging:"allow-more-logging",allowUnnamedResources:"allow-unnamed-resources",execTraceConfig:"exec-trace-config",extraOpcodeBudget:"extra-opcode-budget",fixSigners:"fix-signers",round:"round"}}static from_obj_for_encoding(ee){if(!Array.isArray(ee["txn-groups"]))throw Error(`Response is missing required array field 'txn-groups': ${ee}`);return new SimulateRequest({txnGroups:ee["txn-groups"].map(SimulateRequestTransactionGroup.from_obj_for_encoding),allowEmptySignatures:ee["allow-empty-signatures"],allowMoreLogging:ee["allow-more-logging"],allowUnnamedResources:ee["allow-unnamed-resources"],execTraceConfig:void 0!==ee["exec-trace-config"]?SimulateTraceConfig.from_obj_for_encoding(ee["exec-trace-config"]):void 0,extraOpcodeBudget:ee["extra-opcode-budget"],fixSigners:ee["fix-signers"],round:ee.round})}};let SimulateRequestTransactionGroup=class SimulateRequestTransactionGroup extends BaseModel{constructor({txns:ee}){super(),this.txns=ee,this.attribute_map={txns:"txns"}}static from_obj_for_encoding(ee){if(!Array.isArray(ee.txns))throw Error(`Response is missing required array field 'txns': ${ee}`);return new SimulateRequestTransactionGroup({txns:ee.txns})}};let SimulateResponse=class SimulateResponse extends BaseModel{constructor({lastRound:ee,txnGroups:et,version:ei,evalOverrides:es,execTraceConfig:en,initialStates:eo}){super(),this.lastRound=ee,this.txnGroups=et,this.version=ei,this.evalOverrides=es,this.execTraceConfig=en,this.initialStates=eo,this.attribute_map={lastRound:"last-round",txnGroups:"txn-groups",version:"version",evalOverrides:"eval-overrides",execTraceConfig:"exec-trace-config",initialStates:"initial-states"}}static from_obj_for_encoding(ee){if(void 0===ee["last-round"])throw Error(`Response is missing required field 'last-round': ${ee}`);if(!Array.isArray(ee["txn-groups"]))throw Error(`Response is missing required array field 'txn-groups': ${ee}`);if(void 0===ee.version)throw Error(`Response is missing required field 'version': ${ee}`);return new SimulateResponse({lastRound:ee["last-round"],txnGroups:ee["txn-groups"].map(SimulateTransactionGroupResult.from_obj_for_encoding),version:ee.version,evalOverrides:void 0!==ee["eval-overrides"]?SimulationEvalOverrides.from_obj_for_encoding(ee["eval-overrides"]):void 0,execTraceConfig:void 0!==ee["exec-trace-config"]?SimulateTraceConfig.from_obj_for_encoding(ee["exec-trace-config"]):void 0,initialStates:void 0!==ee["initial-states"]?SimulateInitialStates.from_obj_for_encoding(ee["initial-states"]):void 0})}};let SimulateTraceConfig=class SimulateTraceConfig extends BaseModel{constructor({enable:ee,scratchChange:et,stackChange:ei,stateChange:es}){super(),this.enable=ee,this.scratchChange=et,this.stackChange=ei,this.stateChange=es,this.attribute_map={enable:"enable",scratchChange:"scratch-change",stackChange:"stack-change",stateChange:"state-change"}}static from_obj_for_encoding(ee){return new SimulateTraceConfig({enable:ee.enable,scratchChange:ee["scratch-change"],stackChange:ee["stack-change"],stateChange:ee["state-change"]})}};let SimulateTransactionGroupResult=class SimulateTransactionGroupResult extends BaseModel{constructor({txnResults:ee,appBudgetAdded:et,appBudgetConsumed:ei,failedAt:es,failureMessage:en,unnamedResourcesAccessed:eo}){super(),this.txnResults=ee,this.appBudgetAdded=et,this.appBudgetConsumed=ei,this.failedAt=es,this.failureMessage=en,this.unnamedResourcesAccessed=eo,this.attribute_map={txnResults:"txn-results",appBudgetAdded:"app-budget-added",appBudgetConsumed:"app-budget-consumed",failedAt:"failed-at",failureMessage:"failure-message",unnamedResourcesAccessed:"unnamed-resources-accessed"}}static from_obj_for_encoding(ee){if(!Array.isArray(ee["txn-results"]))throw Error(`Response is missing required array field 'txn-results': ${ee}`);return new SimulateTransactionGroupResult({txnResults:ee["txn-results"].map(SimulateTransactionResult.from_obj_for_encoding),appBudgetAdded:ee["app-budget-added"],appBudgetConsumed:ee["app-budget-consumed"],failedAt:ee["failed-at"],failureMessage:ee["failure-message"],unnamedResourcesAccessed:void 0!==ee["unnamed-resources-accessed"]?SimulateUnnamedResourcesAccessed.from_obj_for_encoding(ee["unnamed-resources-accessed"]):void 0})}};let SimulateTransactionResult=class SimulateTransactionResult extends BaseModel{constructor({txnResult:ee,appBudgetConsumed:et,execTrace:ei,fixedSigner:es,logicSigBudgetConsumed:en,unnamedResourcesAccessed:eo}){super(),this.txnResult=ee,this.appBudgetConsumed=et,this.execTrace=ei,this.fixedSigner=es,this.logicSigBudgetConsumed=en,this.unnamedResourcesAccessed=eo,this.attribute_map={txnResult:"txn-result",appBudgetConsumed:"app-budget-consumed",execTrace:"exec-trace",fixedSigner:"fixed-signer",logicSigBudgetConsumed:"logic-sig-budget-consumed",unnamedResourcesAccessed:"unnamed-resources-accessed"}}static from_obj_for_encoding(ee){if(void 0===ee["txn-result"])throw Error(`Response is missing required field 'txn-result': ${ee}`);return new SimulateTransactionResult({txnResult:PendingTransactionResponse.from_obj_for_encoding(ee["txn-result"]),appBudgetConsumed:ee["app-budget-consumed"],execTrace:void 0!==ee["exec-trace"]?SimulationTransactionExecTrace.from_obj_for_encoding(ee["exec-trace"]):void 0,fixedSigner:ee["fixed-signer"],logicSigBudgetConsumed:ee["logic-sig-budget-consumed"],unnamedResourcesAccessed:void 0!==ee["unnamed-resources-accessed"]?SimulateUnnamedResourcesAccessed.from_obj_for_encoding(ee["unnamed-resources-accessed"]):void 0})}};let SimulateUnnamedResourcesAccessed=class SimulateUnnamedResourcesAccessed extends BaseModel{constructor({accounts:ee,appLocals:et,apps:ei,assetHoldings:es,assets:en,boxes:eo,extraBoxRefs:ea}){super(),this.accounts=ee,this.appLocals=et,this.apps=ei,this.assetHoldings=es,this.assets=en,this.boxes=eo,this.extraBoxRefs=ea,this.attribute_map={accounts:"accounts",appLocals:"app-locals",apps:"apps",assetHoldings:"asset-holdings",assets:"assets",boxes:"boxes",extraBoxRefs:"extra-box-refs"}}static from_obj_for_encoding(ee){return new SimulateUnnamedResourcesAccessed({accounts:ee.accounts,appLocals:void 0!==ee["app-locals"]?ee["app-locals"].map(ApplicationLocalReference.from_obj_for_encoding):void 0,apps:ee.apps,assetHoldings:void 0!==ee["asset-holdings"]?ee["asset-holdings"].map(AssetHoldingReference.from_obj_for_encoding):void 0,assets:ee.assets,boxes:void 0!==ee.boxes?ee.boxes.map(BoxReference.from_obj_for_encoding):void 0,extraBoxRefs:ee["extra-box-refs"]})}};let SimulationEvalOverrides=class SimulationEvalOverrides extends BaseModel{constructor({allowEmptySignatures:ee,allowUnnamedResources:et,extraOpcodeBudget:ei,fixSigners:es,maxLogCalls:en,maxLogSize:eo}){super(),this.allowEmptySignatures=ee,this.allowUnnamedResources=et,this.extraOpcodeBudget=ei,this.fixSigners=es,this.maxLogCalls=en,this.maxLogSize=eo,this.attribute_map={allowEmptySignatures:"allow-empty-signatures",allowUnnamedResources:"allow-unnamed-resources",extraOpcodeBudget:"extra-opcode-budget",fixSigners:"fix-signers",maxLogCalls:"max-log-calls",maxLogSize:"max-log-size"}}static from_obj_for_encoding(ee){return new SimulationEvalOverrides({allowEmptySignatures:ee["allow-empty-signatures"],allowUnnamedResources:ee["allow-unnamed-resources"],extraOpcodeBudget:ee["extra-opcode-budget"],fixSigners:ee["fix-signers"],maxLogCalls:ee["max-log-calls"],maxLogSize:ee["max-log-size"]})}};let SimulationOpcodeTraceUnit=class SimulationOpcodeTraceUnit extends BaseModel{constructor({pc:ee,scratchChanges:et,spawnedInners:ei,stackAdditions:es,stackPopCount:en,stateChanges:eo}){super(),this.pc=ee,this.scratchChanges=et,this.spawnedInners=ei,this.stackAdditions=es,this.stackPopCount=en,this.stateChanges=eo,this.attribute_map={pc:"pc",scratchChanges:"scratch-changes",spawnedInners:"spawned-inners",stackAdditions:"stack-additions",stackPopCount:"stack-pop-count",stateChanges:"state-changes"}}static from_obj_for_encoding(ee){if(void 0===ee.pc)throw Error(`Response is missing required field 'pc': ${ee}`);return new SimulationOpcodeTraceUnit({pc:ee.pc,scratchChanges:void 0!==ee["scratch-changes"]?ee["scratch-changes"].map(ScratchChange.from_obj_for_encoding):void 0,spawnedInners:ee["spawned-inners"],stackAdditions:void 0!==ee["stack-additions"]?ee["stack-additions"].map(AvmValue.from_obj_for_encoding):void 0,stackPopCount:ee["stack-pop-count"],stateChanges:void 0!==ee["state-changes"]?ee["state-changes"].map(ApplicationStateOperation.from_obj_for_encoding):void 0})}};let SimulationTransactionExecTrace=class SimulationTransactionExecTrace extends BaseModel{constructor({approvalProgramHash:ee,approvalProgramTrace:et,clearStateProgramHash:ei,clearStateProgramTrace:es,clearStateRollback:en,clearStateRollbackError:eo,innerTrace:ea,logicSigHash:ec,logicSigTrace:el}){super(),this.approvalProgramHash="string"==typeof ee?new Uint8Array(e_.Buffer.from(ee,"base64")):ee,this.approvalProgramTrace=et,this.clearStateProgramHash="string"==typeof ei?new Uint8Array(e_.Buffer.from(ei,"base64")):ei,this.clearStateProgramTrace=es,this.clearStateRollback=en,this.clearStateRollbackError=eo,this.innerTrace=ea,this.logicSigHash="string"==typeof ec?new Uint8Array(e_.Buffer.from(ec,"base64")):ec,this.logicSigTrace=el,this.attribute_map={approvalProgramHash:"approval-program-hash",approvalProgramTrace:"approval-program-trace",clearStateProgramHash:"clear-state-program-hash",clearStateProgramTrace:"clear-state-program-trace",clearStateRollback:"clear-state-rollback",clearStateRollbackError:"clear-state-rollback-error",innerTrace:"inner-trace",logicSigHash:"logic-sig-hash",logicSigTrace:"logic-sig-trace"}}static from_obj_for_encoding(ee){return new SimulationTransactionExecTrace({approvalProgramHash:ee["approval-program-hash"],approvalProgramTrace:void 0!==ee["approval-program-trace"]?ee["approval-program-trace"].map(SimulationOpcodeTraceUnit.from_obj_for_encoding):void 0,clearStateProgramHash:ee["clear-state-program-hash"],clearStateProgramTrace:void 0!==ee["clear-state-program-trace"]?ee["clear-state-program-trace"].map(SimulationOpcodeTraceUnit.from_obj_for_encoding):void 0,clearStateRollback:ee["clear-state-rollback"],clearStateRollbackError:ee["clear-state-rollback-error"],innerTrace:void 0!==ee["inner-trace"]?ee["inner-trace"].map(SimulationTransactionExecTrace.from_obj_for_encoding):void 0,logicSigHash:ee["logic-sig-hash"],logicSigTrace:void 0!==ee["logic-sig-trace"]?ee["logic-sig-trace"].map(SimulationOpcodeTraceUnit.from_obj_for_encoding):void 0})}};let StateProof=class StateProof extends BaseModel{constructor({message:ee,stateproof:et}){super(),this.message=ee,this.stateproof="string"==typeof et?new Uint8Array(e_.Buffer.from(et,"base64")):et,this.attribute_map={message:"Message",stateproof:"StateProof"}}static from_obj_for_encoding(ee){if(void 0===ee.Message)throw Error(`Response is missing required field 'Message': ${ee}`);if(void 0===ee.StateProof)throw Error(`Response is missing required field 'StateProof': ${ee}`);return new StateProof({message:StateProofMessage.from_obj_for_encoding(ee.Message),stateproof:ee.StateProof})}};let StateProofMessage=class StateProofMessage extends BaseModel{constructor({blockheaderscommitment:ee,firstattestedround:et,lastattestedround:ei,lnprovenweight:es,voterscommitment:en}){super(),this.blockheaderscommitment="string"==typeof ee?new Uint8Array(e_.Buffer.from(ee,"base64")):ee,this.firstattestedround=et,this.lastattestedround=ei,this.lnprovenweight=es,this.voterscommitment="string"==typeof en?new Uint8Array(e_.Buffer.from(en,"base64")):en,this.attribute_map={blockheaderscommitment:"BlockHeadersCommitment",firstattestedround:"FirstAttestedRound",lastattestedround:"LastAttestedRound",lnprovenweight:"LnProvenWeight",voterscommitment:"VotersCommitment"}}static from_obj_for_encoding(ee){if(void 0===ee.BlockHeadersCommitment)throw Error(`Response is missing required field 'BlockHeadersCommitment': ${ee}`);if(void 0===ee.FirstAttestedRound)throw Error(`Response is missing required field 'FirstAttestedRound': ${ee}`);if(void 0===ee.LastAttestedRound)throw Error(`Response is missing required field 'LastAttestedRound': ${ee}`);if(void 0===ee.LnProvenWeight)throw Error(`Response is missing required field 'LnProvenWeight': ${ee}`);if(void 0===ee.VotersCommitment)throw Error(`Response is missing required field 'VotersCommitment': ${ee}`);return new StateProofMessage({blockheaderscommitment:ee.BlockHeadersCommitment,firstattestedround:ee.FirstAttestedRound,lastattestedround:ee.LastAttestedRound,lnprovenweight:ee.LnProvenWeight,voterscommitment:ee.VotersCommitment})}};let SupplyResponse=class SupplyResponse extends BaseModel{constructor({currentRound:ee,onlineMoney:et,totalMoney:ei}){super(),this.currentRound=ee,this.onlineMoney=et,this.totalMoney=ei,this.attribute_map={currentRound:"current_round",onlineMoney:"online-money",totalMoney:"total-money"}}static from_obj_for_encoding(ee){if(void 0===ee.current_round)throw Error(`Response is missing required field 'current_round': ${ee}`);if(void 0===ee["online-money"])throw Error(`Response is missing required field 'online-money': ${ee}`);if(void 0===ee["total-money"])throw Error(`Response is missing required field 'total-money': ${ee}`);return new SupplyResponse({currentRound:ee.current_round,onlineMoney:ee["online-money"],totalMoney:ee["total-money"]})}};let TealKeyValue=class TealKeyValue extends BaseModel{constructor({key:ee,value:et}){super(),this.key=ee,this.value=et,this.attribute_map={key:"key",value:"value"}}static from_obj_for_encoding(ee){if(void 0===ee.key)throw Error(`Response is missing required field 'key': ${ee}`);if(void 0===ee.value)throw Error(`Response is missing required field 'value': ${ee}`);return new TealKeyValue({key:ee.key,value:TealValue.from_obj_for_encoding(ee.value)})}};let TealValue=class TealValue extends BaseModel{constructor({type:ee,bytes:et,uint:ei}){super(),this.type=ee,this.bytes=et,this.uint=ei,this.attribute_map={type:"type",bytes:"bytes",uint:"uint"}}static from_obj_for_encoding(ee){if(void 0===ee.type)throw Error(`Response is missing required field 'type': ${ee}`);if(void 0===ee.bytes)throw Error(`Response is missing required field 'bytes': ${ee}`);if(void 0===ee.uint)throw Error(`Response is missing required field 'uint': ${ee}`);return new TealValue({type:ee.type,bytes:ee.bytes,uint:ee.uint})}};let TransactionGroupLedgerStateDeltasForRoundResponse=class TransactionGroupLedgerStateDeltasForRoundResponse extends BaseModel{constructor({deltas:ee}){super(),this.deltas=ee,this.attribute_map={deltas:"Deltas"}}static from_obj_for_encoding(ee){if(!Array.isArray(ee.Deltas))throw Error(`Response is missing required array field 'Deltas': ${ee}`);return new TransactionGroupLedgerStateDeltasForRoundResponse({deltas:ee.Deltas.map(LedgerStateDeltaForTransactionGroup.from_obj_for_encoding)})}};let TransactionParametersResponse=class TransactionParametersResponse extends BaseModel{constructor({consensusVersion:ee,fee:et,genesisHash:ei,genesisId:es,lastRound:en,minFee:eo}){super(),this.consensusVersion=ee,this.fee=et,this.genesisHash="string"==typeof ei?new Uint8Array(e_.Buffer.from(ei,"base64")):ei,this.genesisId=es,this.lastRound=en,this.minFee=eo,this.attribute_map={consensusVersion:"consensus-version",fee:"fee",genesisHash:"genesis-hash",genesisId:"genesis-id",lastRound:"last-round",minFee:"min-fee"}}static from_obj_for_encoding(ee){if(void 0===ee["consensus-version"])throw Error(`Response is missing required field 'consensus-version': ${ee}`);if(void 0===ee.fee)throw Error(`Response is missing required field 'fee': ${ee}`);if(void 0===ee["genesis-hash"])throw Error(`Response is missing required field 'genesis-hash': ${ee}`);if(void 0===ee["genesis-id"])throw Error(`Response is missing required field 'genesis-id': ${ee}`);if(void 0===ee["last-round"])throw Error(`Response is missing required field 'last-round': ${ee}`);if(void 0===ee["min-fee"])throw Error(`Response is missing required field 'min-fee': ${ee}`);return new TransactionParametersResponse({consensusVersion:ee["consensus-version"],fee:ee.fee,genesisHash:ee["genesis-hash"],genesisId:ee["genesis-id"],lastRound:ee["last-round"],minFee:ee["min-fee"]})}};let TransactionProofResponse=class TransactionProofResponse extends BaseModel{constructor({idx:ee,proof:et,stibhash:ei,treedepth:es,hashtype:en}){super(),this.idx=ee,this.proof="string"==typeof et?new Uint8Array(e_.Buffer.from(et,"base64")):et,this.stibhash="string"==typeof ei?new Uint8Array(e_.Buffer.from(ei,"base64")):ei,this.treedepth=es,this.hashtype=en,this.attribute_map={idx:"idx",proof:"proof",stibhash:"stibhash",treedepth:"treedepth",hashtype:"hashtype"}}static from_obj_for_encoding(ee){if(void 0===ee.idx)throw Error(`Response is missing required field 'idx': ${ee}`);if(void 0===ee.proof)throw Error(`Response is missing required field 'proof': ${ee}`);if(void 0===ee.stibhash)throw Error(`Response is missing required field 'stibhash': ${ee}`);if(void 0===ee.treedepth)throw Error(`Response is missing required field 'treedepth': ${ee}`);return new TransactionProofResponse({idx:ee.idx,proof:ee.proof,stibhash:ee.stibhash,treedepth:ee.treedepth,hashtype:ee.hashtype})}};let Version=class Version extends BaseModel{constructor({build:ee,genesisHashB64:et,genesisId:ei,versions:es}){super(),this.build=ee,this.genesisHashB64="string"==typeof et?new Uint8Array(e_.Buffer.from(et,"base64")):et,this.genesisId=ei,this.versions=es,this.attribute_map={build:"build",genesisHashB64:"genesis_hash_b64",genesisId:"genesis_id",versions:"versions"}}static from_obj_for_encoding(ee){if(void 0===ee.build)throw Error(`Response is missing required field 'build': ${ee}`);if(void 0===ee.genesis_hash_b64)throw Error(`Response is missing required field 'genesis_hash_b64': ${ee}`);if(void 0===ee.genesis_id)throw Error(`Response is missing required field 'genesis_id': ${ee}`);if(!Array.isArray(ee.versions))throw Error(`Response is missing required array field 'versions': ${ee}`);return new Version({build:BuildVersion.from_obj_for_encoding(ee.build),genesisHashB64:ee.genesis_hash_b64,genesisId:ee.genesis_id,versions:ee.versions})}};let JSONRequest=class JSONRequest{constructor(ee,et){this.c=ee,this.query={},this.intDecoding=et||eI.DEFAULT}prepare(ee){return ee}async do(ee={}){let et={};"default"!==this.intDecoding&&(et.intDecoding=this.intDecoding);let ei=await this.c.get(this.path(),this.query,ee,et);return this.prepare(ei.body)}async doRaw(ee={}){let et=await this.c.get(this.path(),this.query,ee,{},!1);return et.body}setIntDecoding(ee){if("default"!==ee&&"safe"!==ee&&"mixed"!==ee&&"bigint"!==ee)throw Error(`Invalid method for int decoding: ${ee}`);return this.intDecoding=ee,this}};let AccountInformation=class AccountInformation extends JSONRequest{constructor(ee,et,ei){super(ee,et),this.account=ei,this.account=ei}path(){return`/v2/accounts/${this.account}`}exclude(ee){return this.query.exclude=ee,this}};let AccountAssetInformation=class AccountAssetInformation extends JSONRequest{constructor(ee,et,ei,es){super(ee,et),this.account=ei,this.assetID=es,this.account=ei,this.assetID=es}path(){return`/v2/accounts/${this.account}/assets/${this.assetID}`}};let AccountApplicationInformation=class AccountApplicationInformation extends JSONRequest{constructor(ee,et,ei,es){super(ee,et),this.account=ei,this.applicationID=es,this.account=ei,this.applicationID=es}path(){return`/v2/accounts/${this.account}/applications/${this.applicationID}`}};let Block=class Block extends JSONRequest{constructor(ee,et){if(super(ee),!Number.isInteger(et))throw Error("roundNumber should be an integer");this.round=et,this.query={format:"msgpack"}}path(){return`/v2/blocks/${this.round}`}prepare(ee){if(ee&&ee.byteLength>0)return decode(ee)}};function setHeaders(ee={}){let et=ee;return Object.keys(et).every(ee=>"content-type"!==ee.toLowerCase())&&((et={...ee})["Content-Type"]="text/plain"),et}let Compile=class Compile extends JSONRequest{constructor(ee,et){super(ee),this.source=et,this.source=et}path(){return"/v2/teal/compile"}sourcemap(ee=!0){return this.query.sourcemap=ee,this}async do(ee={}){let et=setHeaders(ee),ei=await this.c.post(this.path(),e_.Buffer.from(this.source),et,this.query);return ei.body}};let Dryrun=class Dryrun extends JSONRequest{constructor(ee,et){super(ee),this.blob=encode(et.get_obj_for_encoding(!0))}path(){return"/v2/teal/dryrun"}async do(ee={}){let et=setHeaders(ee),ei=await this.c.post(this.path(),e_.Buffer.from(this.blob),et);return ei.body}};let Genesis=class Genesis extends JSONRequest{path(){return"/genesis"}};let GetAssetByID=class GetAssetByID extends JSONRequest{constructor(ee,et,ei){super(ee,et),this.index=ei,this.index=ei}path(){return`/v2/assets/${this.index}`}};let GetApplicationByID=class GetApplicationByID extends JSONRequest{constructor(ee,et,ei){super(ee,et),this.index=ei,this.index=ei}path(){return`/v2/applications/${this.index}`}};let GetBlockHash=class GetBlockHash extends JSONRequest{constructor(ee,et,ei){if(super(ee,et),!Number.isInteger(ei))throw Error("roundNumber should be an integer");this.round=ei}path(){return`/v2/blocks/${this.round}/hash`}};let GetBlockTxids=class GetBlockTxids extends JSONRequest{constructor(ee,et,ei){if(super(ee,et),!Number.isInteger(ei))throw Error("roundNumber should be an integer");this.round=ei}path(){return`/v2/blocks/${this.round}/txids`}};let GetApplicationBoxByName=class GetApplicationBoxByName extends JSONRequest{constructor(ee,et,ei,es){super(ee,et),this.index=ei,this.index=ei;let en=e_.Buffer.from(es).toString("base64");this.query.name=encodeURI(`b64:${en}`)}path(){return`/v2/applications/${this.index}/box`}prepare(ee){return Box.from_obj_for_encoding(ee)}};let GetApplicationBoxes=class GetApplicationBoxes extends JSONRequest{constructor(ee,et,ei){super(ee,et),this.index=ei,this.index=ei,this.query.max=0}path(){return`/v2/applications/${this.index}/boxes`}max(ee){return this.query.max=ee,this}prepare(ee){return BoxesResponse.from_obj_for_encoding(ee)}};let HealthCheck=class HealthCheck extends JSONRequest{path(){return"/health"}async do(ee={}){let et=await this.c.get(this.path(),{},ee);if(!et.ok)throw Error(`Health response: ${et.status}`);return{}}};let PendingTransactionInformation=class PendingTransactionInformation extends JSONRequest{constructor(ee,et){super(ee),this.txid=et,this.txid=et,this.query.format="msgpack"}prepare(ee){if(ee&&ee.byteLength>0)return decode(ee)}path(){return`/v2/transactions/pending/${this.txid}`}max(ee){return this.query.max=ee,this}};let PendingTransactions=class PendingTransactions extends JSONRequest{constructor(ee){super(ee),this.query.format="msgpack"}path(){return"/v2/transactions/pending"}prepare(ee){if(ee&&ee.byteLength>0)return decode(ee)}max(ee){return this.query.max=ee,this}};let PendingTransactionsByAddress=class PendingTransactionsByAddress extends JSONRequest{constructor(ee,et){super(ee),this.address=et,this.address=et,this.query.format="msgpack"}prepare(ee){if(ee&&ee.byteLength>0)return decode(ee)}path(){return`/v2/accounts/${this.address}/transactions/pending`}max(ee){return this.query.max=ee,this}};let GetTransactionProof=class GetTransactionProof extends JSONRequest{constructor(ee,et,ei,es){super(ee,et),this.round=ei,this.txID=es,this.round=ei,this.txID=es}path(){return`/v2/blocks/${this.round}/transactions/${this.txID}/proof`}hashType(ee){return this.query.hashtype=ee,this}};function isByteArray(ee){return ee&&void 0!==ee.byteLength}let SendRawTransaction=class SendRawTransaction extends JSONRequest{constructor(ee,et){super(ee);let ei=et;if(Array.isArray(et)){if(!et.every(isByteArray))throw TypeError("Array elements must be byte arrays");ei=concatArrays(...et)}else if(!isByteArray(ei))throw TypeError("Argument must be byte array");this.txnBytesToPost=ei}path(){return"/v2/transactions"}async do(ee={}){let et=function(ee={}){let et=ee;return Object.keys(et).every(ee=>"content-type"!==ee.toLowerCase())&&((et={...ee})["Content-Type"]="application/x-binary"),et}(ee),ei=await this.c.post(this.path(),e_.Buffer.from(this.txnBytesToPost),et);return ei.body}};let Status=class Status extends JSONRequest{path(){return"/v2/status"}};let StatusAfterBlock=class StatusAfterBlock extends JSONRequest{constructor(ee,et,ei){if(super(ee,et),this.round=ei,!Number.isInteger(ei))throw Error("round should be an integer");this.round=ei}path(){return`/v2/status/wait-for-block-after/${this.round}`}};let SuggestedParamsRequest=class SuggestedParamsRequest extends JSONRequest{path(){return"/v2/transactions/params"}prepare(ee){return{flatFee:!1,fee:ee.fee,firstRound:ee["last-round"],lastRound:ee["last-round"]+1e3,genesisID:ee["genesis-id"],genesisHash:ee["genesis-hash"],minFee:ee["min-fee"]}}};let Supply=class Supply extends JSONRequest{path(){return"/v2/ledger/supply"}};let Versions=class Versions extends JSONRequest{path(){return"/versions"}};let lightBlockHeaderProof_LightBlockHeaderProof=class lightBlockHeaderProof_LightBlockHeaderProof extends JSONRequest{constructor(ee,et,ei){super(ee,et),this.round=ei,this.round=ei}path(){return`/v2/blocks/${this.round}/lightheader/proof`}};let stateproof_StateProof=class stateproof_StateProof extends JSONRequest{constructor(ee,et,ei){super(ee,et),this.round=ei,this.round=ei}path(){return`/v2/stateproofs/${this.round}`}};let SetSyncRound=class SetSyncRound extends JSONRequest{constructor(ee,et,ei){super(ee,et),this.round=ei,this.round=ei}path(){return`/v2/ledger/sync/${this.round}`}async do(ee={}){let et=await this.c.post(this.path(),ee);return et.body}};let GetSyncRound=class GetSyncRound extends JSONRequest{path(){return"/v2/ledger/sync"}prepare(ee){return GetSyncRoundResponse.from_obj_for_encoding(ee)}};let SetBlockOffsetTimestamp=class SetBlockOffsetTimestamp extends JSONRequest{constructor(ee,et,ei){super(ee,et),this.offset=ei,this.offset=ei}path(){return`/v2/devmode/blocks/offset/${this.offset}`}async do(ee={}){let et=await this.c.post(this.path(),ee);return et.body}};let GetBlockOffsetTimestamp=class GetBlockOffsetTimestamp extends JSONRequest{path(){return"/v2/devmode/blocks/offset"}prepare(ee){return GetBlockTimeStampOffsetResponse.from_obj_for_encoding(ee)}};let Disassemble=class Disassemble extends JSONRequest{constructor(ee,et){super(ee),this.source=et,this.source=et}path(){return"/v2/teal/disassemble"}async do(ee={}){let et=function(ee={}){let et=ee;return Object.keys(et).every(ee=>"content-type"!==ee.toLowerCase())&&((et={...ee})["Content-Type"]="text/plain"),et}(ee),ei=await this.c.post(this.path(),e_.Buffer.from(this.source),et,this.query);return ei.body}};let SimulateRawTransactions=class SimulateRawTransactions extends JSONRequest{constructor(ee,et){super(ee),this.query.format="msgpack",this.requestBytes=rawEncode(et.get_obj_for_encoding(!0))}path(){return"/v2/transactions/simulate"}async do(ee={}){let et=function(ee={}){let et=ee;return Object.keys(et).every(ee=>"content-type"!==ee.toLowerCase())&&((et={...ee})["Content-Type"]="application/msgpack"),et}(ee),ei=await this.c.post(this.path(),e_.Buffer.from(this.requestBytes),et,this.query,!1);return this.prepare(ei.body)}prepare(ee){let et=decode(ee);return SimulateResponse.from_obj_for_encoding(et)}};let Ready=class Ready extends JSONRequest{path(){return"/ready"}};let UnsetSyncRound=class UnsetSyncRound extends JSONRequest{path(){return"/v2/ledger/sync"}async do(ee={}){let et=await this.c.delete(this.path(),ee);return et.body}};let GetLedgerStateDeltaForTransactionGroup=class GetLedgerStateDeltaForTransactionGroup extends JSONRequest{constructor(ee,et,ei){super(ee,et),this.id=ei,this.id=ei,this.query={format:"json"}}path(){return`/v2/deltas/txn/group/${this.id}`}};let GetLedgerStateDelta=class GetLedgerStateDelta extends JSONRequest{constructor(ee,et,ei){super(ee,et),this.round=ei,this.round=ei,this.query={format:"json"}}path(){return`/v2/deltas/${this.round}`}};let GetTransactionGroupLedgerStateDeltasForRound=class GetTransactionGroupLedgerStateDeltasForRound extends JSONRequest{constructor(ee,et,ei){super(ee,et),this.round=ei,this.round=ei,this.query={format:"json"}}path(){return`/v2/deltas/${this.round}/txn/group`}prepare(ee){return TransactionGroupLedgerStateDeltasForRoundResponse.from_obj_for_encoding(ee)}};let AlgodClient=class AlgodClient extends ServiceClient{constructor(ee,et,ei,es={}){super("X-Algo-API-Token",ee,et,ei,es)}healthCheck(){return new HealthCheck(this.c)}versionsCheck(){return new Versions(this.c)}sendRawTransaction(ee){return new SendRawTransaction(this.c,ee)}accountInformation(ee){return new AccountInformation(this.c,this.intDecoding,ee)}accountAssetInformation(ee,et){return new AccountAssetInformation(this.c,this.intDecoding,ee,et)}accountApplicationInformation(ee,et){return new AccountApplicationInformation(this.c,this.intDecoding,ee,et)}block(ee){return new Block(this.c,ee)}getBlockHash(ee){return new GetBlockHash(this.c,this.intDecoding,ee)}getBlockTxids(ee){return new GetBlockTxids(this.c,this.intDecoding,ee)}pendingTransactionInformation(ee){return new PendingTransactionInformation(this.c,ee)}pendingTransactionsInformation(){return new PendingTransactions(this.c)}pendingTransactionByAddress(ee){return new PendingTransactionsByAddress(this.c,ee)}status(){return new Status(this.c,this.intDecoding)}statusAfterBlock(ee){return new StatusAfterBlock(this.c,this.intDecoding,ee)}getTransactionParams(){return new SuggestedParamsRequest(this.c)}supply(){return new Supply(this.c,this.intDecoding)}compile(ee){return new Compile(this.c,ee)}disassemble(ee){return new Disassemble(this.c,ee)}dryrun(ee){return new Dryrun(this.c,ee)}getAssetByID(ee){return new GetAssetByID(this.c,this.intDecoding,ee)}getApplicationByID(ee){return new GetApplicationByID(this.c,this.intDecoding,ee)}getApplicationBoxByName(ee,et){return new GetApplicationBoxByName(this.c,this.intDecoding,ee,et)}getApplicationBoxes(ee){return new GetApplicationBoxes(this.c,this.intDecoding,ee)}genesis(){return new Genesis(this.c,this.intDecoding)}getTransactionProof(ee,et){return new GetTransactionProof(this.c,this.intDecoding,ee,et)}getLightBlockHeaderProof(ee){return new lightBlockHeaderProof_LightBlockHeaderProof(this.c,this.intDecoding,ee)}getStateProof(ee){return new stateproof_StateProof(this.c,this.intDecoding,ee)}simulateRawTransactions(ee){let et=[];if(Array.isArray(ee))for(let ei of ee)et.push(decode(ei));else et.push(decode(ee));let ei=new SimulateRequest({txnGroups:[new SimulateRequestTransactionGroup({txns:et})]});return this.simulateTransactions(ei)}simulateTransactions(ee){return new SimulateRawTransactions(this.c,ee)}setBlockOffsetTimestamp(ee){return new SetBlockOffsetTimestamp(this.c,this.intDecoding,ee)}getBlockOffsetTimestamp(){return new GetBlockOffsetTimestamp(this.c,this.intDecoding)}setSyncRound(ee){return new SetSyncRound(this.c,this.intDecoding,ee)}unsetSyncRound(){return new UnsetSyncRound(this.c,this.intDecoding)}getSyncRound(){return new GetSyncRound(this.c,this.intDecoding)}ready(){return new Ready(this.c,this.intDecoding)}getLedgerStateDeltaForTransactionGroup(ee){return new GetLedgerStateDeltaForTransactionGroup(this.c,this.intDecoding,ee)}getLedgerStateDelta(ee){return new GetLedgerStateDelta(this.c,this.intDecoding,ee)}getTransactionGroupLedgerStateDeltasForRound(ee){return new GetTransactionGroupLedgerStateDeltasForRound(this.c,this.intDecoding,ee)}};let Kmd=class Kmd extends ServiceClient{constructor(ee,et="http://127.0.0.1",ei=7833,es={}){super("X-KMD-API-Token",ee,et,ei,es)}async versions(){let ee=await this.c.get("/versions");return ee.body}async listWallets(){let ee=await this.c.get("/v1/wallets");return ee.body}async createWallet(ee,et,ei=new Uint8Array,es="sqlite"){let en={wallet_name:ee,wallet_driver_name:es,wallet_password:et,master_derivation_key:e_.Buffer.from(ei).toString("base64")},eo=await this.c.post("/v1/wallet",en);return eo.body}async initWalletHandle(ee,et){let ei=await this.c.post("/v1/wallet/init",{wallet_id:ee,wallet_password:et});return ei.body}async releaseWalletHandle(ee){let et=await this.c.post("/v1/wallet/release",{wallet_handle_token:ee});return et.body}async renewWalletHandle(ee){let et=await this.c.post("/v1/wallet/renew",{wallet_handle_token:ee});return et.body}async renameWallet(ee,et,ei){let es=await this.c.post("/v1/wallet/rename",{wallet_id:ee,wallet_password:et,wallet_name:ei});return es.body}async getWallet(ee){let et=await this.c.post("/v1/wallet/info",{wallet_handle_token:ee});return et.body}async exportMasterDerivationKey(ee,et){let ei=await this.c.post("/v1/master-key/export",{wallet_handle_token:ee,wallet_password:et});return{master_derivation_key:e_.Buffer.from(ei.body.master_derivation_key,"base64")}}async importKey(ee,et){let ei={wallet_handle_token:ee,private_key:e_.Buffer.from(et).toString("base64")},es=await this.c.post("/v1/key/import",ei);return es.body}async exportKey(ee,et,ei){let es=await this.c.post("/v1/key/export",{wallet_handle_token:ee,address:ei,wallet_password:et});return{private_key:e_.Buffer.from(es.body.private_key,"base64")}}async generateKey(ee){let et=await this.c.post("/v1/key",{wallet_handle_token:ee,display_mnemonic:!1});return et.body}async deleteKey(ee,et,ei){let es=await this.c.delete("/v1/key",{wallet_handle_token:ee,address:ei,wallet_password:et});return es.body}async listKeys(ee){let et=await this.c.post("/v1/key/list",{wallet_handle_token:ee});return et.body}async signTransaction(ee,et,ei){let es=instantiateTxnIfNeeded(ei),en={wallet_handle_token:ee,wallet_password:et,transaction:e_.Buffer.from(es.toByte()).toString("base64")},eo=await this.c.post("/v1/transaction/sign",en);return 200===eo.status?e_.Buffer.from(eo.body.signed_transaction,"base64"):eo.body}async signTransactionWithSpecificPublicKey(ee,et,ei,es){let en=instantiateTxnIfNeeded(ei),eo={wallet_handle_token:ee,wallet_password:et,transaction:e_.Buffer.from(en.toByte()).toString("base64"),public_key:e_.Buffer.from(es).toString("base64")},ea=await this.c.post("/v1/transaction/sign",eo);return 200===ea.status?e_.Buffer.from(ea.body.signed_transaction,"base64"):ea.body}async listMultisig(ee){let et=await this.c.post("/v1/multisig/list",{wallet_handle_token:ee});return et.body}async importMultisig(ee,et,ei,es){let en=await this.c.post("/v1/multisig/import",{wallet_handle_token:ee,multisig_version:et,threshold:ei,pks:es});return en.body}async exportMultisig(ee,et){let ei=await this.c.post("/v1/multisig/export",{wallet_handle_token:ee,address:et});return ei.body}async signMultisigTransaction(ee,et,ei,es,en){let eo=instantiateTxnIfNeeded(ei),ea={wallet_handle_token:ee,transaction:e_.Buffer.from(eo.toByte()).toString("base64"),public_key:e_.Buffer.from(es).toString("base64"),partial_multisig:en,wallet_password:et},ec=await this.c.post("/v1/multisig/sign",ea);return ec.body}async deleteMultisig(ee,et,ei){let es=await this.c.delete("/v1/multisig",{wallet_handle_token:ee,address:ei,wallet_password:et});return es.body}};let MakeHealthCheck=class MakeHealthCheck extends JSONRequest{path(){return"/health"}};let LookupAssetBalances=class LookupAssetBalances extends JSONRequest{constructor(ee,et,ei){super(ee,et),this.index=ei,this.index=ei}path(){return`/v2/assets/${this.index}/balances`}limit(ee){return this.query.limit=ee,this}currencyGreaterThan(ee){return this.query["currency-greater-than"]=ee.toString(),this}currencyLessThan(ee){return this.query["currency-less-than"]=ee,this}nextToken(ee){return this.query.next=ee,this}includeAll(ee=!0){return this.query["include-all"]=ee,this}};function base64StringFunnel(ee){return"string"==typeof ee?ee:e_.Buffer.from(ee).toString("base64")}let LookupAccountTransactions=class LookupAccountTransactions extends JSONRequest{constructor(ee,et,ei){super(ee,et),this.account=ei,this.account=ei}path(){return`/v2/accounts/${this.account}/transactions`}notePrefix(ee){return this.query["note-prefix"]=base64StringFunnel(ee),this}txType(ee){return this.query["tx-type"]=ee,this}sigType(ee){return this.query["sig-type"]=ee,this}txid(ee){return this.query.txid=ee,this}round(ee){return this.query.round=ee,this}minRound(ee){return this.query["min-round"]=ee,this}maxRound(ee){return this.query["max-round"]=ee,this}assetID(ee){return this.query["asset-id"]=ee,this}limit(ee){return this.query.limit=ee,this}beforeTime(ee){return this.query["before-time"]=ee,this}afterTime(ee){return this.query["after-time"]=ee,this}currencyGreaterThan(ee){return this.query["currency-greater-than"]=ee.toString(),this}currencyLessThan(ee){return this.query["currency-less-than"]=ee,this}nextToken(ee){return this.query.next=ee,this}rekeyTo(ee){return this.query["rekey-to"]=ee,this}};let LookupAssetTransactions=class LookupAssetTransactions extends JSONRequest{constructor(ee,et,ei){super(ee,et),this.index=ei,this.index=ei}path(){return`/v2/assets/${this.index}/transactions`}notePrefix(ee){return this.query["note-prefix"]=base64StringFunnel(ee),this}txType(ee){return this.query["tx-type"]=ee,this}sigType(ee){return this.query["sig-type"]=ee,this}txid(ee){return this.query.txid=ee,this}round(ee){return this.query.round=ee,this}minRound(ee){return this.query["min-round"]=ee,this}maxRound(ee){return this.query["max-round"]=ee,this}limit(ee){return this.query.limit=ee,this}beforeTime(ee){return this.query["before-time"]=ee,this}afterTime(ee){return this.query["after-time"]=ee,this}currencyGreaterThan(ee){return this.query["currency-greater-than"]=ee.toString(),this}currencyLessThan(ee){return this.query["currency-less-than"]=ee,this}addressRole(ee){return this.query["address-role"]=ee,this}address(ee){return this.query.address=ee,this}excludeCloseTo(ee){return this.query["exclude-close-to"]=ee,this}nextToken(ee){return this.query.next=ee,this}rekeyTo(ee){return this.query["rekey-to"]=ee,this}};let LookupBlock=class LookupBlock extends JSONRequest{constructor(ee,et,ei){super(ee,et),this.round=ei,this.round=ei}path(){return`/v2/blocks/${this.round}`}headerOnly(ee){return this.query["header-only"]=ee,this}};let LookupTransactionByID=class LookupTransactionByID extends JSONRequest{constructor(ee,et,ei){super(ee,et),this.txID=ei,this.txID=ei}path(){return`/v2/transactions/${this.txID}`}};let LookupAccountByID=class LookupAccountByID extends JSONRequest{constructor(ee,et,ei){super(ee,et),this.account=ei,this.account=ei}path(){return`/v2/accounts/${this.account}`}round(ee){return this.query.round=ee,this}includeAll(ee=!0){return this.query["include-all"]=ee,this}exclude(ee){return this.query.exclude=ee,this}};let LookupAccountAssets=class LookupAccountAssets extends JSONRequest{constructor(ee,et,ei){super(ee,et),this.account=ei,this.account=ei}path(){return`/v2/accounts/${this.account}/assets`}limit(ee){return this.query.limit=ee,this}round(ee){return this.query.round=ee,this}nextToken(ee){return this.query.next=ee,this}includeAll(ee=!0){return this.query["include-all"]=ee,this}assetId(ee){return this.query["asset-id"]=ee,this}};let LookupAccountCreatedAssets=class LookupAccountCreatedAssets extends JSONRequest{constructor(ee,et,ei){super(ee,et),this.account=ei,this.account=ei}path(){return`/v2/accounts/${this.account}/created-assets`}limit(ee){return this.query.limit=ee,this}round(ee){return this.query.round=ee,this}nextToken(ee){return this.query.next=ee,this}includeAll(ee=!0){return this.query["include-all"]=ee,this}assetID(ee){return this.query["asset-id"]=ee,this}};let LookupAccountAppLocalStates=class LookupAccountAppLocalStates extends JSONRequest{constructor(ee,et,ei){super(ee,et),this.account=ei,this.account=ei}path(){return`/v2/accounts/${this.account}/apps-local-state`}limit(ee){return this.query.limit=ee,this}round(ee){return this.query.round=ee,this}nextToken(ee){return this.query.next=ee,this}includeAll(ee=!0){return this.query["include-all"]=ee,this}applicationID(ee){return this.query["application-id"]=ee,this}};let LookupAccountCreatedApplications=class LookupAccountCreatedApplications extends JSONRequest{constructor(ee,et,ei){super(ee,et),this.account=ei,this.account=ei}path(){return`/v2/accounts/${this.account}/created-applications`}limit(ee){return this.query.limit=ee,this}round(ee){return this.query.round=ee,this}nextToken(ee){return this.query.next=ee,this}includeAll(ee=!0){return this.query["include-all"]=ee,this}applicationID(ee){return this.query["application-id"]=ee,this}};let LookupAssetByID=class LookupAssetByID extends JSONRequest{constructor(ee,et,ei){super(ee,et),this.index=ei,this.index=ei}path(){return`/v2/assets/${this.index}`}includeAll(ee=!0){return this.query["include-all"]=ee,this}};let LookupApplications=class LookupApplications extends JSONRequest{constructor(ee,et,ei){super(ee,et),this.index=ei,this.index=ei}path(){return`/v2/applications/${this.index}`}includeAll(ee=!0){return this.query["include-all"]=ee,this}};let LookupApplicationLogs=class LookupApplicationLogs extends JSONRequest{constructor(ee,et,ei){super(ee,et),this.appID=ei,this.appID=ei}path(){return`/v2/applications/${this.appID}/logs`}limit(ee){return this.query.limit=ee,this}minRound(ee){return this.query["min-round"]=ee,this}maxRound(ee){return this.query["max-round"]=ee,this}nextToken(ee){return this.query.next=ee,this}sender(ee){return this.query["sender-address"]=ee,this}txid(ee){return this.query.txid=ee,this}};let types_Account=class types_Account extends BaseModel{constructor({address:ee,amount:et,amountWithoutPendingRewards:ei,minBalance:es,pendingRewards:en,rewards:eo,round:ea,status:ec,totalAppsOptedIn:el,totalAssetsOptedIn:eu,totalBoxBytes:ed,totalBoxes:eh,totalCreatedApps:ep,totalCreatedAssets:ef,appsLocalState:eg,appsTotalExtraPages:em,appsTotalSchema:ey,assets:eb,authAddr:e_,closedAtRound:ev,createdApps:ew,createdAssets:ex,createdAtRound:eS,deleted:eE,incentiveEligible:eA,lastHeartbeat:eI,lastProposed:eT,participation:eR,rewardBase:eD,sigType:ek}){super(),this.address=ee,this.amount=et,this.amountWithoutPendingRewards=ei,this.minBalance=es,this.pendingRewards=en,this.rewards=eo,this.round=ea,this.status=ec,this.totalAppsOptedIn=el,this.totalAssetsOptedIn=eu,this.totalBoxBytes=ed,this.totalBoxes=eh,this.totalCreatedApps=ep,this.totalCreatedAssets=ef,this.appsLocalState=eg,this.appsTotalExtraPages=em,this.appsTotalSchema=ey,this.assets=eb,this.authAddr=e_,this.closedAtRound=ev,this.createdApps=ew,this.createdAssets=ex,this.createdAtRound=eS,this.deleted=eE,this.incentiveEligible=eA,this.lastHeartbeat=eI,this.lastProposed=eT,this.participation=eR,this.rewardBase=eD,this.sigType=ek,this.attribute_map={address:"address",amount:"amount",amountWithoutPendingRewards:"amount-without-pending-rewards",minBalance:"min-balance",pendingRewards:"pending-rewards",rewards:"rewards",round:"round",status:"status",totalAppsOptedIn:"total-apps-opted-in",totalAssetsOptedIn:"total-assets-opted-in",totalBoxBytes:"total-box-bytes",totalBoxes:"total-boxes",totalCreatedApps:"total-created-apps",totalCreatedAssets:"total-created-assets",appsLocalState:"apps-local-state",appsTotalExtraPages:"apps-total-extra-pages",appsTotalSchema:"apps-total-schema",assets:"assets",authAddr:"auth-addr",closedAtRound:"closed-at-round",createdApps:"created-apps",createdAssets:"created-assets",createdAtRound:"created-at-round",deleted:"deleted",incentiveEligible:"incentive-eligible",lastHeartbeat:"last-heartbeat",lastProposed:"last-proposed",participation:"participation",rewardBase:"reward-base",sigType:"sig-type"}}static from_obj_for_encoding(ee){if(void 0===ee.address)throw Error(`Response is missing required field 'address': ${ee}`);if(void 0===ee.amount)throw Error(`Response is missing required field 'amount': ${ee}`);if(void 0===ee["amount-without-pending-rewards"])throw Error(`Response is missing required field 'amount-without-pending-rewards': ${ee}`);if(void 0===ee["min-balance"])throw Error(`Response is missing required field 'min-balance': ${ee}`);if(void 0===ee["pending-rewards"])throw Error(`Response is missing required field 'pending-rewards': ${ee}`);if(void 0===ee.rewards)throw Error(`Response is missing required field 'rewards': ${ee}`);if(void 0===ee.round)throw Error(`Response is missing required field 'round': ${ee}`);if(void 0===ee.status)throw Error(`Response is missing required field 'status': ${ee}`);if(void 0===ee["total-apps-opted-in"])throw Error(`Response is missing required field 'total-apps-opted-in': ${ee}`);if(void 0===ee["total-assets-opted-in"])throw Error(`Response is missing required field 'total-assets-opted-in': ${ee}`);if(void 0===ee["total-box-bytes"])throw Error(`Response is missing required field 'total-box-bytes': ${ee}`);if(void 0===ee["total-boxes"])throw Error(`Response is missing required field 'total-boxes': ${ee}`);if(void 0===ee["total-created-apps"])throw Error(`Response is missing required field 'total-created-apps': ${ee}`);if(void 0===ee["total-created-assets"])throw Error(`Response is missing required field 'total-created-assets': ${ee}`);return new types_Account({address:ee.address,amount:ee.amount,amountWithoutPendingRewards:ee["amount-without-pending-rewards"],minBalance:ee["min-balance"],pendingRewards:ee["pending-rewards"],rewards:ee.rewards,round:ee.round,status:ee.status,totalAppsOptedIn:ee["total-apps-opted-in"],totalAssetsOptedIn:ee["total-assets-opted-in"],totalBoxBytes:ee["total-box-bytes"],totalBoxes:ee["total-boxes"],totalCreatedApps:ee["total-created-apps"],totalCreatedAssets:ee["total-created-assets"],appsLocalState:void 0!==ee["apps-local-state"]?ee["apps-local-state"].map(types_ApplicationLocalState.from_obj_for_encoding):void 0,appsTotalExtraPages:ee["apps-total-extra-pages"],appsTotalSchema:void 0!==ee["apps-total-schema"]?types_ApplicationStateSchema.from_obj_for_encoding(ee["apps-total-schema"]):void 0,assets:void 0!==ee.assets?ee.assets.map(types_AssetHolding.from_obj_for_encoding):void 0,authAddr:ee["auth-addr"],closedAtRound:ee["closed-at-round"],createdApps:void 0!==ee["created-apps"]?ee["created-apps"].map(types_Application.from_obj_for_encoding):void 0,createdAssets:void 0!==ee["created-assets"]?ee["created-assets"].map(types_Asset.from_obj_for_encoding):void 0,createdAtRound:ee["created-at-round"],deleted:ee.deleted,incentiveEligible:ee["incentive-eligible"],lastHeartbeat:ee["last-heartbeat"],lastProposed:ee["last-proposed"],participation:void 0!==ee.participation?types_AccountParticipation.from_obj_for_encoding(ee.participation):void 0,rewardBase:ee["reward-base"],sigType:ee["sig-type"]})}};let types_AccountParticipation=class types_AccountParticipation extends BaseModel{constructor({selectionParticipationKey:ee,voteFirstValid:et,voteKeyDilution:ei,voteLastValid:es,voteParticipationKey:en,stateProofKey:eo}){super(),this.selectionParticipationKey="string"==typeof ee?new Uint8Array(e_.Buffer.from(ee,"base64")):ee,this.voteFirstValid=et,this.voteKeyDilution=ei,this.voteLastValid=es,this.voteParticipationKey="string"==typeof en?new Uint8Array(e_.Buffer.from(en,"base64")):en,this.stateProofKey="string"==typeof eo?new Uint8Array(e_.Buffer.from(eo,"base64")):eo,this.attribute_map={selectionParticipationKey:"selection-participation-key",voteFirstValid:"vote-first-valid",voteKeyDilution:"vote-key-dilution",voteLastValid:"vote-last-valid",voteParticipationKey:"vote-participation-key",stateProofKey:"state-proof-key"}}static from_obj_for_encoding(ee){if(void 0===ee["selection-participation-key"])throw Error(`Response is missing required field 'selection-participation-key': ${ee}`);if(void 0===ee["vote-first-valid"])throw Error(`Response is missing required field 'vote-first-valid': ${ee}`);if(void 0===ee["vote-key-dilution"])throw Error(`Response is missing required field 'vote-key-dilution': ${ee}`);if(void 0===ee["vote-last-valid"])throw Error(`Response is missing required field 'vote-last-valid': ${ee}`);if(void 0===ee["vote-participation-key"])throw Error(`Response is missing required field 'vote-participation-key': ${ee}`);return new types_AccountParticipation({selectionParticipationKey:ee["selection-participation-key"],voteFirstValid:ee["vote-first-valid"],voteKeyDilution:ee["vote-key-dilution"],voteLastValid:ee["vote-last-valid"],voteParticipationKey:ee["vote-participation-key"],stateProofKey:ee["state-proof-key"]})}};let AccountResponse=class AccountResponse extends BaseModel{constructor({account:ee,currentRound:et}){super(),this.account=ee,this.currentRound=et,this.attribute_map={account:"account",currentRound:"current-round"}}static from_obj_for_encoding(ee){if(void 0===ee.account)throw Error(`Response is missing required field 'account': ${ee}`);if(void 0===ee["current-round"])throw Error(`Response is missing required field 'current-round': ${ee}`);return new AccountResponse({account:types_Account.from_obj_for_encoding(ee.account),currentRound:ee["current-round"]})}};let types_AccountStateDelta=class types_AccountStateDelta extends BaseModel{constructor({address:ee,delta:et}){super(),this.address=ee,this.delta=et,this.attribute_map={address:"address",delta:"delta"}}static from_obj_for_encoding(ee){if(void 0===ee.address)throw Error(`Response is missing required field 'address': ${ee}`);if(!Array.isArray(ee.delta))throw Error(`Response is missing required array field 'delta': ${ee}`);return new types_AccountStateDelta({address:ee.address,delta:ee.delta.map(types_EvalDeltaKeyValue.from_obj_for_encoding)})}};let AccountsResponse=class AccountsResponse extends BaseModel{constructor({accounts:ee,currentRound:et,nextToken:ei}){super(),this.accounts=ee,this.currentRound=et,this.nextToken=ei,this.attribute_map={accounts:"accounts",currentRound:"current-round",nextToken:"next-token"}}static from_obj_for_encoding(ee){if(!Array.isArray(ee.accounts))throw Error(`Response is missing required array field 'accounts': ${ee}`);if(void 0===ee["current-round"])throw Error(`Response is missing required field 'current-round': ${ee}`);return new AccountsResponse({accounts:ee.accounts.map(types_Account.from_obj_for_encoding),currentRound:ee["current-round"],nextToken:ee["next-token"]})}};let types_Application=class types_Application extends BaseModel{constructor({id:ee,params:et,createdAtRound:ei,deleted:es,deletedAtRound:en}){super(),this.id=ee,this.params=et,this.createdAtRound=ei,this.deleted=es,this.deletedAtRound=en,this.attribute_map={id:"id",params:"params",createdAtRound:"created-at-round",deleted:"deleted",deletedAtRound:"deleted-at-round"}}static from_obj_for_encoding(ee){if(void 0===ee.id)throw Error(`Response is missing required field 'id': ${ee}`);if(void 0===ee.params)throw Error(`Response is missing required field 'params': ${ee}`);return new types_Application({id:ee.id,params:types_ApplicationParams.from_obj_for_encoding(ee.params),createdAtRound:ee["created-at-round"],deleted:ee.deleted,deletedAtRound:ee["deleted-at-round"]})}};let types_ApplicationLocalState=class types_ApplicationLocalState extends BaseModel{constructor({id:ee,schema:et,closedOutAtRound:ei,deleted:es,keyValue:en,optedInAtRound:eo}){super(),this.id=ee,this.schema=et,this.closedOutAtRound=ei,this.deleted=es,this.keyValue=en,this.optedInAtRound=eo,this.attribute_map={id:"id",schema:"schema",closedOutAtRound:"closed-out-at-round",deleted:"deleted",keyValue:"key-value",optedInAtRound:"opted-in-at-round"}}static from_obj_for_encoding(ee){if(void 0===ee.id)throw Error(`Response is missing required field 'id': ${ee}`);if(void 0===ee.schema)throw Error(`Response is missing required field 'schema': ${ee}`);return new types_ApplicationLocalState({id:ee.id,schema:types_ApplicationStateSchema.from_obj_for_encoding(ee.schema),closedOutAtRound:ee["closed-out-at-round"],deleted:ee.deleted,keyValue:void 0!==ee["key-value"]?ee["key-value"].map(types_TealKeyValue.from_obj_for_encoding):void 0,optedInAtRound:ee["opted-in-at-round"]})}};let ApplicationLocalStatesResponse=class ApplicationLocalStatesResponse extends BaseModel{constructor({appsLocalStates:ee,currentRound:et,nextToken:ei}){super(),this.appsLocalStates=ee,this.currentRound=et,this.nextToken=ei,this.attribute_map={appsLocalStates:"apps-local-states",currentRound:"current-round",nextToken:"next-token"}}static from_obj_for_encoding(ee){if(!Array.isArray(ee["apps-local-states"]))throw Error(`Response is missing required array field 'apps-local-states': ${ee}`);if(void 0===ee["current-round"])throw Error(`Response is missing required field 'current-round': ${ee}`);return new ApplicationLocalStatesResponse({appsLocalStates:ee["apps-local-states"].map(types_ApplicationLocalState.from_obj_for_encoding),currentRound:ee["current-round"],nextToken:ee["next-token"]})}};let ApplicationLogData=class ApplicationLogData extends BaseModel{constructor({logs:ee,txid:et}){super(),this.logs=ee,this.txid=et,this.attribute_map={logs:"logs",txid:"txid"}}static from_obj_for_encoding(ee){if(!Array.isArray(ee.logs))throw Error(`Response is missing required array field 'logs': ${ee}`);if(void 0===ee.txid)throw Error(`Response is missing required field 'txid': ${ee}`);return new ApplicationLogData({logs:ee.logs,txid:ee.txid})}};let ApplicationLogsResponse=class ApplicationLogsResponse extends BaseModel{constructor({applicationId:ee,currentRound:et,logData:ei,nextToken:es}){super(),this.applicationId=ee,this.currentRound=et,this.logData=ei,this.nextToken=es,this.attribute_map={applicationId:"application-id",currentRound:"current-round",logData:"log-data",nextToken:"next-token"}}static from_obj_for_encoding(ee){if(void 0===ee["application-id"])throw Error(`Response is missing required field 'application-id': ${ee}`);if(void 0===ee["current-round"])throw Error(`Response is missing required field 'current-round': ${ee}`);return new ApplicationLogsResponse({applicationId:ee["application-id"],currentRound:ee["current-round"],logData:void 0!==ee["log-data"]?ee["log-data"].map(ApplicationLogData.from_obj_for_encoding):void 0,nextToken:ee["next-token"]})}};let types_ApplicationParams=class types_ApplicationParams extends BaseModel{constructor({approvalProgram:ee,clearStateProgram:et,creator:ei,extraProgramPages:es,globalState:en,globalStateSchema:eo,localStateSchema:ea}){super(),this.approvalProgram="string"==typeof ee?new Uint8Array(e_.Buffer.from(ee,"base64")):ee,this.clearStateProgram="string"==typeof et?new Uint8Array(e_.Buffer.from(et,"base64")):et,this.creator=ei,this.extraProgramPages=es,this.globalState=en,this.globalStateSchema=eo,this.localStateSchema=ea,this.attribute_map={approvalProgram:"approval-program",clearStateProgram:"clear-state-program",creator:"creator",extraProgramPages:"extra-program-pages",globalState:"global-state",globalStateSchema:"global-state-schema",localStateSchema:"local-state-schema"}}static from_obj_for_encoding(ee){if(void 0===ee["approval-program"])throw Error(`Response is missing required field 'approval-program': ${ee}`);if(void 0===ee["clear-state-program"])throw Error(`Response is missing required field 'clear-state-program': ${ee}`);return new types_ApplicationParams({approvalProgram:ee["approval-program"],clearStateProgram:ee["clear-state-program"],creator:ee.creator,extraProgramPages:ee["extra-program-pages"],globalState:void 0!==ee["global-state"]?ee["global-state"].map(types_TealKeyValue.from_obj_for_encoding):void 0,globalStateSchema:void 0!==ee["global-state-schema"]?types_ApplicationStateSchema.from_obj_for_encoding(ee["global-state-schema"]):void 0,localStateSchema:void 0!==ee["local-state-schema"]?types_ApplicationStateSchema.from_obj_for_encoding(ee["local-state-schema"]):void 0})}};let ApplicationResponse=class ApplicationResponse extends BaseModel{constructor({currentRound:ee,application:et}){super(),this.currentRound=ee,this.application=et,this.attribute_map={currentRound:"current-round",application:"application"}}static from_obj_for_encoding(ee){if(void 0===ee["current-round"])throw Error(`Response is missing required field 'current-round': ${ee}`);return new ApplicationResponse({currentRound:ee["current-round"],application:void 0!==ee.application?types_Application.from_obj_for_encoding(ee.application):void 0})}};let types_ApplicationStateSchema=class types_ApplicationStateSchema extends BaseModel{constructor({numByteSlice:ee,numUint:et}){super(),this.numByteSlice=ee,this.numUint=et,this.attribute_map={numByteSlice:"num-byte-slice",numUint:"num-uint"}}static from_obj_for_encoding(ee){if(void 0===ee["num-byte-slice"])throw Error(`Response is missing required field 'num-byte-slice': ${ee}`);if(void 0===ee["num-uint"])throw Error(`Response is missing required field 'num-uint': ${ee}`);return new types_ApplicationStateSchema({numByteSlice:ee["num-byte-slice"],numUint:ee["num-uint"]})}};let ApplicationsResponse=class ApplicationsResponse extends BaseModel{constructor({applications:ee,currentRound:et,nextToken:ei}){super(),this.applications=ee,this.currentRound=et,this.nextToken=ei,this.attribute_map={applications:"applications",currentRound:"current-round",nextToken:"next-token"}}static from_obj_for_encoding(ee){if(!Array.isArray(ee.applications))throw Error(`Response is missing required array field 'applications': ${ee}`);if(void 0===ee["current-round"])throw Error(`Response is missing required field 'current-round': ${ee}`);return new ApplicationsResponse({applications:ee.applications.map(types_Application.from_obj_for_encoding),currentRound:ee["current-round"],nextToken:ee["next-token"]})}};let types_Asset=class types_Asset extends BaseModel{constructor({index:ee,params:et,createdAtRound:ei,deleted:es,destroyedAtRound:en}){super(),this.index=ee,this.params=et,this.createdAtRound=ei,this.deleted=es,this.destroyedAtRound=en,this.attribute_map={index:"index",params:"params",createdAtRound:"created-at-round",deleted:"deleted",destroyedAtRound:"destroyed-at-round"}}static from_obj_for_encoding(ee){if(void 0===ee.index)throw Error(`Response is missing required field 'index': ${ee}`);if(void 0===ee.params)throw Error(`Response is missing required field 'params': ${ee}`);return new types_Asset({index:ee.index,params:types_AssetParams.from_obj_for_encoding(ee.params),createdAtRound:ee["created-at-round"],deleted:ee.deleted,destroyedAtRound:ee["destroyed-at-round"]})}};let AssetBalancesResponse=class AssetBalancesResponse extends BaseModel{constructor({balances:ee,currentRound:et,nextToken:ei}){super(),this.balances=ee,this.currentRound=et,this.nextToken=ei,this.attribute_map={balances:"balances",currentRound:"current-round",nextToken:"next-token"}}static from_obj_for_encoding(ee){if(!Array.isArray(ee.balances))throw Error(`Response is missing required array field 'balances': ${ee}`);if(void 0===ee["current-round"])throw Error(`Response is missing required field 'current-round': ${ee}`);return new AssetBalancesResponse({balances:ee.balances.map(MiniAssetHolding.from_obj_for_encoding),currentRound:ee["current-round"],nextToken:ee["next-token"]})}};let types_AssetHolding=class types_AssetHolding extends BaseModel{constructor({amount:ee,assetId:et,isFrozen:ei,deleted:es,optedInAtRound:en,optedOutAtRound:eo}){super(),this.amount=ee,this.assetId=et,this.isFrozen=ei,this.deleted=es,this.optedInAtRound=en,this.optedOutAtRound=eo,this.attribute_map={amount:"amount",assetId:"asset-id",isFrozen:"is-frozen",deleted:"deleted",optedInAtRound:"opted-in-at-round",optedOutAtRound:"opted-out-at-round"}}static from_obj_for_encoding(ee){if(void 0===ee.amount)throw Error(`Response is missing required field 'amount': ${ee}`);if(void 0===ee["asset-id"])throw Error(`Response is missing required field 'asset-id': ${ee}`);if(void 0===ee["is-frozen"])throw Error(`Response is missing required field 'is-frozen': ${ee}`);return new types_AssetHolding({amount:ee.amount,assetId:ee["asset-id"],isFrozen:ee["is-frozen"],deleted:ee.deleted,optedInAtRound:ee["opted-in-at-round"],optedOutAtRound:ee["opted-out-at-round"]})}};let AssetHoldingsResponse=class AssetHoldingsResponse extends BaseModel{constructor({assets:ee,currentRound:et,nextToken:ei}){super(),this.assets=ee,this.currentRound=et,this.nextToken=ei,this.attribute_map={assets:"assets",currentRound:"current-round",nextToken:"next-token"}}static from_obj_for_encoding(ee){if(!Array.isArray(ee.assets))throw Error(`Response is missing required array field 'assets': ${ee}`);if(void 0===ee["current-round"])throw Error(`Response is missing required field 'current-round': ${ee}`);return new AssetHoldingsResponse({assets:ee.assets.map(types_AssetHolding.from_obj_for_encoding),currentRound:ee["current-round"],nextToken:ee["next-token"]})}};let types_AssetParams=class types_AssetParams extends BaseModel{constructor({creator:ee,decimals:et,total:ei,clawback:es,defaultFrozen:en,freeze:eo,manager:ea,metadataHash:ec,name:el,nameB64:eu,reserve:ed,unitName:eh,unitNameB64:ep,url:ef,urlB64:eg}){super(),this.creator=ee,this.decimals=et,this.total=ei,this.clawback=es,this.defaultFrozen=en,this.freeze=eo,this.manager=ea,this.metadataHash="string"==typeof ec?new Uint8Array(e_.Buffer.from(ec,"base64")):ec,this.name=el,this.nameB64="string"==typeof eu?new Uint8Array(e_.Buffer.from(eu,"base64")):eu,this.reserve=ed,this.unitName=eh,this.unitNameB64="string"==typeof ep?new Uint8Array(e_.Buffer.from(ep,"base64")):ep,this.url=ef,this.urlB64="string"==typeof eg?new Uint8Array(e_.Buffer.from(eg,"base64")):eg,this.attribute_map={creator:"creator",decimals:"decimals",total:"total",clawback:"clawback",defaultFrozen:"default-frozen",freeze:"freeze",manager:"manager",metadataHash:"metadata-hash",name:"name",nameB64:"name-b64",reserve:"reserve",unitName:"unit-name",unitNameB64:"unit-name-b64",url:"url",urlB64:"url-b64"}}static from_obj_for_encoding(ee){if(void 0===ee.creator)throw Error(`Response is missing required field 'creator': ${ee}`);if(void 0===ee.decimals)throw Error(`Response is missing required field 'decimals': ${ee}`);if(void 0===ee.total)throw Error(`Response is missing required field 'total': ${ee}`);return new types_AssetParams({creator:ee.creator,decimals:ee.decimals,total:ee.total,clawback:ee.clawback,defaultFrozen:ee["default-frozen"],freeze:ee.freeze,manager:ee.manager,metadataHash:ee["metadata-hash"],name:ee.name,nameB64:ee["name-b64"],reserve:ee.reserve,unitName:ee["unit-name"],unitNameB64:ee["unit-name-b64"],url:ee.url,urlB64:ee["url-b64"]})}};let AssetResponse=class AssetResponse extends BaseModel{constructor({asset:ee,currentRound:et}){super(),this.asset=ee,this.currentRound=et,this.attribute_map={asset:"asset",currentRound:"current-round"}}static from_obj_for_encoding(ee){if(void 0===ee.asset)throw Error(`Response is missing required field 'asset': ${ee}`);if(void 0===ee["current-round"])throw Error(`Response is missing required field 'current-round': ${ee}`);return new AssetResponse({asset:types_Asset.from_obj_for_encoding(ee.asset),currentRound:ee["current-round"]})}};let AssetsResponse=class AssetsResponse extends BaseModel{constructor({assets:ee,currentRound:et,nextToken:ei}){super(),this.assets=ee,this.currentRound=et,this.nextToken=ei,this.attribute_map={assets:"assets",currentRound:"current-round",nextToken:"next-token"}}static from_obj_for_encoding(ee){if(!Array.isArray(ee.assets))throw Error(`Response is missing required array field 'assets': ${ee}`);if(void 0===ee["current-round"])throw Error(`Response is missing required field 'current-round': ${ee}`);return new AssetsResponse({assets:ee.assets.map(types_Asset.from_obj_for_encoding),currentRound:ee["current-round"],nextToken:ee["next-token"]})}};let types_Block=class types_Block extends BaseModel{constructor({genesisHash:ee,genesisId:et,previousBlockHash:ei,round:es,seed:en,timestamp:eo,transactionsRoot:ea,transactionsRootSha256:ec,bonus:el,feesCollected:eu,participationUpdates:ed,proposer:eh,proposerPayout:ep,rewards:ef,stateProofTracking:eg,transactions:em,txnCounter:ey,upgradeState:eb,upgradeVote:ev}){super(),this.genesisHash="string"==typeof ee?new Uint8Array(e_.Buffer.from(ee,"base64")):ee,this.genesisId=et,this.previousBlockHash="string"==typeof ei?new Uint8Array(e_.Buffer.from(ei,"base64")):ei,this.round=es,this.seed="string"==typeof en?new Uint8Array(e_.Buffer.from(en,"base64")):en,this.timestamp=eo,this.transactionsRoot="string"==typeof ea?new Uint8Array(e_.Buffer.from(ea,"base64")):ea,this.transactionsRootSha256="string"==typeof ec?new Uint8Array(e_.Buffer.from(ec,"base64")):ec,this.bonus=el,this.feesCollected=eu,this.participationUpdates=ed,this.proposer=eh,this.proposerPayout=ep,this.rewards=ef,this.stateProofTracking=eg,this.transactions=em,this.txnCounter=ey,this.upgradeState=eb,this.upgradeVote=ev,this.attribute_map={genesisHash:"genesis-hash",genesisId:"genesis-id",previousBlockHash:"previous-block-hash",round:"round",seed:"seed",timestamp:"timestamp",transactionsRoot:"transactions-root",transactionsRootSha256:"transactions-root-sha256",bonus:"bonus",feesCollected:"fees-collected",participationUpdates:"participation-updates",proposer:"proposer",proposerPayout:"proposer-payout",rewards:"rewards",stateProofTracking:"state-proof-tracking",transactions:"transactions",txnCounter:"txn-counter",upgradeState:"upgrade-state",upgradeVote:"upgrade-vote"}}static from_obj_for_encoding(ee){if(void 0===ee["genesis-hash"])throw Error(`Response is missing required field 'genesis-hash': ${ee}`);if(void 0===ee["genesis-id"])throw Error(`Response is missing required field 'genesis-id': ${ee}`);if(void 0===ee["previous-block-hash"])throw Error(`Response is missing required field 'previous-block-hash': ${ee}`);if(void 0===ee.round)throw Error(`Response is missing required field 'round': ${ee}`);if(void 0===ee.seed)throw Error(`Response is missing required field 'seed': ${ee}`);if(void 0===ee.timestamp)throw Error(`Response is missing required field 'timestamp': ${ee}`);if(void 0===ee["transactions-root"])throw Error(`Response is missing required field 'transactions-root': ${ee}`);if(void 0===ee["transactions-root-sha256"])throw Error(`Response is missing required field 'transactions-root-sha256': ${ee}`);return new types_Block({genesisHash:ee["genesis-hash"],genesisId:ee["genesis-id"],previousBlockHash:ee["previous-block-hash"],round:ee.round,seed:ee.seed,timestamp:ee.timestamp,transactionsRoot:ee["transactions-root"],transactionsRootSha256:ee["transactions-root-sha256"],bonus:ee.bonus,feesCollected:ee["fees-collected"],participationUpdates:void 0!==ee["participation-updates"]?ParticipationUpdates.from_obj_for_encoding(ee["participation-updates"]):void 0,proposer:ee.proposer,proposerPayout:ee["proposer-payout"],rewards:void 0!==ee.rewards?BlockRewards.from_obj_for_encoding(ee.rewards):void 0,stateProofTracking:void 0!==ee["state-proof-tracking"]?ee["state-proof-tracking"].map(StateProofTracking.from_obj_for_encoding):void 0,transactions:void 0!==ee.transactions?ee.transactions.map(types_Transaction.from_obj_for_encoding):void 0,txnCounter:ee["txn-counter"],upgradeState:void 0!==ee["upgrade-state"]?BlockUpgradeState.from_obj_for_encoding(ee["upgrade-state"]):void 0,upgradeVote:void 0!==ee["upgrade-vote"]?BlockUpgradeVote.from_obj_for_encoding(ee["upgrade-vote"]):void 0})}};let BlockHeadersResponse=class BlockHeadersResponse extends BaseModel{constructor({blocks:ee,currentRound:et,nextToken:ei}){super(),this.blocks=ee,this.currentRound=et,this.nextToken=ei,this.attribute_map={blocks:"blocks",currentRound:"current-round",nextToken:"next-token"}}static from_obj_for_encoding(ee){return new BlockHeadersResponse({blocks:void 0!==ee.blocks?ee.blocks.map(types_Block.from_obj_for_encoding):void 0,currentRound:ee["current-round"],nextToken:ee["next-token"]})}};let BlockRewards=class BlockRewards extends BaseModel{constructor({feeSink:ee,rewardsCalculationRound:et,rewardsLevel:ei,rewardsPool:es,rewardsRate:en,rewardsResidue:eo}){super(),this.feeSink=ee,this.rewardsCalculationRound=et,this.rewardsLevel=ei,this.rewardsPool=es,this.rewardsRate=en,this.rewardsResidue=eo,this.attribute_map={feeSink:"fee-sink",rewardsCalculationRound:"rewards-calculation-round",rewardsLevel:"rewards-level",rewardsPool:"rewards-pool",rewardsRate:"rewards-rate",rewardsResidue:"rewards-residue"}}static from_obj_for_encoding(ee){if(void 0===ee["fee-sink"])throw Error(`Response is missing required field 'fee-sink': ${ee}`);if(void 0===ee["rewards-calculation-round"])throw Error(`Response is missing required field 'rewards-calculation-round': ${ee}`);if(void 0===ee["rewards-level"])throw Error(`Response is missing required field 'rewards-level': ${ee}`);if(void 0===ee["rewards-pool"])throw Error(`Response is missing required field 'rewards-pool': ${ee}`);if(void 0===ee["rewards-rate"])throw Error(`Response is missing required field 'rewards-rate': ${ee}`);if(void 0===ee["rewards-residue"])throw Error(`Response is missing required field 'rewards-residue': ${ee}`);return new BlockRewards({feeSink:ee["fee-sink"],rewardsCalculationRound:ee["rewards-calculation-round"],rewardsLevel:ee["rewards-level"],rewardsPool:ee["rewards-pool"],rewardsRate:ee["rewards-rate"],rewardsResidue:ee["rewards-residue"]})}};let BlockUpgradeState=class BlockUpgradeState extends BaseModel{constructor({currentProtocol:ee,nextProtocol:et,nextProtocolApprovals:ei,nextProtocolSwitchOn:es,nextProtocolVoteBefore:en}){super(),this.currentProtocol=ee,this.nextProtocol=et,this.nextProtocolApprovals=ei,this.nextProtocolSwitchOn=es,this.nextProtocolVoteBefore=en,this.attribute_map={currentProtocol:"current-protocol",nextProtocol:"next-protocol",nextProtocolApprovals:"next-protocol-approvals",nextProtocolSwitchOn:"next-protocol-switch-on",nextProtocolVoteBefore:"next-protocol-vote-before"}}static from_obj_for_encoding(ee){if(void 0===ee["current-protocol"])throw Error(`Response is missing required field 'current-protocol': ${ee}`);return new BlockUpgradeState({currentProtocol:ee["current-protocol"],nextProtocol:ee["next-protocol"],nextProtocolApprovals:ee["next-protocol-approvals"],nextProtocolSwitchOn:ee["next-protocol-switch-on"],nextProtocolVoteBefore:ee["next-protocol-vote-before"]})}};let BlockUpgradeVote=class BlockUpgradeVote extends BaseModel{constructor({upgradeApprove:ee,upgradeDelay:et,upgradePropose:ei}){super(),this.upgradeApprove=ee,this.upgradeDelay=et,this.upgradePropose=ei,this.attribute_map={upgradeApprove:"upgrade-approve",upgradeDelay:"upgrade-delay",upgradePropose:"upgrade-propose"}}static from_obj_for_encoding(ee){return new BlockUpgradeVote({upgradeApprove:ee["upgrade-approve"],upgradeDelay:ee["upgrade-delay"],upgradePropose:ee["upgrade-propose"]})}};let types_Box=class types_Box extends BaseModel{constructor({name:ee,round:et,value:ei}){super(),this.name="string"==typeof ee?new Uint8Array(e_.Buffer.from(ee,"base64")):ee,this.round=et,this.value="string"==typeof ei?new Uint8Array(e_.Buffer.from(ei,"base64")):ei,this.attribute_map={name:"name",round:"round",value:"value"}}static from_obj_for_encoding(ee){if(void 0===ee.name)throw Error(`Response is missing required field 'name': ${ee}`);if(void 0===ee.round)throw Error(`Response is missing required field 'round': ${ee}`);if(void 0===ee.value)throw Error(`Response is missing required field 'value': ${ee}`);return new types_Box({name:ee.name,round:ee.round,value:ee.value})}};let types_BoxDescriptor=class types_BoxDescriptor extends BaseModel{constructor({name:ee}){super(),this.name="string"==typeof ee?new Uint8Array(e_.Buffer.from(ee,"base64")):ee,this.attribute_map={name:"name"}}static from_obj_for_encoding(ee){if(void 0===ee.name)throw Error(`Response is missing required field 'name': ${ee}`);return new types_BoxDescriptor({name:ee.name})}};let types_BoxesResponse=class types_BoxesResponse extends BaseModel{constructor({applicationId:ee,boxes:et,nextToken:ei}){super(),this.applicationId=ee,this.boxes=et,this.nextToken=ei,this.attribute_map={applicationId:"application-id",boxes:"boxes",nextToken:"next-token"}}static from_obj_for_encoding(ee){if(void 0===ee["application-id"])throw Error(`Response is missing required field 'application-id': ${ee}`);if(!Array.isArray(ee.boxes))throw Error(`Response is missing required array field 'boxes': ${ee}`);return new types_BoxesResponse({applicationId:ee["application-id"],boxes:ee.boxes.map(types_BoxDescriptor.from_obj_for_encoding),nextToken:ee["next-token"]})}};let types_ErrorResponse=class types_ErrorResponse extends BaseModel{constructor({message:ee,data:et}){super(),this.message=ee,this.data=et,this.attribute_map={message:"message",data:"data"}}static from_obj_for_encoding(ee){if(void 0===ee.message)throw Error(`Response is missing required field 'message': ${ee}`);return new types_ErrorResponse({message:ee.message,data:ee.data})}};let types_EvalDelta=class types_EvalDelta extends BaseModel{constructor({action:ee,bytes:et,uint:ei}){super(),this.action=ee,this.bytes=et,this.uint=ei,this.attribute_map={action:"action",bytes:"bytes",uint:"uint"}}static from_obj_for_encoding(ee){if(void 0===ee.action)throw Error(`Response is missing required field 'action': ${ee}`);return new types_EvalDelta({action:ee.action,bytes:ee.bytes,uint:ee.uint})}};let types_EvalDeltaKeyValue=class types_EvalDeltaKeyValue extends BaseModel{constructor({key:ee,value:et}){super(),this.key=ee,this.value=et,this.attribute_map={key:"key",value:"value"}}static from_obj_for_encoding(ee){if(void 0===ee.key)throw Error(`Response is missing required field 'key': ${ee}`);if(void 0===ee.value)throw Error(`Response is missing required field 'value': ${ee}`);return new types_EvalDeltaKeyValue({key:ee.key,value:types_EvalDelta.from_obj_for_encoding(ee.value)})}};let HashFactory=class HashFactory extends BaseModel{constructor({hashType:ee}){super(),this.hashType=ee,this.attribute_map={hashType:"hash-type"}}static from_obj_for_encoding(ee){return new HashFactory({hashType:ee["hash-type"]})}};let HbProofFields=class HbProofFields extends BaseModel{constructor({hbPk:ee,hbPk1sig:et,hbPk2:ei,hbPk2sig:es,hbSig:en}){super(),this.hbPk="string"==typeof ee?new Uint8Array(e_.Buffer.from(ee,"base64")):ee,this.hbPk1sig="string"==typeof et?new Uint8Array(e_.Buffer.from(et,"base64")):et,this.hbPk2="string"==typeof ei?new Uint8Array(e_.Buffer.from(ei,"base64")):ei,this.hbPk2sig="string"==typeof es?new Uint8Array(e_.Buffer.from(es,"base64")):es,this.hbSig="string"==typeof en?new Uint8Array(e_.Buffer.from(en,"base64")):en,this.attribute_map={hbPk:"hb-pk",hbPk1sig:"hb-pk1sig",hbPk2:"hb-pk2",hbPk2sig:"hb-pk2sig",hbSig:"hb-sig"}}static from_obj_for_encoding(ee){return new HbProofFields({hbPk:ee["hb-pk"],hbPk1sig:ee["hb-pk1sig"],hbPk2:ee["hb-pk2"],hbPk2sig:ee["hb-pk2sig"],hbSig:ee["hb-sig"]})}};let types_HealthCheck=class types_HealthCheck extends BaseModel{constructor({dbAvailable:ee,isMigrating:et,message:ei,round:es,version:en,data:eo,errors:ea}){super(),this.dbAvailable=ee,this.isMigrating=et,this.message=ei,this.round=es,this.version=en,this.data=eo,this.errors=ea,this.attribute_map={dbAvailable:"db-available",isMigrating:"is-migrating",message:"message",round:"round",version:"version",data:"data",errors:"errors"}}static from_obj_for_encoding(ee){if(void 0===ee["db-available"])throw Error(`Response is missing required field 'db-available': ${ee}`);if(void 0===ee["is-migrating"])throw Error(`Response is missing required field 'is-migrating': ${ee}`);if(void 0===ee.message)throw Error(`Response is missing required field 'message': ${ee}`);if(void 0===ee.round)throw Error(`Response is missing required field 'round': ${ee}`);if(void 0===ee.version)throw Error(`Response is missing required field 'version': ${ee}`);return new types_HealthCheck({dbAvailable:ee["db-available"],isMigrating:ee["is-migrating"],message:ee.message,round:ee.round,version:ee.version,data:ee.data,errors:ee.errors})}};let IndexerStateProofMessage=class IndexerStateProofMessage extends BaseModel{constructor({blockHeadersCommitment:ee,firstAttestedRound:et,latestAttestedRound:ei,lnProvenWeight:es,votersCommitment:en}){super(),this.blockHeadersCommitment="string"==typeof ee?new Uint8Array(e_.Buffer.from(ee,"base64")):ee,this.firstAttestedRound=et,this.latestAttestedRound=ei,this.lnProvenWeight=es,this.votersCommitment="string"==typeof en?new Uint8Array(e_.Buffer.from(en,"base64")):en,this.attribute_map={blockHeadersCommitment:"block-headers-commitment",firstAttestedRound:"first-attested-round",latestAttestedRound:"latest-attested-round",lnProvenWeight:"ln-proven-weight",votersCommitment:"voters-commitment"}}static from_obj_for_encoding(ee){return new IndexerStateProofMessage({blockHeadersCommitment:ee["block-headers-commitment"],firstAttestedRound:ee["first-attested-round"],latestAttestedRound:ee["latest-attested-round"],lnProvenWeight:ee["ln-proven-weight"],votersCommitment:ee["voters-commitment"]})}};let MerkleArrayProof=class MerkleArrayProof extends BaseModel{constructor({hashFactory:ee,path:et,treeDepth:ei}){super(),this.hashFactory=ee,this.path=et,this.treeDepth=ei,this.attribute_map={hashFactory:"hash-factory",path:"path",treeDepth:"tree-depth"}}static from_obj_for_encoding(ee){return new MerkleArrayProof({hashFactory:void 0!==ee["hash-factory"]?HashFactory.from_obj_for_encoding(ee["hash-factory"]):void 0,path:ee.path,treeDepth:ee["tree-depth"]})}};let MiniAssetHolding=class MiniAssetHolding extends BaseModel{constructor({address:ee,amount:et,isFrozen:ei,deleted:es,optedInAtRound:en,optedOutAtRound:eo}){super(),this.address=ee,this.amount=et,this.isFrozen=ei,this.deleted=es,this.optedInAtRound=en,this.optedOutAtRound=eo,this.attribute_map={address:"address",amount:"amount",isFrozen:"is-frozen",deleted:"deleted",optedInAtRound:"opted-in-at-round",optedOutAtRound:"opted-out-at-round"}}static from_obj_for_encoding(ee){if(void 0===ee.address)throw Error(`Response is missing required field 'address': ${ee}`);if(void 0===ee.amount)throw Error(`Response is missing required field 'amount': ${ee}`);if(void 0===ee["is-frozen"])throw Error(`Response is missing required field 'is-frozen': ${ee}`);return new MiniAssetHolding({address:ee.address,amount:ee.amount,isFrozen:ee["is-frozen"],deleted:ee.deleted,optedInAtRound:ee["opted-in-at-round"],optedOutAtRound:ee["opted-out-at-round"]})}};let ParticipationUpdates=class ParticipationUpdates extends BaseModel{constructor({absentParticipationAccounts:ee,expiredParticipationAccounts:et}){super(),this.absentParticipationAccounts=ee,this.expiredParticipationAccounts=et,this.attribute_map={absentParticipationAccounts:"absent-participation-accounts",expiredParticipationAccounts:"expired-participation-accounts"}}static from_obj_for_encoding(ee){return new ParticipationUpdates({absentParticipationAccounts:ee["absent-participation-accounts"],expiredParticipationAccounts:ee["expired-participation-accounts"]})}};let StateProofFields=class StateProofFields extends BaseModel{constructor({partProofs:ee,positionsToReveal:et,reveals:ei,saltVersion:es,sigCommit:en,sigProofs:eo,signedWeight:ea}){super(),this.partProofs=ee,this.positionsToReveal=et,this.reveals=ei,this.saltVersion=es,this.sigCommit="string"==typeof en?new Uint8Array(e_.Buffer.from(en,"base64")):en,this.sigProofs=eo,this.signedWeight=ea,this.attribute_map={partProofs:"part-proofs",positionsToReveal:"positions-to-reveal",reveals:"reveals",saltVersion:"salt-version",sigCommit:"sig-commit",sigProofs:"sig-proofs",signedWeight:"signed-weight"}}static from_obj_for_encoding(ee){return new StateProofFields({partProofs:void 0!==ee["part-proofs"]?MerkleArrayProof.from_obj_for_encoding(ee["part-proofs"]):void 0,positionsToReveal:ee["positions-to-reveal"],reveals:void 0!==ee.reveals?ee.reveals.map(StateProofReveal.from_obj_for_encoding):void 0,saltVersion:ee["salt-version"],sigCommit:ee["sig-commit"],sigProofs:void 0!==ee["sig-proofs"]?MerkleArrayProof.from_obj_for_encoding(ee["sig-proofs"]):void 0,signedWeight:ee["signed-weight"]})}};let StateProofParticipant=class StateProofParticipant extends BaseModel{constructor({verifier:ee,weight:et}){super(),this.verifier=ee,this.weight=et,this.attribute_map={verifier:"verifier",weight:"weight"}}static from_obj_for_encoding(ee){return new StateProofParticipant({verifier:void 0!==ee.verifier?StateProofVerifier.from_obj_for_encoding(ee.verifier):void 0,weight:ee.weight})}};let StateProofReveal=class StateProofReveal extends BaseModel{constructor({participant:ee,position:et,sigSlot:ei}){super(),this.participant=ee,this.position=et,this.sigSlot=ei,this.attribute_map={participant:"participant",position:"position",sigSlot:"sig-slot"}}static from_obj_for_encoding(ee){return new StateProofReveal({participant:void 0!==ee.participant?StateProofParticipant.from_obj_for_encoding(ee.participant):void 0,position:ee.position,sigSlot:void 0!==ee["sig-slot"]?StateProofSigSlot.from_obj_for_encoding(ee["sig-slot"]):void 0})}};let StateProofSigSlot=class StateProofSigSlot extends BaseModel{constructor({lowerSigWeight:ee,signature:et}){super(),this.lowerSigWeight=ee,this.signature=et,this.attribute_map={lowerSigWeight:"lower-sig-weight",signature:"signature"}}static from_obj_for_encoding(ee){return new StateProofSigSlot({lowerSigWeight:ee["lower-sig-weight"],signature:void 0!==ee.signature?StateProofSignature.from_obj_for_encoding(ee.signature):void 0})}};let StateProofSignature=class StateProofSignature extends BaseModel{constructor({falconSignature:ee,merkleArrayIndex:et,proof:ei,verifyingKey:es}){super(),this.falconSignature="string"==typeof ee?new Uint8Array(e_.Buffer.from(ee,"base64")):ee,this.merkleArrayIndex=et,this.proof=ei,this.verifyingKey="string"==typeof es?new Uint8Array(e_.Buffer.from(es,"base64")):es,this.attribute_map={falconSignature:"falcon-signature",merkleArrayIndex:"merkle-array-index",proof:"proof",verifyingKey:"verifying-key"}}static from_obj_for_encoding(ee){return new StateProofSignature({falconSignature:ee["falcon-signature"],merkleArrayIndex:ee["merkle-array-index"],proof:void 0!==ee.proof?MerkleArrayProof.from_obj_for_encoding(ee.proof):void 0,verifyingKey:ee["verifying-key"]})}};let StateProofTracking=class StateProofTracking extends BaseModel{constructor({nextRound:ee,onlineTotalWeight:et,type:ei,votersCommitment:es}){super(),this.nextRound=ee,this.onlineTotalWeight=et,this.type=ei,this.votersCommitment="string"==typeof es?new Uint8Array(e_.Buffer.from(es,"base64")):es,this.attribute_map={nextRound:"next-round",onlineTotalWeight:"online-total-weight",type:"type",votersCommitment:"voters-commitment"}}static from_obj_for_encoding(ee){return new StateProofTracking({nextRound:ee["next-round"],onlineTotalWeight:ee["online-total-weight"],type:ee.type,votersCommitment:ee["voters-commitment"]})}};let StateProofVerifier=class StateProofVerifier extends BaseModel{constructor({commitment:ee,keyLifetime:et}){super(),this.commitment="string"==typeof ee?new Uint8Array(e_.Buffer.from(ee,"base64")):ee,this.keyLifetime=et,this.attribute_map={commitment:"commitment",keyLifetime:"key-lifetime"}}static from_obj_for_encoding(ee){return new StateProofVerifier({commitment:ee.commitment,keyLifetime:ee["key-lifetime"]})}};let StateSchema=class StateSchema extends BaseModel{constructor({numByteSlice:ee,numUint:et}){super(),this.numByteSlice=ee,this.numUint=et,this.attribute_map={numByteSlice:"num-byte-slice",numUint:"num-uint"}}static from_obj_for_encoding(ee){if(void 0===ee["num-byte-slice"])throw Error(`Response is missing required field 'num-byte-slice': ${ee}`);if(void 0===ee["num-uint"])throw Error(`Response is missing required field 'num-uint': ${ee}`);return new StateSchema({numByteSlice:ee["num-byte-slice"],numUint:ee["num-uint"]})}};let types_TealKeyValue=class types_TealKeyValue extends BaseModel{constructor({key:ee,value:et}){super(),this.key=ee,this.value=et,this.attribute_map={key:"key",value:"value"}}static from_obj_for_encoding(ee){if(void 0===ee.key)throw Error(`Response is missing required field 'key': ${ee}`);if(void 0===ee.value)throw Error(`Response is missing required field 'value': ${ee}`);return new types_TealKeyValue({key:ee.key,value:types_TealValue.from_obj_for_encoding(ee.value)})}};let types_TealValue=class types_TealValue extends BaseModel{constructor({bytes:ee,type:et,uint:ei}){super(),this.bytes=ee,this.type=et,this.uint=ei,this.attribute_map={bytes:"bytes",type:"type",uint:"uint"}}static from_obj_for_encoding(ee){if(void 0===ee.bytes)throw Error(`Response is missing required field 'bytes': ${ee}`);if(void 0===ee.type)throw Error(`Response is missing required field 'type': ${ee}`);if(void 0===ee.uint)throw Error(`Response is missing required field 'uint': ${ee}`);return new types_TealValue({bytes:ee.bytes,type:ee.type,uint:ee.uint})}};let types_Transaction=class types_Transaction extends BaseModel{constructor({fee:ee,firstValid:et,lastValid:ei,sender:es,applicationTransaction:en,assetConfigTransaction:eo,assetFreezeTransaction:ea,assetTransferTransaction:ec,authAddr:el,closeRewards:eu,closingAmount:ed,confirmedRound:eh,createdApplicationIndex:ep,createdAssetIndex:ef,genesisHash:eg,genesisId:em,globalStateDelta:ey,group:eb,heartbeatTransaction:ev,id:ew,innerTxns:ex,intraRoundOffset:eS,keyregTransaction:eE,lease:eA,localStateDelta:eI,logs:eT,note:eR,paymentTransaction:eD,receiverRewards:ek,rekeyTo:eB,roundTime:eP,senderRewards:eO,signature:eC,stateProofTransaction:eU,txType:eL}){super(),this.fee=ee,this.firstValid=et,this.lastValid=ei,this.sender=es,this.applicationTransaction=en,this.assetConfigTransaction=eo,this.assetFreezeTransaction=ea,this.assetTransferTransaction=ec,this.authAddr=el,this.closeRewards=eu,this.closingAmount=ed,this.confirmedRound=eh,this.createdApplicationIndex=ep,this.createdAssetIndex=ef,this.genesisHash="string"==typeof eg?new Uint8Array(e_.Buffer.from(eg,"base64")):eg,this.genesisId=em,this.globalStateDelta=ey,this.group="string"==typeof eb?new Uint8Array(e_.Buffer.from(eb,"base64")):eb,this.heartbeatTransaction=ev,this.id=ew,this.innerTxns=ex,this.intraRoundOffset=eS,this.keyregTransaction=eE,this.lease="string"==typeof eA?new Uint8Array(e_.Buffer.from(eA,"base64")):eA,this.localStateDelta=eI,this.logs=eT,this.note="string"==typeof eR?new Uint8Array(e_.Buffer.from(eR,"base64")):eR,this.paymentTransaction=eD,this.receiverRewards=ek,this.rekeyTo=eB,this.roundTime=eP,this.senderRewards=eO,this.signature=eC,this.stateProofTransaction=eU,this.txType=eL,this.attribute_map={fee:"fee",firstValid:"first-valid",lastValid:"last-valid",sender:"sender",applicationTransaction:"application-transaction",assetConfigTransaction:"asset-config-transaction",assetFreezeTransaction:"asset-freeze-transaction",assetTransferTransaction:"asset-transfer-transaction",authAddr:"auth-addr",closeRewards:"close-rewards",closingAmount:"closing-amount",confirmedRound:"confirmed-round",createdApplicationIndex:"created-application-index",createdAssetIndex:"created-asset-index",genesisHash:"genesis-hash",genesisId:"genesis-id",globalStateDelta:"global-state-delta",group:"group",heartbeatTransaction:"heartbeat-transaction",id:"id",innerTxns:"inner-txns",intraRoundOffset:"intra-round-offset",keyregTransaction:"keyreg-transaction",lease:"lease",localStateDelta:"local-state-delta",logs:"logs",note:"note",paymentTransaction:"payment-transaction",receiverRewards:"receiver-rewards",rekeyTo:"rekey-to",roundTime:"round-time",senderRewards:"sender-rewards",signature:"signature",stateProofTransaction:"state-proof-transaction",txType:"tx-type"}}static from_obj_for_encoding(ee){if(void 0===ee.fee)throw Error(`Response is missing required field 'fee': ${ee}`);if(void 0===ee["first-valid"])throw Error(`Response is missing required field 'first-valid': ${ee}`);if(void 0===ee["last-valid"])throw Error(`Response is missing required field 'last-valid': ${ee}`);if(void 0===ee.sender)throw Error(`Response is missing required field 'sender': ${ee}`);return new types_Transaction({fee:ee.fee,firstValid:ee["first-valid"],lastValid:ee["last-valid"],sender:ee.sender,applicationTransaction:void 0!==ee["application-transaction"]?TransactionApplication.from_obj_for_encoding(ee["application-transaction"]):void 0,assetConfigTransaction:void 0!==ee["asset-config-transaction"]?TransactionAssetConfig.from_obj_for_encoding(ee["asset-config-transaction"]):void 0,assetFreezeTransaction:void 0!==ee["asset-freeze-transaction"]?TransactionAssetFreeze.from_obj_for_encoding(ee["asset-freeze-transaction"]):void 0,assetTransferTransaction:void 0!==ee["asset-transfer-transaction"]?TransactionAssetTransfer.from_obj_for_encoding(ee["asset-transfer-transaction"]):void 0,authAddr:ee["auth-addr"],closeRewards:ee["close-rewards"],closingAmount:ee["closing-amount"],confirmedRound:ee["confirmed-round"],createdApplicationIndex:ee["created-application-index"],createdAssetIndex:ee["created-asset-index"],genesisHash:ee["genesis-hash"],genesisId:ee["genesis-id"],globalStateDelta:void 0!==ee["global-state-delta"]?ee["global-state-delta"].map(types_EvalDeltaKeyValue.from_obj_for_encoding):void 0,group:ee.group,heartbeatTransaction:void 0!==ee["heartbeat-transaction"]?TransactionHeartbeat.from_obj_for_encoding(ee["heartbeat-transaction"]):void 0,id:ee.id,innerTxns:void 0!==ee["inner-txns"]?ee["inner-txns"].map(types_Transaction.from_obj_for_encoding):void 0,intraRoundOffset:ee["intra-round-offset"],keyregTransaction:void 0!==ee["keyreg-transaction"]?TransactionKeyreg.from_obj_for_encoding(ee["keyreg-transaction"]):void 0,lease:ee.lease,localStateDelta:void 0!==ee["local-state-delta"]?ee["local-state-delta"].map(types_AccountStateDelta.from_obj_for_encoding):void 0,logs:ee.logs,note:ee.note,paymentTransaction:void 0!==ee["payment-transaction"]?TransactionPayment.from_obj_for_encoding(ee["payment-transaction"]):void 0,receiverRewards:ee["receiver-rewards"],rekeyTo:ee["rekey-to"],roundTime:ee["round-time"],senderRewards:ee["sender-rewards"],signature:void 0!==ee.signature?TransactionSignature.from_obj_for_encoding(ee.signature):void 0,stateProofTransaction:void 0!==ee["state-proof-transaction"]?TransactionStateProof.from_obj_for_encoding(ee["state-proof-transaction"]):void 0,txType:ee["tx-type"]})}};let TransactionApplication=class TransactionApplication extends BaseModel{constructor({applicationId:ee,accounts:et,applicationArgs:ei,approvalProgram:es,clearStateProgram:en,extraProgramPages:eo,foreignApps:ea,foreignAssets:ec,globalStateSchema:el,localStateSchema:eu,onCompletion:ed}){super(),this.applicationId=ee,this.accounts=et,this.applicationArgs=ei,this.approvalProgram="string"==typeof es?new Uint8Array(e_.Buffer.from(es,"base64")):es,this.clearStateProgram="string"==typeof en?new Uint8Array(e_.Buffer.from(en,"base64")):en,this.extraProgramPages=eo,this.foreignApps=ea,this.foreignAssets=ec,this.globalStateSchema=el,this.localStateSchema=eu,this.onCompletion=ed,this.attribute_map={applicationId:"application-id",accounts:"accounts",applicationArgs:"application-args",approvalProgram:"approval-program",clearStateProgram:"clear-state-program",extraProgramPages:"extra-program-pages",foreignApps:"foreign-apps",foreignAssets:"foreign-assets",globalStateSchema:"global-state-schema",localStateSchema:"local-state-schema",onCompletion:"on-completion"}}static from_obj_for_encoding(ee){if(void 0===ee["application-id"])throw Error(`Response is missing required field 'application-id': ${ee}`);return new TransactionApplication({applicationId:ee["application-id"],accounts:ee.accounts,applicationArgs:ee["application-args"],approvalProgram:ee["approval-program"],clearStateProgram:ee["clear-state-program"],extraProgramPages:ee["extra-program-pages"],foreignApps:ee["foreign-apps"],foreignAssets:ee["foreign-assets"],globalStateSchema:void 0!==ee["global-state-schema"]?StateSchema.from_obj_for_encoding(ee["global-state-schema"]):void 0,localStateSchema:void 0!==ee["local-state-schema"]?StateSchema.from_obj_for_encoding(ee["local-state-schema"]):void 0,onCompletion:ee["on-completion"]})}};let TransactionAssetConfig=class TransactionAssetConfig extends BaseModel{constructor({assetId:ee,params:et}){super(),this.assetId=ee,this.params=et,this.attribute_map={assetId:"asset-id",params:"params"}}static from_obj_for_encoding(ee){return new TransactionAssetConfig({assetId:ee["asset-id"],params:void 0!==ee.params?types_AssetParams.from_obj_for_encoding(ee.params):void 0})}};let TransactionAssetFreeze=class TransactionAssetFreeze extends BaseModel{constructor({address:ee,assetId:et,newFreezeStatus:ei}){super(),this.address=ee,this.assetId=et,this.newFreezeStatus=ei,this.attribute_map={address:"address",assetId:"asset-id",newFreezeStatus:"new-freeze-status"}}static from_obj_for_encoding(ee){if(void 0===ee.address)throw Error(`Response is missing required field 'address': ${ee}`);if(void 0===ee["asset-id"])throw Error(`Response is missing required field 'asset-id': ${ee}`);if(void 0===ee["new-freeze-status"])throw Error(`Response is missing required field 'new-freeze-status': ${ee}`);return new TransactionAssetFreeze({address:ee.address,assetId:ee["asset-id"],newFreezeStatus:ee["new-freeze-status"]})}};let TransactionAssetTransfer=class TransactionAssetTransfer extends BaseModel{constructor({amount:ee,assetId:et,receiver:ei,closeAmount:es,closeTo:en,sender:eo}){super(),this.amount=ee,this.assetId=et,this.receiver=ei,this.closeAmount=es,this.closeTo=en,this.sender=eo,this.attribute_map={amount:"amount",assetId:"asset-id",receiver:"receiver",closeAmount:"close-amount",closeTo:"close-to",sender:"sender"}}static from_obj_for_encoding(ee){if(void 0===ee.amount)throw Error(`Response is missing required field 'amount': ${ee}`);if(void 0===ee["asset-id"])throw Error(`Response is missing required field 'asset-id': ${ee}`);if(void 0===ee.receiver)throw Error(`Response is missing required field 'receiver': ${ee}`);return new TransactionAssetTransfer({amount:ee.amount,assetId:ee["asset-id"],receiver:ee.receiver,closeAmount:ee["close-amount"],closeTo:ee["close-to"],sender:ee.sender})}};let TransactionHeartbeat=class TransactionHeartbeat extends BaseModel{constructor({hbAddress:ee,hbKeyDilution:et,hbProof:ei,hbSeed:es,hbVoteId:en}){super(),this.hbAddress=ee,this.hbKeyDilution=et,this.hbProof=ei,this.hbSeed="string"==typeof es?new Uint8Array(e_.Buffer.from(es,"base64")):es,this.hbVoteId="string"==typeof en?new Uint8Array(e_.Buffer.from(en,"base64")):en,this.attribute_map={hbAddress:"hb-address",hbKeyDilution:"hb-key-dilution",hbProof:"hb-proof",hbSeed:"hb-seed",hbVoteId:"hb-vote-id"}}static from_obj_for_encoding(ee){if(void 0===ee["hb-address"])throw Error(`Response is missing required field 'hb-address': ${ee}`);if(void 0===ee["hb-key-dilution"])throw Error(`Response is missing required field 'hb-key-dilution': ${ee}`);if(void 0===ee["hb-proof"])throw Error(`Response is missing required field 'hb-proof': ${ee}`);if(void 0===ee["hb-seed"])throw Error(`Response is missing required field 'hb-seed': ${ee}`);if(void 0===ee["hb-vote-id"])throw Error(`Response is missing required field 'hb-vote-id': ${ee}`);return new TransactionHeartbeat({hbAddress:ee["hb-address"],hbKeyDilution:ee["hb-key-dilution"],hbProof:HbProofFields.from_obj_for_encoding(ee["hb-proof"]),hbSeed:ee["hb-seed"],hbVoteId:ee["hb-vote-id"]})}};let TransactionKeyreg=class TransactionKeyreg extends BaseModel{constructor({nonParticipation:ee,selectionParticipationKey:et,stateProofKey:ei,voteFirstValid:es,voteKeyDilution:en,voteLastValid:eo,voteParticipationKey:ea}){super(),this.nonParticipation=ee,this.selectionParticipationKey="string"==typeof et?new Uint8Array(e_.Buffer.from(et,"base64")):et,this.stateProofKey="string"==typeof ei?new Uint8Array(e_.Buffer.from(ei,"base64")):ei,this.voteFirstValid=es,this.voteKeyDilution=en,this.voteLastValid=eo,this.voteParticipationKey="string"==typeof ea?new Uint8Array(e_.Buffer.from(ea,"base64")):ea,this.attribute_map={nonParticipation:"non-participation",selectionParticipationKey:"selection-participation-key",stateProofKey:"state-proof-key",voteFirstValid:"vote-first-valid",voteKeyDilution:"vote-key-dilution",voteLastValid:"vote-last-valid",voteParticipationKey:"vote-participation-key"}}static from_obj_for_encoding(ee){return new TransactionKeyreg({nonParticipation:ee["non-participation"],selectionParticipationKey:ee["selection-participation-key"],stateProofKey:ee["state-proof-key"],voteFirstValid:ee["vote-first-valid"],voteKeyDilution:ee["vote-key-dilution"],voteLastValid:ee["vote-last-valid"],voteParticipationKey:ee["vote-participation-key"]})}};let TransactionPayment=class TransactionPayment extends BaseModel{constructor({amount:ee,receiver:et,closeAmount:ei,closeRemainderTo:es}){super(),this.amount=ee,this.receiver=et,this.closeAmount=ei,this.closeRemainderTo=es,this.attribute_map={amount:"amount",receiver:"receiver",closeAmount:"close-amount",closeRemainderTo:"close-remainder-to"}}static from_obj_for_encoding(ee){if(void 0===ee.amount)throw Error(`Response is missing required field 'amount': ${ee}`);if(void 0===ee.receiver)throw Error(`Response is missing required field 'receiver': ${ee}`);return new TransactionPayment({amount:ee.amount,receiver:ee.receiver,closeAmount:ee["close-amount"],closeRemainderTo:ee["close-remainder-to"]})}};let TransactionResponse=class TransactionResponse extends BaseModel{constructor({currentRound:ee,transaction:et}){super(),this.currentRound=ee,this.transaction=et,this.attribute_map={currentRound:"current-round",transaction:"transaction"}}static from_obj_for_encoding(ee){if(void 0===ee["current-round"])throw Error(`Response is missing required field 'current-round': ${ee}`);if(void 0===ee.transaction)throw Error(`Response is missing required field 'transaction': ${ee}`);return new TransactionResponse({currentRound:ee["current-round"],transaction:types_Transaction.from_obj_for_encoding(ee.transaction)})}};let TransactionSignature=class TransactionSignature extends BaseModel{constructor({logicsig:ee,multisig:et,sig:ei}){super(),this.logicsig=ee,this.multisig=et,this.sig="string"==typeof ei?new Uint8Array(e_.Buffer.from(ei,"base64")):ei,this.attribute_map={logicsig:"logicsig",multisig:"multisig",sig:"sig"}}static from_obj_for_encoding(ee){return new TransactionSignature({logicsig:void 0!==ee.logicsig?TransactionSignatureLogicsig.from_obj_for_encoding(ee.logicsig):void 0,multisig:void 0!==ee.multisig?TransactionSignatureMultisig.from_obj_for_encoding(ee.multisig):void 0,sig:ee.sig})}};let TransactionSignatureLogicsig=class TransactionSignatureLogicsig extends BaseModel{constructor({logic:ee,args:et,multisigSignature:ei,signature:es}){super(),this.logic="string"==typeof ee?new Uint8Array(e_.Buffer.from(ee,"base64")):ee,this.args=et,this.multisigSignature=ei,this.signature="string"==typeof es?new Uint8Array(e_.Buffer.from(es,"base64")):es,this.attribute_map={logic:"logic",args:"args",multisigSignature:"multisig-signature",signature:"signature"}}static from_obj_for_encoding(ee){if(void 0===ee.logic)throw Error(`Response is missing required field 'logic': ${ee}`);return new TransactionSignatureLogicsig({logic:ee.logic,args:ee.args,multisigSignature:void 0!==ee["multisig-signature"]?TransactionSignatureMultisig.from_obj_for_encoding(ee["multisig-signature"]):void 0,signature:ee.signature})}};let TransactionSignatureMultisig=class TransactionSignatureMultisig extends BaseModel{constructor({subsignature:ee,threshold:et,version:ei}){super(),this.subsignature=ee,this.threshold=et,this.version=ei,this.attribute_map={subsignature:"subsignature",threshold:"threshold",version:"version"}}static from_obj_for_encoding(ee){return new TransactionSignatureMultisig({subsignature:void 0!==ee.subsignature?ee.subsignature.map(TransactionSignatureMultisigSubsignature.from_obj_for_encoding):void 0,threshold:ee.threshold,version:ee.version})}};let TransactionSignatureMultisigSubsignature=class TransactionSignatureMultisigSubsignature extends BaseModel{constructor({publicKey:ee,signature:et}){super(),this.publicKey="string"==typeof ee?new Uint8Array(e_.Buffer.from(ee,"base64")):ee,this.signature="string"==typeof et?new Uint8Array(e_.Buffer.from(et,"base64")):et,this.attribute_map={publicKey:"public-key",signature:"signature"}}static from_obj_for_encoding(ee){return new TransactionSignatureMultisigSubsignature({publicKey:ee["public-key"],signature:ee.signature})}};let TransactionStateProof=class TransactionStateProof extends BaseModel{constructor({message:ee,stateProof:et,stateProofType:ei}){super(),this.message=ee,this.stateProof=et,this.stateProofType=ei,this.attribute_map={message:"message",stateProof:"state-proof",stateProofType:"state-proof-type"}}static from_obj_for_encoding(ee){return new TransactionStateProof({message:void 0!==ee.message?IndexerStateProofMessage.from_obj_for_encoding(ee.message):void 0,stateProof:void 0!==ee["state-proof"]?StateProofFields.from_obj_for_encoding(ee["state-proof"]):void 0,stateProofType:ee["state-proof-type"]})}};let TransactionsResponse=class TransactionsResponse extends BaseModel{constructor({currentRound:ee,transactions:et,nextToken:ei}){super(),this.currentRound=ee,this.transactions=et,this.nextToken=ei,this.attribute_map={currentRound:"current-round",transactions:"transactions",nextToken:"next-token"}}static from_obj_for_encoding(ee){if(void 0===ee["current-round"])throw Error(`Response is missing required field 'current-round': ${ee}`);if(!Array.isArray(ee.transactions))throw Error(`Response is missing required array field 'transactions': ${ee}`);return new TransactionsResponse({currentRound:ee["current-round"],transactions:ee.transactions.map(types_Transaction.from_obj_for_encoding),nextToken:ee["next-token"]})}};let LookupApplicationBoxByIDandName=class LookupApplicationBoxByIDandName extends JSONRequest{constructor(ee,et,ei,es){super(ee,et),this.index=ei,this.index=ei;let en=e_.Buffer.from(es).toString("base64");this.query.name=encodeURI(`b64:${en}`)}path(){return`/v2/applications/${this.index}/box`}prepare(ee){return types_Box.from_obj_for_encoding(ee)}};let SearchAccounts=class SearchAccounts extends JSONRequest{path(){return"/v2/accounts"}currencyGreaterThan(ee){return this.query["currency-greater-than"]=ee.toString(),this}currencyLessThan(ee){return this.query["currency-less-than"]=ee,this}limit(ee){return this.query.limit=ee,this}assetID(ee){return this.query["asset-id"]=ee,this}nextToken(ee){return this.query.next=ee,this}round(ee){return this.query.round=ee,this}authAddr(ee){return this.query["auth-addr"]=ee,this}applicationID(ee){return this.query["application-id"]=ee,this}includeAll(ee=!0){return this.query["include-all"]=ee,this}exclude(ee){return this.query.exclude=ee,this}};let SearchForTransactions=class SearchForTransactions extends JSONRequest{path(){return"/v2/transactions"}notePrefix(ee){return this.query["note-prefix"]=base64StringFunnel(ee),this}txType(ee){return this.query["tx-type"]=ee,this}sigType(ee){return this.query["sig-type"]=ee,this}txid(ee){return this.query.txid=ee,this}round(ee){return this.query.round=ee,this}minRound(ee){return this.query["min-round"]=ee,this}maxRound(ee){return this.query["max-round"]=ee,this}assetID(ee){return this.query["asset-id"]=ee,this}limit(ee){return this.query.limit=ee,this}beforeTime(ee){return this.query["before-time"]=ee,this}afterTime(ee){return this.query["after-time"]=ee,this}addressRole(ee){return this.query["address-role"]=ee,this}address(ee){return this.query.address=ee,this}excludeCloseTo(ee){return this.query["exclude-close-to"]=ee,this}nextToken(ee){return this.query.next=ee,this}rekeyTo(ee){return this.query["rekey-to"]=ee,this}applicationID(ee){return this.query["application-id"]=ee,this}currencyGreaterThan(ee){return this.query["currency-greater-than"]=ee.toString(),this}currencyLessThan(ee){return this.query["currency-less-than"]=ee,this}};let SearchForAssets=class SearchForAssets extends JSONRequest{path(){return"/v2/assets"}limit(ee){return this.query.limit=ee,this}creator(ee){return this.query.creator=ee,this}name(ee){return this.query.name=ee,this}unit(ee){return this.query.unit=ee,this}index(ee){return this.query["asset-id"]=ee,this}nextToken(ee){return this.query.next=ee,this}includeAll(ee=!0){return this.query["include-all"]=ee,this}};let SearchForApplications=class SearchForApplications extends JSONRequest{path(){return"/v2/applications"}index(ee){return this.query["application-id"]=ee,this}creator(ee){return this.query.creator=ee,this}nextToken(ee){return this.query.next=ee,this}limit(ee){return this.query.limit=ee,this}includeAll(ee=!0){return this.query["include-all"]=ee,this}};let SearchForApplicationBoxes=class SearchForApplicationBoxes extends JSONRequest{constructor(ee,et,ei){super(ee,et),this.index=ei,this.index=ei}path(){return`/v2/applications/${this.index}/boxes`}nextToken(ee){return this.query.next=ee,this}limit(ee){return this.query.limit=ee,this}prepare(ee){return types_BoxesResponse.from_obj_for_encoding(ee)}};let IndexerClient=class IndexerClient extends ServiceClient{constructor(ee,et="http://127.0.0.1",ei=8080,es={}){super("X-Indexer-API-Token",ee,et,ei,es)}makeHealthCheck(){return new MakeHealthCheck(this.c,this.intDecoding)}lookupAssetBalances(ee){return new LookupAssetBalances(this.c,this.intDecoding,ee)}lookupAssetTransactions(ee){return new LookupAssetTransactions(this.c,this.intDecoding,ee)}lookupAccountTransactions(ee){return new LookupAccountTransactions(this.c,this.intDecoding,ee)}lookupBlock(ee){return new LookupBlock(this.c,this.intDecoding,ee)}lookupTransactionByID(ee){return new LookupTransactionByID(this.c,this.intDecoding,ee)}lookupAccountByID(ee){return new LookupAccountByID(this.c,this.intDecoding,ee)}lookupAccountAssets(ee){return new LookupAccountAssets(this.c,this.intDecoding,ee)}lookupAccountCreatedAssets(ee){return new LookupAccountCreatedAssets(this.c,this.intDecoding,ee)}lookupAccountAppLocalStates(ee){return new LookupAccountAppLocalStates(this.c,this.intDecoding,ee)}lookupAccountCreatedApplications(ee){return new LookupAccountCreatedApplications(this.c,this.intDecoding,ee)}lookupAssetByID(ee){return new LookupAssetByID(this.c,this.intDecoding,ee)}lookupApplications(ee){return new LookupApplications(this.c,this.intDecoding,ee)}lookupApplicationLogs(ee){return new LookupApplicationLogs(this.c,this.intDecoding,ee)}searchAccounts(){return new SearchAccounts(this.c,this.intDecoding)}searchForTransactions(){return new SearchForTransactions(this.c,this.intDecoding)}searchForAssets(){return new SearchForAssets(this.c,this.intDecoding)}searchForApplications(){return new SearchForApplications(this.c,this.intDecoding)}searchForApplicationBoxes(ee){return new SearchForApplicationBoxes(this.c,this.intDecoding,ee)}lookupApplicationBoxByIDandName(ee,et){return new LookupApplicationBoxByIDandName(this.c,this.intDecoding,ee,et)}};async function waitForConfirmation(ee,et,ei){let es=await ee.status().do();if(void 0===es)throw Error("Unable to get node status");let en=es["last-round"]+1,eo=en;for(;eo<en+ei;){let ei=!1;try{let es=await ee.pendingTransactionInformation(et).do();if(es["confirmed-round"])return es;if(es["pool-error"])throw ei=!0,Error(`Transaction Rejected: ${es["pool-error"]}`)}catch(ee){if(ei)throw ee}await ee.statusAfterBlock(eo).do(),eo+=1}throw Error(`Transaction not confirmed after ${ei} rounds`)}function bigIntToBytes(ee,et){let ei=ee.toString(16);ei.length!==2*et&&(ei=ei.padStart(2*et,"0"));let es=new Uint8Array(ei.length/2);for(let ee=0,et=0;ee<ei.length/2;ee++,et+=2)es[ee]=parseInt(ei.slice(et,et+2),16);return es}function bytesToBigInt(ee){let et=BigInt(0),ei=e_.Buffer.from(ee);for(let es=0;es<ee.length;es++)et=BigInt(Number(ei.readUIntBE(es,1)))+et*BigInt(256);return et}function generateAccount(){let ee=function(){var ee;let et=(ee=ew().box.secretKeyLength,function(){let{navigator:ee}=globalThis;return"object"==typeof ee&&"ReactNative"===ee.product}()&&console.warn("It looks like you're running in react-native. In order to perform common crypto operations you will need to polyfill common operations such as crypto.getRandomValues"),ew().randomBytes(ee));return keyPairFromSeed(et)}(),et=encodeAddress(ee.publicKey);return{addr:et,sk:ee.secretKey}}var ej=["abandon","ability","able","about","above","absent","absorb","abstract","absurd","abuse","access","accident","account","accuse","achieve","acid","acoustic","acquire","across","act","action","actor","actress","actual","adapt","add","addict","address","adjust","admit","adult","advance","advice","aerobic","affair","afford","afraid","again","age","agent","agree","ahead","aim","air","airport","aisle","alarm","album","alcohol","alert","alien","all","alley","allow","almost","alone","alpha","already","also","alter","always","amateur","amazing","among","amount","amused","analyst","anchor","ancient","anger","angle","angry","animal","ankle","announce","annual","another","answer","antenna","antique","anxiety","any","apart","apology","appear","apple","approve","april","arch","arctic","area","arena","argue","arm","armed","armor","army","around","arrange","arrest","arrive","arrow","art","artefact","artist","artwork","ask","aspect","assault","asset","assist","assume","asthma","athlete","atom","attack","attend","attitude","attract","auction","audit","august","aunt","author","auto","autumn","average","avocado","avoid","awake","aware","away","awesome","awful","awkward","axis","baby","bachelor","bacon","badge","bag","balance","balcony","ball","bamboo","banana","banner","bar","barely","bargain","barrel","base","basic","basket","battle","beach","bean","beauty","because","become","beef","before","begin","behave","behind","believe","below","belt","bench","benefit","best","betray","better","between","beyond","bicycle","bid","bike","bind","biology","bird","birth","bitter","black","blade","blame","blanket","blast","bleak","bless","blind","blood","blossom","blouse","blue","blur","blush","board","boat","body","boil","bomb","bone","bonus","book","boost","border","boring","borrow","boss","bottom","bounce","box","boy","bracket","brain","brand","brass","brave","bread","breeze","brick","bridge","brief","bright","bring","brisk","broccoli","broken","bronze","broom","brother","brown","brush","bubble","buddy","budget","buffalo","build","bulb","bulk","bullet","bundle","bunker","burden","burger","burst","bus","business","busy","butter","buyer","buzz","cabbage","cabin","cable","cactus","cage","cake","call","calm","camera","camp","can","canal","cancel","candy","cannon","canoe","canvas","canyon","capable","capital","captain","car","carbon","card","cargo","carpet","carry","cart","case","cash","casino","castle","casual","cat","catalog","catch","category","cattle","caught","cause","caution","cave","ceiling","celery","cement","census","century","cereal","certain","chair","chalk","champion","change","chaos","chapter","charge","chase","chat","cheap","check","cheese","chef","cherry","chest","chicken","chief","child","chimney","choice","choose","chronic","chuckle","chunk","churn","cigar","cinnamon","circle","citizen","city","civil","claim","clap","clarify","claw","clay","clean","clerk","clever","click","client","cliff","climb","clinic","clip","clock","clog","close","cloth","cloud","clown","club","clump","cluster","clutch","coach","coast","coconut","code","coffee","coil","coin","collect","color","column","combine","come","comfort","comic","common","company","concert","conduct","confirm","congress","connect","consider","control","convince","cook","cool","copper","copy","coral","core","corn","correct","cost","cotton","couch","country","couple","course","cousin","cover","coyote","crack","cradle","craft","cram","crane","crash","crater","crawl","crazy","cream","credit","creek","crew","cricket","crime","crisp","critic","crop","cross","crouch","crowd","crucial","cruel","cruise","crumble","crunch","crush","cry","crystal","cube","culture","cup","cupboard","curious","current","curtain","curve","cushion","custom","cute","cycle","dad","damage","damp","dance","danger","daring","dash","daughter","dawn","day","deal","debate","debris","decade","december","decide","decline","decorate","decrease","deer","defense","define","defy","degree","delay","deliver","demand","demise","denial","dentist","deny","depart","depend","deposit","depth","deputy","derive","describe","desert","design","desk","despair","destroy","detail","detect","develop","device","devote","diagram","dial","diamond","diary","dice","diesel","diet","differ","digital","dignity","dilemma","dinner","dinosaur","direct","dirt","disagree","discover","disease","dish","dismiss","disorder","display","distance","divert","divide","divorce","dizzy","doctor","document","dog","doll","dolphin","domain","donate","donkey","donor","door","dose","double","dove","draft","dragon","drama","drastic","draw","dream","dress","drift","drill","drink","drip","drive","drop","drum","dry","duck","dumb","dune","during","dust","dutch","duty","dwarf","dynamic","eager","eagle","early","earn","earth","easily","east","easy","echo","ecology","economy","edge","edit","educate","effort","egg","eight","either","elbow","elder","electric","elegant","element","elephant","elevator","elite","else","embark","embody","embrace","emerge","emotion","employ","empower","empty","enable","enact","end","endless","endorse","enemy","energy","enforce","engage","engine","enhance","enjoy","enlist","enough","enrich","enroll","ensure","enter","entire","entry","envelope","episode","equal","equip","era","erase","erode","erosion","error","erupt","escape","essay","essence","estate","eternal","ethics","evidence","evil","evoke","evolve","exact","example","excess","exchange","excite","exclude","excuse","execute","exercise","exhaust","exhibit","exile","exist","exit","exotic","expand","expect","expire","explain","expose","express","extend","extra","eye","eyebrow","fabric","face","faculty","fade","faint","faith","fall","false","fame","family","famous","fan","fancy","fantasy","farm","fashion","fat","fatal","father","fatigue","fault","favorite","feature","february","federal","fee","feed","feel","female","fence","festival","fetch","fever","few","fiber","fiction","field","figure","file","film","filter","final","find","fine","finger","finish","fire","firm","first","fiscal","fish","fit","fitness","fix","flag","flame","flash","flat","flavor","flee","flight","flip","float","flock","floor","flower","fluid","flush","fly","foam","focus","fog","foil","fold","follow","food","foot","force","forest","forget","fork","fortune","forum","forward","fossil","foster","found","fox","fragile","frame","frequent","fresh","friend","fringe","frog","front","frost","frown","frozen","fruit","fuel","fun","funny","furnace","fury","future","gadget","gain","galaxy","gallery","game","gap","garage","garbage","garden","garlic","garment","gas","gasp","gate","gather","gauge","gaze","general","genius","genre","gentle","genuine","gesture","ghost","giant","gift","giggle","ginger","giraffe","girl","give","glad","glance","glare","glass","glide","glimpse","globe","gloom","glory","glove","glow","glue","goat","goddess","gold","good","goose","gorilla","gospel","gossip","govern","gown","grab","grace","grain","grant","grape","grass","gravity","great","green","grid","grief","grit","grocery","group","grow","grunt","guard","guess","guide","guilt","guitar","gun","gym","habit","hair","half","hammer","hamster","hand","happy","harbor","hard","harsh","harvest","hat","have","hawk","hazard","head","health","heart","heavy","hedgehog","height","hello","helmet","help","hen","hero","hidden","high","hill","hint","hip","hire","history","hobby","hockey","hold","hole","holiday","hollow","home","honey","hood","hope","horn","horror","horse","hospital","host","hotel","hour","hover","hub","huge","human","humble","humor","hundred","hungry","hunt","hurdle","hurry","hurt","husband","hybrid","ice","icon","idea","identify","idle","ignore","ill","illegal","illness","image","imitate","immense","immune","impact","impose","improve","impulse","inch","include","income","increase","index","indicate","indoor","industry","infant","inflict","inform","inhale","inherit","initial","inject","injury","inmate","inner","innocent","input","inquiry","insane","insect","inside","inspire","install","intact","interest","into","invest","invite","involve","iron","island","isolate","issue","item","ivory","jacket","jaguar","jar","jazz","jealous","jeans","jelly","jewel","job","join","joke","journey","joy","judge","juice","jump","jungle","junior","junk","just","kangaroo","keen","keep","ketchup","key","kick","kid","kidney","kind","kingdom","kiss","kit","kitchen","kite","kitten","kiwi","knee","knife","knock","know","lab","label","labor","ladder","lady","lake","lamp","language","laptop","large","later","latin","laugh","laundry","lava","law","lawn","lawsuit","layer","lazy","leader","leaf","learn","leave","lecture","left","leg","legal","legend","leisure","lemon","lend","length","lens","leopard","lesson","letter","level","liar","liberty","library","license","life","lift","light","like","limb","limit","link","lion","liquid","list","little","live","lizard","load","loan","lobster","local","lock","logic","lonely","long","loop","lottery","loud","lounge","love","loyal","lucky","luggage","lumber","lunar","lunch","luxury","lyrics","machine","mad","magic","magnet","maid","mail","main","major","make","mammal","man","manage","mandate","mango","mansion","manual","maple","marble","march","margin","marine","market","marriage","mask","mass","master","match","material","math","matrix","matter","maximum","maze","meadow","mean","measure","meat","mechanic","medal","media","melody","melt","member","memory","mention","menu","mercy","merge","merit","merry","mesh","message","metal","method","middle","midnight","milk","million","mimic","mind","minimum","minor","minute","miracle","mirror","misery","miss","mistake","mix","mixed","mixture","mobile","model","modify","mom","moment","monitor","monkey","monster","month","moon","moral","more","morning","mosquito","mother","motion","motor","mountain","mouse","move","movie","much","muffin","mule","multiply","muscle","museum","mushroom","music","must","mutual","myself","mystery","myth","naive","name","napkin","narrow","nasty","nation","nature","near","neck","need","negative","neglect","neither","nephew","nerve","nest","net","network","neutral","never","news","next","nice","night","noble","noise","nominee","noodle","normal","north","nose","notable","note","nothing","notice","novel","now","nuclear","number","nurse","nut","oak","obey","object","oblige","obscure","observe","obtain","obvious","occur","ocean","october","odor","off","offer","office","often","oil","okay","old","olive","olympic","omit","once","one","onion","online","only","open","opera","opinion","oppose","option","orange","orbit","orchard","order","ordinary","organ","orient","original","orphan","ostrich","other","outdoor","outer","output","outside","oval","oven","over","own","owner","oxygen","oyster","ozone","pact","paddle","page","pair","palace","palm","panda","panel","panic","panther","paper","parade","parent","park","parrot","party","pass","patch","path","patient","patrol","pattern","pause","pave","payment","peace","peanut","pear","peasant","pelican","pen","penalty","pencil","people","pepper","perfect","permit","person","pet","phone","photo","phrase","physical","piano","picnic","picture","piece","pig","pigeon","pill","pilot","pink","pioneer","pipe","pistol","pitch","pizza","place","planet","plastic","plate","play","please","pledge","pluck","plug","plunge","poem","poet","point","polar","pole","police","pond","pony","pool","popular","portion","position","possible","post","potato","pottery","poverty","powder","power","practice","praise","predict","prefer","prepare","present","pretty","prevent","price","pride","primary","print","priority","prison","private","prize","problem","process","produce","profit","program","project","promote","proof","property","prosper","protect","proud","provide","public","pudding","pull","pulp","pulse","pumpkin","punch","pupil","puppy","purchase","purity","purpose","purse","push","put","puzzle","pyramid","quality","quantum","quarter","question","quick","quit","quiz","quote","rabbit","raccoon","race","rack","radar","radio","rail","rain","raise","rally","ramp","ranch","random","range","rapid","rare","rate","rather","raven","raw","razor","ready","real","reason","rebel","rebuild","recall","receive","recipe","record","recycle","reduce","reflect","reform","refuse","region","regret","regular","reject","relax","release","relief","rely","remain","remember","remind","remove","render","renew","rent","reopen","repair","repeat","replace","report","require","rescue","resemble","resist","resource","response","result","retire","retreat","return","reunion","reveal","review","reward","rhythm","rib","ribbon","rice","rich","ride","ridge","rifle","right","rigid","ring","riot","ripple","risk","ritual","rival","river","road","roast","robot","robust","rocket","romance","roof","rookie","room","rose","rotate","rough","round","route","royal","rubber","rude","rug","rule","run","runway","rural","sad","saddle","sadness","safe","sail","salad","salmon","salon","salt","salute","same","sample","sand","satisfy","satoshi","sauce","sausage","save","say","scale","scan","scare","scatter","scene","scheme","school","science","scissors","scorpion","scout","scrap","screen","script","scrub","sea","search","season","seat","second","secret","section","security","seed","seek","segment","select","sell","seminar","senior","sense","sentence","series","service","session","settle","setup","seven","shadow","shaft","shallow","share","shed","shell","sheriff","shield","shift","shine","ship","shiver","shock","shoe","shoot","shop","short","shoulder","shove","shrimp","shrug","shuffle","shy","sibling","sick","side","siege","sight","sign","silent","silk","silly","silver","similar","simple","since","sing","siren","sister","situate","six","size","skate","sketch","ski","skill","skin","skirt","skull","slab","slam","sleep","slender","slice","slide","slight","slim","slogan","slot","slow","slush","small","smart","smile","smoke","smooth","snack","snake","snap","sniff","snow","soap","soccer","social","sock","soda","soft","solar","soldier","solid","solution","solve","someone","song","soon","sorry","sort","soul","sound","soup","source","south","space","spare","spatial","spawn","speak","special","speed","spell","spend","sphere","spice","spider","spike","spin","spirit","split","spoil","sponsor","spoon","sport","spot","spray","spread","spring","spy","square","squeeze","squirrel","stable","stadium","staff","stage","stairs","stamp","stand","start","state","stay","steak","steel","stem","step","stereo","stick","still","sting","stock","stomach","stone","stool","story","stove","strategy","street","strike","strong","struggle","student","stuff","stumble","style","subject","submit","subway","success","such","sudden","suffer","sugar","suggest","suit","summer","sun","sunny","sunset","super","supply","supreme","sure","surface","surge","surprise","surround","survey","suspect","sustain","swallow","swamp","swap","swarm","swear","sweet","swift","swim","swing","switch","sword","symbol","symptom","syrup","system","table","tackle","tag","tail","talent","talk","tank","tape","target","task","taste","tattoo","taxi","teach","team","tell","ten","tenant","tennis","tent","term","test","text","thank","that","theme","then","theory","there","they","thing","this","thought","three","thrive","throw","thumb","thunder","ticket","tide","tiger","tilt","timber","time","tiny","tip","tired","tissue","title","toast","tobacco","today","toddler","toe","together","toilet","token","tomato","tomorrow","tone","tongue","tonight","tool","tooth","top","topic","topple","torch","tornado","tortoise","toss","total","tourist","toward","tower","town","toy","track","trade","traffic","tragic","train","transfer","trap","trash","travel","tray","treat","tree","trend","trial","tribe","trick","trigger","trim","trip","trophy","trouble","truck","true","truly","trumpet","trust","truth","try","tube","tuition","tumble","tuna","tunnel","turkey","turn","turtle","twelve","twenty","twice","twin","twist","two","type","typical","ugly","umbrella","unable","unaware","uncle","uncover","under","undo","unfair","unfold","unhappy","uniform","unique","unit","universe","unknown","unlock","until","unusual","unveil","update","upgrade","uphold","upon","upper","upset","urban","urge","usage","use","used","useful","useless","usual","utility","vacant","vacuum","vague","valid","valley","valve","van","vanish","vapor","various","vast","vault","vehicle","velvet","vendor","venture","venue","verb","verify","version","very","vessel","veteran","viable","vibrant","vicious","victory","video","view","village","vintage","violin","virtual","virus","visa","visit","visual","vital","vivid","vocal","voice","void","volcano","volume","vote","voyage","wage","wagon","wait","walk","wall","walnut","want","warfare","warm","warrior","wash","wasp","waste","water","wave","way","wealth","weapon","wear","weasel","weather","web","wedding","weekend","weird","welcome","west","wet","whale","what","wheat","wheel","when","where","whip","whisper","wide","width","wife","wild","will","win","window","wine","wing","wink","winner","winter","wire","wisdom","wise","wish","witness","wolf","woman","wonder","wood","wool","word","work","world","worry","worth","wrap","wreck","wrestle","wrist","write","wrong","yard","year","yellow","you","young","youth","zebra","zero","zone","zoo"];let eN="failed to decode mnemonic";function toUint11Array(ee){let et=[],ei=0,es=0;return ee.forEach(function(ee){ei|=ee<<es,(es+=8)>=11&&(et.push(2047&ei),ei>>=11,es-=11)}),es&&et.push(ei),et}function applyWords(ee){return ee.map(ee=>ej[ee])}function computeChecksum(ee){let et=genericHash(ee),ei=toUint11Array(et),es=applyWords(ei);return es[0]}function mnemonicFromSeed(ee){if(32!==ee.length)throw RangeError("Seed length must be 32");let et=toUint11Array(ee),ei=applyWords(et),es=computeChecksum(ee);return`${ei.join(" ")} ${es}`}function seedFromMnemonic(ee){let et=ee.split(" "),ei=et.slice(0,24);for(let ee of ei)if(-1===ej.indexOf(ee))throw Error("the mnemonic contains a word that is not in the wordlist");let es=et[et.length-1],en=ei.map(ee=>ej.indexOf(ee)),eo=function(ee){let et=[],ei=0,es=0;return ee.forEach(function(ee){for(ei|=ee<<es,es+=11;es>=8;)et.push(255&ei),ei>>=8,es-=8}),es&&et.push(ei),new Uint8Array(et)}(en);if(33!==eo.length||0!==eo[eo.length-1])throw Error(eN);eo=eo.slice(0,eo.length-1);let ea=computeChecksum(eo);if(ea===es)return eo;throw Error(eN)}function mnemonicToSecretKey(ee){let et=seedFromMnemonic(ee),ei=keyPairFromSeed(et),es=encodeAddress(ei.publicKey);return{addr:es,sk:ei.secretKey}}function secretKeyToMnemonic(ee){let et=ee.slice(0,32);return mnemonicFromSeed(et)}function mnemonicToMasterDerivationKey(ee){return seedFromMnemonic(ee)}function masterDerivationKeyToMnemonic(ee){return mnemonicFromSeed(ee)}let TxGroup=class TxGroup{constructor(ee){if(this.name="Transaction group",this.tag=e_.Buffer.from("TG"),ee.length>16){let et=`${ee.length.toString()} transactions grouped together but max group size is 16`;throw Error(et)}this.txGroupHashes=ee}get_obj_for_encoding(){let ee={txlist:this.txGroupHashes};return ee}static from_obj_for_encoding(ee){let et=Object.create(this.prototype);for(let ei of(et.name="Transaction group",et.tag=e_.Buffer.from("TG"),et.txGroupHashes=[],ee.txlist))et.txGroupHashes.push(e_.Buffer.from(ei));return et}toByte(){return encode(this.get_obj_for_encoding())}};function computeGroupID(ee){let et=[];for(let ei of ee){let ee=instantiateTxnIfNeeded(ei);et.push(ee.rawTxID())}let ei=new TxGroup(et),es=ei.toByte(),en=e_.Buffer.from(concatArrays(ei.tag,es)),eo=genericHash(en);return e_.Buffer.from(eo)}function assignGroupID(ee,et){let ei=computeGroupID(ee),es=[];for(let en of ee){let ee=instantiateTxnIfNeeded(en);et&&encodeAddress(ee.from.publicKey)!==et||(ee.group=ei,es.push(ee))}return es}let eM="Cannot merge txs. Multisig preimages differ",e$="Cannot mutate a multisig field as it would invalidate all existing signatures.";function createMultisigTransaction(ee,{version:et,threshold:ei,addrs:es}){let en=es.map(ee=>decodeAddress(ee).publicKey),eo=en.map(ee=>({pk:e_.Buffer.from(ee)})),ea=ee.get_obj_for_encoding(),ec={msig:{v:et,thr:ei,subsig:eo},txn:ea},el=fromMultisigPreImg({version:et,threshold:ei,pks:en});return encodeAddress(ea.snd)!==encodeAddress(el)&&(ec.sgnr=e_.Buffer.from(el)),new Uint8Array(encode(ec))}function createMultisigTransactionWithSignature(ee,{rawSig:et,myPk:ei},{version:es,threshold:en,pks:eo}){let ea=createMultisigTransaction(ee,{version:es,threshold:en,addrs:eo.map(ee=>encodeAddress(ee))}),ec=decode(ea),el=!1;if(ec.msig.subsig.forEach((ee,es)=>{bytesEqual(ee.pk,ei)&&(el=!0,ec.msig.subsig[es].s=et)}),!1===el)throw Error("Key does not exist");let eu=fromMultisigPreImg({version:es,threshold:en,pks:eo});return encodeAddress(ec.txn.snd)!==encodeAddress(eu)&&(ec.sgnr=e_.Buffer.from(eu)),new Uint8Array(encode(ec))}let MultisigTransaction=class MultisigTransaction extends Transaction{addLease(){throw Error(e$)}addRekey(){throw Error(e$)}signTxn(ee){throw Error("Cannot sign a multisig transaction using `signTxn`. Use `partialSignTxn` instead.")}partialSignTxn({version:ee,threshold:et,pks:ei},es){let en=keyPairFromSecretKey(es).publicKey;return createMultisigTransactionWithSignature(this,{rawSig:this.rawSignTxn(es),myPk:en},{version:ee,threshold:et,pks:ei})}partialSignWithMultisigSignature(ee,et,ei){if(!isValidSignatureLength(ei.length))throw Error("Cannot add multisig signature. Signature is not of the correct length.");return createMultisigTransactionWithSignature(this,{rawSig:ei,myPk:decodeAddress(et).publicKey},ee)}static from_obj_for_encoding(ee){return super.from_obj_for_encoding(ee)}};function mergeMultisigTransactions(ee){if(ee.length<2)throw Error("Not enough multisig transactions to merge. Need at least two");let et=decode(ee[0]),ei=MultisigTransaction.from_obj_for_encoding(et.txn).txID(),es=et.sgnr?encodeAddress(et.sgnr):void 0,en={version:et.msig.v,threshold:et.msig.thr,pks:et.msig.subsig.map(ee=>ee.pk)},eo=encodeAddress(fromMultisigPreImg(en)),ea=et.msig.subsig.map(ee=>({...ee}));for(let en=1;en<ee.length;en++){let ec=decode(ee[en]),el=MultisigTransaction.from_obj_for_encoding(ec.txn);if(el.txID()!==ei)throw Error("Cannot merge txs. txIDs differ");let eu=ec.sgnr?encodeAddress(ec.sgnr):void 0;if(es!==eu)throw Error("Cannot merge txs. Auth addrs differ");if(ec.msig.subsig.length!==et.msig.subsig.length)throw Error(eM);let ed={version:ec.msig.v,threshold:ec.msig.thr,pks:ec.msig.subsig.map(ee=>ee.pk)},eh=encodeAddress(fromMultisigPreImg(ed));if(eo!==eh)throw Error(eM);ec.msig.subsig.forEach((ee,et)=>{if(!ee.s)return;let ei=ea[et];if(ei.s&&0!==e_.Buffer.compare(e_.Buffer.from(ee.s),e_.Buffer.from(ei.s)))throw Error("Cannot merge txs. subsigs are mismatched.");ei.s=ee.s})}let ec={v:et.msig.v,thr:et.msig.thr,subsig:ea},el={msig:ec,txn:et.txn};return void 0!==es&&(el.sgnr=e_.Buffer.from(decodeAddress(es).publicKey)),new Uint8Array(encode(el))}function verifyMultisig(ee,et,ei){let es;let en=et.v,eo=et.thr,ea=et.subsig,ec=ea.map(ee=>ee.pk);if(et.subsig.length<eo)return!1;try{es=fromMultisigPreImg({version:en,threshold:eo,pks:ec})}catch(ee){return!1}if(!arrayEqual(es,ei))return!1;let el=0;for(let ee of ea)void 0!==ee.s&&(el+=1);if(el<eo)return!1;let eu=0;for(let et of ea)void 0!==et.s&&verify(ee,et.s,et.pk)&&(eu+=1);return!(eu<eo)}function signMultisigTransaction(ee,{version:et,threshold:ei,addrs:es},en){let eo,ea;let ec=fromMultisigPreImgAddrs({version:et,threshold:ei,addrs:es});Object.prototype.hasOwnProperty.call(ee,"from")||(ee.from=ec);let el=es.map(ee=>decodeAddress(ee).publicKey),eu=ee instanceof Transaction;return eu?(eo=ee,ea=MultisigTransaction.prototype.partialSignTxn.call(eo,{version:et,threshold:ei,pks:el},en)):ea=(eo=new MultisigTransaction(ee)).partialSignTxn({version:et,threshold:ei,pks:el},en),{txID:eo.txID().toString(),blob:ea}}function appendSignMultisigTransaction(ee,{version:et,threshold:ei,addrs:es},en){let eo=es.map(ee=>decodeAddress(ee).publicKey),ea=decode(ee),ec=MultisigTransaction.from_obj_for_encoding(ea.txn),el=ec.partialSignTxn({version:et,threshold:ei,pks:eo},en);return{txID:ec.txID().toString(),blob:mergeMultisigTransactions([ee,el])}}function appendSignRawMultisigSignature(ee,{version:et,threshold:ei,addrs:es},en,eo){let ea=es.map(ee=>decodeAddress(ee).publicKey),ec=decode(ee),el=MultisigTransaction.from_obj_for_encoding(ec.txn),eu=el.partialSignWithMultisigSignature({version:et,threshold:ei,pks:ea},en,eo);return{txID:el.txID().toString(),blob:mergeMultisigTransactions([ee,eu])}}function multisigAddress({version:ee,threshold:et,addrs:ei}){return fromMultisigPreImgAddrs({version:ee,threshold:et,addrs:ei})}function sanityCheckProgram(ee){if(!ee||0===ee.length)throw Error("empty program");let isPrintable=ee=>32<=ee&&ee<=126,et=ee.every(ee=>10===ee||isPrintable(ee));if(et){let et=e_.Buffer.from(ee).toString();if(isValidAddress(et))throw Error("requesting program bytes, get Algorand address");if(e_.Buffer.from(et,"base64").toString("base64")===et)throw Error("program should not be b64 encoded");throw Error("program bytes are all ASCII printable characters, not looking like Teal byte code")}}let LogicSig=class LogicSig{constructor(ee,et){let ei;if(this.tag=e_.Buffer.from("Program"),et&&(!Array.isArray(et)||!et.every(ee=>ee.constructor===Uint8Array||e_.Buffer.isBuffer(ee))))throw TypeError("Invalid arguments");null!=et&&(ei=et.map(ee=>new Uint8Array(ee))),sanityCheckProgram(ee),this.logic=ee,this.args=ei,this.sig=void 0,this.msig=void 0}get_obj_for_encoding(){let ee={l:this.logic};return this.args&&(ee.arg=this.args),this.sig?ee.sig=this.sig:this.msig&&(ee.msig=this.msig),ee}static from_obj_for_encoding(ee){let et=new LogicSig(ee.l,ee.arg);return et.sig=ee.sig,et.msig=ee.msig,et}verify(ee){if(this.sig&&this.msig)return!1;try{sanityCheckProgram(this.logic)}catch(ee){return!1}let et=concatArrays(this.tag,this.logic);if(!this.sig&&!this.msig){let ei=genericHash(et);return arrayEqual(ei,ee)}return this.sig?verify(et,this.sig,ee):verifyMultisig(et,this.msig,ee)}address(){let ee=concatArrays(this.tag,this.logic),et=genericHash(ee);return encodeAddress(new Uint8Array(et))}sign(ee,et){if(null==et)this.sig=this.signProgram(ee);else{let ei=et.addrs.map(ee=>({pk:decodeAddress(ee).publicKey}));this.msig={v:et.version,thr:et.threshold,subsig:ei};let[es,en]=this.singleSignMultisig(ee,this.msig);this.msig.subsig[en].s=es}}appendToMultisig(ee){if(void 0===this.msig)throw Error("no multisig present");let[et,ei]=this.singleSignMultisig(ee,this.msig);this.msig.subsig[ei].s=et}signProgram(ee){let et=concatArrays(this.tag,this.logic),ei=sign(et,ee);return ei}singleSignMultisig(ee,et){let ei=-1,es=keyPairFromSecretKey(ee).publicKey;for(let ee=0;ee<et.subsig.length;ee++){let{pk:en}=et.subsig[ee];if(arrayEqual(en,es)){ei=ee;break}}if(-1===ei)throw Error("invalid secret key");let en=this.signProgram(ee);return[en,ei]}toByte(){return encode(this.get_obj_for_encoding())}static fromByte(ee){let et=decode(ee);return LogicSig.from_obj_for_encoding(et)}};let LogicSigAccount=class LogicSigAccount{constructor(ee,et){this.lsig=new LogicSig(ee,et),this.sigkey=void 0}get_obj_for_encoding(){let ee={lsig:this.lsig.get_obj_for_encoding()};return this.sigkey&&(ee.sigkey=this.sigkey),ee}static from_obj_for_encoding(ee){let et=new LogicSigAccount(ee.lsig.l,ee.lsig.arg);return et.lsig=LogicSig.from_obj_for_encoding(ee.lsig),et.sigkey=ee.sigkey,et}toByte(){return encode(this.get_obj_for_encoding())}static fromByte(ee){let et=decode(ee);return LogicSigAccount.from_obj_for_encoding(et)}isDelegated(){return!!(this.lsig.sig||this.lsig.msig)}verify(){let ee=this.address();return this.lsig.verify(decodeAddress(ee).publicKey)}address(){if(this.lsig.sig&&this.lsig.msig)throw Error("LogicSig has too many signatures. At most one of sig or msig may be present");if(this.lsig.sig){if(!this.sigkey)throw Error("Signing key for delegated account is missing");return encodeAddress(this.sigkey)}if(this.lsig.msig){let ee={version:this.lsig.msig.v,threshold:this.lsig.msig.thr,pks:this.lsig.msig.subsig.map(ee=>ee.pk)};return encodeAddress(fromMultisigPreImg(ee))}return this.lsig.address()}signMultisig(ee,et){this.lsig.sign(et,ee)}appendToMultisig(ee){this.lsig.appendToMultisig(ee)}sign(ee){this.lsig.sign(ee),this.sigkey=keyPairFromSecretKey(ee).publicKey}};function signLogicSigTransactionObject(ee,et){let ei,es;if(et instanceof LogicSigAccount)ei=et.lsig,es=decodeAddress(et.address()).publicKey;else if((ei=et).sig)es=ee.from.publicKey;else if(ei.msig){let ee={version:ei.msig.v,threshold:ei.msig.thr,pks:ei.msig.subsig.map(ee=>ee.pk)};es=fromMultisigPreImg(ee)}else es=decodeAddress(ei.address()).publicKey;return function(ee,et,ei){if(!et.verify(ei))throw Error("Logic signature verification failed. Ensure the program and signature are valid.");let es={lsig:et.get_obj_for_encoding(),txn:ee.get_obj_for_encoding()};return bytesEqual(ei,ee.from.publicKey)||(es.sgnr=e_.Buffer.from(ei)),{txID:ee.txID().toString(),blob:encode(es)}}(ee,ei,es)}function signLogicSigTransaction(ee,et){let ei=instantiateTxnIfNeeded(ee);return signLogicSigTransactionObject(ei,et)}function logicSigFromByte(ee){return LogicSig.fromByte(ee)}let eF=e_.Buffer.from("ProgData");function tealSign(ee,et,ei){let es=concatArrays(decodeAddress(ei).publicKey,et),en=e_.Buffer.from(concatArrays(eF,es));return sign(en,ee)}function verifyTealSign(ee,et,ei,es){let en=concatArrays(decodeAddress(et).publicKey,ee),eo=e_.Buffer.from(concatArrays(eF,en));return verify(eo,ei,es)}function tealSignFromProgram(ee,et,ei){let es=new LogicSig(ei),en=es.address();return tealSign(ee,et,en)}let ez={},eK={};"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".split("").forEach(function(ee,et){ez[ee]=et,eK[et]=ee});let SourceMap=class SourceMap{constructor({version:ee,sources:et,names:ei,mappings:es}){if(this.version=ee,this.sources=et,this.names=ei,this.mappings=es,3!==this.version)throw Error(`Only version 3 is supported, got ${this.version}`);if(void 0===this.mappings)throw Error("mapping undefined, cannot build source map without `mapping`");let en=this.mappings.split(";").map(ee=>{let et=function(ee){let et=[],ei=0,es=0;for(let en=0;en<ee.length;en+=1){let eo=ez[ee[en]];if(void 0===eo)throw Error("Invalid character ("+ee[en]+")");let ea=32&eo;if(eo&=31,es+=eo<<ei,ea)ei+=5;else{let ee=1&es;es>>>=1,ee?et.push(0===es?-2147483648:-es):et.push(es),es=ei=0}}return et}(ee);if(et.length>2)return et[2]});this.pcToLine={},this.lineToPc={};let eo=0;for(let[ee,et]of en.entries())void 0!==et&&(eo+=et),eo in this.lineToPc||(this.lineToPc[eo]=[]),this.lineToPc[eo].push(ee),this.pcToLine[ee]=eo}getLineForPc(ee){return this.pcToLine[ee]}getPcsForLine(ee){return this.lineToPc[ee]}};function decodePrograms(ee){return ee.params["approval-program"]=e_.Buffer.from(ee.params["approval-program"].toString(),"base64"),ee.params["clear-state-program"]=e_.Buffer.from(ee.params["clear-state-program"].toString(),"base64"),ee}async function createDryrun({client:ee,txns:et,protocolVersion:ei,latestTimestamp:es,round:en,sources:eo}){let ea=[],ec=[],el=[],eu=[],eh=[];for(let ee of et)ee.txn.type===ed.appl&&(eh.push(encodeAddress(ee.txn.from.publicKey)),ee.txn.appAccounts&&eh.push(...ee.txn.appAccounts.map(ee=>encodeAddress(ee.publicKey))),ee.txn.appForeignApps&&(el.push(...ee.txn.appForeignApps),eh.push(...ee.txn.appForeignApps.map(ee=>getApplicationAddress(ee)))),ee.txn.appForeignAssets&&eu.push(...ee.txn.appForeignAssets),void 0===ee.txn.appIndex||0===ee.txn.appIndex?ea.push(new Application({id:1380011588,params:new ApplicationParams({creator:encodeAddress(ee.txn.from.publicKey),approvalProgram:ee.txn.appApprovalProgram,clearStateProgram:ee.txn.appClearProgram,localStateSchema:new ApplicationStateSchema({numUint:ee.txn.appLocalInts,numByteSlice:ee.txn.appLocalByteSlices}),globalStateSchema:new ApplicationStateSchema({numUint:ee.txn.appGlobalInts,numByteSlice:ee.txn.appGlobalByteSlices})})})):(el.push(ee.txn.appIndex),eh.push(getApplicationAddress(ee.txn.appIndex))));let ep=[];for(let et of[...new Set(eu)])ep.push(ee.getAssetByID(et).do().then(ee=>{eh.push(ee.params.creator)}));await Promise.all(ep);let ef=[];for(let et of[...new Set(el)])ef.push(ee.getApplicationByID(et).do().then(ee=>{let et=decodePrograms(ee);ea.push(et),eh.push(et.params.creator)}));await Promise.all(ef);let eg=[];for(let et of[...new Set(eh)])eg.push(ee.accountInformation(et).do().then(ee=>{"created-apps"in ee&&(ee["created-apps"]=ee["created-apps"].map(ee=>decodePrograms(ee))),ec.push(ee)}));return await Promise.all(eg),new DryrunRequest({txns:et.map(ee=>({...ee,txn:ee.txn.get_obj_for_encoding()})),accounts:ec,apps:ea,latestTimestamp:es,round:en,protocolVersion:ei,sources:eo})}let DryrunStackValue=class DryrunStackValue{constructor(ee){this.type=0,this.bytes="",this.uint=0,this.type=ee.type,this.bytes=ee.bytes,this.uint=ee.uint}toString(){return 1===this.type?`0x${e_.Buffer.from(this.bytes,"base64").toString("hex")}`:this.uint.toString()}};let DryrunTraceLine=class DryrunTraceLine{constructor(ee){this.error="",this.line=0,this.pc=0,this.scratch=[],this.stack=[],this.error=void 0===ee.error?"":ee.error,this.line=ee.line,this.pc=ee.pc,this.scratch=ee.scratch,this.stack=ee.stack.map(ee=>new DryrunStackValue(ee))}};let DryrunTrace=class DryrunTrace{constructor(ee){if(this.trace=[],null==ee)return;this.trace=ee.map(ee=>new DryrunTraceLine(ee))}};function truncate(ee,et){return ee.length>et&&et>0?`${ee.slice(0,et)}...`:ee}let DryrunTransactionResult=class DryrunTransactionResult{constructor(ee){this.disassembly=[],this.appCallMessages=[],this.localDeltas=[],this.globalDelta=[],this.cost=0,this.logicSigMessages=[],this.logicSigDisassembly=[],this.logs=[],this.appCallTrace=void 0,this.logicSigTrace=void 0,this.required=["disassembly"],this.optionals=["app-call-messages","local-deltas","global-delta","cost","logic-sig-messages","logic-sig-disassembly","logs"],this.traces=["app-call-trace","logic-sig-trace"],this.disassembly=ee.disassembly,this.appCallMessages=ee["app-call-messages"],this.localDeltas=ee["local-deltas"],this.globalDelta=ee["global-delta"],this.cost=ee.cost,this.logicSigMessages=ee["logic-sig-messages"],this.logicSigDisassembly=ee["logic-sig-disassembly"],this.logs=ee.logs,this.appCallTrace=new DryrunTrace(ee["app-call-trace"]),this.logicSigTrace=new DryrunTrace(ee["logic-sig-trace"])}appCallRejected(){return void 0!==this.appCallMessages&&this.appCallMessages.includes("REJECT")}logicSigRejected(){return void 0!==this.logicSigMessages&&this.logicSigMessages.includes("REJECT")}static trace(ee,et,ei){let es=ei.maxValueWidth||30,en=[["pc#","ln#","source","scratch","stack"]];for(let eo=0;eo<ee.trace.length;eo++){let{line:ea,error:ec,pc:el,scratch:eu,stack:ed}=ee.trace[eo],eh=void 0!==eu?eu:[],ep=eo>0&&void 0!==ee.trace[eo-1].scratch?ee.trace[eo-1].scratch:[],ef=""===ec?et[ea]:`!! ${ec} !!`;en.push([el.toString().padEnd(3," "),ea.toString().padEnd(3," "),truncate(ef,es),truncate(function(ee,et){if(0===et.length)return"";let ei=null;for(let es=0;es<et.length;es++){if(es>ee.length){ei=es;continue}JSON.stringify(ee[es])!==JSON.stringify(et[es])&&(ei=es)}if(null==ei)return"";let es=et[ei];return es.bytes.length>0?`${ei} = 0x${e_.Buffer.from(es.bytes,"base64").toString("hex")}`:`${ei} = ${es.uint.toString()}`}(ep,eh),es),truncate(function(ee,et){let ei=et?ee.reverse():ee;return`[${ei.map(ee=>{switch(ee.type){case 1:return`0x${e_.Buffer.from(ee.bytes,"base64").toString("hex")}`;case 2:return`${ee.uint.toString()}`;default:return""}}).join(", ")}]`}(ed,ei.topOfStackFirst),es)])}let eo=en.reduce((ee,et)=>{let ei=Array(en[0].length).fill(0);for(let es=0;es<ee.length;es++)ei[es]=et[es].length>ee[es]?et[es].length:ee[es];return ei},Array(en[0].length).fill(0));return`${en.map(ee=>ee.map((ee,et)=>ee.padEnd(eo[et]+1," ")).join("|").trim()).join("\n")}
`}appTrace(ee){if(void 0===this.appCallTrace||!this.disassembly)return"";let et=ee;return void 0===ee&&(et={maxValueWidth:30,topOfStackFirst:!1}),DryrunTransactionResult.trace(this.appCallTrace,this.disassembly,et)}lsigTrace(ee){if(void 0===this.logicSigTrace||void 0===this.logicSigDisassembly)return"";let et=ee;return void 0===ee&&(et={maxValueWidth:30,topOfStackFirst:!0}),DryrunTransactionResult.trace(this.logicSigTrace,this.logicSigDisassembly,et)}};let DryrunResult=class DryrunResult{constructor(ee){this.error="",this.protocolVersion="",this.txns=[],this.error=ee.error,this.protocolVersion=ee["protocol-version"],this.txns=ee.txns.map(ee=>new DryrunTransactionResult(ee))}};function makePaymentTxnWithSuggestedParams(ee,et,ei,es,en,eo,ea){let ec={from:ee,to:et,amount:ei,closeRemainderTo:es,note:en,suggestedParams:eo,type:ed.pay,reKeyTo:ea};return new Transaction(ec)}function makePaymentTxnWithSuggestedParamsFromObject(ee){return makePaymentTxnWithSuggestedParams(ee.from,ee.to,ee.amount,ee.closeRemainderTo,ee.note,ee.suggestedParams,ee.rekeyTo)}function makeKeyRegistrationTxnWithSuggestedParams(ee,et,ei,es,en,eo,ea,ec,el,eu=!1,eh){let ep={from:ee,note:et,voteKey:ei,selectionKey:es,voteFirst:en,voteLast:eo,voteKeyDilution:ea,suggestedParams:ec,type:ed.keyreg,reKeyTo:el,nonParticipation:eu,stateProofKey:eh};return new Transaction(ep)}function makeKeyRegistrationTxnWithSuggestedParamsFromObject(ee){return makeKeyRegistrationTxnWithSuggestedParams(ee.from,ee.note,ee.voteKey,ee.selectionKey,ee.voteFirst,ee.voteLast,ee.voteKeyDilution,ee.suggestedParams,ee.rekeyTo,ee.nonParticipation,ee.stateProofKey)}function makeAssetCreateTxnWithSuggestedParams(ee,et,ei,es,en,eo,ea,ec,el,eu,eh,ep,ef,eg,em){let ey={from:ee,note:et,suggestedParams:eg,assetTotal:ei,assetDecimals:es,assetDefaultFrozen:en,assetUnitName:eu,assetName:eh,assetURL:ep,assetMetadataHash:ef,assetManager:eo,assetReserve:ea,assetFreeze:ec,assetClawback:el,type:ed.acfg,reKeyTo:em};return new Transaction(ey)}function makeAssetCreateTxnWithSuggestedParamsFromObject(ee){return makeAssetCreateTxnWithSuggestedParams(ee.from,ee.note,ee.total,ee.decimals,ee.defaultFrozen,ee.manager,ee.reserve,ee.freeze,ee.clawback,ee.unitName,ee.assetName,ee.assetURL,ee.assetMetadataHash,ee.suggestedParams,ee.rekeyTo)}function makeAssetConfigTxnWithSuggestedParams(ee,et,ei,es,en,eo,ea,ec,el=!0,eu){if(el&&(void 0===es||void 0===en||void 0===eo||void 0===ea))throw Error("strict empty address checking was turned on, but at least one empty address was provided");let eh={from:ee,suggestedParams:ec,assetIndex:ei,assetManager:es,assetReserve:en,assetFreeze:eo,assetClawback:ea,type:ed.acfg,note:et,reKeyTo:eu};return new Transaction(eh)}function makeAssetConfigTxnWithSuggestedParamsFromObject(ee){return makeAssetConfigTxnWithSuggestedParams(ee.from,ee.note,ee.assetIndex,ee.manager,ee.reserve,ee.freeze,ee.clawback,ee.suggestedParams,ee.strictEmptyAddressChecking,ee.rekeyTo)}function makeAssetDestroyTxnWithSuggestedParams(ee,et,ei,es,en){let eo={from:ee,suggestedParams:es,assetIndex:ei,type:ed.acfg,note:et,reKeyTo:en};return new Transaction(eo)}function makeAssetDestroyTxnWithSuggestedParamsFromObject(ee){return makeAssetDestroyTxnWithSuggestedParams(ee.from,ee.note,ee.assetIndex,ee.suggestedParams,ee.rekeyTo)}function makeAssetFreezeTxnWithSuggestedParams(ee,et,ei,es,en,eo,ea){let ec={from:ee,type:ed.afrz,freezeAccount:es,assetIndex:ei,freezeState:en,note:et,suggestedParams:eo,reKeyTo:ea};return new Transaction(ec)}function makeAssetFreezeTxnWithSuggestedParamsFromObject(ee){return makeAssetFreezeTxnWithSuggestedParams(ee.from,ee.note,ee.assetIndex,ee.freezeTarget,ee.freezeState,ee.suggestedParams,ee.rekeyTo)}function makeAssetTransferTxnWithSuggestedParams(ee,et,ei,es,en,eo,ea,ec,el){let eu={type:ed.axfer,from:ee,to:et,amount:en,suggestedParams:ec,assetIndex:ea,note:eo,assetRevocationTarget:es,closeRemainderTo:ei,reKeyTo:el};return new Transaction(eu)}function makeAssetTransferTxnWithSuggestedParamsFromObject(ee){return makeAssetTransferTxnWithSuggestedParams(ee.from,ee.to,ee.closeRemainderTo,ee.revocationTarget,ee.amount,ee.note,ee.assetIndex,ee.suggestedParams,ee.rekeyTo)}function makeApplicationCreateTxn(ee,et,ei,es,en,eo,ea,ec,el,eu,eh,ep,ef,eg,em,ey,eb,e_){let ev={type:ed.appl,from:ee,suggestedParams:et,appIndex:0,appOnComplete:ei,appLocalInts:eo,appLocalByteSlices:ea,appGlobalInts:ec,appGlobalByteSlices:el,appApprovalProgram:es,appClearProgram:en,appArgs:eu,appAccounts:eh,appForeignApps:ep,appForeignAssets:ef,boxes:e_,note:eg,lease:em,reKeyTo:ey,extraPages:eb};return new Transaction(ev)}function makeApplicationCreateTxnFromObject(ee){return makeApplicationCreateTxn(ee.from,ee.suggestedParams,ee.onComplete,ee.approvalProgram,ee.clearProgram,ee.numLocalInts,ee.numLocalByteSlices,ee.numGlobalInts,ee.numGlobalByteSlices,ee.appArgs,ee.accounts,ee.foreignApps,ee.foreignAssets,ee.note,ee.lease,ee.rekeyTo,ee.extraPages,ee.boxes)}function makeApplicationUpdateTxn(ee,et,ei,es,en,eo,ea,ec,el,eu,ep,ef,eg){let em={type:ed.appl,from:ee,suggestedParams:et,appIndex:ei,appApprovalProgram:es,appOnComplete:eh.UpdateApplicationOC,appClearProgram:en,appArgs:eo,appAccounts:ea,appForeignApps:ec,appForeignAssets:el,boxes:eg,note:eu,lease:ep,reKeyTo:ef};return new Transaction(em)}function makeApplicationUpdateTxnFromObject(ee){return makeApplicationUpdateTxn(ee.from,ee.suggestedParams,ee.appIndex,ee.approvalProgram,ee.clearProgram,ee.appArgs,ee.accounts,ee.foreignApps,ee.foreignAssets,ee.note,ee.lease,ee.rekeyTo,ee.boxes)}function makeApplicationDeleteTxn(ee,et,ei,es,en,eo,ea,ec,el,eu,ep){let ef={type:ed.appl,from:ee,suggestedParams:et,appIndex:ei,appOnComplete:eh.DeleteApplicationOC,appArgs:es,appAccounts:en,appForeignApps:eo,appForeignAssets:ea,boxes:ep,note:ec,lease:el,reKeyTo:eu};return new Transaction(ef)}function makeApplicationDeleteTxnFromObject(ee){return makeApplicationDeleteTxn(ee.from,ee.suggestedParams,ee.appIndex,ee.appArgs,ee.accounts,ee.foreignApps,ee.foreignAssets,ee.note,ee.lease,ee.rekeyTo,ee.boxes)}function makeApplicationOptInTxn(ee,et,ei,es,en,eo,ea,ec,el,eu,ep){let ef={type:ed.appl,from:ee,suggestedParams:et,appIndex:ei,appOnComplete:eh.OptInOC,appArgs:es,appAccounts:en,appForeignApps:eo,appForeignAssets:ea,boxes:ep,note:ec,lease:el,reKeyTo:eu};return new Transaction(ef)}function makeApplicationOptInTxnFromObject(ee){return makeApplicationOptInTxn(ee.from,ee.suggestedParams,ee.appIndex,ee.appArgs,ee.accounts,ee.foreignApps,ee.foreignAssets,ee.note,ee.lease,ee.rekeyTo,ee.boxes)}function makeApplicationCloseOutTxn(ee,et,ei,es,en,eo,ea,ec,el,eu,ep){let ef={type:ed.appl,from:ee,suggestedParams:et,appIndex:ei,appOnComplete:eh.CloseOutOC,appArgs:es,appAccounts:en,appForeignApps:eo,appForeignAssets:ea,boxes:ep,note:ec,lease:el,reKeyTo:eu};return new Transaction(ef)}function makeApplicationCloseOutTxnFromObject(ee){return makeApplicationCloseOutTxn(ee.from,ee.suggestedParams,ee.appIndex,ee.appArgs,ee.accounts,ee.foreignApps,ee.foreignAssets,ee.note,ee.lease,ee.rekeyTo,ee.boxes)}function makeApplicationClearStateTxn(ee,et,ei,es,en,eo,ea,ec,el,eu,ep){let ef={type:ed.appl,from:ee,suggestedParams:et,appIndex:ei,appOnComplete:eh.ClearStateOC,appArgs:es,appAccounts:en,appForeignApps:eo,appForeignAssets:ea,boxes:ep,note:ec,lease:el,reKeyTo:eu};return new Transaction(ef)}function makeApplicationClearStateTxnFromObject(ee){return makeApplicationClearStateTxn(ee.from,ee.suggestedParams,ee.appIndex,ee.appArgs,ee.accounts,ee.foreignApps,ee.foreignAssets,ee.note,ee.lease,ee.rekeyTo,ee.boxes)}function makeApplicationNoOpTxn(ee,et,ei,es,en,eo,ea,ec,el,eu,ep){let ef={type:ed.appl,from:ee,suggestedParams:et,appIndex:ei,appOnComplete:eh.NoOpOC,appArgs:es,appAccounts:en,appForeignApps:eo,appForeignAssets:ea,boxes:ep,note:ec,lease:el,reKeyTo:eu};return new Transaction(ef)}function makeApplicationNoOpTxnFromObject(ee){return makeApplicationNoOpTxn(ee.from,ee.suggestedParams,ee.appIndex,ee.appArgs,ee.accounts,ee.foreignApps,ee.foreignAssets,ee.note,ee.lease,ee.rekeyTo,ee.boxes)}function makeApplicationCallTxnFromObject(ee){let et={type:ed.appl,from:ee.from,suggestedParams:ee.suggestedParams,appIndex:ee.appIndex,appOnComplete:ee.onComplete,appLocalInts:ee.numLocalInts,appLocalByteSlices:ee.numLocalByteSlices,appGlobalInts:ee.numGlobalInts,appGlobalByteSlices:ee.numGlobalByteSlices,appApprovalProgram:ee.approvalProgram,appClearProgram:ee.clearProgram,appArgs:ee.appArgs,appAccounts:ee.accounts,appForeignApps:ee.foreignApps,appForeignAssets:ee.foreignAssets,boxes:ee.boxes,note:ee.note,lease:ee.lease,reKeyTo:ee.rekeyTo,extraPages:ee.extraPages};return new Transaction(et)}function makeBasicAccountTransactionSigner(ee){return(et,ei)=>{let es=[];for(let en of ei)es.push(et[en].signTxn(ee.sk));return Promise.resolve(es)}}function makeLogicSigAccountTransactionSigner(ee){return(et,ei)=>{let es=[];for(let en of ei){let{blob:ei}=signLogicSigTransactionObject(et[en],ee);es.push(ei)}return Promise.resolve(es)}}function makeMultiSigAccountTransactionSigner(ee,et){return(ei,es)=>{let en=[];for(let eo of es){let es=ei[eo],ea=[];for(let ei of et){let{blob:et}=signMultisigTransaction(es,ee,ei);ea.push(et)}ea.length>1?en.push(mergeMultisigTransactions(ea)):en.push(ea[0])}return Promise.resolve(en)}}function makeEmptyTransactionSigner(){return(ee,et)=>{let ei=[];for(let es of et)ei.push(encodeUnsignedSimulateTransaction(ee[es]));return Promise.resolve(ei)}}function isTransactionWithSigner(ee){return"object"==typeof ee&&2===Object.keys(ee).length&&"object"==typeof ee.txn&&"function"==typeof ee.signer}let eH=65535,eV=32,eW=1,eJ=1,eG=2,eY=/^([a-z\d[\](),]+)\[(0|[1-9][\d]*)]$/,eQ=/^ufixed([1-9][\d]*)x([1-9][\d]*)$/;let ABIType=class ABIType{static from(ee){if(ee.endsWith("[]")){let et=ABIType.from(ee.slice(0,ee.length-2));return new ABIArrayDynamicType(et)}if(ee.endsWith("]")){let et=ee.match(eY);if(3!==et.length)throw Error(`malformed static array string: ${ee}`);let ei=et[2],es=parseInt(ei,10);if(es>eH)throw Error(`array length exceeds limit ${eH}`);let en=ABIType.from(et[1]);return new ABIArrayStaticType(en,es)}if(ee.startsWith("uint")){let et=ee.slice(4,ee.length);if(![...et].every(ee=>"0123456789".includes(ee)))throw Error(`malformed uint string: ${et}`);let ei=parseInt(et,10);if(ei>eH)throw Error(`malformed uint string: ${ei}`);return new ABIUintType(ei)}if("byte"===ee)return new ABIByteType;if(ee.startsWith("ufixed")){let et=ee.match(eQ);if(3!==et.length)throw Error(`malformed ufixed type: ${ee}`);let ei=parseInt(et[1],10),es=parseInt(et[2],10);return new ABIUfixedType(ei,es)}if("bool"===ee)return new ABIBoolType;if("address"===ee)return new ABIAddressType;if("string"===ee)return new ABIStringType;if(ee.length>=2&&"("===ee[0]&&")"===ee[ee.length-1]){let et=ABITupleType.parseTupleContent(ee.slice(1,ee.length-1)),ei=[];for(let ee=0;ee<et.length;ee++){let es=ABIType.from(et[ee]);ei.push(es)}return new ABITupleType(ei)}throw Error(`cannot convert a string ${ee} to an ABI type`)}};let ABIUintType=class ABIUintType extends ABIType{constructor(ee){if(super(),ee%8!=0||ee<8||ee>512)throw Error(`unsupported uint type bitSize: ${ee}`);this.bitSize=ee}toString(){return`uint${this.bitSize}`}equals(ee){return ee instanceof ABIUintType&&this.bitSize===ee.bitSize}isDynamic(){return!1}byteLen(){return this.bitSize/8}encode(ee){if("bigint"!=typeof ee&&"number"!=typeof ee)throw Error(`Cannot encode value as uint${this.bitSize}: ${ee}`);if(ee>=BigInt(2**this.bitSize)||ee<BigInt(0))throw Error(`${ee} is not a non-negative int or too big to fit in size uint${this.bitSize}`);if("number"==typeof ee&&!Number.isSafeInteger(ee))throw Error(`${ee} should be converted into a BigInt before it is encoded`);return bigIntToBytes(ee,this.bitSize/8)}decode(ee){if(ee.length!==this.bitSize/8)throw Error(`byte string must correspond to a uint${this.bitSize}`);return bytesToBigInt(ee)}};let ABIUfixedType=class ABIUfixedType extends ABIType{constructor(ee,et){if(super(),ee%8!=0||ee<8||ee>512)throw Error(`unsupported ufixed type bitSize: ${ee}`);if(et>160||et<1)throw Error(`unsupported ufixed type precision: ${et}`);this.bitSize=ee,this.precision=et}toString(){return`ufixed${this.bitSize}x${this.precision}`}equals(ee){return ee instanceof ABIUfixedType&&this.bitSize===ee.bitSize&&this.precision===ee.precision}isDynamic(){return!1}byteLen(){return this.bitSize/8}encode(ee){if("bigint"!=typeof ee&&"number"!=typeof ee)throw Error(`Cannot encode value as ${this.toString()}: ${ee}`);if(ee>=BigInt(2**this.bitSize)||ee<BigInt(0))throw Error(`${ee} is not a non-negative int or too big to fit in size ${this.toString()}`);if("number"==typeof ee&&!Number.isSafeInteger(ee))throw Error(`${ee} should be converted into a BigInt before it is encoded`);return bigIntToBytes(ee,this.bitSize/8)}decode(ee){if(ee.length!==this.bitSize/8)throw Error(`byte string must correspond to a ${this.toString()}`);return bytesToBigInt(ee)}};let ABIAddressType=class ABIAddressType extends ABIType{toString(){return"address"}equals(ee){return ee instanceof ABIAddressType}isDynamic(){return!1}byteLen(){return eV}encode(ee){if("string"!=typeof ee&&!(ee instanceof Uint8Array))throw Error(`Cannot encode value as ${this.toString()}: ${ee}`);if("string"==typeof ee){let et=decodeAddress(ee);return et.publicKey}if(32!==ee.byteLength)throw Error("byte string must be 32 bytes long for an address");return ee}decode(ee){if(32!==ee.byteLength)throw Error("byte string must be 32 bytes long for an address");return encodeAddress(ee)}};let ABIBoolType=class ABIBoolType extends ABIType{toString(){return"bool"}equals(ee){return ee instanceof ABIBoolType}isDynamic(){return!1}byteLen(){return eJ}encode(ee){if("boolean"!=typeof ee)throw Error(`Cannot encode value as bool: ${ee}`);return new Uint8Array(ee?[128]:[0])}decode(ee){if(1!==ee.byteLength)throw Error("bool string must be 1 byte long");let et=ee[0];if(128===et)return!0;if(0===et)return!1;throw Error("boolean could not be decoded from the byte string")}};let ABIByteType=class ABIByteType extends ABIType{toString(){return"byte"}equals(ee){return ee instanceof ABIByteType}isDynamic(){return!1}byteLen(){return eW}encode(ee){if("number"!=typeof ee&&"bigint"!=typeof ee)throw Error(`Cannot encode value as byte: ${ee}`);if("bigint"==typeof ee&&(ee=Number(ee)),ee<0||ee>255)throw Error(`${ee} cannot be encoded into a byte`);return new Uint8Array([ee])}decode(ee){if(1!==ee.byteLength)throw Error("byte string must be 1 byte long");return ee[0]}};let ABIStringType=class ABIStringType extends ABIType{toString(){return"string"}equals(ee){return ee instanceof ABIStringType}isDynamic(){return!0}byteLen(){throw Error(`${this.toString()} is a dynamic type`)}encode(ee){if("string"!=typeof ee&&!(ee instanceof Uint8Array))throw Error(`Cannot encode value as string: ${ee}`);let et=e_.Buffer.from(ee),ei=bigIntToBytes(et.length,eG),es=new Uint8Array(et.length+eG);return es.set(ei),es.set(et,eG),es}decode(ee){if(ee.length<eG)throw Error(`byte string is too short to be decoded. Actual length is ${ee.length}, but expected at least ${eG}`);let et=e_.Buffer.from(ee),ei=et.readUIntBE(0,eG),es=ee.slice(eG,ee.length);if(ei!==es.length)throw Error(`string length bytes do not match the actual length of string. Expected ${ei}, got ${es.length}`);return e_.Buffer.from(es).toString("utf-8")}};let ABIArrayStaticType=class ABIArrayStaticType extends ABIType{constructor(ee,et){if(super(),et<0)throw Error(`static array must have a non negative length: ${et}`);this.childType=ee,this.staticLength=et}toString(){return`${this.childType.toString()}[${this.staticLength}]`}equals(ee){return ee instanceof ABIArrayStaticType&&this.staticLength===ee.staticLength&&this.childType.equals(ee.childType)}isDynamic(){return this.childType.isDynamic()}byteLen(){return this.childType.constructor===ABIBoolType?Math.ceil(this.staticLength/8):this.staticLength*this.childType.byteLen()}encode(ee){if(!Array.isArray(ee)&&!(ee instanceof Uint8Array))throw Error(`Cannot encode value as ${this.toString()}: ${ee}`);if(ee.length!==this.staticLength)throw Error(`Value array does not match static array length. Expected ${this.staticLength}, got ${ee.length}`);let et=this.toABITupleType();return et.encode(ee)}decode(ee){let et=this.toABITupleType();return et.decode(ee)}toABITupleType(){return new ABITupleType(Array(this.staticLength).fill(this.childType))}};let ABIArrayDynamicType=class ABIArrayDynamicType extends ABIType{constructor(ee){super(),this.childType=ee}toString(){return`${this.childType.toString()}[]`}equals(ee){return ee instanceof ABIArrayDynamicType&&this.childType.equals(ee.childType)}isDynamic(){return!0}byteLen(){throw Error(`${this.toString()} is a dynamic type`)}encode(ee){if(!Array.isArray(ee)&&!(ee instanceof Uint8Array))throw Error(`Cannot encode value as ${this.toString()}: ${ee}`);let et=this.toABITupleType(ee.length),ei=et.encode(ee),es=bigIntToBytes(et.childTypes.length,eG),en=concatArrays(es,ei);return en}decode(ee){let et=e_.Buffer.from(ee),ei=et.readUIntBE(0,eG),es=this.toABITupleType(ei);return es.decode(ee.slice(eG,ee.length))}toABITupleType(ee){return new ABITupleType(Array(ee).fill(this.childType))}};let ABITupleType=class ABITupleType extends ABIType{constructor(ee){if(super(),ee.length>=eH)throw Error("tuple type child type number larger than maximum uint16 error");this.childTypes=ee}toString(){let ee=[];for(let et=0;et<this.childTypes.length;et++)ee[et]=this.childTypes[et].toString();return`(${ee.join(",")})`}equals(ee){return ee instanceof ABITupleType&&this.childTypes.length===ee.childTypes.length&&this.childTypes.every((et,ei)=>et.equals(ee.childTypes[ei]))}isDynamic(){return this.childTypes.some(ee=>ee.isDynamic())}byteLen(){let ee=0;for(let et=0;et<this.childTypes.length;et++)if(this.childTypes[et].constructor===ABIBoolType){let ei=findBoolLR(this.childTypes,et,1),es=ei+1;et+=ei,ee+=Math.trunc((es+7)/8)}else{let ei=this.childTypes[et].byteLen();ee+=ei}return ee}encode(ee){if(!Array.isArray(ee)&&!(ee instanceof Uint8Array))throw Error(`Cannot encode value as ${this.toString()}: ${ee}`);let et=Array.from(ee);if(ee.length>eH)throw Error("length of tuple array should not exceed a uint16");let ei=this.childTypes,es=[],en=[],eo=new Map,ea=0;for(;ea<ei.length;){let ee=ei[ea];if(ee.isDynamic())eo.set(es.length,!0),es.push(new Uint8Array([0,0])),en.push(ee.encode(et[ea]));else{if(ee.constructor===ABIBoolType){let ee=findBoolLR(ei,ea,-1),en=findBoolLR(ei,ea,1);if(ee%8!=0)throw Error("expected before index should have number of bool mod 8 equal 0");en=Math.min(7,en);let eo=function(ee){let et=0;if(ee.length>8)throw Error("value list passed in should be no greater than length 8");for(let ei=0;ei<ee.length;ei++){let es=ee[ei];if("boolean"!=typeof es)throw Error("non-boolean values cannot be compressed into a byte");es&&(et|=1<<7-ei)}return et}(et.slice(ea,ea+en+1));es.push(bigIntToBytes(eo,1)),ea+=en}else{let ei=ee.encode(et[ea]);es.push(ei)}eo.set(ea,!1),en.push(new Uint8Array)}ea+=1}let ec=0;for(let ee of es)ec+=ee.length;let el=0;for(let ee=0;ee<es.length;ee++){if(eo.get(ee)){let et=ec+el;if(et>eH)throw Error(`byte length of ${et} should not exceed a uint16`);es[ee]=bigIntToBytes(et,eG)}el+=en[ee].length}return concatArrays(...es,...en)}decode(ee){let et=this.childTypes,ei=[],es=[],en=0,eo=0,ea=e_.Buffer.from(ee);for(;en<et.length;){let ec=et[en];if(ec.isDynamic()){if(ee.slice(eo,ee.length).length<eG)throw Error("dynamic type in tuple is too short to be decoded");let et=ea.readUIntBE(eo,eG);if(ei.length>0&&(ei[ei.length-1].right=et,et<ei[ei.length-1].left))throw Error("dynamic index segment miscalculation: left is greater than right index");let en={left:et,right:-1};ei.push(en),es.push(null),eo+=eG}else if(ec.constructor===ABIBoolType){let et=findBoolLR(this.childTypes,en,-1),ei=findBoolLR(this.childTypes,en,1);if(et%8!=0)throw Error("expected before bool number mod 8 === 0");ei=Math.min(7,ei);for(let et=0;et<=ei;et++){let ei=128>>et;(ee[eo]&ei)>0?es.push(new Uint8Array([128])):es.push(new Uint8Array([0]))}en+=ei,eo+=1}else{let et=ec.byteLen();es.push(ee.slice(eo,eo+et)),eo+=et}if(en!==et.length-1&&eo>=ee.length)throw Error("input byte not enough to decode");en+=1}if(ei.length>0&&(ei[ei.length-1].right=ee.length,eo=ee.length),eo<ee.length)throw Error("input byte not fully consumed");for(let ee=0;ee<ei.length;ee++){let et=ei[ee];if(et.left>et.right)throw Error("dynamic segment should display a [l, r] space with l <= r");if(ee!==ei.length-1&&et.right!==ei[ee+1].left)throw Error("dynamic segment should be consecutive")}let ec=0;for(let en=0;en<et.length;en++)et[en].isDynamic()&&(es[en]=ee.slice(ei[ec].left,ei[ec].right),ec+=1);let el=[];for(let ee=0;ee<et.length;ee++){let ei=et[ee].decode(es[ee]);el.push(ei)}return el}static parseTupleContent(ee){if(0===ee.length)return[];if(ee.endsWith(",")||ee.startsWith(","))throw Error("tuple string should not start with comma");if(ee.includes(",,"))throw Error("tuple string should not have consecutive commas");let et=[],ei=0,es="";for(let en of ee)es+=en,"("===en?ei+=1:")"===en?ei-=1:","===en&&0===ei&&(et.push(es.slice(0,es.length-1)),es="");if(0!==es.length&&et.push(es),0!==ei)throw Error("tuple string has mismatched parentheses");return et}};function findBoolLR(ee,et,ei){let es=0;for(;;){let en=et+ei*es;if(ee[en].constructor===ABIBoolType){if(en!==ee.length-1&&1===ei)es+=1;else if(en>0&&-1===ei)es+=1;else break}else{es-=1;break}}return es}function abiTypeIsTransaction(ee){return ee===ep.any||ee===ep.pay||ee===ep.keyreg||ee===ep.acfg||ee===ep.axfer||ee===ep.afrz||ee===ep.appl}function abiCheckTransactionType(ee,et){return ee===ep.any||et.type&&et.type.toString()===ee.toString()}function abiTypeIsReference(ee){return ee===ef.account||ee===ef.application||ee===ef.asset}(ea=ep||(ep={})).any="txn",ea.pay="pay",ea.keyreg="keyreg",ea.acfg="acfg",ea.axfer="axfer",ea.afrz="afrz",ea.appl="appl",(ec=ef||(ef={})).account="account",ec.application="application",ec.asset="asset";let ABIMethod=class ABIMethod{constructor(ee){if("string"!=typeof ee.name||"object"!=typeof ee.returns||!Array.isArray(ee.args))throw Error("Invalid ABIMethod parameters");this.name=ee.name,this.description=ee.desc,this.args=ee.args.map(({type:ee,name:et,desc:ei})=>abiTypeIsTransaction(ee)||abiTypeIsReference(ee)?{type:ee,name:et,description:ei}:{type:ABIType.from(ee),name:et,description:ei}),this.returns={type:"void"===ee.returns.type?ee.returns.type:ABIType.from(ee.returns.type),description:ee.returns.desc},this.events=ee.events,this.readonly=ee.readonly}getSignature(){let ee=this.args.map(ee=>ee.type.toString()).join(","),et=this.returns.type.toString();return`${this.name}(${ee})${et}`}getSelector(){let ee=genericHash(this.getSignature());return new Uint8Array(ee.slice(0,4))}txnCount(){let ee=1;for(let et of this.args)"string"==typeof et.type&&abiTypeIsTransaction(et.type)&&(ee+=1);return ee}toJSON(){return{name:this.name,desc:this.description,args:this.args.map(({type:ee,name:et,description:ei})=>({type:ee.toString(),name:et,desc:ei})),returns:{type:this.returns.type.toString(),desc:this.returns.description},events:this.events,readonly:this.readonly}}static fromSignature(ee){let{name:et,args:ei,returns:es}=function(ee){let et=ee.indexOf("(");if(-1===et)throw Error(`Invalid method signature: ${ee}`);let ei=-1,es=0;for(let en=et;en<ee.length;en++){let et=ee[en];if("("===et)es+=1;else if(")"===et){if(0===es)break;if(0==(es-=1)){ei=en;break}}}if(-1===ei)throw Error(`Invalid method signature: ${ee}`);return{name:ee.slice(0,et),args:ABITupleType.parseTupleContent(ee.slice(et+1,ei)),returns:ee.slice(ei+1)}}(ee);return new ABIMethod({name:et,args:ei.map(ee=>({type:ee})),returns:{type:es}})}};function getMethodByName(ee,et){if(null===ee||!Array.isArray(ee)||!ee.every(ee=>ee instanceof ABIMethod))throw Error("Methods list provided is null or not the correct type");let ei=ee.filter(ee=>ee.name===et);if(ei.length>1)throw Error(`found ${ei.length} methods with the same name ${ei.map(ee=>ee.getSignature()).join(",")}`);if(0===ei.length)throw Error(`found 0 methods with the name ${et}`);return ei[0]}let ABIContract=class ABIContract{constructor(ee){if("string"!=typeof ee.name||!Array.isArray(ee.methods)||ee.networks&&"object"!=typeof ee.networks)throw Error("Invalid ABIContract parameters");this.name=ee.name,this.description=ee.desc,this.networks=ee.networks?{...ee.networks}:{},this.methods=ee.methods.map(ee=>new ABIMethod(ee)),this.events=ee.events}toJSON(){return{name:this.name,desc:this.description,networks:this.networks,methods:this.methods.map(ee=>ee.toJSON()),events:this.events}}getMethodByName(ee){return getMethodByName(this.methods,ee)}};let ABIInterface=class ABIInterface{constructor(ee){if("string"!=typeof ee.name||!Array.isArray(ee.methods))throw Error("Invalid ABIInterface parameters");this.name=ee.name,this.description=ee.desc,this.methods=ee.methods.map(ee=>new ABIMethod(ee))}toJSON(){return{name:this.name,desc:this.description,methods:this.methods.map(ee=>ee.toJSON())}}getMethodByName(ee){return getMethodByName(this.methods,ee)}};let eZ=e_.Buffer.from([21,31,124,117]);function populateForeignArray(ee,et,ei){if(null!=ei&&ee===ei)return 0;let es=null==ei?0:1;for(let ei=0;ei<et.length;ei++)if(ee===et[ei])return ei+es;return et.push(ee),et.length-1+es}(el=eg||(eg={}))[el.BUILDING=0]="BUILDING",el[el.BUILT=1]="BUILT",el[el.SIGNED=2]="SIGNED",el[el.SUBMITTED=3]="SUBMITTED",el[el.COMMITTED=4]="COMMITTED";let AtomicTransactionComposer=class AtomicTransactionComposer{constructor(){this.status=eg.BUILDING,this.transactions=[],this.methodCalls=new Map,this.signedTxns=[],this.txIDs=[]}getStatus(){return this.status}count(){return this.transactions.length}clone(){let ee=new AtomicTransactionComposer;return ee.transactions=this.transactions.map(({txn:ee,signer:et})=>({txn:Transaction.from_obj_for_encoding({...ee.get_obj_for_encoding(),grp:void 0}),signer:et})),ee.methodCalls=new Map(this.methodCalls),ee}addTransaction(ee){if(this.status!==eg.BUILDING)throw Error("Cannot add transactions when composer status is not BUILDING");if(this.transactions.length===AtomicTransactionComposer.MAX_GROUP_SIZE)throw Error(`Adding an additional transaction exceeds the maximum atomic group size of ${AtomicTransactionComposer.MAX_GROUP_SIZE}`);if(ee.txn.group&&ee.txn.group.some(ee=>0!==ee))throw Error("Cannot add a transaction with nonzero group ID");this.transactions.push(ee)}addMethodCall({appID:ee,method:et,methodArgs:ei,sender:es,suggestedParams:en,onComplete:eo,approvalProgram:ea,clearProgram:ec,numGlobalInts:el,numGlobalByteSlices:eu,numLocalInts:ed,numLocalByteSlices:ep,extraPages:em,appAccounts:ey,appForeignApps:eb,appForeignAssets:e_,boxes:ev,note:ew,lease:ex,rekeyTo:eS,signer:eE}){if(this.status!==eg.BUILDING)throw Error("Cannot add transactions when composer status is not BUILDING");if(this.transactions.length+et.txnCount()>AtomicTransactionComposer.MAX_GROUP_SIZE)throw Error(`Adding additional transactions exceeds the maximum atomic group size of ${AtomicTransactionComposer.MAX_GROUP_SIZE}`);if(0===ee){if(null==ea||null==ec||null==el||null==eu||null==ed||null==ep)throw Error("One of the following required parameters for application creation is missing: approvalProgram, clearProgram, numGlobalInts, numGlobalByteSlices, numLocalInts, numLocalByteSlices")}else if(eo===eh.UpdateApplicationOC){if(null==ea||null==ec)throw Error("One of the following required parameters for OnApplicationComplete.UpdateApplicationOC is missing: approvalProgram, clearProgram");if(null!=el||null!=eu||null!=ed||null!=ep||null!=em)throw Error("One of the following application creation parameters were set on a non-creation call: numGlobalInts, numGlobalByteSlices, numLocalInts, numLocalByteSlices, extraPages")}else if(null!=ea||null!=ec||null!=el||null!=eu||null!=ed||null!=ep||null!=em)throw Error("One of the following application creation parameters were set on a non-creation call: approvalProgram, clearProgram, numGlobalInts, numGlobalByteSlices, numLocalInts, numLocalByteSlices, extraPages");if(null==ei&&(ei=[]),ei.length!==et.args.length)throw Error(`Incorrect number of method arguments. Expected ${et.args.length}, got ${ei.length}`);let eA=[],eI=[],eT=[],eR=[],eD=[],ek=new Map;for(let ee=0;ee<ei.length;ee++){let es=et.args[ee].type,en=ei[ee];if(abiTypeIsTransaction(es)){if(!isTransactionWithSigner(en)||!abiCheckTransactionType(es,en.txn))throw Error(`Expected ${es} TransactionWithSigner for argument at index ${ee}`);if(en.txn.group&&en.txn.group.some(ee=>0!==ee))throw Error("Cannot add a transaction with nonzero group ID");eT.push(en);continue}if(isTransactionWithSigner(en))throw Error(`Expected non-transaction value for argument at index ${ee}`);if(abiTypeIsReference(es)&&(ek.set(eR.length,eA.length),eR.push(es),eD.push(en),es=new ABIUintType(8)),"string"==typeof es)throw Error(`Unknown ABI type: ${es}`);eA.push(es),eI.push(en)}let eB=[],eP=null==ey?[]:ey.slice(),eO=null==eb?[]:eb.slice(),eC=null==e_?[]:e_.slice();for(let et=0;et<eR.length;et++){let ei=eR[et],en=eD[et],eo=0;switch(ei){case ef.account:{let ee=new ABIAddressType,et=ee.decode(ee.encode(en));eo=populateForeignArray(et,eP,es);break}case ef.application:{let et=new ABIUintType(64),ei=et.decode(et.encode(en));if(ei>Number.MAX_SAFE_INTEGER)throw Error(`Expected safe integer for application value, got ${ei}`);eo=populateForeignArray(Number(ei),eO,ee);break}case ef.asset:{let ee=new ABIUintType(64),et=ee.decode(ee.encode(en));if(et>Number.MAX_SAFE_INTEGER)throw Error(`Expected safe integer for asset value, got ${et}`);eo=populateForeignArray(Number(et),eC);break}default:throw Error(`Unknown reference type: ${ei}`)}eB.push(eo)}for(let ee=0;ee<eB.length;ee++){let et=ek.get(ee);eI[et]=eB[ee]}if(eA.length>15){let ee=eA.slice(14),et=eI.slice(14);eA=eA.slice(0,14),eI=eI.slice(0,14),eA.push(new ABITupleType(ee)),eI.push(et)}let eU=[et.getSelector()];for(let ee=0;ee<eA.length;ee++)eU.push(eA[ee].encode(eI[ee]));let eL={txn:makeApplicationCallTxnFromObject({from:es,appIndex:ee,appArgs:eU,accounts:eP,foreignApps:eO,foreignAssets:eC,boxes:ev||[],onComplete:null==eo?eh.NoOpOC:eo,approvalProgram:ea,clearProgram:ec,numGlobalInts:el,numGlobalByteSlices:eu,numLocalInts:ed,numLocalByteSlices:ep,extraPages:em,lease:ex,note:ew,rekeyTo:eS,suggestedParams:en}),signer:eE};this.transactions.push(...eT,eL),this.methodCalls.set(this.transactions.length-1,et)}buildGroup(){if(this.status===eg.BUILDING){if(0===this.transactions.length)throw Error("Cannot build a group with 0 transactions");this.transactions.length>1&&assignGroupID(this.transactions.map(ee=>ee.txn)),this.status=eg.BUILT}return this.transactions}async gatherSignatures(){if(this.status>=eg.SIGNED)return this.signedTxns;let ee=this.buildGroup(),et=ee.map(ee=>ee.txn),ei=new Map;for(let et=0;et<ee.length;et++){let{signer:es}=ee[et];ei.has(es)||ei.set(es,[]),ei.get(es).push(et)}let es=Array.from(ei),en=await Promise.all(es.map(([ee,ei])=>ee(et,ei))),eo=ee.map(()=>null);for(let ee=0;ee<es.length;ee++){let et=es[ee][1],ei=en[ee];for(let ee=0;ee<et.length;ee++)eo[et[ee]]=ei[ee]}if(!eo.every(ee=>null!=ee))throw Error(`Missing signatures. Got ${eo}`);let ea=eo.map((ee,et)=>{try{return decodeSignedTransaction(ee).txn.txID()}catch(ee){throw Error(`Cannot decode signed transaction at index ${et}. ${ee}`)}});return this.signedTxns=eo,this.txIDs=ea,this.status=eg.SIGNED,eo}async submit(ee){if(this.status>eg.SUBMITTED)throw Error("Transaction group cannot be resubmitted");let et=await this.gatherSignatures();return await ee.sendRawTransaction(et).do(),this.status=eg.SUBMITTED,this.txIDs}async simulate(ee,et){if(this.status>eg.SUBMITTED)throw Error("Simulated Transaction group has already been submitted to the network");let ei=await this.gatherSignatures(),es=ei.map(ee=>decode(ee)),en=null==et?new SimulateRequest({txnGroups:[]}):et;en.txnGroups=[new SimulateRequestTransactionGroup({txns:es})];let eo=await ee.simulateTransactions(en).do(),ea=[];for(let[ee,et]of this.methodCalls){let ei=this.txIDs[ee],es=eo.txnGroups[0].txnResults[ee].txnResult,en={txID:ei,rawReturnValue:new Uint8Array,method:et};ea.push(AtomicTransactionComposer.parseMethodResponse(et,en,es.get_obj_for_encoding()))}return{methodResults:ea,simulateResponse:eo}}async execute(ee,et){if(this.status===eg.COMMITTED)throw Error("Transaction group has already been executed successfully");let ei=await this.submit(ee);this.status=eg.SUBMITTED;let es=this.transactions.findIndex((ee,et)=>this.methodCalls.has(et)),en=await waitForConfirmation(ee,ei[-1===es?0:es],et);this.status=eg.COMMITTED;let eo=en["confirmed-round"],ea=[];for(let[et,eo]of this.methodCalls){let ec=ei[et],el={txID:ec,rawReturnValue:new Uint8Array,method:eo};try{let ei=et===es?en:await ee.pendingTransactionInformation(ec).do();el=AtomicTransactionComposer.parseMethodResponse(eo,el,ei)}catch(ee){el.decodeError=ee}ea.push(el)}return{confirmedRound:eo,txIDs:ei,methodResults:ea}}static parseMethodResponse(ee,et,ei){try{if(et.txInfo=ei,"void"!==ee.returns.type){let es=ei.logs||[];if(0===es.length)throw Error("App call transaction did not log a return value");let en=e_.Buffer.from(es[es.length-1],"base64");if(en.byteLength<4||!en.slice(0,4).equals(eZ))throw Error("App call transaction did not log a return value");et.rawReturnValue=new Uint8Array(en.slice(4)),et.returnValue=ee.returns.type.decode(et.rawReturnValue)}}catch(ee){et.decodeError=ee}return et}};AtomicTransactionComposer.MAX_GROUP_SIZE=16;let eX=e_.Buffer.from([77,88]),e0="The transaction sender address and multisig preimage do not match.";function signTransaction(ee,et){if(void 0===ee.from){let ei=keyPairFromSecretKey(et);ee.from=encodeAddress(ei.publicKey)}let ei=instantiateTxnIfNeeded(ee);return{txID:ei.txID().toString(),blob:ei.signTxn(et)}}function signBid(ee,et){let ei=new Bid(ee);return ei.signBid(et)}function signBytes(ee,et){let ei=e_.Buffer.from(concatArrays(eX,ee)),es=sign(ei,et);return es}function verifyBytes(ee,et,ei){let es=e_.Buffer.from(concatArrays(eX,ee)),en=decodeAddress(ei).publicKey;return verify(es,et,en)}function encodeObj(ee){return new Uint8Array(encode(ee))}function decodeObj(ee){return decode(ee)}let e1=Error(e0),e5=Error(eL);var e2=eb},44020:function(ee){"use strict";var et="%[a-f0-9]{2}",ei=RegExp("("+et+")|([^%]+?)","gi"),es=RegExp("("+et+")+","gi");ee.exports=function(ee){if("string"!=typeof ee)throw TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof ee+"`");try{return ee=ee.replace(/\+/g," "),decodeURIComponent(ee)}catch(et){return function(ee){for(var et={"%FE%FF":"","%FF%FE":""},en=es.exec(ee);en;){try{et[en[0]]=decodeURIComponent(en[0])}catch(ee){var eo=function(ee){try{return decodeURIComponent(ee)}catch(en){for(var et=ee.match(ei)||[],es=1;es<et.length;es++)et=(ee=(function decodeComponents(ee,et){try{return[decodeURIComponent(ee.join(""))]}catch(ee){}if(1===ee.length)return ee;et=et||1;var ei=ee.slice(0,et),es=ee.slice(et);return Array.prototype.concat.call([],decodeComponents(ei),decodeComponents(es))})(et,es).join("")).match(ei)||[];return ee}}(en[0]);eo!==en[0]&&(et[en[0]]=eo)}en=es.exec(ee)}et["%C2"]="";for(var ea=Object.keys(et),ec=0;ec<ea.length;ec++){var el=ea[ec];ee=ee.replace(RegExp(el,"g"),et[el])}return ee}(ee)}}},43631:function(ee,et,ei){"use strict";ei.d(et,{qY:function(){return detect}});var es=ei(34155),__spreadArray=function(ee,et,ei){if(ei||2==arguments.length)for(var es,en=0,eo=et.length;en<eo;en++)!es&&en in et||(es||(es=Array.prototype.slice.call(et,0,en)),es[en]=et[en]);return ee.concat(es||Array.prototype.slice.call(et))},BrowserInfo=function(ee,et,ei){this.name=ee,this.version=et,this.os=ei,this.type="browser"},NodeInfo=function(ee){this.version=ee,this.type="node",this.name="node",this.os=es.platform},SearchBotDeviceInfo=function(ee,et,ei,es){this.name=ee,this.version=et,this.os=ei,this.bot=es,this.type="bot-device"},BotInfo=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},ReactNativeInfo=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},en=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,eo=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],ea=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function detect(ee){return ee?parseUserAgent(ee):"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new ReactNativeInfo:"undefined"!=typeof navigator?parseUserAgent(navigator.userAgent):void 0!==es&&es.version?new NodeInfo(es.version.slice(1)):null}function parseUserAgent(ee){var et=""!==ee&&eo.reduce(function(et,ei){var es=ei[0],en=ei[1];if(et)return et;var eo=en.exec(ee);return!!eo&&[es,eo]},!1);if(!et)return null;var ei=et[0],es=et[1];if("searchbot"===ei)return new BotInfo;var ec=es[1]&&es[1].split(".").join("_").split("_").slice(0,3);ec?ec.length<3&&(ec=__spreadArray(__spreadArray([],ec,!0),function(ee){for(var et=[],ei=0;ei<ee;ei++)et.push("0");return et}(3-ec.length),!0)):ec=[];var el=ec.join("."),eu=function(ee){for(var et=0,ei=ea.length;et<ei;et++){var es=ea[et],en=es[0];if(es[1].exec(ee))return en}return null}(ee),ed=en.exec(ee);return ed&&ed[1]?new SearchBotDeviceInfo(ei,el,eu,ed[1]):new BrowserInfo(ei,el,eu)}},92806:function(ee){"use strict";ee.exports=function(ee,et){for(var ei={},es=Object.keys(ee),en=Array.isArray(et),eo=0;eo<es.length;eo++){var ea=es[eo],ec=ee[ea];(en?-1!==et.indexOf(ea):et(ea,ec,ee))&&(ei[ea]=ec)}return ei}},89090:function(ee,et,ei){var es,en,eo,ea,ec,el,eu,ed,eh,ep,ef,eg,em,ey,eb,e_=ei(34155);!(es="object"==typeof window?window:{}).HI_BASE32_NO_NODE_JS&&"object"==typeof e_&&e_.versions&&e_.versions.node&&(es=ei.g),en=!es.HI_BASE32_NO_COMMON_JS&&ee.exports,eo=ei.amdO,ea="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567".split(""),ec={A:0,B:1,C:2,D:3,E:4,F:5,G:6,H:7,I:8,J:9,K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,W:22,X:23,Y:24,Z:25,2:26,3:27,4:28,5:29,6:30,7:31},el=[0,0,0,0,0,0,0,0],eu=function(ee,et){et.length>10&&(et="..."+et.substr(-10));var ei=Error("Decoded data is not valid UTF-8. Maybe try base32.decode.asBytes()? Partial data after reading "+ee+" bytes: "+et+" <-");throw ei.position=ee,ei},ed=function(ee){for(var et,ei,es="",en=ee.length,eo=0,ea=0;eo<en;){if((et=ee[eo++])<=127){es+=String.fromCharCode(et);continue}et>191&&et<=223?(ei=31&et,ea=1):et<=239?(ei=15&et,ea=2):et<=247?(ei=7&et,ea=3):eu(eo,es);for(var ec=0;ec<ea;++ec)((et=ee[eo++])<128||et>191)&&eu(eo,es),ei<<=6,ei+=63&et;ei>=55296&&ei<=57343&&eu(eo,es),ei>1114111&&eu(eo,es),ei<=65535?es+=String.fromCharCode(ei):(ei-=65536,es+=String.fromCharCode((ei>>10)+55296)+String.fromCharCode((1023&ei)+56320))}return es},eh=function(ee){if(""===ee)return[];if(!/^[A-Z2-7=]+$/.test(ee))throw Error("Invalid base32 characters");ee=ee.replace(/=/g,"");for(var et,ei,es,en,eo,ea,el,eu,ed=[],eh=0,ep=ee.length,ef=0,eg=ep>>3<<3;ef<eg;)et=ec[ee.charAt(ef++)],ei=ec[ee.charAt(ef++)],es=ec[ee.charAt(ef++)],en=ec[ee.charAt(ef++)],eo=ec[ee.charAt(ef++)],ea=ec[ee.charAt(ef++)],el=ec[ee.charAt(ef++)],eu=ec[ee.charAt(ef++)],ed[eh++]=(et<<3|ei>>>2)&255,ed[eh++]=(ei<<6|es<<1|en>>>4)&255,ed[eh++]=(en<<4|eo>>>1)&255,ed[eh++]=(eo<<7|ea<<2|el>>>3)&255,ed[eh++]=(el<<5|eu)&255;var em=ep-eg;return 2===em?(et=ec[ee.charAt(ef++)],ei=ec[ee.charAt(ef++)],ed[eh++]=(et<<3|ei>>>2)&255):4===em?(et=ec[ee.charAt(ef++)],ei=ec[ee.charAt(ef++)],es=ec[ee.charAt(ef++)],en=ec[ee.charAt(ef++)],ed[eh++]=(et<<3|ei>>>2)&255,ed[eh++]=(ei<<6|es<<1|en>>>4)&255):5===em?(et=ec[ee.charAt(ef++)],ei=ec[ee.charAt(ef++)],es=ec[ee.charAt(ef++)],en=ec[ee.charAt(ef++)],eo=ec[ee.charAt(ef++)],ed[eh++]=(et<<3|ei>>>2)&255,ed[eh++]=(ei<<6|es<<1|en>>>4)&255,ed[eh++]=(en<<4|eo>>>1)&255):7===em&&(et=ec[ee.charAt(ef++)],ei=ec[ee.charAt(ef++)],es=ec[ee.charAt(ef++)],en=ec[ee.charAt(ef++)],eo=ec[ee.charAt(ef++)],ea=ec[ee.charAt(ef++)],el=ec[ee.charAt(ef++)],ed[eh++]=(et<<3|ei>>>2)&255,ed[eh++]=(ei<<6|es<<1|en>>>4)&255,ed[eh++]=(en<<4|eo>>>1)&255,ed[eh++]=(eo<<7|ea<<2|el>>>3)&255),ed},ep=function(ee){for(var et,ei,es,en,eo,ec="",el=ee.length,eu=0,ed=5*parseInt(el/5);eu<ed;)et=ee.charCodeAt(eu++),ei=ee.charCodeAt(eu++),es=ee.charCodeAt(eu++),en=ee.charCodeAt(eu++),eo=ee.charCodeAt(eu++),ec+=ea[et>>>3]+ea[(et<<2|ei>>>6)&31]+ea[ei>>>1&31]+ea[(ei<<4|es>>>4)&31]+ea[(es<<1|en>>>7)&31]+ea[en>>>2&31]+ea[(en<<3|eo>>>5)&31]+ea[31&eo];var eh=el-ed;return 1===eh?ec+=ea[(et=ee.charCodeAt(eu))>>>3]+ea[et<<2&31]+"======":2===eh?(et=ee.charCodeAt(eu++),ei=ee.charCodeAt(eu),ec+=ea[et>>>3]+ea[(et<<2|ei>>>6)&31]+ea[ei>>>1&31]+ea[ei<<4&31]+"===="):3===eh?(et=ee.charCodeAt(eu++),ei=ee.charCodeAt(eu++),es=ee.charCodeAt(eu),ec+=ea[et>>>3]+ea[(et<<2|ei>>>6)&31]+ea[ei>>>1&31]+ea[(ei<<4|es>>>4)&31]+ea[es<<1&31]+"==="):4===eh&&(et=ee.charCodeAt(eu++),ei=ee.charCodeAt(eu++),es=ee.charCodeAt(eu++),en=ee.charCodeAt(eu),ec+=ea[et>>>3]+ea[(et<<2|ei>>>6)&31]+ea[ei>>>1&31]+ea[(ei<<4|es>>>4)&31]+ea[(es<<1|en>>>7)&31]+ea[en>>>2&31]+ea[en<<3&31]+"="),ec},ef=function(ee){var et,ei,es,en,eo,ec,eu,ed=!1,eh="",ep=0,ef=0,eg=ee.length;if(""===ee)return eh;do{for(el[0]=el[5],el[1]=el[6],el[2]=el[7],eu=ef;ep<eg&&eu<5;++ep)(ec=ee.charCodeAt(ep))<128?el[eu++]=ec:(ec<2048?el[eu++]=192|ec>>6:(ec<55296||ec>=57344?el[eu++]=224|ec>>12:(ec=65536+((1023&ec)<<10|1023&ee.charCodeAt(++ep)),el[eu++]=240|ec>>18,el[eu++]=128|ec>>12&63),el[eu++]=128|ec>>6&63),el[eu++]=128|63&ec);ef=eu-5,ep===eg&&++ep,ep>eg&&eu<6&&(ed=!0),et=el[0],eu>4?(ei=el[1],es=el[2],en=el[3],eo=el[4],eh+=ea[et>>>3]+ea[(et<<2|ei>>>6)&31]+ea[ei>>>1&31]+ea[(ei<<4|es>>>4)&31]+ea[(es<<1|en>>>7)&31]+ea[en>>>2&31]+ea[(en<<3|eo>>>5)&31]+ea[31&eo]):1===eu?eh+=ea[et>>>3]+ea[et<<2&31]+"======":2===eu?(ei=el[1],eh+=ea[et>>>3]+ea[(et<<2|ei>>>6)&31]+ea[ei>>>1&31]+ea[ei<<4&31]+"===="):3===eu?(ei=el[1],es=el[2],eh+=ea[et>>>3]+ea[(et<<2|ei>>>6)&31]+ea[ei>>>1&31]+ea[(ei<<4|es>>>4)&31]+ea[es<<1&31]+"==="):(ei=el[1],es=el[2],en=el[3],eh+=ea[et>>>3]+ea[(et<<2|ei>>>6)&31]+ea[ei>>>1&31]+ea[(ei<<4|es>>>4)&31]+ea[(es<<1|en>>>7)&31]+ea[en>>>2&31]+ea[en<<3&31]+"=")}while(!ed);return eh},eg=function(ee){for(var et,ei,es,en,eo,ec="",el=ee.length,eu=0,ed=5*parseInt(el/5);eu<ed;)et=ee[eu++],ei=ee[eu++],es=ee[eu++],en=ee[eu++],eo=ee[eu++],ec+=ea[et>>>3]+ea[(et<<2|ei>>>6)&31]+ea[ei>>>1&31]+ea[(ei<<4|es>>>4)&31]+ea[(es<<1|en>>>7)&31]+ea[en>>>2&31]+ea[(en<<3|eo>>>5)&31]+ea[31&eo];var eh=el-ed;return 1===eh?ec+=ea[(et=ee[eu])>>>3]+ea[et<<2&31]+"======":2===eh?(et=ee[eu++],ei=ee[eu],ec+=ea[et>>>3]+ea[(et<<2|ei>>>6)&31]+ea[ei>>>1&31]+ea[ei<<4&31]+"===="):3===eh?(et=ee[eu++],ei=ee[eu++],es=ee[eu],ec+=ea[et>>>3]+ea[(et<<2|ei>>>6)&31]+ea[ei>>>1&31]+ea[(ei<<4|es>>>4)&31]+ea[es<<1&31]+"==="):4===eh&&(et=ee[eu++],ei=ee[eu++],es=ee[eu++],en=ee[eu],ec+=ea[et>>>3]+ea[(et<<2|ei>>>6)&31]+ea[ei>>>1&31]+ea[(ei<<4|es>>>4)&31]+ea[(es<<1|en>>>7)&31]+ea[en>>>2&31]+ea[en<<3&31]+"="),ec},ey={encode:function(ee,et){var ei="string"!=typeof ee;return(ei&&ee.constructor===ArrayBuffer&&(ee=new Uint8Array(ee)),ei)?eg(ee):et?ep(ee):ef(ee)},decode:em=function(ee,et){if(!et)return ed(eh(ee));if(""===ee)return"";if(!/^[A-Z2-7=]+$/.test(ee))throw Error("Invalid base32 characters");var ei,es,en,eo,ea,el,eu,ep,ef="",eg=ee.indexOf("=");-1===eg&&(eg=ee.length);for(var em=0,ey=eg>>3<<3;em<ey;)ei=ec[ee.charAt(em++)],es=ec[ee.charAt(em++)],en=ec[ee.charAt(em++)],eo=ec[ee.charAt(em++)],ea=ec[ee.charAt(em++)],el=ec[ee.charAt(em++)],eu=ec[ee.charAt(em++)],ep=ec[ee.charAt(em++)],ef+=String.fromCharCode((ei<<3|es>>>2)&255)+String.fromCharCode((es<<6|en<<1|eo>>>4)&255)+String.fromCharCode((eo<<4|ea>>>1)&255)+String.fromCharCode((ea<<7|el<<2|eu>>>3)&255)+String.fromCharCode((eu<<5|ep)&255);var eb=eg-ey;return 2===eb?ef+=String.fromCharCode(((ei=ec[ee.charAt(em++)])<<3|(es=ec[ee.charAt(em++)])>>>2)&255):4===eb?(ei=ec[ee.charAt(em++)],es=ec[ee.charAt(em++)],en=ec[ee.charAt(em++)],eo=ec[ee.charAt(em++)],ef+=String.fromCharCode((ei<<3|es>>>2)&255)+String.fromCharCode((es<<6|en<<1|eo>>>4)&255)):5===eb?(ei=ec[ee.charAt(em++)],es=ec[ee.charAt(em++)],en=ec[ee.charAt(em++)],eo=ec[ee.charAt(em++)],ea=ec[ee.charAt(em++)],ef+=String.fromCharCode((ei<<3|es>>>2)&255)+String.fromCharCode((es<<6|en<<1|eo>>>4)&255)+String.fromCharCode((eo<<4|ea>>>1)&255)):7===eb&&(ei=ec[ee.charAt(em++)],es=ec[ee.charAt(em++)],en=ec[ee.charAt(em++)],eo=ec[ee.charAt(em++)],ea=ec[ee.charAt(em++)],el=ec[ee.charAt(em++)],eu=ec[ee.charAt(em++)],ef+=String.fromCharCode((ei<<3|es>>>2)&255)+String.fromCharCode((es<<6|en<<1|eo>>>4)&255)+String.fromCharCode((eo<<4|ea>>>1)&255)+String.fromCharCode((ea<<7|el<<2|eu>>>3)&255)),ef}},em.asBytes=eh,en?ee.exports=ey:(es.base32=ey,eo&&void 0!==(eb=(function(){return ey}).call(ey,ei,ey,ee))&&(ee.exports=eb))},35717:function(ee){"function"==typeof Object.create?ee.exports=function(ee,et){et&&(ee.super_=et,ee.prototype=Object.create(et.prototype,{constructor:{value:ee,enumerable:!1,writable:!0,configurable:!0}}))}:ee.exports=function(ee,et){if(et){ee.super_=et;var TempCtor=function(){};TempCtor.prototype=et.prototype,ee.prototype=new TempCtor,ee.prototype.constructor=ee}}},93434:function(ee,et,ei){var es,en=ei(34155);!function(){"use strict";var et="input is invalid type",eo="object"==typeof window,ea=eo?window:{};ea.JS_SHA512_NO_WINDOW&&(eo=!1);var ec=!eo&&"object"==typeof self;!ea.JS_SHA512_NO_NODE_JS&&"object"==typeof en&&en.versions&&en.versions.node?ea=ei.g:ec&&(ea=self);var el=!ea.JS_SHA512_NO_COMMON_JS&&ee.exports,eu=ei.amdO,ed=!ea.JS_SHA512_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,eh="0123456789abcdef".split(""),ep=[-2147483648,8388608,32768,128],ef=[24,16,8,0],eg=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],em=["hex","array","digest","arrayBuffer"],ey=[];(ea.JS_SHA512_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(ee){return"[object Array]"===Object.prototype.toString.call(ee)}),ed&&(ea.JS_SHA512_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(ee){return"object"==typeof ee&&ee.buffer&&ee.buffer.constructor===ArrayBuffer});var createOutputMethod=function(ee,et){return function(ei){return new Sha512(et,!0).update(ei)[ee]()}},createMethod=function(ee){var et=createOutputMethod("hex",ee);et.create=function(){return new Sha512(ee)},et.update=function(ee){return et.create().update(ee)};for(var ei=0;ei<em.length;++ei){var es=em[ei];et[es]=createOutputMethod(es,ee)}return et},createHmacOutputMethod=function(ee,et){return function(ei,es){return new HmacSha512(ei,et,!0).update(es)[ee]()}},createHmacMethod=function(ee){var et=createHmacOutputMethod("hex",ee);et.create=function(et){return new HmacSha512(et,ee)},et.update=function(ee,ei){return et.create(ee).update(ei)};for(var ei=0;ei<em.length;++ei){var es=em[ei];et[es]=createHmacOutputMethod(es,ee)}return et};function Sha512(ee,et){et?(ey[0]=ey[1]=ey[2]=ey[3]=ey[4]=ey[5]=ey[6]=ey[7]=ey[8]=ey[9]=ey[10]=ey[11]=ey[12]=ey[13]=ey[14]=ey[15]=ey[16]=ey[17]=ey[18]=ey[19]=ey[20]=ey[21]=ey[22]=ey[23]=ey[24]=ey[25]=ey[26]=ey[27]=ey[28]=ey[29]=ey[30]=ey[31]=ey[32]=0,this.blocks=ey):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],384==ee?(this.h0h=3418070365,this.h0l=3238371032,this.h1h=1654270250,this.h1l=914150663,this.h2h=2438529370,this.h2l=812702999,this.h3h=355462360,this.h3l=4144912697,this.h4h=1731405415,this.h4l=4290775857,this.h5h=2394180231,this.h5l=1750603025,this.h6h=3675008525,this.h6l=1694076839,this.h7h=1203062813,this.h7l=3204075428):256==ee?(this.h0h=573645204,this.h0l=4230739756,this.h1h=2673172387,this.h1l=3360449730,this.h2h=596883563,this.h2l=1867755857,this.h3h=2520282905,this.h3l=1497426621,this.h4h=2519219938,this.h4l=2827943907,this.h5h=3193839141,this.h5l=1401305490,this.h6h=721525244,this.h6l=746961066,this.h7h=246885852,this.h7l=2177182882):224==ee?(this.h0h=2352822216,this.h0l=424955298,this.h1h=1944164710,this.h1l=2312950998,this.h2h=502970286,this.h2l=855612546,this.h3h=1738396948,this.h3l=1479516111,this.h4h=258812777,this.h4l=2077511080,this.h5h=2011393907,this.h5l=79989058,this.h6h=1067287976,this.h6l=1780299464,this.h7h=286451373,this.h7l=2446758561):(this.h0h=1779033703,this.h0l=4089235720,this.h1h=3144134277,this.h1l=2227873595,this.h2h=1013904242,this.h2l=4271175723,this.h3h=2773480762,this.h3l=1595750129,this.h4h=1359893119,this.h4l=2917565137,this.h5h=2600822924,this.h5l=725511199,this.h6h=528734635,this.h6l=4215389547,this.h7h=1541459225,this.h7l=327033209),this.bits=ee,this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1}function HmacSha512(ee,ei,es){var en,eo=typeof ee;if("string"!==eo){if("object"===eo){if(null===ee)throw Error(et);if(ed&&ee.constructor===ArrayBuffer)ee=new Uint8Array(ee);else if(!Array.isArray(ee)&&(!ed||!ArrayBuffer.isView(ee)))throw Error(et)}else throw Error(et);en=!0}var ea=ee.length;if(!en){for(var ec,el=[],ea=ee.length,eu=0,eh=0;eh<ea;++eh)(ec=ee.charCodeAt(eh))<128?el[eu++]=ec:(ec<2048?el[eu++]=192|ec>>6:(ec<55296||ec>=57344?el[eu++]=224|ec>>12:(ec=65536+((1023&ec)<<10|1023&ee.charCodeAt(++eh)),el[eu++]=240|ec>>18,el[eu++]=128|ec>>12&63),el[eu++]=128|ec>>6&63),el[eu++]=128|63&ec);ee=el}ee.length>128&&(ee=new Sha512(ei,!0).update(ee).array());for(var ep=[],ef=[],eh=0;eh<128;++eh){var eg=ee[eh]||0;ep[eh]=92^eg,ef[eh]=54^eg}Sha512.call(this,ei,es),this.update(ef),this.oKeyPad=ep,this.inner=!0,this.sharedMemory=es}Sha512.prototype.update=function(ee){if(this.finalized)throw Error("finalize already called");var ei,es=typeof ee;if("string"!==es){if("object"===es){if(null===ee)throw Error(et);if(ed&&ee.constructor===ArrayBuffer)ee=new Uint8Array(ee);else if(!Array.isArray(ee)&&(!ed||!ArrayBuffer.isView(ee)))throw Error(et)}else throw Error(et);ei=!0}for(var en,eo,ea=0,ec=ee.length,el=this.blocks;ea<ec;){if(this.hashed&&(this.hashed=!1,el[0]=this.block,el[1]=el[2]=el[3]=el[4]=el[5]=el[6]=el[7]=el[8]=el[9]=el[10]=el[11]=el[12]=el[13]=el[14]=el[15]=el[16]=el[17]=el[18]=el[19]=el[20]=el[21]=el[22]=el[23]=el[24]=el[25]=el[26]=el[27]=el[28]=el[29]=el[30]=el[31]=el[32]=0),ei)for(eo=this.start;ea<ec&&eo<128;++ea)el[eo>>2]|=ee[ea]<<ef[3&eo++];else for(eo=this.start;ea<ec&&eo<128;++ea)(en=ee.charCodeAt(ea))<128?el[eo>>2]|=en<<ef[3&eo++]:(en<2048?el[eo>>2]|=(192|en>>6)<<ef[3&eo++]:(en<55296||en>=57344?el[eo>>2]|=(224|en>>12)<<ef[3&eo++]:(en=65536+((1023&en)<<10|1023&ee.charCodeAt(++ea)),el[eo>>2]|=(240|en>>18)<<ef[3&eo++],el[eo>>2]|=(128|en>>12&63)<<ef[3&eo++]),el[eo>>2]|=(128|en>>6&63)<<ef[3&eo++]),el[eo>>2]|=(128|63&en)<<ef[3&eo++]);this.lastByteIndex=eo,this.bytes+=eo-this.start,eo>=128?(this.block=el[32],this.start=eo-128,this.hash(),this.hashed=!0):this.start=eo}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this},Sha512.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var ee=this.blocks,et=this.lastByteIndex;ee[32]=this.block,ee[et>>2]|=ep[3&et],this.block=ee[32],et>=112&&(this.hashed||this.hash(),ee[0]=this.block,ee[1]=ee[2]=ee[3]=ee[4]=ee[5]=ee[6]=ee[7]=ee[8]=ee[9]=ee[10]=ee[11]=ee[12]=ee[13]=ee[14]=ee[15]=ee[16]=ee[17]=ee[18]=ee[19]=ee[20]=ee[21]=ee[22]=ee[23]=ee[24]=ee[25]=ee[26]=ee[27]=ee[28]=ee[29]=ee[30]=ee[31]=ee[32]=0),ee[30]=this.hBytes<<3|this.bytes>>>29,ee[31]=this.bytes<<3,this.hash()}},Sha512.prototype.hash=function(){var ee,et,ei,es,en,eo,ea,ec,el,eu,ed,eh,ep,ef,em,ey,eb,e_,ev,ew,ex,eS,eE,eA,eI,eT=this.h0h,eR=this.h0l,eD=this.h1h,ek=this.h1l,eB=this.h2h,eP=this.h2l,eO=this.h3h,eC=this.h3l,eU=this.h4h,eL=this.h4l,ej=this.h5h,eN=this.h5l,eM=this.h6h,e$=this.h6l,eF=this.h7h,ez=this.h7l,eK=this.blocks;for(ee=32;ee<160;ee+=2)et=((ew=eK[ee-30])>>>1|(ex=eK[ee-29])<<31)^(ew>>>8|ex<<24)^ew>>>7,ei=(ex>>>1|ew<<31)^(ex>>>8|ew<<24)^(ex>>>7|ew<<25),es=((ew=eK[ee-4])>>>19|(ex=eK[ee-3])<<13)^(ex>>>29|ew<<3)^ew>>>6,en=(ex>>>19|ew<<13)^(ew>>>29|ex<<3)^(ex>>>6|ew<<26),ew=eK[ee-32],ex=eK[ee-31],eS=eK[ee-14],eo=(65535&(eE=eK[ee-13]))+(65535&ex)+(65535&ei)+(65535&en),ec=(65535&eS)+(65535&ew)+(65535&et)+(65535&es)+((ea=(eE>>>16)+(ex>>>16)+(ei>>>16)+(en>>>16)+(eo>>>16))>>>16),el=(eS>>>16)+(ew>>>16)+(et>>>16)+(es>>>16)+(ec>>>16),eK[ee]=el<<16|65535&ec,eK[ee+1]=ea<<16|65535&eo;var eH=eT,eV=eR,eW=eD,eJ=ek,eG=eB,eY=eP,eQ=eO,eZ=eC,eX=eU,e0=eL,e1=ej,e5=eN,e2=eM,e6=e$,e3=eF,e8=ez;for(ee=0,ey=eW&eG,eb=eJ&eY;ee<160;ee+=8)et=(eH>>>28|eV<<4)^(eV>>>2|eH<<30)^(eV>>>7|eH<<25),ei=(eV>>>28|eH<<4)^(eH>>>2|eV<<30)^(eH>>>7|eV<<25),es=(eX>>>14|e0<<18)^(eX>>>18|e0<<14)^(e0>>>9|eX<<23),en=(e0>>>14|eX<<18)^(e0>>>18|eX<<14)^(eX>>>9|e0<<23),eu=eH&eW,ed=eV&eJ,e_=eu^eH&eG^ey,ev=ed^eV&eY^eb,eA=eX&e1^~eX&e2,eI=e0&e5^~e0&e6,ew=eK[ee],ex=eK[ee+1],eS=eg[ee],eo=(65535&(eE=eg[ee+1]))+(65535&ex)+(65535&eI)+(65535&en)+(65535&e8),ec=(65535&eS)+(65535&ew)+(65535&eA)+(65535&es)+(65535&e3)+((ea=(eE>>>16)+(ex>>>16)+(eI>>>16)+(en>>>16)+(e8>>>16)+(eo>>>16))>>>16),ew=(el=(eS>>>16)+(ew>>>16)+(eA>>>16)+(es>>>16)+(e3>>>16)+(ec>>>16))<<16|65535&ec,ex=ea<<16|65535&eo,eo=(65535&ev)+(65535&ei),ec=(65535&e_)+(65535&et)+((ea=(ev>>>16)+(ei>>>16)+(eo>>>16))>>>16),eS=(el=(e_>>>16)+(et>>>16)+(ec>>>16))<<16|65535&ec,eE=ea<<16|65535&eo,eo=(65535&eZ)+(65535&ex),ec=(65535&eQ)+(65535&ew)+((ea=(eZ>>>16)+(ex>>>16)+(eo>>>16))>>>16),e3=(el=(eQ>>>16)+(ew>>>16)+(ec>>>16))<<16|65535&ec,e8=ea<<16|65535&eo,eo=(65535&eE)+(65535&ex),ec=(65535&eS)+(65535&ew)+((ea=(eE>>>16)+(ex>>>16)+(eo>>>16))>>>16),et=((eQ=(el=(eS>>>16)+(ew>>>16)+(ec>>>16))<<16|65535&ec)>>>28|(eZ=ea<<16|65535&eo)<<4)^(eZ>>>2|eQ<<30)^(eZ>>>7|eQ<<25),ei=(eZ>>>28|eQ<<4)^(eQ>>>2|eZ<<30)^(eQ>>>7|eZ<<25),es=(e3>>>14|e8<<18)^(e3>>>18|e8<<14)^(e8>>>9|e3<<23),en=(e8>>>14|e3<<18)^(e8>>>18|e3<<14)^(e3>>>9|e8<<23),eh=eQ&eH,ep=eZ&eV,e_=eh^eQ&eW^eu,ev=ep^eZ&eJ^ed,eA=e3&eX^~e3&e1,eI=e8&e0^~e8&e5,ew=eK[ee+2],ex=eK[ee+3],eS=eg[ee+2],eo=(65535&(eE=eg[ee+3]))+(65535&ex)+(65535&eI)+(65535&en)+(65535&e6),ec=(65535&eS)+(65535&ew)+(65535&eA)+(65535&es)+(65535&e2)+((ea=(eE>>>16)+(ex>>>16)+(eI>>>16)+(en>>>16)+(e6>>>16)+(eo>>>16))>>>16),ew=(el=(eS>>>16)+(ew>>>16)+(eA>>>16)+(es>>>16)+(e2>>>16)+(ec>>>16))<<16|65535&ec,ex=ea<<16|65535&eo,eo=(65535&ev)+(65535&ei),ec=(65535&e_)+(65535&et)+((ea=(ev>>>16)+(ei>>>16)+(eo>>>16))>>>16),eS=(el=(e_>>>16)+(et>>>16)+(ec>>>16))<<16|65535&ec,eE=ea<<16|65535&eo,eo=(65535&eY)+(65535&ex),ec=(65535&eG)+(65535&ew)+((ea=(eY>>>16)+(ex>>>16)+(eo>>>16))>>>16),e2=(el=(eG>>>16)+(ew>>>16)+(ec>>>16))<<16|65535&ec,e6=ea<<16|65535&eo,eo=(65535&eE)+(65535&ex),ec=(65535&eS)+(65535&ew)+((ea=(eE>>>16)+(ex>>>16)+(eo>>>16))>>>16),et=((eG=(el=(eS>>>16)+(ew>>>16)+(ec>>>16))<<16|65535&ec)>>>28|(eY=ea<<16|65535&eo)<<4)^(eY>>>2|eG<<30)^(eY>>>7|eG<<25),ei=(eY>>>28|eG<<4)^(eG>>>2|eY<<30)^(eG>>>7|eY<<25),es=(e2>>>14|e6<<18)^(e2>>>18|e6<<14)^(e6>>>9|e2<<23),en=(e6>>>14|e2<<18)^(e6>>>18|e2<<14)^(e2>>>9|e6<<23),ef=eG&eQ,em=eY&eZ,e_=ef^eG&eH^eh,ev=em^eY&eV^ep,eA=e2&e3^~e2&eX,eI=e6&e8^~e6&e0,ew=eK[ee+4],ex=eK[ee+5],eS=eg[ee+4],eo=(65535&(eE=eg[ee+5]))+(65535&ex)+(65535&eI)+(65535&en)+(65535&e5),ec=(65535&eS)+(65535&ew)+(65535&eA)+(65535&es)+(65535&e1)+((ea=(eE>>>16)+(ex>>>16)+(eI>>>16)+(en>>>16)+(e5>>>16)+(eo>>>16))>>>16),ew=(el=(eS>>>16)+(ew>>>16)+(eA>>>16)+(es>>>16)+(e1>>>16)+(ec>>>16))<<16|65535&ec,ex=ea<<16|65535&eo,eo=(65535&ev)+(65535&ei),ec=(65535&e_)+(65535&et)+((ea=(ev>>>16)+(ei>>>16)+(eo>>>16))>>>16),eS=(el=(e_>>>16)+(et>>>16)+(ec>>>16))<<16|65535&ec,eE=ea<<16|65535&eo,eo=(65535&eJ)+(65535&ex),ec=(65535&eW)+(65535&ew)+((ea=(eJ>>>16)+(ex>>>16)+(eo>>>16))>>>16),e1=(el=(eW>>>16)+(ew>>>16)+(ec>>>16))<<16|65535&ec,e5=ea<<16|65535&eo,eo=(65535&eE)+(65535&ex),ec=(65535&eS)+(65535&ew)+((ea=(eE>>>16)+(ex>>>16)+(eo>>>16))>>>16),et=((eW=(el=(eS>>>16)+(ew>>>16)+(ec>>>16))<<16|65535&ec)>>>28|(eJ=ea<<16|65535&eo)<<4)^(eJ>>>2|eW<<30)^(eJ>>>7|eW<<25),ei=(eJ>>>28|eW<<4)^(eW>>>2|eJ<<30)^(eW>>>7|eJ<<25),es=(e1>>>14|e5<<18)^(e1>>>18|e5<<14)^(e5>>>9|e1<<23),en=(e5>>>14|e1<<18)^(e5>>>18|e1<<14)^(e1>>>9|e5<<23),ey=eW&eG,eb=eJ&eY,e_=ey^eW&eQ^ef,ev=eb^eJ&eZ^em,eA=e1&e2^~e1&e3,eI=e5&e6^~e5&e8,ew=eK[ee+6],ex=eK[ee+7],eS=eg[ee+6],eo=(65535&(eE=eg[ee+7]))+(65535&ex)+(65535&eI)+(65535&en)+(65535&e0),ec=(65535&eS)+(65535&ew)+(65535&eA)+(65535&es)+(65535&eX)+((ea=(eE>>>16)+(ex>>>16)+(eI>>>16)+(en>>>16)+(e0>>>16)+(eo>>>16))>>>16),ew=(el=(eS>>>16)+(ew>>>16)+(eA>>>16)+(es>>>16)+(eX>>>16)+(ec>>>16))<<16|65535&ec,ex=ea<<16|65535&eo,eo=(65535&ev)+(65535&ei),ec=(65535&e_)+(65535&et)+((ea=(ev>>>16)+(ei>>>16)+(eo>>>16))>>>16),eS=(el=(e_>>>16)+(et>>>16)+(ec>>>16))<<16|65535&ec,eE=ea<<16|65535&eo,eo=(65535&eV)+(65535&ex),ec=(65535&eH)+(65535&ew)+((ea=(eV>>>16)+(ex>>>16)+(eo>>>16))>>>16),eX=(el=(eH>>>16)+(ew>>>16)+(ec>>>16))<<16|65535&ec,e0=ea<<16|65535&eo,eo=(65535&eE)+(65535&ex),ec=(65535&eS)+(65535&ew)+((ea=(eE>>>16)+(ex>>>16)+(eo>>>16))>>>16),eH=(el=(eS>>>16)+(ew>>>16)+(ec>>>16))<<16|65535&ec,eV=ea<<16|65535&eo;eo=(65535&eR)+(65535&eV),ec=(65535&eT)+(65535&eH)+((ea=(eR>>>16)+(eV>>>16)+(eo>>>16))>>>16),el=(eT>>>16)+(eH>>>16)+(ec>>>16),this.h0h=el<<16|65535&ec,this.h0l=ea<<16|65535&eo,eo=(65535&ek)+(65535&eJ),ec=(65535&eD)+(65535&eW)+((ea=(ek>>>16)+(eJ>>>16)+(eo>>>16))>>>16),el=(eD>>>16)+(eW>>>16)+(ec>>>16),this.h1h=el<<16|65535&ec,this.h1l=ea<<16|65535&eo,eo=(65535&eP)+(65535&eY),ec=(65535&eB)+(65535&eG)+((ea=(eP>>>16)+(eY>>>16)+(eo>>>16))>>>16),el=(eB>>>16)+(eG>>>16)+(ec>>>16),this.h2h=el<<16|65535&ec,this.h2l=ea<<16|65535&eo,eo=(65535&eC)+(65535&eZ),ec=(65535&eO)+(65535&eQ)+((ea=(eC>>>16)+(eZ>>>16)+(eo>>>16))>>>16),el=(eO>>>16)+(eQ>>>16)+(ec>>>16),this.h3h=el<<16|65535&ec,this.h3l=ea<<16|65535&eo,eo=(65535&eL)+(65535&e0),ec=(65535&eU)+(65535&eX)+((ea=(eL>>>16)+(e0>>>16)+(eo>>>16))>>>16),el=(eU>>>16)+(eX>>>16)+(ec>>>16),this.h4h=el<<16|65535&ec,this.h4l=ea<<16|65535&eo,eo=(65535&eN)+(65535&e5),ec=(65535&ej)+(65535&e1)+((ea=(eN>>>16)+(e5>>>16)+(eo>>>16))>>>16),el=(ej>>>16)+(e1>>>16)+(ec>>>16),this.h5h=el<<16|65535&ec,this.h5l=ea<<16|65535&eo,eo=(65535&e$)+(65535&e6),ec=(65535&eM)+(65535&e2)+((ea=(e$>>>16)+(e6>>>16)+(eo>>>16))>>>16),el=(eM>>>16)+(e2>>>16)+(ec>>>16),this.h6h=el<<16|65535&ec,this.h6l=ea<<16|65535&eo,eo=(65535&ez)+(65535&e8),ec=(65535&eF)+(65535&e3)+((ea=(ez>>>16)+(e8>>>16)+(eo>>>16))>>>16),el=(eF>>>16)+(e3>>>16)+(ec>>>16),this.h7h=el<<16|65535&ec,this.h7l=ea<<16|65535&eo},Sha512.prototype.hex=function(){this.finalize();var ee=this.h0h,et=this.h0l,ei=this.h1h,es=this.h1l,en=this.h2h,eo=this.h2l,ea=this.h3h,ec=this.h3l,el=this.h4h,eu=this.h4l,ed=this.h5h,ep=this.h5l,ef=this.h6h,eg=this.h6l,em=this.h7h,ey=this.h7l,eb=this.bits,e_=eh[ee>>28&15]+eh[ee>>24&15]+eh[ee>>20&15]+eh[ee>>16&15]+eh[ee>>12&15]+eh[ee>>8&15]+eh[ee>>4&15]+eh[15&ee]+eh[et>>28&15]+eh[et>>24&15]+eh[et>>20&15]+eh[et>>16&15]+eh[et>>12&15]+eh[et>>8&15]+eh[et>>4&15]+eh[15&et]+eh[ei>>28&15]+eh[ei>>24&15]+eh[ei>>20&15]+eh[ei>>16&15]+eh[ei>>12&15]+eh[ei>>8&15]+eh[ei>>4&15]+eh[15&ei]+eh[es>>28&15]+eh[es>>24&15]+eh[es>>20&15]+eh[es>>16&15]+eh[es>>12&15]+eh[es>>8&15]+eh[es>>4&15]+eh[15&es]+eh[en>>28&15]+eh[en>>24&15]+eh[en>>20&15]+eh[en>>16&15]+eh[en>>12&15]+eh[en>>8&15]+eh[en>>4&15]+eh[15&en]+eh[eo>>28&15]+eh[eo>>24&15]+eh[eo>>20&15]+eh[eo>>16&15]+eh[eo>>12&15]+eh[eo>>8&15]+eh[eo>>4&15]+eh[15&eo]+eh[ea>>28&15]+eh[ea>>24&15]+eh[ea>>20&15]+eh[ea>>16&15]+eh[ea>>12&15]+eh[ea>>8&15]+eh[ea>>4&15]+eh[15&ea];return eb>=256&&(e_+=eh[ec>>28&15]+eh[ec>>24&15]+eh[ec>>20&15]+eh[ec>>16&15]+eh[ec>>12&15]+eh[ec>>8&15]+eh[ec>>4&15]+eh[15&ec]),eb>=384&&(e_+=eh[el>>28&15]+eh[el>>24&15]+eh[el>>20&15]+eh[el>>16&15]+eh[el>>12&15]+eh[el>>8&15]+eh[el>>4&15]+eh[15&el]+eh[eu>>28&15]+eh[eu>>24&15]+eh[eu>>20&15]+eh[eu>>16&15]+eh[eu>>12&15]+eh[eu>>8&15]+eh[eu>>4&15]+eh[15&eu]+eh[ed>>28&15]+eh[ed>>24&15]+eh[ed>>20&15]+eh[ed>>16&15]+eh[ed>>12&15]+eh[ed>>8&15]+eh[ed>>4&15]+eh[15&ed]+eh[ep>>28&15]+eh[ep>>24&15]+eh[ep>>20&15]+eh[ep>>16&15]+eh[ep>>12&15]+eh[ep>>8&15]+eh[ep>>4&15]+eh[15&ep]),512==eb&&(e_+=eh[ef>>28&15]+eh[ef>>24&15]+eh[ef>>20&15]+eh[ef>>16&15]+eh[ef>>12&15]+eh[ef>>8&15]+eh[ef>>4&15]+eh[15&ef]+eh[eg>>28&15]+eh[eg>>24&15]+eh[eg>>20&15]+eh[eg>>16&15]+eh[eg>>12&15]+eh[eg>>8&15]+eh[eg>>4&15]+eh[15&eg]+eh[em>>28&15]+eh[em>>24&15]+eh[em>>20&15]+eh[em>>16&15]+eh[em>>12&15]+eh[em>>8&15]+eh[em>>4&15]+eh[15&em]+eh[ey>>28&15]+eh[ey>>24&15]+eh[ey>>20&15]+eh[ey>>16&15]+eh[ey>>12&15]+eh[ey>>8&15]+eh[ey>>4&15]+eh[15&ey]),e_},Sha512.prototype.toString=Sha512.prototype.hex,Sha512.prototype.digest=function(){this.finalize();var ee=this.h0h,et=this.h0l,ei=this.h1h,es=this.h1l,en=this.h2h,eo=this.h2l,ea=this.h3h,ec=this.h3l,el=this.h4h,eu=this.h4l,ed=this.h5h,eh=this.h5l,ep=this.h6h,ef=this.h6l,eg=this.h7h,em=this.h7l,ey=this.bits,eb=[ee>>24&255,ee>>16&255,ee>>8&255,255&ee,et>>24&255,et>>16&255,et>>8&255,255&et,ei>>24&255,ei>>16&255,ei>>8&255,255&ei,es>>24&255,es>>16&255,es>>8&255,255&es,en>>24&255,en>>16&255,en>>8&255,255&en,eo>>24&255,eo>>16&255,eo>>8&255,255&eo,ea>>24&255,ea>>16&255,ea>>8&255,255&ea];return ey>=256&&eb.push(ec>>24&255,ec>>16&255,ec>>8&255,255&ec),ey>=384&&eb.push(el>>24&255,el>>16&255,el>>8&255,255&el,eu>>24&255,eu>>16&255,eu>>8&255,255&eu,ed>>24&255,ed>>16&255,ed>>8&255,255&ed,eh>>24&255,eh>>16&255,eh>>8&255,255&eh),512==ey&&eb.push(ep>>24&255,ep>>16&255,ep>>8&255,255&ep,ef>>24&255,ef>>16&255,ef>>8&255,255&ef,eg>>24&255,eg>>16&255,eg>>8&255,255&eg,em>>24&255,em>>16&255,em>>8&255,255&em),eb},Sha512.prototype.array=Sha512.prototype.digest,Sha512.prototype.arrayBuffer=function(){this.finalize();var ee=this.bits,et=new ArrayBuffer(ee/8),ei=new DataView(et);return ei.setUint32(0,this.h0h),ei.setUint32(4,this.h0l),ei.setUint32(8,this.h1h),ei.setUint32(12,this.h1l),ei.setUint32(16,this.h2h),ei.setUint32(20,this.h2l),ei.setUint32(24,this.h3h),ee>=256&&ei.setUint32(28,this.h3l),ee>=384&&(ei.setUint32(32,this.h4h),ei.setUint32(36,this.h4l),ei.setUint32(40,this.h5h),ei.setUint32(44,this.h5l)),512==ee&&(ei.setUint32(48,this.h6h),ei.setUint32(52,this.h6l),ei.setUint32(56,this.h7h),ei.setUint32(60,this.h7l)),et},Sha512.prototype.clone=function(){var ee=new Sha512(this.bits,!1);return this.copyTo(ee),ee},Sha512.prototype.copyTo=function(ee){var et=0,ei=["h0h","h0l","h1h","h1l","h2h","h2l","h3h","h3l","h4h","h4l","h5h","h5l","h6h","h6l","h7h","h7l","start","bytes","hBytes","finalized","hashed","lastByteIndex"];for(et=0;et<ei.length;++et)ee[ei[et]]=this[ei[et]];for(et=0;et<this.blocks.length;++et)ee.blocks[et]=this.blocks[et]},HmacSha512.prototype=new Sha512,HmacSha512.prototype.finalize=function(){if(Sha512.prototype.finalize.call(this),this.inner){this.inner=!1;var ee=this.array();Sha512.call(this,this.bits,this.sharedMemory),this.update(this.oKeyPad),this.update(ee),Sha512.prototype.finalize.call(this)}},HmacSha512.prototype.clone=function(){var ee=new HmacSha512([],this.bits,!1);this.copyTo(ee),ee.inner=this.inner;for(var et=0;et<this.oKeyPad.length;++et)ee.oKeyPad[et]=this.oKeyPad[et];return ee};var eb=createMethod(512);eb.sha512=eb,eb.sha384=createMethod(384),eb.sha512_256=createMethod(256),eb.sha512_224=createMethod(224),eb.sha512.hmac=createHmacMethod(512),eb.sha384.hmac=createHmacMethod(384),eb.sha512_256.hmac=createHmacMethod(256),eb.sha512_224.hmac=createHmacMethod(224),el?ee.exports=eb:(ea.sha512=eb.sha512,ea.sha384=eb.sha384,ea.sha512_256=eb.sha512_256,ea.sha512_224=eb.sha512_224,eu&&void 0!==(es=(function(){return eb}).call(eb,ei,eb,ee))&&(ee.exports=es))}()},4400:function(ee,et,ei){var es=ei(54123).stringify,en=ei(26813);ee.exports=function(ee){return{parse:en(ee),stringify:es}},ee.exports.parse=en(),ee.exports.stringify=es},26813:function(ee,et,ei){var es=null;let en=/(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])/,eo=/(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)/;ee.exports=function(ee){"use strict";var et={strict:!1,storeAsString:!1,alwaysParseAsBig:!1,useNativeBigInt:!1,protoAction:"error",constructorAction:"error"};if(null!=ee){if(!0===ee.strict&&(et.strict=!0),!0===ee.storeAsString&&(et.storeAsString=!0),et.alwaysParseAsBig=!0===ee.alwaysParseAsBig&&ee.alwaysParseAsBig,et.useNativeBigInt=!0===ee.useNativeBigInt&&ee.useNativeBigInt,void 0!==ee.constructorAction){if("error"===ee.constructorAction||"ignore"===ee.constructorAction||"preserve"===ee.constructorAction)et.constructorAction=ee.constructorAction;else throw Error(`Incorrect value for constructorAction option, must be "error", "ignore" or undefined but passed ${ee.constructorAction}`)}if(void 0!==ee.protoAction){if("error"===ee.protoAction||"ignore"===ee.protoAction||"preserve"===ee.protoAction)et.protoAction=ee.protoAction;else throw Error(`Incorrect value for protoAction option, must be "error", "ignore" or undefined but passed ${ee.protoAction}`)}}var ea,ec,el,eu,ed={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"	"},error=function(ee){throw{name:"SyntaxError",message:ee,at:ea,text:el}},next=function(ee){return ee&&ee!==ec&&error("Expected '"+ee+"' instead of '"+ec+"'"),ec=el.charAt(ea),ea+=1,ec},number=function(){var ee,en="";for("-"===ec&&(en="-",next("-"));ec>="0"&&ec<="9";)en+=ec,next();if("."===ec)for(en+=".";next()&&ec>="0"&&ec<="9";)en+=ec;if("e"===ec||"E"===ec)for(en+=ec,next(),("-"===ec||"+"===ec)&&(en+=ec,next());ec>="0"&&ec<="9";)en+=ec,next();if(isFinite(ee=+en))return(null==es&&(es=ei(44431)),en.length>15)?et.storeAsString?en:et.useNativeBigInt?BigInt(en):new es(en):et.alwaysParseAsBig?et.useNativeBigInt?BigInt(ee):new es(ee):ee;error("Bad number")},string=function(){var ee,et,ei,es="";if('"'===ec)for(var en=ea;next();){if('"'===ec)return ea-1>en&&(es+=el.substring(en,ea-1)),next(),es;if("\\"===ec){if(ea-1>en&&(es+=el.substring(en,ea-1)),next(),"u"===ec){for(et=0,ei=0;et<4&&isFinite(ee=parseInt(next(),16));et+=1)ei=16*ei+ee;es+=String.fromCharCode(ei)}else if("string"==typeof ed[ec])es+=ed[ec];else break;en=ea}}error("Bad string")},white=function(){for(;ec&&ec<=" ";)next()},word=function(){switch(ec){case"t":return next("t"),next("r"),next("u"),next("e"),!0;case"f":return next("f"),next("a"),next("l"),next("s"),next("e"),!1;case"n":return next("n"),next("u"),next("l"),next("l"),null}error("Unexpected '"+ec+"'")},array=function(){var ee=[];if("["===ec){if(next("["),white(),"]"===ec)return next("]"),ee;for(;ec;){if(ee.push(eu()),white(),"]"===ec)return next("]"),ee;next(","),white()}}error("Bad array")},object=function(){var ee,ei=Object.create(null);if("{"===ec){if(next("{"),white(),"}"===ec)return next("}"),ei;for(;ec;){if(ee=string(),white(),next(":"),!0===et.strict&&Object.hasOwnProperty.call(ei,ee)&&error('Duplicate key "'+ee+'"'),!0===en.test(ee)?"error"===et.protoAction?error("Object contains forbidden prototype property"):"ignore"===et.protoAction?eu():ei[ee]=eu():!0===eo.test(ee)?"error"===et.constructorAction?error("Object contains forbidden constructor property"):"ignore"===et.constructorAction?eu():ei[ee]=eu():ei[ee]=eu(),white(),"}"===ec)return next("}"),ei;next(","),white()}}error("Bad object")};return eu=function(){switch(white(),ec){case"{":return object();case"[":return array();case'"':return string();case"-":return number();default:return ec>="0"&&ec<="9"?number():word()}},function(ee,et){var ei;return el=ee+"",ea=0,ec=" ",ei=eu(),white(),ec&&error("Syntax error"),"function"==typeof et?function walk(ee,ei){var es,en=ee[ei];return en&&"object"==typeof en&&Object.keys(en).forEach(function(ee){void 0!==(es=walk(en,ee))?en[ee]=es:delete en[ee]}),et.call(ee,ei,en)}({"":ei},""):ei}}},54123:function(ee,et,ei){var es=ei(44431),en=ee.exports;!function(){"use strict";var ee,et,ei,eo=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,ea={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function quote(ee){return eo.lastIndex=0,eo.test(ee)?'"'+ee.replace(eo,function(ee){var et=ea[ee];return"string"==typeof et?et:"\\u"+("0000"+ee.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+ee+'"'}"function"!=typeof en.stringify&&(en.stringify=function(en,eo,ea){var ec;if(ee="",et="","number"==typeof ea)for(ec=0;ec<ea;ec+=1)et+=" ";else"string"==typeof ea&&(et=ea);if(ei=eo,eo&&"function"!=typeof eo&&("object"!=typeof eo||"number"!=typeof eo.length))throw Error("JSON.stringify");return function str(en,eo){var ea,ec,el,eu,ed,eh=ee,ep=eo[en],ef=null!=ep&&(ep instanceof es||es.isBigNumber(ep));switch(ep&&"object"==typeof ep&&"function"==typeof ep.toJSON&&(ep=ep.toJSON(en)),"function"==typeof ei&&(ep=ei.call(eo,en,ep)),typeof ep){case"string":if(ef)return ep;return quote(ep);case"number":return isFinite(ep)?String(ep):"null";case"boolean":case"null":case"bigint":return String(ep);case"object":if(!ep)return"null";if(ee+=et,ed=[],"[object Array]"===Object.prototype.toString.apply(ep)){for(ea=0,eu=ep.length;ea<eu;ea+=1)ed[ea]=str(ea,ep)||"null";return el=0===ed.length?"[]":ee?"[\n"+ee+ed.join(",\n"+ee)+"\n"+eh+"]":"["+ed.join(",")+"]",ee=eh,el}if(ei&&"object"==typeof ei)for(ea=0,eu=ei.length;ea<eu;ea+=1)"string"==typeof ei[ea]&&(el=str(ec=ei[ea],ep))&&ed.push(quote(ec)+(ee?": ":":")+el);else Object.keys(ep).forEach(function(et){var ei=str(et,ep);ei&&ed.push(quote(et)+(ee?": ":":")+ei)});return el=0===ed.length?"{}":ee?"{\n"+ee+ed.join(",\n"+ee)+"\n"+eh+"}":"{"+ed.join(",")+"}",ee=eh,el}}("",{"":en})})}()},72307:function(ee,et,ei){ee=ei.nmd(ee);var es,en,eo,ea="__lodash_hash_undefined__",ec="[object Arguments]",el="[object Array]",eu="[object Boolean]",ed="[object Date]",eh="[object Error]",ep="[object Function]",ef="[object Map]",eg="[object Number]",em="[object Object]",ey="[object Promise]",eb="[object RegExp]",e_="[object Set]",ev="[object String]",ew="[object WeakMap]",ex="[object ArrayBuffer]",eS="[object DataView]",eE=/^\[object .+?Constructor\]$/,eA=/^(?:0|[1-9]\d*)$/,eI={};eI["[object Float32Array]"]=eI["[object Float64Array]"]=eI["[object Int8Array]"]=eI["[object Int16Array]"]=eI["[object Int32Array]"]=eI["[object Uint8Array]"]=eI["[object Uint8ClampedArray]"]=eI["[object Uint16Array]"]=eI["[object Uint32Array]"]=!0,eI[ec]=eI[el]=eI[ex]=eI[eu]=eI[eS]=eI[ed]=eI[eh]=eI[ep]=eI[ef]=eI[eg]=eI[em]=eI[eb]=eI[e_]=eI[ev]=eI[ew]=!1;var eT="object"==typeof ei.g&&ei.g&&ei.g.Object===Object&&ei.g,eR="object"==typeof self&&self&&self.Object===Object&&self,eD=eT||eR||Function("return this")(),ek=et&&!et.nodeType&&et,eB=ek&&ee&&!ee.nodeType&&ee,eP=eB&&eB.exports===ek,eO=eP&&eT.process,eC=function(){try{return eO&&eO.binding&&eO.binding("util")}catch(ee){}}(),eU=eC&&eC.isTypedArray;function mapToArray(ee){var et=-1,ei=Array(ee.size);return ee.forEach(function(ee,es){ei[++et]=[es,ee]}),ei}function setToArray(ee){var et=-1,ei=Array(ee.size);return ee.forEach(function(ee){ei[++et]=ee}),ei}var eL=Array.prototype,ej=Function.prototype,eN=Object.prototype,eM=eD["__core-js_shared__"],e$=ej.toString,eF=eN.hasOwnProperty,ez=(es=/[^.]+$/.exec(eM&&eM.keys&&eM.keys.IE_PROTO||""))?"Symbol(src)_1."+es:"",eK=eN.toString,eH=RegExp("^"+e$.call(eF).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),eV=eP?eD.Buffer:void 0,eW=eD.Symbol,eJ=eD.Uint8Array,eG=eN.propertyIsEnumerable,eY=eL.splice,eQ=eW?eW.toStringTag:void 0,eZ=Object.getOwnPropertySymbols,eX=eV?eV.isBuffer:void 0,e0=(en=Object.keys,eo=Object,function(ee){return en(eo(ee))}),e1=getNative(eD,"DataView"),e5=getNative(eD,"Map"),e2=getNative(eD,"Promise"),e6=getNative(eD,"Set"),e3=getNative(eD,"WeakMap"),e8=getNative(Object,"create"),e4=toSource(e1),e9=toSource(e5),e7=toSource(e2),te=toSource(e6),tt=toSource(e3),tr=eW?eW.prototype:void 0,ts=tr?tr.valueOf:void 0;function Hash(ee){var et=-1,ei=null==ee?0:ee.length;for(this.clear();++et<ei;){var es=ee[et];this.set(es[0],es[1])}}function ListCache(ee){var et=-1,ei=null==ee?0:ee.length;for(this.clear();++et<ei;){var es=ee[et];this.set(es[0],es[1])}}function MapCache(ee){var et=-1,ei=null==ee?0:ee.length;for(this.clear();++et<ei;){var es=ee[et];this.set(es[0],es[1])}}function SetCache(ee){var et=-1,ei=null==ee?0:ee.length;for(this.__data__=new MapCache;++et<ei;)this.add(ee[et])}function Stack(ee){var et=this.__data__=new ListCache(ee);this.size=et.size}function assocIndexOf(ee,et){for(var ei=ee.length;ei--;)if(eq(ee[ei][0],et))return ei;return -1}function baseGetTag(ee){return null==ee?void 0===ee?"[object Undefined]":"[object Null]":eQ&&eQ in Object(ee)?function(ee){var et=eF.call(ee,eQ),ei=ee[eQ];try{ee[eQ]=void 0;var es=!0}catch(ee){}var en=eK.call(ee);return es&&(et?ee[eQ]=ei:delete ee[eQ]),en}(ee):eK.call(ee)}function baseIsArguments(ee){return isObjectLike(ee)&&baseGetTag(ee)==ec}function equalArrays(ee,et,ei,es,en,eo){var ea=1&ei,ec=ee.length,el=et.length;if(ec!=el&&!(ea&&el>ec))return!1;var eu=eo.get(ee);if(eu&&eo.get(et))return eu==et;var ed=-1,eh=!0,ep=2&ei?new SetCache:void 0;for(eo.set(ee,et),eo.set(et,ee);++ed<ec;){var ef=ee[ed],eg=et[ed];if(es)var em=ea?es(eg,ef,ed,et,ee,eo):es(ef,eg,ed,ee,et,eo);if(void 0!==em){if(em)continue;eh=!1;break}if(ep){if(!function(ee,et){for(var ei=-1,es=null==ee?0:ee.length;++ei<es;)if(et(ee[ei],ei,ee))return!0;return!1}(et,function(ee,et){if(!ep.has(et)&&(ef===ee||en(ef,ee,ei,es,eo)))return ep.push(et)})){eh=!1;break}}else if(!(ef===eg||en(ef,eg,ei,es,eo))){eh=!1;break}}return eo.delete(ee),eo.delete(et),eh}function getAllKeys(ee){var et;return et=function(ee){return null!=ee&&isLength(ee.length)&&!isFunction(ee)?function(ee,et){var ei,es=tl(ee),en=!es&&tc(ee),eo=!es&&!en&&tu(ee),ea=!es&&!en&&!eo&&td(ee),ec=es||en||eo||ea,el=ec?function(ee,et){for(var ei=-1,es=Array(ee);++ei<ee;)es[ei]=et(ei);return es}(ee.length,String):[],eu=el.length;for(var ed in ee)eF.call(ee,ed)&&!(ec&&("length"==ed||eo&&("offset"==ed||"parent"==ed)||ea&&("buffer"==ed||"byteLength"==ed||"byteOffset"==ed)||(ei=null==(ei=eu)?9007199254740991:ei)&&("number"==typeof ed||eA.test(ed))&&ed>-1&&ed%1==0&&ed<ei))&&el.push(ed);return el}(ee):function(ee){if(et=ee&&ee.constructor,ee!==("function"==typeof et&&et.prototype||eN))return e0(ee);var et,ei=[];for(var es in Object(ee))eF.call(ee,es)&&"constructor"!=es&&ei.push(es);return ei}(ee)}(ee),tl(ee)?et:function(ee,et){for(var ei=-1,es=et.length,en=ee.length;++ei<es;)ee[en+ei]=et[ei];return ee}(et,to(ee))}function getMapData(ee,et){var ei,es=ee.__data__;return("string"==(ei=typeof et)||"number"==ei||"symbol"==ei||"boolean"==ei?"__proto__"!==et:null===et)?es["string"==typeof et?"string":"hash"]:es.map}function getNative(ee,et){var ei=null==ee?void 0:ee[et];return!(!isObject(ei)||ez&&ez in ei)&&(isFunction(ei)?eH:eE).test(toSource(ei))?ei:void 0}Hash.prototype.clear=function(){this.__data__=e8?e8(null):{},this.size=0},Hash.prototype.delete=function(ee){var et=this.has(ee)&&delete this.__data__[ee];return this.size-=et?1:0,et},Hash.prototype.get=function(ee){var et=this.__data__;if(e8){var ei=et[ee];return ei===ea?void 0:ei}return eF.call(et,ee)?et[ee]:void 0},Hash.prototype.has=function(ee){var et=this.__data__;return e8?void 0!==et[ee]:eF.call(et,ee)},Hash.prototype.set=function(ee,et){var ei=this.__data__;return this.size+=this.has(ee)?0:1,ei[ee]=e8&&void 0===et?ea:et,this},ListCache.prototype.clear=function(){this.__data__=[],this.size=0},ListCache.prototype.delete=function(ee){var et=this.__data__,ei=assocIndexOf(et,ee);return!(ei<0)&&(ei==et.length-1?et.pop():eY.call(et,ei,1),--this.size,!0)},ListCache.prototype.get=function(ee){var et=this.__data__,ei=assocIndexOf(et,ee);return ei<0?void 0:et[ei][1]},ListCache.prototype.has=function(ee){return assocIndexOf(this.__data__,ee)>-1},ListCache.prototype.set=function(ee,et){var ei=this.__data__,es=assocIndexOf(ei,ee);return es<0?(++this.size,ei.push([ee,et])):ei[es][1]=et,this},MapCache.prototype.clear=function(){this.size=0,this.__data__={hash:new Hash,map:new(e5||ListCache),string:new Hash}},MapCache.prototype.delete=function(ee){var et=getMapData(this,ee).delete(ee);return this.size-=et?1:0,et},MapCache.prototype.get=function(ee){return getMapData(this,ee).get(ee)},MapCache.prototype.has=function(ee){return getMapData(this,ee).has(ee)},MapCache.prototype.set=function(ee,et){var ei=getMapData(this,ee),es=ei.size;return ei.set(ee,et),this.size+=ei.size==es?0:1,this},SetCache.prototype.add=SetCache.prototype.push=function(ee){return this.__data__.set(ee,ea),this},SetCache.prototype.has=function(ee){return this.__data__.has(ee)},Stack.prototype.clear=function(){this.__data__=new ListCache,this.size=0},Stack.prototype.delete=function(ee){var et=this.__data__,ei=et.delete(ee);return this.size=et.size,ei},Stack.prototype.get=function(ee){return this.__data__.get(ee)},Stack.prototype.has=function(ee){return this.__data__.has(ee)},Stack.prototype.set=function(ee,et){var ei=this.__data__;if(ei instanceof ListCache){var es=ei.__data__;if(!e5||es.length<199)return es.push([ee,et]),this.size=++ei.size,this;ei=this.__data__=new MapCache(es)}return ei.set(ee,et),this.size=ei.size,this};var to=eZ?function(ee){return null==ee?[]:function(ee,et){for(var ei=-1,es=null==ee?0:ee.length,en=0,eo=[];++ei<es;){var ea=ee[ei];et(ea,ei,ee)&&(eo[en++]=ea)}return eo}(eZ(ee=Object(ee)),function(et){return eG.call(ee,et)})}:function(){return[]},ta=baseGetTag;function toSource(ee){if(null!=ee){try{return e$.call(ee)}catch(ee){}try{return ee+""}catch(ee){}}return""}function eq(ee,et){return ee===et||ee!=ee&&et!=et}(e1&&ta(new e1(new ArrayBuffer(1)))!=eS||e5&&ta(new e5)!=ef||e2&&ta(e2.resolve())!=ey||e6&&ta(new e6)!=e_||e3&&ta(new e3)!=ew)&&(ta=function(ee){var et=baseGetTag(ee),ei=et==em?ee.constructor:void 0,es=ei?toSource(ei):"";if(es)switch(es){case e4:return eS;case e9:return ef;case e7:return ey;case te:return e_;case tt:return ew}return et});var tc=baseIsArguments(function(){return arguments}())?baseIsArguments:function(ee){return isObjectLike(ee)&&eF.call(ee,"callee")&&!eG.call(ee,"callee")},tl=Array.isArray,tu=eX||function(){return!1};function isFunction(ee){if(!isObject(ee))return!1;var et=baseGetTag(ee);return et==ep||"[object GeneratorFunction]"==et||"[object AsyncFunction]"==et||"[object Proxy]"==et}function isLength(ee){return"number"==typeof ee&&ee>-1&&ee%1==0&&ee<=9007199254740991}function isObject(ee){var et=typeof ee;return null!=ee&&("object"==et||"function"==et)}function isObjectLike(ee){return null!=ee&&"object"==typeof ee}var td=eU?function(ee){return eU(ee)}:function(ee){return isObjectLike(ee)&&isLength(ee.length)&&!!eI[baseGetTag(ee)]};ee.exports=function(ee,et){return function baseIsEqual(ee,et,ei,es,en){return ee===et||(null!=ee&&null!=et&&(isObjectLike(ee)||isObjectLike(et))?function(ee,et,ei,es,en,eo){var ea=tl(ee),ep=tl(et),ey=ea?el:ta(ee),ew=ep?el:ta(et);ey=ey==ec?em:ey,ew=ew==ec?em:ew;var eE=ey==em,eA=ew==em,eI=ey==ew;if(eI&&tu(ee)){if(!tu(et))return!1;ea=!0,eE=!1}if(eI&&!eE)return eo||(eo=new Stack),ea||td(ee)?equalArrays(ee,et,ei,es,en,eo):function(ee,et,ei,es,en,eo,ea){switch(ei){case eS:if(ee.byteLength!=et.byteLength||ee.byteOffset!=et.byteOffset)break;ee=ee.buffer,et=et.buffer;case ex:if(ee.byteLength!=et.byteLength||!eo(new eJ(ee),new eJ(et)))break;return!0;case eu:case ed:case eg:return eq(+ee,+et);case eh:return ee.name==et.name&&ee.message==et.message;case eb:case ev:return ee==et+"";case ef:var ec=mapToArray;case e_:var el=1&es;if(ec||(ec=setToArray),ee.size!=et.size&&!el)break;var ep=ea.get(ee);if(ep)return ep==et;es|=2,ea.set(ee,et);var em=equalArrays(ec(ee),ec(et),es,en,eo,ea);return ea.delete(ee),em;case"[object Symbol]":if(ts)return ts.call(ee)==ts.call(et)}return!1}(ee,et,ey,ei,es,en,eo);if(!(1&ei)){var eT=eE&&eF.call(ee,"__wrapped__"),eR=eA&&eF.call(et,"__wrapped__");if(eT||eR){var eD=eT?ee.value():ee,ek=eR?et.value():et;return eo||(eo=new Stack),en(eD,ek,ei,es,eo)}}return!!eI&&(eo||(eo=new Stack),function(ee,et,ei,es,en,eo){var ea=1&ei,ec=getAllKeys(ee),el=ec.length;if(el!=getAllKeys(et).length&&!ea)return!1;for(var eu=el;eu--;){var ed=ec[eu];if(!(ea?ed in et:eF.call(et,ed)))return!1}var eh=eo.get(ee);if(eh&&eo.get(et))return eh==et;var ep=!0;eo.set(ee,et),eo.set(et,ee);for(var ef=ea;++eu<el;){var eg=ee[ed=ec[eu]],em=et[ed];if(es)var ey=ea?es(em,eg,ed,et,ee,eo):es(eg,em,ed,ee,et,eo);if(!(void 0===ey?eg===em||en(eg,em,ei,es,eo):ey)){ep=!1;break}ef||(ef="constructor"==ed)}if(ep&&!ef){var eb=ee.constructor,e_=et.constructor;eb!=e_&&"constructor"in ee&&"constructor"in et&&!("function"==typeof eb&&eb instanceof eb&&"function"==typeof e_&&e_ instanceof e_)&&(ep=!1)}return eo.delete(ee),eo.delete(et),ep}(ee,et,ei,es,en,eo))}(ee,et,ei,es,baseIsEqual,en):ee!=ee&&et!=et)}(ee,et)}},18552:function(ee,et,ei){var es=ei(10852)(ei(55639),"DataView");ee.exports=es},53818:function(ee,et,ei){var es=ei(10852)(ei(55639),"Promise");ee.exports=es},58525:function(ee,et,ei){var es=ei(10852)(ei(55639),"Set");ee.exports=es},70577:function(ee,et,ei){var es=ei(10852)(ei(55639),"WeakMap");ee.exports=es},9454:function(ee,et,ei){var es=ei(44239),en=ei(37005);ee.exports=function(ee){return en(ee)&&"[object Arguments]"==es(ee)}},38749:function(ee,et,ei){var es=ei(44239),en=ei(41780),eo=ei(37005),ea={};ea["[object Float32Array]"]=ea["[object Float64Array]"]=ea["[object Int8Array]"]=ea["[object Int16Array]"]=ea["[object Int32Array]"]=ea["[object Uint8Array]"]=ea["[object Uint8ClampedArray]"]=ea["[object Uint16Array]"]=ea["[object Uint32Array]"]=!0,ea["[object Arguments]"]=ea["[object Array]"]=ea["[object ArrayBuffer]"]=ea["[object Boolean]"]=ea["[object DataView]"]=ea["[object Date]"]=ea["[object Error]"]=ea["[object Function]"]=ea["[object Map]"]=ea["[object Number]"]=ea["[object Object]"]=ea["[object RegExp]"]=ea["[object Set]"]=ea["[object String]"]=ea["[object WeakMap]"]=!1,ee.exports=function(ee){return eo(ee)&&en(ee.length)&&!!ea[es(ee)]}},280:function(ee,et,ei){var es=ei(25726),en=ei(86916),eo=Object.prototype.hasOwnProperty;ee.exports=function(ee){if(!es(ee))return en(ee);var et=[];for(var ei in Object(ee))eo.call(ee,ei)&&"constructor"!=ei&&et.push(ei);return et}},7518:function(ee){ee.exports=function(ee){return function(et){return ee(et)}}},64160:function(ee,et,ei){var es=ei(18552),en=ei(57071),eo=ei(53818),ea=ei(58525),ec=ei(70577),el=ei(44239),eu=ei(80346),ed="[object Map]",eh="[object Promise]",ep="[object Set]",ef="[object WeakMap]",eg="[object DataView]",em=eu(es),ey=eu(en),eb=eu(eo),e_=eu(ea),ev=eu(ec),ew=el;(es&&ew(new es(new ArrayBuffer(1)))!=eg||en&&ew(new en)!=ed||eo&&ew(eo.resolve())!=eh||ea&&ew(new ea)!=ep||ec&&ew(new ec)!=ef)&&(ew=function(ee){var et=el(ee),ei="[object Object]"==et?ee.constructor:void 0,es=ei?eu(ei):"";if(es)switch(es){case em:return eg;case ey:return ed;case eb:return eh;case e_:return ep;case ev:return ef}return et}),ee.exports=ew},25726:function(ee){var et=Object.prototype;ee.exports=function(ee){var ei=ee&&ee.constructor;return ee===("function"==typeof ei&&ei.prototype||et)}},86916:function(ee,et,ei){var es=ei(5569)(Object.keys,Object);ee.exports=es},31167:function(ee,et,ei){ee=ei.nmd(ee);var es=ei(31957),en=et&&!et.nodeType&&et,eo=en&&ee&&!ee.nodeType&&ee,ea=eo&&eo.exports===en&&es.process,ec=function(){try{var ee=eo&&eo.require&&eo.require("util").types;if(ee)return ee;return ea&&ea.binding&&ea.binding("util")}catch(ee){}}();ee.exports=ec},5569:function(ee){ee.exports=function(ee,et){return function(ei){return ee(et(ei))}}},35694:function(ee,et,ei){var es=ei(9454),en=ei(37005),eo=Object.prototype,ea=eo.hasOwnProperty,ec=eo.propertyIsEnumerable,el=es(function(){return arguments}())?es:function(ee){return en(ee)&&ea.call(ee,"callee")&&!ec.call(ee,"callee")};ee.exports=el},98612:function(ee,et,ei){var es=ei(23560),en=ei(41780);ee.exports=function(ee){return null!=ee&&en(ee.length)&&!es(ee)}},44144:function(ee,et,ei){ee=ei.nmd(ee);var es=ei(55639),en=ei(95062),eo=et&&!et.nodeType&&et,ea=eo&&ee&&!ee.nodeType&&ee,ec=ea&&ea.exports===eo?es.Buffer:void 0,el=ec?ec.isBuffer:void 0;ee.exports=el||en},41609:function(ee,et,ei){var es=ei(280),en=ei(64160),eo=ei(35694),ea=ei(1469),ec=ei(98612),el=ei(44144),eu=ei(25726),ed=ei(36719),eh=Object.prototype.hasOwnProperty;ee.exports=function(ee){if(null==ee)return!0;if(ec(ee)&&(ea(ee)||"string"==typeof ee||"function"==typeof ee.splice||el(ee)||ed(ee)||eo(ee)))return!ee.length;var et=en(ee);if("[object Map]"==et||"[object Set]"==et)return!ee.size;if(eu(ee))return!es(ee).length;for(var ei in ee)if(eh.call(ee,ei))return!1;return!0}},41780:function(ee){ee.exports=function(ee){return"number"==typeof ee&&ee>-1&&ee%1==0&&ee<=9007199254740991}},36719:function(ee,et,ei){var es=ei(38749),en=ei(7518),eo=ei(31167),ea=eo&&eo.isTypedArray,ec=ea?en(ea):es;ee.exports=ec},95062:function(ee){ee.exports=function(){return!1}},17563:function(ee,et,ei){"use strict";let es=ei(70610),en=ei(44020),eo=ei(80500),ea=ei(92806),isNullOrUndefined=ee=>null==ee,ec=Symbol("encodeFragmentIdentifier");function validateArrayFormatSeparator(ee){if("string"!=typeof ee||1!==ee.length)throw TypeError("arrayFormatSeparator must be single character string")}function encode(ee,et){return et.encode?et.strict?es(ee):encodeURIComponent(ee):ee}function decode(ee,et){return et.decode?en(ee):ee}function removeHash(ee){let et=ee.indexOf("#");return -1!==et&&(ee=ee.slice(0,et)),ee}function extract(ee){ee=removeHash(ee);let et=ee.indexOf("?");return -1===et?"":ee.slice(et+1)}function parseValue(ee,et){return et.parseNumbers&&!Number.isNaN(Number(ee))&&"string"==typeof ee&&""!==ee.trim()?ee=Number(ee):et.parseBooleans&&null!==ee&&("true"===ee.toLowerCase()||"false"===ee.toLowerCase())&&(ee="true"===ee.toLowerCase()),ee}function parse(ee,et){validateArrayFormatSeparator((et=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},et)).arrayFormatSeparator);let ei=function(ee){let et;switch(ee.arrayFormat){case"index":return(ee,ei,es)=>{if(et=/\[(\d*)\]$/.exec(ee),ee=ee.replace(/\[\d*\]$/,""),!et){es[ee]=ei;return}void 0===es[ee]&&(es[ee]={}),es[ee][et[1]]=ei};case"bracket":return(ee,ei,es)=>{if(et=/(\[\])$/.exec(ee),ee=ee.replace(/\[\]$/,""),!et){es[ee]=ei;return}if(void 0===es[ee]){es[ee]=[ei];return}es[ee]=[].concat(es[ee],ei)};case"colon-list-separator":return(ee,ei,es)=>{if(et=/(:list)$/.exec(ee),ee=ee.replace(/:list$/,""),!et){es[ee]=ei;return}if(void 0===es[ee]){es[ee]=[ei];return}es[ee]=[].concat(es[ee],ei)};case"comma":case"separator":return(et,ei,es)=>{let en="string"==typeof ei&&ei.includes(ee.arrayFormatSeparator),eo="string"==typeof ei&&!en&&decode(ei,ee).includes(ee.arrayFormatSeparator);ei=eo?decode(ei,ee):ei;let ea=en||eo?ei.split(ee.arrayFormatSeparator).map(et=>decode(et,ee)):null===ei?ei:decode(ei,ee);es[et]=ea};case"bracket-separator":return(et,ei,es)=>{let en=/(\[\])$/.test(et);if(et=et.replace(/\[\]$/,""),!en){es[et]=ei?decode(ei,ee):ei;return}let eo=null===ei?[]:ei.split(ee.arrayFormatSeparator).map(et=>decode(et,ee));if(void 0===es[et]){es[et]=eo;return}es[et]=[].concat(es[et],eo)};default:return(ee,et,ei)=>{if(void 0===ei[ee]){ei[ee]=et;return}ei[ee]=[].concat(ei[ee],et)}}}(et),es=Object.create(null);if("string"!=typeof ee||!(ee=ee.trim().replace(/^[?#&]/,"")))return es;for(let en of ee.split("&")){if(""===en)continue;let[ee,ea]=eo(et.decode?en.replace(/\+/g," "):en,"=");ea=void 0===ea?null:["comma","separator","bracket-separator"].includes(et.arrayFormat)?ea:decode(ea,et),ei(decode(ee,et),ea,es)}for(let ee of Object.keys(es)){let ei=es[ee];if("object"==typeof ei&&null!==ei)for(let ee of Object.keys(ei))ei[ee]=parseValue(ei[ee],et);else es[ee]=parseValue(ei,et)}return!1===et.sort?es:(!0===et.sort?Object.keys(es).sort():Object.keys(es).sort(et.sort)).reduce((ee,et)=>{let ei=es[et];return ei&&"object"==typeof ei&&!Array.isArray(ei)?ee[et]=function keysSorter(ee){return Array.isArray(ee)?ee.sort():"object"==typeof ee?keysSorter(Object.keys(ee)).sort((ee,et)=>Number(ee)-Number(et)).map(et=>ee[et]):ee}(ei):ee[et]=ei,ee},Object.create(null))}et.extract=extract,et.parse=parse,et.stringify=(ee,et)=>{if(!ee)return"";validateArrayFormatSeparator((et=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},et)).arrayFormatSeparator);let shouldFilter=ei=>et.skipNull&&isNullOrUndefined(ee[ei])||et.skipEmptyString&&""===ee[ei],ei=function(ee){switch(ee.arrayFormat){case"index":return et=>(ei,es)=>{let en=ei.length;return void 0===es||ee.skipNull&&null===es||ee.skipEmptyString&&""===es?ei:null===es?[...ei,[encode(et,ee),"[",en,"]"].join("")]:[...ei,[encode(et,ee),"[",encode(en,ee),"]=",encode(es,ee)].join("")]};case"bracket":return et=>(ei,es)=>void 0===es||ee.skipNull&&null===es||ee.skipEmptyString&&""===es?ei:null===es?[...ei,[encode(et,ee),"[]"].join("")]:[...ei,[encode(et,ee),"[]=",encode(es,ee)].join("")];case"colon-list-separator":return et=>(ei,es)=>void 0===es||ee.skipNull&&null===es||ee.skipEmptyString&&""===es?ei:null===es?[...ei,[encode(et,ee),":list="].join("")]:[...ei,[encode(et,ee),":list=",encode(es,ee)].join("")];case"comma":case"separator":case"bracket-separator":{let et="bracket-separator"===ee.arrayFormat?"[]=":"=";return ei=>(es,en)=>void 0===en||ee.skipNull&&null===en||ee.skipEmptyString&&""===en?es:(en=null===en?"":en,0===es.length)?[[encode(ei,ee),et,encode(en,ee)].join("")]:[[es,encode(en,ee)].join(ee.arrayFormatSeparator)]}default:return et=>(ei,es)=>void 0===es||ee.skipNull&&null===es||ee.skipEmptyString&&""===es?ei:null===es?[...ei,encode(et,ee)]:[...ei,[encode(et,ee),"=",encode(es,ee)].join("")]}}(et),es={};for(let et of Object.keys(ee))shouldFilter(et)||(es[et]=ee[et]);let en=Object.keys(es);return!1!==et.sort&&en.sort(et.sort),en.map(es=>{let en=ee[es];return void 0===en?"":null===en?encode(es,et):Array.isArray(en)?0===en.length&&"bracket-separator"===et.arrayFormat?encode(es,et)+"[]":en.reduce(ei(es),[]).join("&"):encode(es,et)+"="+encode(en,et)}).filter(ee=>ee.length>0).join("&")},et.parseUrl=(ee,et)=>{et=Object.assign({decode:!0},et);let[ei,es]=eo(ee,"#");return Object.assign({url:ei.split("?")[0]||"",query:parse(extract(ee),et)},et&&et.parseFragmentIdentifier&&es?{fragmentIdentifier:decode(es,et)}:{})},et.stringifyUrl=(ee,ei)=>{ei=Object.assign({encode:!0,strict:!0,[ec]:!0},ei);let es=removeHash(ee.url).split("?")[0]||"",en=et.extract(ee.url),eo=et.parse(en,{sort:!1}),ea=Object.assign(eo,ee.query),el=et.stringify(ea,ei);el&&(el=`?${el}`);let eu=function(ee){let et="",ei=ee.indexOf("#");return -1!==ei&&(et=ee.slice(ei)),et}(ee.url);return ee.fragmentIdentifier&&(eu=`#${ei[ec]?encode(ee.fragmentIdentifier,ei):ee.fragmentIdentifier}`),`${es}${el}${eu}`},et.pick=(ee,ei,es)=>{es=Object.assign({parseFragmentIdentifier:!0,[ec]:!1},es);let{url:en,query:eo,fragmentIdentifier:el}=et.parseUrl(ee,es);return et.stringifyUrl({url:en,query:ea(eo,ei),fragmentIdentifier:el},es)},et.exclude=(ee,ei,es)=>{let en=Array.isArray(ei)?ee=>!ei.includes(ee):(ee,et)=>!ei(ee,et);return et.pick(ee,en,es)}},85346:function(ee){"use strict";function tryStringify(ee){try{return JSON.stringify(ee)}catch(ee){return'"[Circular]"'}}ee.exports=function(ee,et,ei){var es=ei&&ei.stringify||tryStringify;if("object"==typeof ee&&null!==ee){var en=et.length+1;if(1===en)return ee;var eo=Array(en);eo[0]=es(ee);for(var ea=1;ea<en;ea++)eo[ea]=es(et[ea]);return eo.join(" ")}if("string"!=typeof ee)return ee;var ec=et.length;if(0===ec)return ee;for(var el="",eu=0,ed=-1,eh=ee&&ee.length||0,ep=0;ep<eh;){if(37===ee.charCodeAt(ep)&&ep+1<eh){switch(ed=ed>-1?ed:0,ee.charCodeAt(ep+1)){case 100:case 102:if(eu>=ec||null==et[eu])break;ed<ep&&(el+=ee.slice(ed,ep)),el+=Number(et[eu]),ed=ep+2,ep++;break;case 105:if(eu>=ec||null==et[eu])break;ed<ep&&(el+=ee.slice(ed,ep)),el+=Math.floor(Number(et[eu])),ed=ep+2,ep++;break;case 79:case 111:case 106:if(eu>=ec||void 0===et[eu])break;ed<ep&&(el+=ee.slice(ed,ep));var ef=typeof et[eu];if("string"===ef){el+="'"+et[eu]+"'",ed=ep+2,ep++;break}if("function"===ef){el+=et[eu].name||"<anonymous>",ed=ep+2,ep++;break}el+=es(et[eu]),ed=ep+2,ep++;break;case 115:if(eu>=ec)break;ed<ep&&(el+=ee.slice(ed,ep)),el+=String(et[eu]),ed=ep+2,ep++;break;case 37:ed<ep&&(el+=ee.slice(ed,ep)),el+="%",ed=ep+2,ep++,eu--}++eu}++ep}return -1===ed?ee:(ed<eh&&(el+=ee.slice(ed)),el)}},80500:function(ee){"use strict";ee.exports=(ee,et)=>{if(!("string"==typeof ee&&"string"==typeof et))throw TypeError("Expected the arguments to be of type `string`");if(""===et)return[ee];let ei=ee.indexOf(et);return -1===ei?[ee]:[ee.slice(0,ei),ee.slice(ei+et.length)]}},70610:function(ee){"use strict";ee.exports=ee=>encodeURIComponent(ee).replace(/[!'()*]/g,ee=>`%${ee.charCodeAt(0).toString(16).toUpperCase()}`)},36559:function(ee,et,ei){"use strict";let es=ei(85346);ee.exports=pino;let en=function(){function defd(ee){return void 0!==ee&&ee}try{if("undefined"!=typeof globalThis)return globalThis;return Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch(ee){return defd(self)||defd(window)||defd(this)||{}}}().console||{};function pino(ee){var et;(ee=ee||{}).browser=ee.browser||{};let ei=ee.browser.transmit;if(ei&&"function"!=typeof ei.send)throw Error("pino: transmit option must have a send function");let es=ee.browser.write||en;ee.browser.write&&(ee.browser.asObject=!0);let eo=ee.serializers||{},ea=function(ee,et){if(Array.isArray(ee)){let et=ee.filter(function(ee){return"!stdSerializers.err"!==ee});return et}return!0===ee&&Object.keys(et)}(ee.browser.serialize,eo),ec=ee.browser.serialize;Array.isArray(ee.browser.serialize)&&ee.browser.serialize.indexOf("!stdSerializers.err")>-1&&(ec=!1),"function"==typeof es&&(es.error=es.fatal=es.warn=es.info=es.debug=es.trace=es),!1===ee.enabled&&(ee.level="silent");let el=ee.level||"info",eu=Object.create(es);eu.log||(eu.log=noop),Object.defineProperty(eu,"levelVal",{get:function(){return"silent"===this.level?1/0:this.levels.values[this.level]}}),Object.defineProperty(eu,"level",{get:function(){return this._level},set:function(ee){if("silent"!==ee&&!this.levels.values[ee])throw Error("unknown level "+ee);this._level=ee,set(ed,eu,"error","log"),set(ed,eu,"fatal","error"),set(ed,eu,"warn","error"),set(ed,eu,"info","log"),set(ed,eu,"debug","log"),set(ed,eu,"trace","log")}});let ed={transmit:ei,serialize:ea,asObject:ee.browser.asObject,levels:["error","fatal","warn","info","debug","trace"],timestamp:"function"==typeof(et=ee).timestamp?et.timestamp:!1===et.timestamp?nullTime:epochTime};return eu.levels=pino.levels,eu.level=el,eu.setMaxListeners=eu.getMaxListeners=eu.emit=eu.addListener=eu.on=eu.prependListener=eu.once=eu.prependOnceListener=eu.removeListener=eu.removeAllListeners=eu.listeners=eu.listenerCount=eu.eventNames=eu.write=eu.flush=noop,eu.serializers=eo,eu._serialize=ea,eu._stdErrSerialize=ec,eu.child=function(et,es){if(!et)throw Error("missing bindings for child Pino");es=es||{},ea&&et.serializers&&(es.serializers=et.serializers);let en=es.serializers;if(ea&&en){var ec=Object.assign({},eo,en),el=!0===ee.browser.serialize?Object.keys(ec):ea;delete et.serializers,applySerializers([et],el,ec,this._stdErrSerialize)}function Child(ee){this._childLevel=(0|ee._childLevel)+1,this.error=bind(ee,et,"error"),this.fatal=bind(ee,et,"fatal"),this.warn=bind(ee,et,"warn"),this.info=bind(ee,et,"info"),this.debug=bind(ee,et,"debug"),this.trace=bind(ee,et,"trace"),ec&&(this.serializers=ec,this._serialize=el),ei&&(this._logEvent=createLogEventShape([].concat(ee._logEvent.bindings,et)))}return Child.prototype=this,new Child(this)},ei&&(eu._logEvent=createLogEventShape()),eu}function set(ee,et,ei,eo){let ea=Object.getPrototypeOf(et);et[ei]=et.levelVal>et.levels.values[ei]?noop:ea[ei]?ea[ei]:en[ei]||en[eo]||noop,function(ee,et,ei){if(ee.transmit||et[ei]!==noop){var eo;et[ei]=(eo=et[ei],function(){let ea=ee.timestamp(),ec=Array(arguments.length),el=Object.getPrototypeOf&&Object.getPrototypeOf(this)===en?en:this;for(var eu=0;eu<ec.length;eu++)ec[eu]=arguments[eu];if(ee.serialize&&!ee.asObject&&applySerializers(ec,this._serialize,this.serializers,this._stdErrSerialize),ee.asObject?eo.call(el,function(ee,et,ei,en){ee._serialize&&applySerializers(ei,ee._serialize,ee.serializers,ee._stdErrSerialize);let eo=ei.slice(),ea=eo[0],ec={};en&&(ec.time=en),ec.level=pino.levels.values[et];let el=(0|ee._childLevel)+1;if(el<1&&(el=1),null!==ea&&"object"==typeof ea){for(;el--&&"object"==typeof eo[0];)Object.assign(ec,eo.shift());ea=eo.length?es(eo.shift(),eo):void 0}else"string"==typeof ea&&(ea=es(eo.shift(),eo));return void 0!==ea&&(ec.msg=ea),ec}(this,ei,ec,ea)):eo.apply(el,ec),ee.transmit){let es=ee.transmit.level||et.level,en=pino.levels.values[es],eo=pino.levels.values[ei];if(eo<en)return;(function(ee,et,ei){let es=et.send,en=et.ts,eo=et.methodLevel,ea=et.methodValue,ec=et.val,el=ee._logEvent.bindings;applySerializers(ei,ee._serialize||Object.keys(ee.serializers),ee.serializers,void 0===ee._stdErrSerialize||ee._stdErrSerialize),ee._logEvent.ts=en,ee._logEvent.messages=ei.filter(function(ee){return -1===el.indexOf(ee)}),ee._logEvent.level.label=eo,ee._logEvent.level.value=ea,es(eo,ee._logEvent,ec),ee._logEvent=createLogEventShape(el)})(this,{ts:ea,methodLevel:ei,methodValue:eo,transmitLevel:es,transmitValue:pino.levels.values[ee.transmit.level||et.level],send:ee.transmit.send,val:et.levelVal},ec)}})}}(ee,et,ei)}function applySerializers(ee,et,ei,es){for(let en in ee)if(es&&ee[en]instanceof Error)ee[en]=pino.stdSerializers.err(ee[en]);else if("object"==typeof ee[en]&&!Array.isArray(ee[en]))for(let es in ee[en])et&&et.indexOf(es)>-1&&es in ei&&(ee[en][es]=ei[es](ee[en][es]))}function bind(ee,et,ei){return function(){let es=Array(1+arguments.length);es[0]=et;for(var en=1;en<es.length;en++)es[en]=arguments[en-1];return ee[ei].apply(this,es)}}function createLogEventShape(ee){return{ts:0,messages:[],bindings:ee||[],level:{label:"",value:0}}}function mock(){return{}}function passthrough(ee){return ee}function noop(){}function nullTime(){return!1}function epochTime(){return Date.now()}pino.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},pino.stdSerializers={mapHttpRequest:mock,mapHttpResponse:mock,wrapRequestSerializer:passthrough,wrapResponseSerializer:passthrough,wrapErrorSerializer:passthrough,req:mock,res:mock,err:function(ee){let et={type:ee.constructor.name,msg:ee.message,stack:ee.stack};for(let ei in ee)void 0===et[ei]&&(et[ei]=ee[ei]);return et}},pino.stdTimeFunctions=Object.assign({},{nullTime,epochTime,unixTime:function(){return Math.round(Date.now()/1e3)},isoTime:function(){return new Date(Date.now()).toISOString()}})},40471:function(ee,et,ei){"use strict";let es;ei.d(et,{AccountCtrl:function(){return eE},Id:function(){return eh},ConfigCtrl:function(){return ex},zv:function(){return eg},uA:function(){return eb},ExplorerCtrl:function(){return eO},jb:function(){return ej},OptionsCtrl:function(){return ev},AV:function(){return ef},ThemeCtrl:function(){return eK},ToastCtrl:function(){return eV},WcConnectionCtrl:function(){return eU}}),Symbol();let en=Symbol(),eo=Object.getPrototypeOf,ea=new WeakMap,l=ee=>ee&&(ea.has(ee)?ea.get(ee):eo(ee)===Object.prototype||eo(ee)===Array.prototype),y=ee=>l(ee)&&ee[en]||null,h=(ee,et=!0)=>{ea.set(ee,et)},isObject=ee=>"object"==typeof ee&&null!==ee,ec=new WeakMap,el=new WeakSet,buildProxyFunction=(ee=Object.is,et=(ee,et)=>new Proxy(ee,et),ei=ee=>isObject(ee)&&!el.has(ee)&&(Array.isArray(ee)||!(Symbol.iterator in ee))&&!(ee instanceof WeakMap)&&!(ee instanceof WeakSet)&&!(ee instanceof Error)&&!(ee instanceof Number)&&!(ee instanceof Date)&&!(ee instanceof String)&&!(ee instanceof RegExp)&&!(ee instanceof ArrayBuffer),es=ee=>{switch(ee.status){case"fulfilled":return ee.value;case"rejected":throw ee.reason;default:throw ee}},en=new WeakMap,eo=(ee,et,ei=es)=>{let ea=en.get(ee);if((null==ea?void 0:ea[0])===et)return ea[1];let eu=Array.isArray(ee)?[]:Object.create(Object.getPrototypeOf(ee));return h(eu,!0),en.set(ee,[et,eu]),Reflect.ownKeys(ee).forEach(et=>{if(Object.getOwnPropertyDescriptor(eu,et))return;let es=Reflect.get(ee,et),en={value:es,enumerable:!0,configurable:!0};if(el.has(es))h(es,!1);else if(es instanceof Promise)delete en.value,en.get=()=>ei(es);else if(ec.has(es)){let[ee,et]=ec.get(es);en.value=eo(ee,et(),ei)}Object.defineProperty(eu,et,en)}),eu},ea=new WeakMap,eu=[1,1],ed=es=>{if(!isObject(es))throw Error("object required");let en=ea.get(es);if(en)return en;let eh=eu[0],ep=new Set,notifyUpdate=(ee,et=++eu[0])=>{eh!==et&&(eh=et,ep.forEach(ei=>ei(ee,et)))},ef=eu[1],ensureVersion=(ee=++eu[1])=>(ef===ee||ep.size||(ef=ee,eg.forEach(([et])=>{let ei=et[1](ee);ei>eh&&(eh=ei)})),eh),createPropListener=ee=>(et,ei)=>{let es=[...et];es[1]=[ee,...es[1]],notifyUpdate(es,ei)},eg=new Map,addPropListener=(ee,et)=>{if(eg.has(ee))throw Error("prop listener already exists");if(ep.size){let ei=et[3](createPropListener(ee));eg.set(ee,[et,ei])}else eg.set(ee,[et])},removePropListener=ee=>{var et;let ei=eg.get(ee);ei&&(eg.delete(ee),null==(et=ei[1])||et.call(ei))},addListener=ee=>{ep.add(ee),1===ep.size&&eg.forEach(([ee,et],ei)=>{if(et)throw Error("remove already exists");let es=ee[3](createPropListener(ei));eg.set(ei,[ee,es])});let removeListener=()=>{ep.delete(ee),0===ep.size&&eg.forEach(([ee,et],ei)=>{et&&(et(),eg.set(ei,[ee]))})};return removeListener},em=Array.isArray(es)?[]:Object.create(Object.getPrototypeOf(es)),ey={deleteProperty(ee,et){let ei=Reflect.get(ee,et);removePropListener(et);let es=Reflect.deleteProperty(ee,et);return es&&notifyUpdate(["delete",[et],ei]),es},set(et,es,en,eo){let eu=Reflect.has(et,es),eh=Reflect.get(et,es,eo);if(eu&&(ee(eh,en)||ea.has(en)&&ee(eh,ea.get(en))))return!0;removePropListener(es),isObject(en)&&(en=y(en)||en);let ep=en;if(en instanceof Promise)en.then(ee=>{en.status="fulfilled",en.value=ee,notifyUpdate(["resolve",[es],ee])}).catch(ee=>{en.status="rejected",en.reason=ee,notifyUpdate(["reject",[es],ee])});else{!ec.has(en)&&ei(en)&&(ep=ed(en));let ee=!el.has(ep)&&ec.get(ep);ee&&addPropListener(es,ee)}return Reflect.set(et,es,ep,eo),notifyUpdate(["set",[es],en,eh]),!0}},eb=et(em,ey);ea.set(es,eb);let e_=[em,ensureVersion,eo,addListener];return ec.set(eb,e_),Reflect.ownKeys(es).forEach(ee=>{let et=Object.getOwnPropertyDescriptor(es,ee);"value"in et&&(eb[ee]=es[ee],delete et.value,delete et.writable),Object.defineProperty(em,ee,et)}),eb})=>[ed,ec,el,ee,et,ei,es,en,eo,ea,eu],[eu]=buildProxyFunction();function proxy(ee={}){return eu(ee)}function subscribe(ee,et,ei){let es;let en=ec.get(ee);en||console.warn("Please use proxy object");let eo=[],ea=en[3],el=!1,eu=ea(ee=>{if(eo.push(ee),ei){et(eo.splice(0));return}es||(es=Promise.resolve().then(()=>{es=void 0,el&&et(eo.splice(0))}))});return el=!0,()=>{el=!1,eu()}}var ed=ei(48764);let eh={ethereumClient:void 0,setEthereumClient(ee){es=ee},client(){if(es)return es;throw Error("ClientCtrl has no client set")}},ep=proxy({history:["ConnectWallet"],view:"ConnectWallet",data:void 0}),ef={state:ep,subscribe:ee=>subscribe(ep,()=>ee(ep)),push(ee,et){ee!==ep.view&&(ep.view=ee,et&&(ep.data=et),ep.history.push(ee))},reset(ee){ep.view=ee,ep.history=[ee]},replace(ee){ep.history.length>1&&(ep.history[ep.history.length-1]=ee,ep.view=ee)},goBack(){if(ep.history.length>1){ep.history.pop();let[ee]=ep.history.slice(-1);ep.view=ee}},setData(ee){ep.data=ee}},eg={WALLETCONNECT_DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",W3M_VERSION:"W3M_VERSION",W3M_PREFER_INJECTED_URL_FLAG:"w3mPreferInjected",RECOMMENDED_WALLET_AMOUNT:9,isMobile:()=>"u">typeof window&&!!(window.matchMedia("(pointer:coarse)").matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)),isAndroid:()=>eg.isMobile()&&navigator.userAgent.toLowerCase().includes("android"),isIos(){let ee=navigator.userAgent.toLowerCase();return eg.isMobile()&&(ee.includes("iphone")||ee.includes("ipad"))},isHttpUrl:ee=>ee.startsWith("http://")||ee.startsWith("https://"),isArray:ee=>Array.isArray(ee)&&ee.length>0,formatNativeUrl(ee,et,ei){if(eg.isHttpUrl(ee))return this.formatUniversalUrl(ee,et,ei);let es=ee;es.includes("://")||(es=ee.replaceAll("/","").replaceAll(":",""),es=`${es}://`),this.setWalletConnectDeepLink(es,ei);let en=encodeURIComponent(et);return`${es}wc?uri=${en}`},formatUniversalUrl(ee,et,ei){if(!eg.isHttpUrl(ee))return this.formatNativeUrl(ee,et,ei);let es=ee;ee.endsWith("/")&&(es=ee.slice(0,-1)),this.setWalletConnectDeepLink(es,ei);let en=encodeURIComponent(et);return`${es}/wc?uri=${en}`},wait:async ee=>new Promise(et=>{setTimeout(et,ee)}),openHref(ee,et){window.open(ee,et,"noreferrer noopener")},setWalletConnectDeepLink(ee,et){localStorage.setItem(eg.WALLETCONNECT_DEEPLINK_CHOICE,JSON.stringify({href:ee,name:et}))},setWalletConnectAndroidDeepLink(ee){let[et]=ee.split("?");localStorage.setItem(eg.WALLETCONNECT_DEEPLINK_CHOICE,JSON.stringify({href:et,name:"Android"}))},removeWalletConnectDeepLink(){localStorage.removeItem(eg.WALLETCONNECT_DEEPLINK_CHOICE)},setWeb3ModalVersionInStorage(){"u">typeof localStorage&&localStorage.setItem(eg.W3M_VERSION,"2.4.2")},getWalletRouterData(){var ee;let et=null==(ee=ef.state.data)?void 0:ee.Wallet;if(!et)throw Error('Missing "Wallet" view data');return et},getSwitchNetworkRouterData(){var ee;let et=null==(ee=ef.state.data)?void 0:ee.SwitchNetwork;if(!et)throw Error('Missing "SwitchNetwork" view data');return et},isPreferInjectedFlag:()=>"u">typeof location&&new URLSearchParams(location.search).has(eg.W3M_PREFER_INJECTED_URL_FLAG)},em="u">typeof location&&(location.hostname.includes("localhost")||location.protocol.includes("https")),ey=proxy({enabled:em,userSessionId:"",events:[],connectedWalletId:void 0}),eb={state:ey,subscribe:ee=>subscribe(ey.events,()=>ee(function(ee,et){let ei=ec.get(ee);ei||console.warn("Please use proxy object");let[es,en,eo]=ei;return eo(es,en(),void 0)}(ey.events[ey.events.length-1]))),initialize(){ey.enabled&&"u">typeof crypto&&(ey.userSessionId=crypto.randomUUID())},setConnectedWalletId(ee){ey.connectedWalletId=ee},click(ee){if(ey.enabled){let et={type:"CLICK",name:ee.name,userSessionId:ey.userSessionId,timestamp:Date.now(),data:ee};ey.events.push(et)}},track(ee){if(ey.enabled){let et={type:"TRACK",name:ee.name,userSessionId:ey.userSessionId,timestamp:Date.now(),data:ee};ey.events.push(et)}},view(ee){if(ey.enabled){let et={type:"VIEW",name:ee.name,userSessionId:ey.userSessionId,timestamp:Date.now(),data:ee};ey.events.push(et)}}},e_=proxy({selectedChain:void 0,chains:void 0,standaloneChains:void 0,standaloneUri:void 0,isStandalone:!1,isAuth:!1,isCustomDesktop:!1,isCustomMobile:!1,isDataLoaded:!1,isUiLoaded:!1,isPreferInjected:!1,walletConnectVersion:1}),ev={state:e_,subscribe:ee=>subscribe(e_,()=>ee(e_)),setChains(ee){e_.chains=ee},setStandaloneChains(ee){e_.standaloneChains=ee},setStandaloneUri(ee){e_.standaloneUri=ee},getSelectedChain(){let ee=eh.client().getNetwork().chain;return ee&&(e_.selectedChain=ee),e_.selectedChain},setSelectedChain(ee){e_.selectedChain=ee},setIsStandalone(ee){e_.isStandalone=ee},setIsCustomDesktop(ee){e_.isCustomDesktop=ee},setIsCustomMobile(ee){e_.isCustomMobile=ee},setIsDataLoaded(ee){e_.isDataLoaded=ee},setIsUiLoaded(ee){e_.isUiLoaded=ee},setWalletConnectVersion(ee){e_.walletConnectVersion=ee},setIsPreferInjected(ee){e_.isPreferInjected=ee},setIsAuth(ee){e_.isAuth=ee}},ew=proxy({projectId:"",mobileWallets:void 0,desktopWallets:void 0,walletImages:void 0,chainImages:void 0,tokenImages:void 0,tokenContracts:void 0,standaloneChains:void 0,enableStandaloneMode:!1,enableAuthMode:!1,enableNetworkView:!1,enableAccountView:!0,enableExplorer:!0,defaultChain:void 0,explorerExcludedWalletIds:void 0,explorerRecommendedWalletIds:void 0,termsOfServiceUrl:void 0,privacyPolicyUrl:void 0}),ex={state:ew,subscribe:ee=>subscribe(ew,()=>ee(ew)),setConfig(ee){var et,ei,es,en;eb.initialize(),ev.setStandaloneChains(ee.standaloneChains),ev.setIsStandalone(!!(null!=(et=ee.standaloneChains)&&et.length)||!!ee.enableStandaloneMode),ev.setIsAuth(!!ee.enableAuthMode),ev.setIsCustomMobile(!!(null!=(ei=ee.mobileWallets)&&ei.length)),ev.setIsCustomDesktop(!!(null!=(es=ee.desktopWallets)&&es.length)),ev.setWalletConnectVersion(null!=(en=ee.walletConnectVersion)?en:1),ev.state.isStandalone||(ev.setChains(eh.client().chains),ev.setIsPreferInjected(eh.client().isInjectedProviderInstalled()&&eg.isPreferInjectedFlag())),ee.defaultChain&&ev.setSelectedChain(ee.defaultChain),eg.setWeb3ModalVersionInStorage(),Object.assign(ew,ee)}},eS=proxy({address:void 0,profileName:void 0,profileAvatar:void 0,profileLoading:!1,balanceLoading:!1,balance:void 0,isConnected:!1}),eE={state:eS,subscribe:ee=>subscribe(eS,()=>ee(eS)),getAccount(){let ee=eh.client().getAccount();eS.address=ee.address,eS.isConnected=ee.isConnected},async fetchProfile(ee,et){var ei;try{eS.profileLoading=!0;let es=et??eS.address,en=null==(ei=ev.state.chains)?void 0:ei.find(ee=>1===ee.id);if(es&&en){let et=await eh.client().fetchEnsName({address:es,chainId:1});if(et){let ei=await eh.client().fetchEnsAvatar({name:et,chainId:1});ei&&await ee(ei),eS.profileAvatar=ei}eS.profileName=et}}finally{eS.profileLoading=!1}},async fetchBalance(ee){try{let et;let{chain:ei}=eh.client().getNetwork(),{tokenContracts:es}=ex.state;ei&&es&&(et=es[ei.id]),eS.balanceLoading=!0;let en=ee??eS.address;if(en){let ee=await eh.client().fetchBalance({address:en,token:et});eS.balance={amount:ee.formatted,symbol:ee.symbol}}}finally{eS.balanceLoading=!1}},setAddress(ee){eS.address=ee},setIsConnected(ee){eS.isConnected=ee},resetBalance(){eS.balance=void 0},resetAccount(){eS.address=void 0,eS.isConnected=!1,eS.profileName=void 0,eS.profileAvatar=void 0,eS.balance=void 0}},eA="https://explorer-api.walletconnect.com";async function U(ee,et){let ei=new URL(ee,eA);return ei.searchParams.append("projectId",ex.state.projectId),Object.entries(et).forEach(([ee,et])=>{et&&ei.searchParams.append(ee,String(et))}),(await fetch(ei)).json()}let eI={getDesktopListings:async ee=>U("/w3m/v1/getDesktopListings",ee),getMobileListings:async ee=>U("/w3m/v1/getMobileListings",ee),getInjectedListings:async ee=>U("/w3m/v1/getInjectedListings",ee),getAllListings:async ee=>U("/w3m/v1/getAllListings",ee),getWalletImageUrl:ee=>`${eA}/w3m/v1/getWalletImage/${ee}?projectId=${ex.state.projectId}`,getAssetImageUrl:ee=>`${eA}/w3m/v1/getAssetImage/${ee}?projectId=${ex.state.projectId}`};var eT=Object.defineProperty,eR=Object.getOwnPropertySymbols,eD=Object.prototype.hasOwnProperty,ek=Object.prototype.propertyIsEnumerable,k=(ee,et,ei)=>et in ee?eT(ee,et,{enumerable:!0,configurable:!0,writable:!0,value:ei}):ee[et]=ei,G=(ee,et)=>{for(var ei in et||(et={}))eD.call(et,ei)&&k(ee,ei,et[ei]);if(eR)for(var ei of eR(et))ek.call(et,ei)&&k(ee,ei,et[ei]);return ee};let eB=eg.isMobile(),eP=proxy({wallets:{listings:[],total:0,page:1},injectedWallets:[],search:{listings:[],total:0,page:1},recomendedWallets:[]}),eO={state:eP,async getRecomendedWallets(){let{explorerRecommendedWalletIds:ee,explorerExcludedWalletIds:et}=ex.state;if("NONE"===ee||"ALL"===et&&!ee)return eP.recomendedWallets;if(eg.isArray(ee)){let et={recommendedIds:ee.join(",")},{listings:ei}=await eI.getAllListings(et),es=Object.values(ei);es.sort((et,ei)=>{let es=ee.indexOf(et.id),en=ee.indexOf(ei.id);return es-en}),eP.recomendedWallets=es}else{let{standaloneChains:ee,walletConnectVersion:ei,isAuth:es}=ev.state,en=ee?.join(","),eo=eg.isArray(et),ea={page:1,sdks:es?"auth_v1":void 0,entries:eg.RECOMMENDED_WALLET_AMOUNT,chains:en,version:ei,excludedIds:eo?et.join(","):void 0},{listings:ec}=eB?await eI.getMobileListings(ea):await eI.getDesktopListings(ea);eP.recomendedWallets=Object.values(ec)}return eP.recomendedWallets},async getWallets(ee){let et=G({},ee),{explorerRecommendedWalletIds:ei,explorerExcludedWalletIds:es}=ex.state,{recomendedWallets:en}=eP;if("ALL"===es)return eP.wallets;et.search||(en.length?et.excludedIds=en.map(ee=>ee.id).join(","):eg.isArray(ei)&&(et.excludedIds=ei.join(","))),eg.isArray(es)&&(et.excludedIds=[et.excludedIds,es].filter(Boolean).join(",")),ev.state.isAuth&&(et.sdks="auth_v1");let{page:eo,search:ea}=ee,{listings:ec,total:el}=eB?await eI.getMobileListings(et):await eI.getDesktopListings(et),eu=Object.values(ec),ed=ea?"search":"wallets";return eP[ed]={listings:[...eP[ed].listings,...eu],total:el,page:eo??1},{listings:eu,total:el}},async getInjectedWallets(){let{listings:ee}=await eI.getInjectedListings({}),et=Object.values(ee);return eP.injectedWallets=et,eP.injectedWallets},getWalletImageUrl:ee=>eI.getWalletImageUrl(ee),getAssetImageUrl:ee=>eI.getAssetImageUrl(ee),resetSearch(){eP.search={listings:[],total:0,page:1}}},eC=proxy({pairingUri:"",pairingError:!1}),eU={state:eC,subscribe:ee=>subscribe(eC,()=>ee(eC)),setPairingUri(ee){eC.pairingUri=ee},setPairingError(ee){eC.pairingError=ee}},eL=proxy({open:!1}),ej={state:eL,subscribe:ee=>subscribe(eL,()=>ee(eL)),open:async ee=>new Promise(et=>{let{isStandalone:ei,isUiLoaded:es,isDataLoaded:en,isPreferInjected:eo,selectedChain:ea}=ev.state,{isConnected:ec}=eE.state,{enableNetworkView:el}=ex.state;if(ei)ev.setStandaloneUri(ee?.uri),ev.setStandaloneChains(ee?.standaloneChains),ef.reset("ConnectWallet");else if(null!=ee&&ee.route)ef.reset(ee.route);else if(ec)ef.reset("Account");else if(el)ef.reset("SelectNetwork");else if(eo){eh.client().connectConnector("injected",ea?.id).catch(ee=>console.error(ee)),et();return}else ef.reset("ConnectWallet");let{pairingUri:eu}=eU.state;if(es&&en&&(ei||eu||ec))eL.open=!0,et();else{let ee=setInterval(()=>{let ei=ev.state,es=eU.state;ei.isUiLoaded&&ei.isDataLoaded&&(ei.isStandalone||es.pairingUri||ec)&&(clearInterval(ee),eL.open=!0,et())},200)}}),close(){eL.open=!1}};var eN=Object.defineProperty,eM=Object.getOwnPropertySymbols,e$=Object.prototype.hasOwnProperty,eF=Object.prototype.propertyIsEnumerable,R=(ee,et,ei)=>et in ee?eN(ee,et,{enumerable:!0,configurable:!0,writable:!0,value:ei}):ee[et]=ei,Y=(ee,et)=>{for(var ei in et||(et={}))e$.call(et,ei)&&R(ee,ei,et[ei]);if(eM)for(var ei of eM(et))eF.call(et,ei)&&R(ee,ei,et[ei]);return ee};let ez=proxy({themeMode:"u">typeof matchMedia&&matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}),eK={state:ez,subscribe:ee=>subscribe(ez,()=>ee(ez)),setThemeConfig(ee){let{themeMode:et,themeVariables:ei}=ee;et&&(ez.themeMode=et),ei&&(ez.themeVariables=Y({},ei))}},eH=proxy({open:!1,message:"",variant:"success"}),eV={state:eH,subscribe:ee=>subscribe(eH,()=>ee(eH)),openToast(ee,et){eH.open=!0,eH.message=ee,eH.variant=et},closeToast(){eH.open=!1}};"u">typeof window&&(window.Buffer||(window.Buffer=ed.Buffer),window.global||(window.global=window),window.process||(window.process={env:{}}))},64599:function(ee,et,ei){"use strict";ei.d(et,{E:function(){return f}});var es=ei(40471),en=Object.defineProperty,eo=Object.getOwnPropertySymbols,ea=Object.prototype.hasOwnProperty,ec=Object.prototype.propertyIsEnumerable,a=(ee,et,ei)=>et in ee?en(ee,et,{enumerable:!0,configurable:!0,writable:!0,value:ei}):ee[et]=ei,m=(ee,et)=>{for(var ei in et||(et={}))ea.call(et,ei)&&a(ee,ei,et[ei]);if(eo)for(var ei of eo(et))ec.call(et,ei)&&a(ee,ei,et[ei]);return ee};let f=class f{constructor(ee){this.openModal=es.jb.open,this.closeModal=es.jb.close,this.subscribeModal=es.jb.subscribe,this.setTheme=es.ThemeCtrl.setThemeConfig,es.ThemeCtrl.setThemeConfig(ee),es.ConfigCtrl.setConfig(m({enableStandaloneMode:!0},ee)),this.initUi()}async initUi(){if("u">typeof window){await ei.e(7096).then(ei.bind(ei,57096));let ee=document.createElement("w3m-modal");document.body.insertAdjacentElement("beforeend",ee),es.OptionsCtrl.setIsUiLoaded(!0)}}}},91835:function(ee,et,ei){"use strict";ei.d(et,{gh:function(){return e9}});var es={};ei.r(es),ei.d(es,{identity:function(){return eb}});var en={};ei.r(en),ei.d(en,{base2:function(){return e_}});var eo={};ei.r(eo),ei.d(eo,{base8:function(){return ev}});var ea={};ei.r(ea),ei.d(ea,{base10:function(){return ew}});var ec={};ei.r(ec),ei.d(ec,{base16:function(){return ex},base16upper:function(){return eS}});var el={};ei.r(el),ei.d(el,{base32:function(){return eE},base32hex:function(){return eR},base32hexpad:function(){return ek},base32hexpadupper:function(){return eB},base32hexupper:function(){return eD},base32pad:function(){return eI},base32padupper:function(){return eT},base32upper:function(){return eA},base32z:function(){return eP}});var eu={};ei.r(eu),ei.d(eu,{base36:function(){return eO},base36upper:function(){return eC}});var ed={};ei.r(ed),ei.d(ed,{base58btc:function(){return eU},base58flickr:function(){return eL}});var eh={};ei.r(eh),ei.d(eh,{base64:function(){return ej},base64pad:function(){return eN},base64url:function(){return eM},base64urlpad:function(){return e$}});var ep={};ei.r(ep),ei.d(ep,{base256emoji:function(){return eH}});var ef={};ei.r(ef),ei.d(ef,{sha256:function(){return eW},sha512:function(){return eJ}});var eg={};ei.r(eg),ei.d(eg,{identity:function(){return eG}});var em={};ei.r(em),ei.d(em,{code:function(){return eQ},decode:function(){return raw_decode},encode:function(){return raw_encode},name:function(){return eY}});var ey={};ei.r(ey),ei.d(ey,{code:function(){return e1},decode:function(){return json_decode},encode:function(){return json_encode},name:function(){return e0}});var base_x=function(ee,et){if(ee.length>=255)throw TypeError("Alphabet too long");for(var ei=new Uint8Array(256),es=0;es<ei.length;es++)ei[es]=255;for(var en=0;en<ee.length;en++){var eo=ee.charAt(en),ea=eo.charCodeAt(0);if(255!==ei[ea])throw TypeError(eo+" is ambiguous");ei[ea]=en}var ec=ee.length,el=ee.charAt(0),eu=Math.log(ec)/Math.log(256),ed=Math.log(256)/Math.log(ec);function decodeUnsafe(ee){if("string"!=typeof ee)throw TypeError("Expected String");if(0===ee.length)return new Uint8Array;var et=0;if(" "!==ee[0]){for(var es=0,en=0;ee[et]===el;)es++,et++;for(var eo=(ee.length-et)*eu+1>>>0,ea=new Uint8Array(eo);ee[et];){var ed=ei[ee.charCodeAt(et)];if(255===ed)return;for(var eh=0,ep=eo-1;(0!==ed||eh<en)&&-1!==ep;ep--,eh++)ed+=ec*ea[ep]>>>0,ea[ep]=ed%256>>>0,ed=ed/256>>>0;if(0!==ed)throw Error("Non-zero carry");en=eh,et++}if(" "!==ee[et]){for(var ef=eo-en;ef!==eo&&0===ea[ef];)ef++;for(var eg=new Uint8Array(es+(eo-ef)),em=es;ef!==eo;)eg[em++]=ea[ef++];return eg}}}return{encode:function(et){if(et instanceof Uint8Array||(ArrayBuffer.isView(et)?et=new Uint8Array(et.buffer,et.byteOffset,et.byteLength):Array.isArray(et)&&(et=Uint8Array.from(et))),!(et instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===et.length)return"";for(var ei=0,es=0,en=0,eo=et.length;en!==eo&&0===et[en];)en++,ei++;for(var ea=(eo-en)*ed+1>>>0,eu=new Uint8Array(ea);en!==eo;){for(var eh=et[en],ep=0,ef=ea-1;(0!==eh||ep<es)&&-1!==ef;ef--,ep++)eh+=256*eu[ef]>>>0,eu[ef]=eh%ec>>>0,eh=eh/ec>>>0;if(0!==eh)throw Error("Non-zero carry");es=ep,en++}for(var eg=ea-es;eg!==ea&&0===eu[eg];)eg++;for(var em=el.repeat(ei);eg<ea;++eg)em+=ee.charAt(eu[eg]);return em},decodeUnsafe:decodeUnsafe,decode:function(ee){var ei=decodeUnsafe(ee);if(ei)return ei;throw Error(`Non-${et} character`)}}};new Uint8Array(0);let equals=(ee,et)=>{if(ee===et)return!0;if(ee.byteLength!==et.byteLength)return!1;for(let ei=0;ei<ee.byteLength;ei++)if(ee[ei]!==et[ei])return!1;return!0},coerce=ee=>{if(ee instanceof Uint8Array&&"Uint8Array"===ee.constructor.name)return ee;if(ee instanceof ArrayBuffer)return new Uint8Array(ee);if(ArrayBuffer.isView(ee))return new Uint8Array(ee.buffer,ee.byteOffset,ee.byteLength);throw Error("Unknown type, must be binary type")},fromString=ee=>new TextEncoder().encode(ee),bytes_toString=ee=>new TextDecoder().decode(ee);let Encoder=class Encoder{constructor(ee,et,ei){this.name=ee,this.prefix=et,this.baseEncode=ei}encode(ee){if(ee instanceof Uint8Array)return`${this.prefix}${this.baseEncode(ee)}`;throw Error("Unknown type, must be binary type")}};let Decoder=class Decoder{constructor(ee,et,ei){if(this.name=ee,this.prefix=et,void 0===et.codePointAt(0))throw Error("Invalid prefix character");this.prefixCodePoint=et.codePointAt(0),this.baseDecode=ei}decode(ee){if("string"==typeof ee){if(ee.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(ee)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(ee.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(ee){return or(this,ee)}};let ComposedDecoder=class ComposedDecoder{constructor(ee){this.decoders=ee}or(ee){return or(this,ee)}decode(ee){let et=ee[0],ei=this.decoders[et];if(ei)return ei.decode(ee);throw RangeError(`Unable to decode multibase string ${JSON.stringify(ee)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};let or=(ee,et)=>new ComposedDecoder({...ee.decoders||{[ee.prefix]:ee},...et.decoders||{[et.prefix]:et}});let Codec=class Codec{constructor(ee,et,ei,es){this.name=ee,this.prefix=et,this.baseEncode=ei,this.baseDecode=es,this.encoder=new Encoder(ee,et,ei),this.decoder=new Decoder(ee,et,es)}encode(ee){return this.encoder.encode(ee)}decode(ee){return this.decoder.decode(ee)}};let from=({name:ee,prefix:et,encode:ei,decode:es})=>new Codec(ee,et,ei,es),baseX=({prefix:ee,name:et,alphabet:ei})=>{let{encode:es,decode:en}=base_x(ei,et);return from({prefix:ee,name:et,encode:es,decode:ee=>coerce(en(ee))})},decode=(ee,et,ei,es)=>{let en={};for(let ee=0;ee<et.length;++ee)en[et[ee]]=ee;let eo=ee.length;for(;"="===ee[eo-1];)--eo;let ea=new Uint8Array(eo*ei/8|0),ec=0,el=0,eu=0;for(let et=0;et<eo;++et){let eo=en[ee[et]];if(void 0===eo)throw SyntaxError(`Non-${es} character`);el=el<<ei|eo,(ec+=ei)>=8&&(ec-=8,ea[eu++]=255&el>>ec)}if(ec>=ei||255&el<<8-ec)throw SyntaxError("Unexpected end of data");return ea},encode=(ee,et,ei)=>{let es="="===et[et.length-1],en=(1<<ei)-1,eo="",ea=0,ec=0;for(let es=0;es<ee.length;++es)for(ec=ec<<8|ee[es],ea+=8;ea>ei;)ea-=ei,eo+=et[en&ec>>ea];if(ea&&(eo+=et[en&ec<<ei-ea]),es)for(;eo.length*ei&7;)eo+="=";return eo},rfc4648=({name:ee,prefix:et,bitsPerChar:ei,alphabet:es})=>from({prefix:et,name:ee,encode:ee=>encode(ee,es,ei),decode:et=>decode(et,es,ei,ee)}),eb=from({prefix:"\x00",name:"identity",encode:ee=>bytes_toString(ee),decode:ee=>fromString(ee)}),e_=rfc4648({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),ev=rfc4648({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),ew=baseX({prefix:"9",name:"base10",alphabet:"0123456789"}),ex=rfc4648({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),eS=rfc4648({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),eE=rfc4648({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),eA=rfc4648({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),eI=rfc4648({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),eT=rfc4648({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),eR=rfc4648({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),eD=rfc4648({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),ek=rfc4648({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),eB=rfc4648({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),eP=rfc4648({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),eO=baseX({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),eC=baseX({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),eU=baseX({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),eL=baseX({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),ej=rfc4648({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),eN=rfc4648({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),eM=rfc4648({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),e$=rfc4648({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),eF=Array.from("\uD83D\uDE80\uD83E\uDE90\uD83D\uDEF0\uD83C\uDF0C\uD83C\uDF11\uD83C\uDF12\uD83C\uDF13\uD83C\uDF14\uD83C\uDF15\uD83C\uDF16\uD83C\uDF17\uD83C\uDF18\uD83C\uDF0D\uD83C\uDF0F\uD83C\uDF0E\uD83D\uDC09\uD83D\uDCBB\uD83D\uDDA5\uD83D\uDCBE\uD83D\uDCBF\uD83D\uDE02\uD83D\uDE0D\uD83E\uDD23\uD83D\uDE0A\uD83D\uDE4F\uD83D\uDC95\uD83D\uDE2D\uD83D\uDE18\uD83D\uDC4D\uD83D\uDE05\uD83D\uDC4F\uD83D\uDE01\uD83D\uDD25\uD83E\uDD70\uD83D\uDC94\uD83D\uDC96\uD83D\uDC99\uD83D\uDE22\uD83E\uDD14\uD83D\uDE06\uD83D\uDE44\uD83D\uDCAA\uD83D\uDE09\uD83D\uDC4C\uD83E\uDD17\uD83D\uDC9C\uD83D\uDE14\uD83D\uDE0E\uD83D\uDE07\uD83C\uDF39\uD83E\uDD26\uD83C\uDF89\uD83D\uDC9E\uD83E\uDD37\uD83D\uDE31\uD83D\uDE0C\uD83C\uDF38\uD83D\uDE4C\uD83D\uDE0B\uD83D\uDC97\uD83D\uDC9A\uD83D\uDE0F\uD83D\uDC9B\uD83D\uDE42\uD83D\uDC93\uD83E\uDD29\uD83D\uDE04\uD83D\uDE00\uD83D\uDDA4\uD83D\uDE03\uD83D\uDCAF\uD83D\uDE48\uD83D\uDC47\uD83C\uDFB6\uD83D\uDE12\uD83E\uDD2D\uD83D\uDE1C\uD83D\uDC8B\uD83D\uDC40\uD83D\uDE2A\uD83D\uDE11\uD83D\uDCA5\uD83D\uDE4B\uD83D\uDE1E\uD83D\uDE29\uD83D\uDE21\uD83E\uDD2A\uD83D\uDC4A\uD83E\uDD73\uD83D\uDE25\uD83E\uDD24\uD83D\uDC49\uD83D\uDC83\uD83D\uDE33\uD83D\uDE1A\uD83D\uDE1D\uD83D\uDE34\uD83C\uDF1F\uD83D\uDE2C\uD83D\uDE43\uD83C\uDF40\uD83C\uDF37\uD83D\uDE3B\uD83D\uDE13\uD83E\uDD7A\uD83C\uDF08\uD83D\uDE08\uD83E\uDD18\uD83D\uDCA6\uD83D\uDE23\uD83C\uDFC3\uD83D\uDC90\uD83C\uDF8A\uD83D\uDC98\uD83D\uDE20\uD83D\uDE15\uD83C\uDF3A\uD83C\uDF82\uD83C\uDF3B\uD83D\uDE10\uD83D\uDD95\uD83D\uDC9D\uD83D\uDE4A\uD83D\uDE39\uD83D\uDDE3\uD83D\uDCAB\uD83D\uDC80\uD83D\uDC51\uD83C\uDFB5\uD83E\uDD1E\uD83D\uDE1B\uD83D\uDD34\uD83D\uDE24\uD83C\uDF3C\uD83D\uDE2B\uD83E\uDD19\uD83C\uDFC6\uD83E\uDD2B\uD83D\uDC48\uD83D\uDE2E\uD83D\uDE46\uD83C\uDF7B\uD83C\uDF43\uD83D\uDC36\uD83D\uDC81\uD83D\uDE32\uD83C\uDF3F\uD83E\uDDE1\uD83C\uDF81\uD83C\uDF1E\uD83C\uDF88\uD83D\uDC4B\uD83D\uDE30\uD83E\uDD28\uD83D\uDE36\uD83E\uDD1D\uD83D\uDEB6\uD83D\uDCB0\uD83C\uDF53\uD83D\uDCA2\uD83E\uDD1F\uD83D\uDE41\uD83D\uDEA8\uD83D\uDCA8\uD83E\uDD2C\uD83C\uDF80\uD83C\uDF7A\uD83E\uDD13\uD83D\uDE19\uD83D\uDC9F\uD83C\uDF31\uD83D\uDE16\uD83D\uDC76\uD83E\uDD74\uD83D\uDC8E\uD83D\uDCB8\uD83D\uDE28\uD83C\uDF1A\uD83E\uDD8B\uD83D\uDE37\uD83D\uDD7A\uD83D\uDE45\uD83D\uDE1F\uD83D\uDE35\uD83D\uDC4E\uD83E\uDD32\uD83E\uDD20\uD83E\uDD27\uD83D\uDCCC\uD83D\uDD35\uD83D\uDC85\uD83E\uDDD0\uD83D\uDC3E\uD83C\uDF52\uD83D\uDE17\uD83E\uDD11\uD83C\uDF0A\uD83E\uDD2F\uD83D\uDC37\uD83D\uDCA7\uD83D\uDE2F\uD83D\uDC86\uD83D\uDC46\uD83C\uDFA4\uD83D\uDE47\uD83C\uDF51\uD83C\uDF34\uD83D\uDCA3\uD83D\uDC38\uD83D\uDC8C\uD83D\uDCCD\uD83E\uDD40\uD83E\uDD22\uD83D\uDC45\uD83D\uDCA1\uD83D\uDCA9\uD83D\uDC50\uD83D\uDCF8\uD83D\uDC7B\uD83E\uDD10\uD83E\uDD2E\uD83C\uDFBC\uD83E\uDD75\uD83D\uDEA9\uD83C\uDF4E\uD83C\uDF4A\uD83D\uDC7C\uD83D\uDC8D\uD83D\uDCE3\uD83E\uDD42"),ez=eF.reduce((ee,et,ei)=>(ee[ei]=et,ee),[]),eK=eF.reduce((ee,et,ei)=>(ee[et.codePointAt(0)]=ei,ee),[]),eH=from({prefix:"\uD83D\uDE80",name:"base256emoji",encode:function(ee){return ee.reduce((ee,et)=>ee+=ez[et],"")},decode:function(ee){let et=[];for(let ei of ee){let ee=eK[ei.codePointAt(0)];if(void 0===ee)throw Error(`Non-base256emoji character: ${ei}`);et.push(ee)}return new Uint8Array(et)}});function varint_encode(ee,et,ei){et=et||[];for(var es=ei=ei||0;ee>=2147483648;)et[ei++]=255&ee|128,ee/=128;for(;-128&ee;)et[ei++]=255&ee|128,ee>>>=7;return et[ei]=0|ee,varint_encode.bytes=ei-es+1,et}function read(ee,et){var ei,es=0,et=et||0,en=0,eo=et,ea=ee.length;do{if(eo>=ea)throw read.bytes=0,RangeError("Could not decode varint");ei=ee[eo++],es+=en<28?(127&ei)<<en:(127&ei)*Math.pow(2,en),en+=7}while(ei>=128);return read.bytes=eo-et,es}var eV={encode:varint_encode,decode:read,encodingLength:function(ee){return ee<128?1:ee<16384?2:ee<2097152?3:ee<268435456?4:ee<34359738368?5:ee<4398046511104?6:ee<562949953421312?7:ee<72057594037927940?8:ee<0x7fffffffffffffff?9:10}};let src_varint_decode=(ee,et=0)=>{let ei=eV.decode(ee,et);return[ei,eV.decode.bytes]},encodeTo=(ee,et,ei=0)=>(eV.encode(ee,et,ei),et),encodingLength=ee=>eV.encodingLength(ee),create=(ee,et)=>{let ei=et.byteLength,es=encodingLength(ee),en=es+encodingLength(ei),eo=new Uint8Array(en+ei);return encodeTo(ee,eo,0),encodeTo(ei,eo,es),eo.set(et,en),new Digest(ee,ei,et,eo)},digest_decode=ee=>{let et=coerce(ee),[ei,es]=src_varint_decode(et),[en,eo]=src_varint_decode(et.subarray(es)),ea=et.subarray(es+eo);if(ea.byteLength!==en)throw Error("Incorrect length");return new Digest(ei,en,ea,et)},digest_equals=(ee,et)=>ee===et||ee.code===et.code&&ee.size===et.size&&equals(ee.bytes,et.bytes);let Digest=class Digest{constructor(ee,et,ei,es){this.code=ee,this.size=et,this.digest=ei,this.bytes=es}};let hasher_from=({name:ee,code:et,encode:ei})=>new Hasher(ee,et,ei);let Hasher=class Hasher{constructor(ee,et,ei){this.name=ee,this.code=et,this.encode=ei}digest(ee){if(ee instanceof Uint8Array){let et=this.encode(ee);return et instanceof Uint8Array?create(this.code,et):et.then(ee=>create(this.code,ee))}throw Error("Unknown type, must be binary type")}};let sha=ee=>async et=>new Uint8Array(await crypto.subtle.digest(ee,et)),eW=hasher_from({name:"sha2-256",code:18,encode:sha("SHA-256")}),eJ=hasher_from({name:"sha2-512",code:19,encode:sha("SHA-512")}),eG={code:0,name:"identity",encode:coerce,digest:ee=>create(0,coerce(ee))},eY="raw",eQ=85,raw_encode=ee=>coerce(ee),raw_decode=ee=>coerce(ee),eZ=new TextEncoder,eX=new TextDecoder,e0="json",e1=512,json_encode=ee=>eZ.encode(JSON.stringify(ee)),json_decode=ee=>JSON.parse(eX.decode(ee));let CID=class CID{constructor(ee,et,ei,es){this.code=et,this.version=ee,this.multihash=ei,this.bytes=es,this.byteOffset=es.byteOffset,this.byteLength=es.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:e8,byteLength:e8,code:e3,version:e3,multihash:e3,bytes:e3,_baseCache:e8,asCID:e8})}toV0(){if(0===this.version)return this;{let{code:ee,multihash:et}=this;if(ee!==e5)throw Error("Cannot convert a non dag-pb CID to CIDv0");if(et.code!==e2)throw Error("Cannot convert non sha2-256 multihash CID to CIDv0");return CID.createV0(et)}}toV1(){switch(this.version){case 0:{let{code:ee,digest:et}=this.multihash,ei=create(ee,et);return CID.createV1(this.code,ei)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(ee){return ee&&this.code===ee.code&&this.version===ee.version&&digest_equals(this.multihash,ee.multihash)}toString(ee){let{bytes:et,version:ei,_baseCache:es}=this;return 0===ei?toStringV0(et,es,ee||eU.encoder):toStringV1(et,es,ee||eE.encoder)}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(ee){return deprecate(/^0\.0/,e4),!!(ee&&(ee[e6]||ee.asCID===ee))}get toBaseEncodedString(){throw Error("Deprecated, use .toString()")}get codec(){throw Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw Error('"multibaseName" property is deprecated')}get prefix(){throw Error('"prefix" property is deprecated')}static asCID(ee){if(ee instanceof CID)return ee;if(null!=ee&&ee.asCID===ee){let{version:et,code:ei,multihash:es,bytes:en}=ee;return new CID(et,ei,es,en||encodeCID(et,ei,es.bytes))}if(null==ee||!0!==ee[e6])return null;{let{version:et,multihash:ei,code:es}=ee,en=digest_decode(ei);return CID.create(et,es,en)}}static create(ee,et,ei){if("number"!=typeof et)throw Error("String codecs are no longer supported");switch(ee){case 0:if(et===e5)return new CID(ee,et,ei,ei.bytes);throw Error(`Version 0 CID must use dag-pb (code: ${e5}) block encoding`);case 1:{let es=encodeCID(ee,et,ei.bytes);return new CID(ee,et,ei,es)}default:throw Error("Invalid version")}}static createV0(ee){return CID.create(0,e5,ee)}static createV1(ee,et){return CID.create(1,ee,et)}static decode(ee){let[et,ei]=CID.decodeFirst(ee);if(ei.length)throw Error("Incorrect length");return et}static decodeFirst(ee){let et=CID.inspectBytes(ee),ei=et.size-et.multihashSize,es=coerce(ee.subarray(ei,ei+et.multihashSize));if(es.byteLength!==et.multihashSize)throw Error("Incorrect length");let en=es.subarray(et.multihashSize-et.digestSize),eo=new Digest(et.multihashCode,et.digestSize,en,es),ea=0===et.version?CID.createV0(eo):CID.createV1(et.codec,eo);return[ea,ee.subarray(et.size)]}static inspectBytes(ee){let et=0,next=()=>{let[ei,es]=src_varint_decode(ee.subarray(et));return et+=es,ei},ei=next(),es=e5;if(18===ei?(ei=0,et=0):1===ei&&(es=next()),0!==ei&&1!==ei)throw RangeError(`Invalid CID version ${ei}`);let en=et,eo=next(),ea=next(),ec=et+ea;return{version:ei,codec:es,multihashCode:eo,digestSize:ea,multihashSize:ec-en,size:ec}}static parse(ee,et){let[ei,es]=parseCIDtoBytes(ee,et),en=CID.decode(es);return en._baseCache.set(ei,ee),en}};let parseCIDtoBytes=(ee,et)=>{switch(ee[0]){case"Q":return[eU.prefix,(et||eU).decode(`${eU.prefix}${ee}`)];case eU.prefix:return[eU.prefix,(et||eU).decode(ee)];case eE.prefix:return[eE.prefix,(et||eE).decode(ee)];default:if(null==et)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[ee[0],et.decode(ee)]}},toStringV0=(ee,et,ei)=>{let{prefix:es}=ei;if(es!==eU.prefix)throw Error(`Cannot string encode V0 in ${ei.name} encoding`);let en=et.get(es);if(null!=en)return en;{let en=ei.encode(ee).slice(1);return et.set(es,en),en}},toStringV1=(ee,et,ei)=>{let{prefix:es}=ei,en=et.get(es);if(null!=en)return en;{let en=ei.encode(ee);return et.set(es,en),en}},e5=112,e2=18,encodeCID=(ee,et,ei)=>{let es=encodingLength(ee),en=es+encodingLength(et),eo=new Uint8Array(en+ei.byteLength);return encodeTo(ee,eo,0),encodeTo(et,eo,es),eo.set(ei,en),eo},e6=Symbol.for("@ipld/js-cid/CID"),e3={writable:!1,configurable:!1,enumerable:!0},e8={writable:!1,enumerable:!1,configurable:!1},deprecate=(ee,et)=>{if(ee.test("0.0.0-dev"))console.warn(et);else throw Error(et)},e4=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`,e9={...es,...en,...eo,...ea,...ec,...el,...eu,...ed,...eh,...ep};({...ef,...eg})},94622:function(ee,et,ei){"use strict";function allocUnsafe(ee=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?globalThis.Buffer.allocUnsafe(ee):new Uint8Array(ee)}function concat(ee,et){et||(et=ee.reduce((ee,et)=>ee+et.length,0));let ei=allocUnsafe(et),es=0;for(let et of ee)ei.set(et,es),es+=et.length;return ei}ei.d(et,{zo:function(){return concat},mL:function(){return fromString},BB:function(){return to_string_toString}});var es=ei(91835);function createCodec(ee,et,ei,es){return{name:ee,prefix:et,encoder:{name:ee,prefix:et,encode:ei},decoder:{decode:es}}}let en=createCodec("utf8","u",ee=>{let et=new TextDecoder("utf8");return"u"+et.decode(ee)},ee=>{let et=new TextEncoder;return et.encode(ee.substring(1))}),eo=createCodec("ascii","a",ee=>{let et="a";for(let ei=0;ei<ee.length;ei++)et+=String.fromCharCode(ee[ei]);return et},ee=>{ee=ee.substring(1);let et=allocUnsafe(ee.length);for(let ei=0;ei<ee.length;ei++)et[ei]=ee.charCodeAt(ei);return et}),ea={utf8:en,"utf-8":en,hex:es.gh.base16,latin1:eo,ascii:eo,binary:eo,...es.gh};function fromString(ee,et="utf8"){let ei=ea[et];if(!ei)throw Error(`Unsupported encoding "${et}"`);return("utf8"===et||"utf-8"===et)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?globalThis.Buffer.from(ee,"utf8"):ei.decoder.decode(`${ei.prefix}${ee}`)}function to_string_toString(ee,et="utf8"){let ei=ea[et];if(!ei)throw Error(`Unsupported encoding "${et}"`);return("utf8"===et||"utf-8"===et)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?globalThis.Buffer.from(ee.buffer,ee.byteOffset,ee.byteLength).toString("utf8"):ei.encoder.encode(ee).substring(1)}}}]);
//# sourceMappingURL=7637.07bd5006f305d4cf.js.map