(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3020],{50615:function(e,t,n){"use strict";n.d(t,{Z:function(){return InfoLayout}});var i=n(85893),s=n(51731);function InfoLayout(e){let{title:t,children:n}=e;return(0,i.jsxs)(s.Zb,{children:[t&&(0,i.jsx)(s.Ol,{className:"font-medium",children:t}),(0,i.jsx)(s.aY,{className:"flex flex-col flex-wrap gap-3 break-all",children:n})]})}},51223:function(e,t,n){"use strict";n.d(t,{F:function(){return i}});let i=[{name:"Osmosis",url:"https://app.osmosis.zone/"},{name:"JunoSwap",url:"https://junoswap.com/"}]},49868:function(e,t,n){"use strict";n.a(e,async function(e,i){try{n.r(t),n.d(t,{ChildComponent:function(){return ChildComponent},default:function(){return Demo}});var s=n(85893),a=n(51223),o=n(6912),l=n(67294),r=n(66409),d=n(73784),c=n(25677),u=n(17656),f=n(43720),b=n.n(f),m=n(99710),v=n(23225),g=n(6793),p=n(50615),x=n(76749),y=n(85318),h=n(96544),w=n(9663);n(67317);var j=n(15640),P=n(57208),C=n(40293),S=n(44174),N=n(48764).Buffer,I=e([S]);function Example(){var e,t,n,i,f,w,I,W,E,k,A,O,B;let J=(0,c.a4)(),q=(0,c.TR)(),T=(0,c.xD)();T.isConnected,(0,c.Mm)();let D=(0,c.TY)();console.log("providers",D);let M=null!==(A=D.bitcoinProvider)&&void 0!==A?A:void 0,Z=null!==(O=D.cosmosProvider)&&void 0!==O?O:void 0;console.log("providerBitcoin",M),console.log("providerCosmos",Z);let V=(0,l.useRef)([{uuid:"bitcoin",name:"BTC",inject:"bitcoin"},{uuid:"cosmos",name:"Cosmos",inject:"cosmos"}]),{setProvider:F,setAccount:_,account:H}=(0,v.O)(),z=(0,l.useCallback)(async e=>{var t;let n;let i=null===(t=V.current)||void 0===t?void 0:t.find(t=>t.uuid===e.id);if(!i)return Promise.reject("Wallet not found");let s=await J.open(i.inject);console.log("xxxx",s);let a=s.walletState.isConnected;if(s.walletState.cosmos.connected&&(n=s.walletState.cosmos.address),s.walletState.bitcoin.connected&&(n=s.walletState.bitcoin.address),a&&!n){(0,h.Am)({title:"Wallet not found",description:"Please install the wallet extension"});return}return{provider:i.inject,address:null!=n?n:""}},[J]);return(0,l.useEffect)(()=>{var e,t;(null==T?void 0:null===(e=T.cosmos)||void 0===e?void 0:e.connected)&&(F("cosmos"),_({address:T.cosmos.address,chainId:T.cosmos.chainId.toString()})),(null==T?void 0:null===(t=T.bitcoin)||void 0===t?void 0:t.connected)&&(F("bitcoin"),_({address:T.bitcoin.address,chainId:T.bitcoin.chainId.toString()}))},[_,F,T]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(p.Z,{title:"Base Info",children:(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{children:["btc network: ",null==T?void 0:null===(e=T.bitcoin)||void 0===e?void 0:e.network]}),(0,s.jsxs)("p",{children:["btc address: ",null==T?void 0:null===(t=T.bitcoin)||void 0===t?void 0:t.address]}),(0,s.jsxs)("p",{children:["btc chainId: ",null==T?void 0:null===(n=T.bitcoin)||void 0===n?void 0:n.chainId]}),(0,s.jsxs)("p",{children:["btc chainType: ",null==T?void 0:null===(i=T.bitcoin)||void 0===i?void 0:i.chainType]}),(0,s.jsxs)("p",{children:["btc walletId: ",null==T?void 0:null===(f=T.bitcoin)||void 0===f?void 0:f.walletId]}),(0,s.jsx)("br",{}),(0,s.jsxs)("p",{children:["cosmos network: ",null==T?void 0:null===(w=T.cosmos)||void 0===w?void 0:w.network]}),(0,s.jsxs)("p",{children:["cosmos address: ",null==T?void 0:null===(I=T.cosmos)||void 0===I?void 0:I.address]}),(0,s.jsxs)("p",{children:["cosmos chainId: ",null==T?void 0:null===(W=T.cosmos)||void 0===W?void 0:W.chainId]}),(0,s.jsxs)("p",{children:["cosmos chainType: ",null==T?void 0:null===(E=T.cosmos)||void 0===E?void 0:E.chainType]}),(0,s.jsxs)("p",{children:["cosmos walletId: ",null==T?void 0:null===(k=T.cosmos)||void 0===k?void 0:k.walletId]})]})}),(0,s.jsx)(o.Z,{fetchWallets:()=>Promise.resolve(V.current.map(e=>({id:e.uuid,name:e.inject?e.name:"".concat(e.name)}))),onConnect:z,onDisconnect:q.disconnect}),(0,s.jsxs)(m.s,{title:"BTC Basics",children:[(0,s.jsx)(m.u,{title:"connectWallet",description:"connectWallet",allowCallWithoutProvider:!!M,onExecute:async e=>{let t=await (null==M?void 0:M.connectWallet());return JSON.stringify(t)}}),(0,s.jsx)(m.u,{title:"getKey",description:"获取账户权限",allowCallWithoutProvider:!!M,onExecute:async e=>await (null==M?void 0:M.getPublicKeyHex())}),(0,s.jsx)(m.u,{title:"getAddress",description:"获取账户地址",allowCallWithoutProvider:!!M,onExecute:async e=>await (null==M?void 0:M.getAddress())}),(0,s.jsx)(m.u,{title:"getNetwork",description:"获取账户网络",allowCallWithoutProvider:!!M,onExecute:async e=>await (null==M?void 0:M.getNetwork())}),(0,s.jsx)(m.u,{title:"getNetworkFees",description:"获取网络费用",allowCallWithoutProvider:!!M,onExecute:async e=>await (null==M?void 0:M.getNetworkFees())}),(0,s.jsx)(m.u,{title:"getWalletProviderName",description:"获取钱包提供者名称",allowCallWithoutProvider:!!M,onExecute:async e=>await (null==M?void 0:M.getWalletProviderName())}),(0,s.jsx)(m.u,{title:"getWalletProviderIcon",description:"获取钱包提供者图标",allowCallWithoutProvider:!!M,onExecute:async e=>await (null==M?void 0:M.getWalletProviderIcon())})]}),(0,s.jsxs)(m.s,{title:"Cosmos Basics",children:[(0,s.jsx)(m.u,{title:"connectWallet",description:"connectWallet",allowCallWithoutProvider:!!Z,onExecute:async e=>{let t=await (null==Z?void 0:Z.connectWallet());return JSON.stringify(t)}}),(0,s.jsx)(m.u,{title:"getKey",description:"获取账户权限",allowCallWithoutProvider:!!Z,onExecute:async e=>await (null==Z?void 0:Z.getPublicKeyHex())}),(0,s.jsx)(m.u,{title:"getAddress",description:"获取账户地址",allowCallWithoutProvider:!!Z,onExecute:async e=>await (null==Z?void 0:Z.getAddress())}),(0,s.jsx)(m.u,{title:"getNetwork",description:"获取账户网络",allowCallWithoutProvider:!!Z,onExecute:async e=>await (null==Z?void 0:Z.getNetwork())}),(0,s.jsx)(m.u,{title:"getWalletProviderName",description:"获取钱包提供者名称",allowCallWithoutProvider:!!Z,onExecute:async e=>await (null==Z?void 0:Z.getWalletProviderName())}),(0,s.jsx)(m.u,{title:"getWalletProviderIcon",description:"获取钱包提供者图标",allowCallWithoutProvider:!!Z,onExecute:async e=>await (null==Z?void 0:Z.getWalletProviderIcon())})]}),(0,s.jsxs)(m.s,{title:"BTC Sign Message",children:[(0,s.jsx)(m.u,{title:"SignMessage",description:"签名消息",presupposeParams:y.Z.signMessage,allowCallWithoutProvider:!!M,onExecute:async e=>{let t=JSON.parse(e),n=await (null==M?void 0:M.signMessage(t.msg,t.type));return n},onValidate:async(e,t)=>{let n=JSON.parse(e),i=await (null==M?void 0:M.getPublicKeyHex());return n.type&&"ecdsa"!==n.type?"bip322-simple"===n.type?P.Verifier.verifySignature(H.address,n.msg,t):"Dapp Example: 不支持的类型签字的验证":(0,j.n)(i,n.msg,t)}}),(0,s.jsx)(m.u,{title:"SignMessageBIP322",description:"签名消息 BIP322",presupposeParams:y.Z.signMessageBip322,allowCallWithoutProvider:!!M,onExecute:async e=>{let t=await (null==M?void 0:M.signMessageBIP322(e));return t},onValidate:async(e,t)=>Promise.resolve(P.Verifier.verifySignature(H.address,e,t))})]}),(0,s.jsxs)(m.s,{title:"BTC Transaction",children:[(0,s.jsx)(m.u,{title:"SendBitcoin",description:"发送交易",allowCallWithoutProvider:!!M,presupposeParams:y.Z.sendBitcoin(null!==(B=null==H?void 0:H.address)&&void 0!==B?B:""),onExecute:async e=>{let t=JSON.parse(e),n=await (null==M?void 0:M.sendBitcoin(t.toAddress,t.satoshis));return JSON.stringify(n)}}),(0,s.jsx)(m.u,{title:"pushTx",description:"广播交易",allowCallWithoutProvider:!!M,onExecute:async e=>{if(!e||(0,d.Z)(e))throw(0,h.Am)({title:"Error",description:"请填写需要广播的交易信息"}),Error("request is empty");let t=await (null==M?void 0:M.pushTx(e));return JSON.stringify(t)}}),(0,s.jsx)(m.u,{title:"signPsbt",description:"signPsbt",presupposeParams:y.Z.signPsbt,allowCallWithoutProvider:!!M,onExecute:async e=>{let{psbtHex:t,options:n}=JSON.parse(e),i=await (null==M?void 0:M.signPsbt(t)),s=u.Psbt.fromHex(i);return(null==n?void 0:n.autoFinalized)||s.finalizeAllInputs(),s.toHex()},generateRequestFrom:()=>{var e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(C.I,{label:"收款地址",type:"text",name:"toAddress",defaultValue:null!==(e=null==H?void 0:H.address)&&void 0!==e?e:""}),(0,s.jsx)(C.I,{label:"转账金额",type:"number",name:"amount",defaultValue:"1000"}),(0,s.jsx)(C.I,{label:"手续费 sat/vB",type:"number",name:"gasPrice",defaultValue:"20"})]})},onGenerateRequest:async e=>{var t,n;let i=e.toAddress,s=parseInt(e.amount),a=parseInt(null!==(t=e.gasPrice)&&void 0!==t?t:"20");if(!i||!s)throw Error("toAddress or amount is required");let o=await (null==M?void 0:M.getNetwork()),l=(0,S.X)(null!==(n=null==H?void 0:H.address)&&void 0!==n?n:"",i,s,a,"testnet"===o?u.networks.bitcoin:u.networks.testnet);return Promise.resolve(l)},onValidate:async(e,t)=>{let n=await (null==M?void 0:M.pushTx(t));return JSON.stringify(n)}}),(0,s.jsx)(m.u,{title:"signPsbts",description:"signPsbts",presupposeParams:y.Z.signPsbts,allowCallWithoutProvider:!!M,onExecute:async e=>{let{psbtHexs:t,options:n}=JSON.parse(e),i=await (null==M?void 0:M.signPsbts(t)),s=[];return i.forEach((e,t)=>{var i;let a=u.Psbt.fromHex(e);(null==n?void 0:null===(i=n[t])||void 0===i?void 0:i.autoFinalized)||a.finalizeAllInputs(),s.push(a.toHex())}),JSON.stringify(s)},generateRequestFrom:()=>{var e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(C.I,{label:"收款地址",type:"text",name:"toAddress",defaultValue:null!==(e=null==H?void 0:H.address)&&void 0!==e?e:""}),(0,s.jsx)(C.I,{label:"转账金额",type:"number",name:"amount",defaultValue:"1000"}),(0,s.jsx)(C.I,{label:"手续费 sat/vB",type:"number",name:"gasPrice",defaultValue:"20"})]})},onGenerateRequest:async e=>{var t,n;let i=e.toAddress,s=parseInt(e.amount),a=parseInt(null!==(t=e.gasPrice)&&void 0!==t?t:"20");if(!i||!s)throw Error("toAddress or amount is required");let o=await (null==M?void 0:M.getNetwork()),l=await (0,S.X)(null!==(n=null==H?void 0:H.address)&&void 0!==n?n:"",i,s,a,"testnet"===o?u.networks.bitcoin:u.networks.testnet),r=JSON.parse(l);return Promise.resolve(JSON.stringify({psbtHexs:[r.psbtHex],options:[r.options]}))},onValidate:async(e,t)=>{let[n]=JSON.parse(t);return await (null==M?void 0:M.pushTx(n))}}),(0,s.jsx)(m.u,{title:"pushPsbt",description:"pushPsbt",allowCallWithoutProvider:!!M,onExecute:async e=>{if(!e||(0,d.Z)(e))throw(0,h.Am)({title:"Error",description:"请填写需要广播的交易信息"}),Error("request is empty");let t=await (null==M?void 0:M.pushTx(e));return t}})]}),(0,s.jsxs)(m.s,{title:"Cosmos Transfer",children:[(0,s.jsx)(m.u,{title:"signAmino",description:"signAmino",presupposeParams:x.Z.signAmino(null==H?void 0:H.address,null==H?void 0:H.address,"ubbn"),allowCallWithoutProvider:!!Z,onExecute:async e=>{if(!H)return JSON.stringify({error:"account is null"});let t=await (null==Z?void 0:Z.createSigningStargateClient()),n=await t.getAccount(null==H?void 0:H.address),i=await t.getChainId(),s=JSON.parse(e),a={chain_id:i,account_number:null==n?void 0:n.accountNumber,sequence:null==n?void 0:n.sequence,fee:s.fee,memo:s.memo,msgs:s.msgs},o=await (null==Z?void 0:Z.getOfflineSigner());return await o.signAmino(H.address,a)}}),(0,s.jsx)(m.u,{title:"signDirect",description:"signDirect",presupposeParams:x.Z.signDirect(null==H?void 0:H.address,null==H?void 0:H.address,"ubbn"),allowCallWithoutProvider:!!Z,onExecute:async e=>{let t=await (null==Z?void 0:Z.createSigningStargateClient()),n=await t.getSequence(null==H?void 0:H.address),i=await t.getChainId(),s=JSON.parse(e),a=await (null==Z?void 0:Z.getOfflineSigner()),o=await a.signDirect(H.address,{bodyBytes:N.from(s.signDoc.bodyBytes,"hex"),authInfoBytes:N.from(s.signDoc.authInfoBytes,"hex"),chainId:i,accountNumber:b().fromNumber(null==n?void 0:n.accountNumber)});return o},onValidate:async(e,t)=>{let n=(0,r.nr)(t),i=await (null==Z?void 0:Z.broadcastTx(n));return JSON.stringify(i)}})]}),(0,s.jsx)(g.Z,{dapps:a.F})]})}function ChildComponent(){let e=(0,c.a4)(),t=(0,c.TR)();return(0,s.jsxs)("div",{style:{textAlign:"right"},children:[(0,s.jsx)(w.z,{onClick:async()=>{await e.open("cosmos")},children:"Connect Wallet"}),(0,s.jsx)(w.z,{onClick:async()=>{await t.disconnect()},children:"Disconnect Wallet"})]})}function Demo(){return(0,s.jsxs)(c.VH,{chainTypes:["cosmos","bitcoin"],cosmosChains:[{id:1,name:"Babylon Main",type:"cosmos",network:"bbn-1",backendUrls:{rpcUrl:"https://babylon.nodes.guru"}},{id:2,name:"Babylon Test",type:"cosmos",network:"bbn-test-5",backendUrls:{rpcUrl:"https://babylon-testnet-rpc.nodes.guru"}}],style:{rounded:"medium",theme:"light",primaryColor:"#FF7C2A"},children:[(0,s.jsx)(Example,{}),(0,s.jsx)(ChildComponent,{})]})}S=(I.then?(await I)():I)[0],i()}catch(e){i(e)}})},85318:function(e,t,n){"use strict";var i=n(92602);t.Z={...i.Z,getUtxos:e=>[{id:"getUtxos",name:"getUtxos",value:JSON.stringify({address:e,amount:1e3})}],signMessageBip322:[{id:"signMessageBip322",name:"signMessageBip322",value:"Hello World"}]}},76749:function(e,t,n){"use strict";n.d(t,{Q:function(){return i}});let i=[{name:"Babylon Testnet",id:"bbn-test-5",rest:"https://babylon-testnet-api.nodes.guru",denom:"ubbn"}];t.Z={enable:[{id:"enable",name:"enable",value:JSON.stringify("cosmoshub-4")},{id:"enable-multiple",name:"enable multiple",value:JSON.stringify(["cosmoshub-4","juno-1","osmosis-1"])}],signArbitrary:[{id:"signArbitrary",name:"signArbitrary",value:"010203"}],signAmino:(e,t,n)=>[{id:"signAmino-msgSend",name:"SignAmino MsgSend",value:JSON.stringify({fee:{amount:[{amount:"1",denom:n}],gas:"200000"},msgs:[{type:"cosmos-sdk/MsgSend",value:{from_address:e,to_address:t,amount:[{amount:"1000",denom:n}]}}],memo:""})},{id:"signAmino-executeContract",name:"SignAmino ExecuteContract",value:JSON.stringify({fee:{amount:[{amount:"1",denom:n}],gas:"200000"},msgs:[{type:"wasm/MsgExecuteContract",value:{from_address:e,contract:"cw1qyqxw2ep3r3jyly4k2jlyj3lq3jly4k2jlyj3lq",msg:{transfer:{recipient:t,amount:"1000"}},funds:[]}}],memo:""})}],signDirect_simple:(e,t,n)=>[{id:"signDirect-msgSend",name:"signDirect MsgSend",value:JSON.stringify({fee:{amount:[{amount:"1",denom:n}],gas:"200000"},msgs:[{type:"/cosmos.bank.v1beta1.MsgSend",value:{from_address:e,to_address:t,amount:[{amount:"1000",denom:n}]}}],memo:""})},{id:"signDirect-executeContract",name:"signDirect ExecuteContract CwToken",value:JSON.stringify({fee:{amount:[{amount:"1",denom:n}],gas:"200000"},msgs:[{type:"/cosmwasm.wasm.v1.MsgExecuteContract",value:{from_address:e,contract:"cw1qyqxw2ep3r3jyly4k2jlyj3lq3jly4k2jlyj3lq",msg:{transfer:{recipient:t,amount:"1000"}},funds:[]}}],memo:""})}],signDirect:(e,t,n)=>[{id:"signDirect-msgSend",name:"signDirect MsgSend",value:JSON.stringify({chainId:"bbn-test-5",signer:"bbn1uxd7fqht3qgeg80g20q0hfv0cqh4rcqpwgmkvq",signDoc:{bodyBytes:"0ae6060a2d2f626162796c6f6e2e6274637374616b696e672e76312e4d736743726561746542544344656c65676174696f6e12b4060a2a62626e31757864376671687433716765673830673230713068667630637168347263717077676d6b7671124508021241200110c948b9c573cc2499265b5e99e748cc32fd9a5ee17d3cf02365eef4b1fa964915c0193ba04f75a10f0b0d1afea76f6e7f378972be17d3bd7cfb2a7259201d1a20ead5c9942bc49655fc2234c55e9a61468bcd4ce599922a6bedf0eb3e5b9ee5322220d23c2c25e1fcf8fd1c21b9a402c19e2e309e531e45e92fb1e9805b6056b0cc762880f40330d086033a89010200000001a4876046ff402b8950373fed5952c6c14b88db57333d4a8e92be42a1b1e7fdba0100000000ffffffff0250c3000000000000225120700088b1166fa4c1a5e05a7677517eac01004f4343072fbff7b8d2dec576dc59c415880000000000225120773bdb0b0f631d71ae90465cb233b1c8285f327500516fb4072bfa8ddb3dd754000000004a7d0200000001dcb9294f16b86260a5833129d552faa3e75052d68a912bc7f8156bb74f5f281a0000000000ffffffff02c4090000000000001600145be12624d08a2b424095d7c07221c33450d14bf104a600000000000022512018fb8361aeff975f8b4a817c6b3050c7ee68d0d131991eae62a54b422577fc06000000005240fb9796c2433fb93ef2311b858bd792d3794b926d407e9088c737cef2ac32e890a594cc7f34fc2ea434226b72fbf6ecd4b48505039666159d195ab8f21fa525f958f007625e0200000001dcb9294f16b86260a5833129d552faa3e75052d68a912bc7f8156bb74f5f281a0000000000ffffffff0180bb00000000000022512041ce3c9f53d216681fc36d9d7e015076e1b0483bb8a5e557064205ece8dea368000000006880f702727d0200000001b4dfba7b6bf26c1ed08c8a4fd20f76001cac84226b92068834560711573c5dac0000000000ffffffff0260090000000000001600145be12624d08a2b424095d7c07221c33450d14bf1989e00000000000022512018fb8361aeff975f8b4a817c6b3050c7ee68d0d131991eae62a54b422577fc06000000007a4025917df4988fae03729bb92232749e84e3dbf87e6914726468b4efbcc59b6580984077e86a806cb24cefbe42ac89696558e83f81021ad6824c4e57bbec5f26d6",authInfoBytes:"0a500a460a1f2f636f736d6f732e63727970746f2e736563703235366b312e5075624b657912230a21038563d76bd72b9f140992e4f6ac7248e95ab19552fcef8f5492e33ba3172b210912040a020801180312130a0d0a047562626e1205313234343310c1bf6c",chainId:"bbn-test-5",accountNumber:"0"}})}]}},46601:function(){},20131:function(){},16026:function(){}}]);
//# sourceMappingURL=3020.59dd3dd3587d587e.js.map