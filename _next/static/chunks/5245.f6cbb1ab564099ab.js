(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5245],{95245:function(e,t,r){"use strict";let n;r.d(t,{ZN:function(){return JsBridgeBase_JsBridgeBase},el:function(){return JsBridgeIframe},BX:function(){return ProviderBase},consts:function(){return u},go:function(){return k},Pk:function(){return injectJsBridge},gZ:function(){return injectedProviderReceiveHandler}});var i,o,s,a,c,l,u={};r.r(u),r.d(u,{fr:function(){return _},JS_BRIDGE_MESSAGE_DIRECTION:function(){return C},JS_BRIDGE_MESSAGE_EXT_CHANNEL:function(){return w},wf:function(){return R}});var lodash_es_isNil=function(e){return null==e},d=r(93589),g=(0,r(1851).Z)(Object.getPrototypeOf,Object),f=r(18533),h=Object.prototype,p=Function.prototype.toString,v=h.hasOwnProperty,m=p.call(Object),lodash_es_isPlainObject=function(e){if(!(0,f.Z)(e)||"[object Object]"!=(0,d.Z)(e))return!1;var t=g(e);if(null===t)return!0;var r=v.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&p.call(r)==m},b=r(27771),y=r(92297),E=r.n(y);function safeApply(e,t,r){try{Reflect.apply(e,t,r)}catch(e){setTimeout(()=>{throw e})}}let EventEmitterProxy=class EventEmitterProxy extends E(){emit(e,...t){return super.emit(e,...t)}addListener(e,t){return super.addListener(e,t),this}on(e,t){return super.on(e,t),this}once(e,t){return super.once(e,t),this}removeListener(e,t){return super.removeListener(e,t),this}off(e,t){return super.off(e,t),this}removeAllListeners(e){return super.removeAllListeners(e),this}setMaxListeners(e){return super.setMaxListeners(e),this}getMaxListeners(){return super.getMaxListeners()}listeners(e){return super.listeners(e)}rawListeners(e){return super.rawListeners(e)}listenerCount(e){return super.listenerCount(e)}prependListener(e,t){return super.prependListener(e,t),this}prependOnceListener(e,t){return super.prependOnceListener(e,t),this}eventNames(){return super.eventNames()}};let CrossEventEmitter=class CrossEventEmitter extends EventEmitterProxy{emit(e,...t){let r="error"===e,n=this._events;if(void 0!==n)r=r&&void 0===n.error;else if(!r)return!1;if(r){let e;if(t.length>0&&([e]=t),e instanceof Error)throw e;let r=Error(`Unhandled error.${e?` (${e.message})`:""}`);throw r.context=e,r}let i=n[e];if(void 0===i)return!1;if("function"==typeof i)safeApply(i,this,t);else{let e=i.length,r=function(e){let t=e.length,r=Array(t);for(let n=0;n<t;n+=1)r[n]=e[n];return r}(i);for(let n=0;n<e;n+=1)safeApply(r[n],this,t)}return!0}};let w="onekey@JS_BRIDGE_MESSAGE_EXT_CHANNEL",C={HOST_TO_INPAGE:"onekey@JS_BRIDGE_MESSAGE_DIRECTION-HOST_TO_INPAGE",INPAGE_TO_HOST:"onekey@JS_BRIDGE_MESSAGE_DIRECTION-INPAGE_TO_HOST"},_="$$ONEKEY_DEBUG_LOGGER",R="onekey_wallet_info_local_key_v5";var L=r(57824),O=r.n(L),__awaiter=function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function fulfilled(e){try{step(n.next(e))}catch(e){o(e)}}function rejected(e){try{step(n.throw(e))}catch(e){o(e)}}function step(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(fulfilled,rejected)}step((n=n.apply(e,t||[])).next())})},S=r(34155),browser_awaiter=function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function fulfilled(e){try{step(n.next(e))}catch(e){o(e)}}function rejected(e){try{step(n.throw(e))}catch(e){o(e)}}function step(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(fulfilled,rejected)}step((n=n.apply(e,t||[])).next())})};let j={};j.formatArgs=function(e){if(e[0]=`${(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")}+${j.humanize(this.diff)}`,!this.useColors)return;let t=`color: ${this.color}`;e.splice(1,0,t,"color: inherit");let r=0,n=0;e[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(r+=1,"%c"===e&&(n=r))}),e.splice(n,0,t)},j.save=function(e){return browser_awaiter(this,void 0,void 0,function*(){try{e?yield j.storage.setItem(_,e):lodash_es_isNil(e)?yield j.storage.removeItem(_):yield j.storage.setItem(_,"")}catch(e){console.error("debug logger storage error",e)}})},j.load=function(){return browser_awaiter(this,void 0,void 0,function*(){let e;try{e=yield j.storage.getItem(_)}catch(e){console.error("debug logger storage error",e)}return!e&&void 0!==S&&"env"in S&&(e=S.env.DEBUG),e})},j.useColors=function(){return"undefined"!=typeof window&&!!window.process&&("renderer"===window.process.type||!!window.process.__nwjs)||!("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},j.storage=function(){try{if(void 0!==r.g&&r.g.$$onekeyAppStorage)return r.g.$$onekeyAppStorage;if("undefined"!=typeof window&&window.localStorage)return window.localStorage;return console.warn("debugLogger init warning, neither `global.$$onekeyAppStorage` nor `window.localStorage` found."),{getItem(){return browser_awaiter(this,void 0,void 0,function*(){return""})},setItem(){return browser_awaiter(this,void 0,void 0,function*(){})},removeItem(){return browser_awaiter(this,void 0,void 0,function*(){})}}}catch(e){console.error("debug logger storage error",e)}}(),j.humanize=O(),j.destroy=(n=!1,()=>{n||(n=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}),j.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],j.log=(...e)=>{console.debug?console.debug(...e):console.log&&console.log(...e)};var debug=function(){var e,t,r,n;return e=this,t=void 0,r=void 0,n=function*(){return function(e){return __awaiter(this,void 0,void 0,function*(){function createDebug(e){let t,r,n;let i=null;function debug(...e){if(!debug.enabled)return;let r=Number(new Date),n=r-(t||r);debug.diff=n,debug.prev=t,debug.curr=r,t=r,e[0]=createDebug.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let i=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(t,r)=>{if("%%"===t)return"%";i++;let n=createDebug.formatters[r];if("function"==typeof n){let r=e[i];t=n.call(debug,r),e.splice(i,1),i--}return t}),createDebug.formatArgs.call(debug,e);let o=debug.log||createDebug.log;o.apply(debug,e)}return debug.namespace=e,debug.useColors=createDebug.useColors(),debug.color=createDebug.selectColor(e),debug.extend=extend,debug.destroy=createDebug.destroy,Object.defineProperty(debug,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==i?i:(r!==createDebug.namespaces&&(r=createDebug.namespaces,n=createDebug.enabled(e)),n),set:e=>{i=e}}),"function"==typeof createDebug.init&&createDebug.init(debug),debug}function extend(e,t){let r=createDebug(this.namespace+(void 0===t?":":t)+e);return r.log=this.log,r}function toNamespace(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}createDebug.debug=createDebug,createDebug.default=createDebug,createDebug.coerce=function(e){return e instanceof Error?e.stack||e.message:e},createDebug.disable=function(){let e=[...createDebug.names.map(toNamespace),...createDebug.skips.map(toNamespace).map(e=>`-${e}`)].join(",");return createDebug.enable(""),e},createDebug.enable=function(e){return __awaiter(this,void 0,void 0,function*(){let t;yield createDebug.save(e),createDebug.namespaces=e,createDebug.names=[],createDebug.skips=[];let r=("string"==typeof e?e:"").split(/[\s,]+/),n=r.length;for(t=0;t<n;t++)r[t]&&("-"===(e=r[t].replace(/\*/g,".*?"))[0]?createDebug.skips.push(RegExp(`^${e.substr(1)}$`)):createDebug.names.push(RegExp(`^${e}$`)))})},createDebug.enabled=function(e){let t,r;if("*"===e[e.length-1])return!0;for(t=0,r=createDebug.skips.length;t<r;t++)if(createDebug.skips[t].test(e))return!1;for(t=0,r=createDebug.names.length;t<r;t++)if(createDebug.names[t].test(e))return!0;return!1},createDebug.humanize=O(),createDebug.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach(t=>{createDebug[t]=e[t]}),createDebug.names=[],createDebug.skips=[],createDebug.formatters={j(e){try{return JSON.stringify(e)}catch(e){return`[UnexpectedJSONParseError]: ${e.message}`}}},createDebug.selectColor=function(e){let t=0;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r)|0;return createDebug.colors[Math.abs(t)%createDebug.colors.length]};let t=yield createDebug.load();return yield createDebug.enable(t),createDebug})}(j)},new(r||(r=Promise))(function(i,o){function fulfilled(e){try{step(n.next(e))}catch(e){o(e)}}function rejected(e){try{step(n.throw(e))}catch(e){o(e)}}function step(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(fulfilled,rejected)}step((n=n.apply(e,t||[])).next())})};function consoleErrorInDev(...e){let t="undefined"!=typeof localStorage&&localStorage.getItem(_);t&&console.error(...e)}let I={_isFakeLogger:!0,log:(...e)=>void 0,warn:(...e)=>void 0,error:(...e)=>void 0,debug:(...e)=>void 0,info:(...e)=>void 0,trace:(...e)=>void 0};(i=a||(a={})).jsBridge="jsBridge",i.providerBase="providerBase",i.extInjected="extInjected",i.extContentScripts="extContentScripts",i.webview="webview",i.desktopInjected="desktopInjected",i.ethereum="ethereum";let FakeDebugLogger=class FakeDebugLogger extends CrossEventEmitter{constructor(){super(),this.jsBridge=(...e)=>null,this.providerBase=(...e)=>null,this.extInjected=(...e)=>null,this.extContentScripts=(...e)=>null,this.webview=(...e)=>null,this.desktopInjected=(...e)=>null,this.ethereum=(...e)=>null,this.isFaked=!0,this._debug={enable(e){}},this._externalLogger=I,this._createExternalLog=e=>(...t)=>{var r,n;return this.once("debugReady",()=>{var r;this.isFaked||null===(r=this[e])||void 0===r||r.call(this,...t)}),null===(n=null===(r=this._externalLogger)||void 0===r?void 0:r.log)||void 0===n?void 0:n.call(r,`${e} >>> `,...t)},this.initExternalLogInstances(),this.setMaxListeners(9999)}initExternalLogInstances(){Object.keys(a).forEach(e=>{this[e]=this._createExternalLog(e)})}isDebugReady(){return this._debug&&"function"==typeof this._debug}_attachExternalLogger(e){e&&(this._externalLogger=e)}_createDebugInstance(e){}};let k=new FakeDebugLogger,F=new class extends FakeDebugLogger{constructor(){super(),this.isFaked=!1,this._debugInstanceCreatedMap={},debug().then(e=>{this._debug=e,this.isFaked=!1,this.initDebugInstances(),this.emit("debugReady")})}initDebugInstances(){this.isDebugReady()&&Object.keys(a).forEach(e=>{this[e]=this._debug(e)})}_createDebugInstance(e){if(!this._debugInstanceCreatedMap[e]&&(this._debugInstanceCreatedMap[e]=!0,e&&this._debug&&"function"==typeof this._debug)){let t=this._debug(e),r=this[e];this[e]=(...e)=>{t(...e),r&&"function"==typeof r&&r(...e)}}}};var x=r(47333),N=r(60047),D={version:"2.2.57"};let P="undefined"!=typeof window?window:r.g,A={message:"message",error:"error"};let JsBridgeBase_JsBridgeBase=class JsBridgeBase_JsBridgeBase extends CrossEventEmitter{constructor(e={}){var t,r;super(),this._requestPayloadCache={},this.isExtUi=!1,this.isInjected=!1,this.sendAsString=!0,this.globalOnMessageEnabled=!0,this.providersHub={},this.globalOnMessage=e=>{var t,r,n,i;return t=this,r=void 0,n=void 0,i=function*(){try{if(this.config.receiveHandler&&this.globalOnMessageEnabled){let t=yield this.config.receiveHandler(e,this);e.id&&this.response({id:e.id,scope:e.scope,remoteId:e.remoteId,data:t,peerOrigin:e.origin})}}catch(t){e.id&&e.type===N.c.REQUEST&&this.responseError({id:e.id,scope:e.scope,remoteId:e.remoteId,error:t,peerOrigin:e.origin}),this.emit(A.error,t)}finally{}},new(n||(n=Promise))(function(e,o){function fulfilled(e){try{step(i.next(e))}catch(e){o(e)}}function rejected(e){try{step(i.throw(e))}catch(e){o(e)}}function step(t){var r;t.done?e(t.value):((r=t.value)instanceof n?r:new n(function(e){e(r)})).then(fulfilled,rejected)}step((i=i.apply(t,r||[])).next())})},this.version=D.version,this.remoteInfo={origin:"",remoteId:""},this.callbacksExpireTimeout=6e5,this.debugLogger=F,this.callbacks=[],this.callbackId=1,this.config=e,this.callbacksExpireTimeout=null!==(t=e.timeout)&&void 0!==t?t:this.callbacksExpireTimeout,this.debugLogger=e.debugLogger||F,this.sendAsString=null!==(r=e.sendAsString)&&void 0!==r?r:this.sendAsString,this.config.receiveHandler&&this.on(A.message,this.globalOnMessage),this.on(A.error,e=>{consoleErrorInDev("JsBridge ERROR: ",e,{code:null==e?void 0:e.code})}),this.rejectExpiredCallbacks()}attachProviderInstance(e){var t;let r=e.providerName;r&&(this.providersHub[r]=null!==(t=this.providersHub[r])&&void 0!==t?t:[],this.providersHub[r].push(e))}createCallbackId(){return this.callbackId+=1,this.callbackId}createPayload(e,{resolve:t,reject:r}){let{id:n,type:i}=e;if(t&&r&&n&&i===N.c.REQUEST){if(this.callbacks[n])throw Error(`JsBridge ERROR: callback exists, id=${n}`);this.callbacks[n]={id:n,resolve:t,reject:r,created:Date.now()}}if(e.error){let t=e.error;e.error={constructorName:t.constructorName,name:t.name,message:t.message,stack:t.stack,code:t.code,data:t.data,key:t.key,info:t.info,className:t.className,autoToast:t.autoToast,requestId:t.requestId,httpStatusCode:t.httpStatusCode,reconnect:t.reconnect,payload:t.payload}}return null==e||delete e.resolve,null==e||delete e.reject,e}send({type:e,data:t,error:r,id:n,remoteId:i,sync:o=!1,scope:s,peerOrigin:a}){let executor=(c,l)=>{var u,d,g;let f=n;o||e!==N.c.REQUEST||(f=this.createCallbackId());try{let n=this.createPayload({id:f,data:t,error:r,type:e,origin:(null===(u=null==P?void 0:P.location)||void 0===u?void 0:u.origin)||"",peerOrigin:a,remoteId:i,scope:s},{resolve:c,reject:l}),o=n;this.sendAsString&&(o=JSON.stringify(n)),(null===(d=this.debugLogger.jsBridge)||void 0===d?void 0:d.enabled)&&n&&n.id&&n.type===N.c.REQUEST&&(this._requestPayloadCache[n.id]=n,n.id%100==0&&(this._requestPayloadCache={})),this.debugLogger.jsBridge("send",n,"\r\n ------> ",n.data,"\r\n ------> ",null===(g=n.data)||void 0===g?void 0:g.result),this.sendPayload(o)}catch(e){f?this.rejectCallback(f,e):this.emit(A.error,e)}};if(!o)return new Promise(executor);executor()}rejectCallback(e,t){this.processCallback({method:"reject",id:e,error:t})}resolveCallback(e,t){this.processCallback({method:"resolve",id:e,data:t})}processCallback({method:e,id:t,data:r,error:n}){let i=this.callbacks[t];i&&("reject"===e&&(i.reject&&i.reject(n),this.emit(A.error,n)),"resolve"===e&&i.resolve&&i.resolve(r),this.clearCallbackCache(t))}rejectExpiredCallbacks(){if(!this.callbacksExpireTimeout)return;let e=Date.now(),t=this.callbacks.length;for(let r=0;r<t;r++){let t=this.callbacks[r];if(t&&t.created&&e-t.created>this.callbacksExpireTimeout){let e=x.b$.provider.requestTimeout();this.rejectCallback(r,e)}}setTimeout(()=>{this.rejectExpiredCallbacks()},this.callbacksExpireTimeout)}clearCallbackCache(e){delete this.callbacks[e]}receive(e="",t){var r,n,i,o,s,a;let c={data:null};if(lodash_es_isNil(e)||""===e)throw Error("JsBridge ERROR: receive() payload is empty");if(lodash_es_isPlainObject(e)&&(c=e),"string"==typeof e||!(0,b.Z)(e)&&(0,f.Z)(e)&&"[object String]"==(0,d.Z)(e))try{c=JSON.parse(e)}catch(e){throw this.emit(A.error,e),Error("JsBridge ERROR: JSON.parse payloadReceived failed")}if(c.origin=null==t?void 0:t.origin,c.internal=!!(null==t?void 0:t.internal),(null==t?void 0:t.internal)&&this.isExtUi&&(a=c).name&&["onekey-provider-eth","onekey-provider-cfx","publicConfig"].includes(a.name))return;if(!c.origin&&!this.isInjected)throw consoleErrorInDev(null===(r=this===null||void 0===this?void 0:this.constructor)||void 0===r?void 0:r.name,"[payload.origin] is missing.",this),Error("JsBridge ERROR: receive message [payload.origin] is required.");if(!c.internal&&!c.scope)throw Error("JsBridge ERROR: receive message [payload.scope] is required for non-internal method call.");let l=null!==(i=this._requestPayloadCache[null!==(n=null==c?void 0:c.id)&&void 0!==n?n:""])&&void 0!==i?i:null;this.debugLogger.jsBridge("receive",c,{sender:t},"\r\n -----> ",null!==(s=null===(o=c.data)||void 0===o?void 0:o.result)&&void 0!==s?s:c.data,"\r\n <----- ",null==l?void 0:l.data);let{type:u,id:g,data:h,error:p,origin:v,remoteId:m}=c;if(this.remoteInfo={origin:v,remoteId:m},u===N.c.RESPONSE){if(null==g)throw Error("JsBridge ERROR: parameter [id] is required in JsBridge.receive() when REQUEST type message");let e=this.callbacks[g];if(e)try{if(p){let e=(0,x.UE)(p);this.rejectCallback(g,e)}else this.resolveCallback(g,h)}catch(e){this.emit(A.error,e)}finally{}}else if(u===N.c.REQUEST){let e=Object.assign(Object.assign({},c),{created:Date.now()});this.emit(A.message,e)}else throw Error(`JsBridge ERROR: payload type not support yet (type=${u||"undefined"})`)}requestSync({data:e,scope:t,remoteId:r}){this.send({id:void 0,type:N.c.REQUEST,scope:t,data:e,remoteId:r,sync:!0})}request(e){let{data:t,remoteId:r,scope:n}=e;return void 0===t&&console.warn("JsBridge ERROR: data required. Call like `bridge.request({ data: {...} });`"),this.send({type:N.c.REQUEST,data:t,remoteId:r,sync:!1,scope:n})}response({id:e,data:t,remoteId:r,scope:n,peerOrigin:i}){this.send({type:N.c.RESPONSE,data:t,id:e,remoteId:r,scope:n,sync:!0,peerOrigin:i})}responseError({id:e,error:t,scope:r,remoteId:n,peerOrigin:i}){this.send({type:N.c.RESPONSE,error:t,id:e,remoteId:n,scope:r,sync:!0,peerOrigin:i})}};var T=r(73234),siteMetadata_awaiter=function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function fulfilled(e){try{step(n.next(e))}catch(e){o(e)}}function rejected(e){try{step(n.throw(e))}catch(e){o(e)}}function step(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(fulfilled,rejected)}step((n=n.apply(e,t||[])).next())})};function imgExists(e){return new Promise((t,r)=>{try{let r=document.createElement("img");r.onload=()=>t(!0),r.onerror=()=>t(!1),r.src=e}catch(e){r(e)}})}function getSiteName(e){let{document:t}=e,r=t.querySelector('head > meta[property="og:site_name"]');if(r)return r.content;let n=t.querySelector('head > meta[name="title"]');return n?n.content:t.title&&t.title.length>0?t.title:window.location.hostname}function getSiteIcon(e){return siteMetadata_awaiter(this,void 0,void 0,function*(){let{document:t}=e,r=t.querySelectorAll('head > link[rel~="icon"]');for(let e of r)if(e&&(yield imgExists(e.href)))return e.href;return null})}var M={getSiteMetadata:function(){return siteMetadata_awaiter(this,void 0,void 0,function*(){return{name:getSiteName(window),icon:yield getSiteIcon(window)}})},getSiteIcon,getSiteName,imgExists},ProviderBase_awaiter=function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function fulfilled(e){try{step(n.next(e))}catch(e){o(e)}}function rejected(e){try{step(n.throw(e))}catch(e){o(e)}}function step(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(fulfilled,rejected)}step((n=n.apply(e,t||[])).next())})};let B={wallet_getConnectWalletInfo:"wallet_getConnectWalletInfo",wallet_sendSiteMetadata:"wallet_sendSiteMetadata"};let ProviderBase=class ProviderBase extends CrossEventEmitter{constructor(e){var t,r,n;if(super(),this.version=D.version,this.isOneKey=!0,this.debugLogger=k,this.logger=I,!e.bridge)throw Error("ProviderBase init error: bridge required.");this.config=e,this.bridge=e.bridge,this.logger=e.logger||I,this.debugLogger=(null===(t=this.bridge)||void 0===t?void 0:t.debugLogger)||k,null===(n=null===(r=this.bridge)||void 0===r?void 0:r.debugLogger)||void 0===n||n._attachExternalLogger(this.logger),setTimeout(()=>{this.bridge.attachProviderInstance(this)},0)}configDebugLogger(e){try{if(!e||!this.bridge.debugLogger)return;let t=this.bridge.debugLogger;(e.enabledKeys||[]).forEach(e=>{t._createDebugInstance(e)}),e.config&&t._debug.enable(e.config),window.$onekey=window.$onekey||{},window.$onekey.$debugLogger=t}catch(e){consoleErrorInDev("configDebugLogger ERROR:",e)}}getConnectWalletInfo(){return ProviderBase_awaiter(this,arguments,void 0,function*({timeout:e=3e3}={}){return new Promise((t,r)=>ProviderBase_awaiter(this,void 0,void 0,function*(){let r=setTimeout(()=>{console.error(`getConnectWalletInfo timeout: ${e}`),t(null)},e);try{let e=yield this.bridgeRequest({method:B.wallet_getConnectWalletInfo,params:[{time:Date.now()}]});if(e&&(e.providerState=e.providerState||{}),e&&e.debugLoggerConfig&&this.configDebugLogger(e.debugLoggerConfig),e&&e.walletInfo){window.$onekey=window.$onekey||{},window.$onekey.$walletInfo=e.walletInfo;try{localStorage.setItem(R,JSON.stringify(e.walletInfo))}catch(e){console.error(e)}}e?t(e):(console.error("getConnectWalletInfo error: result=null"),t(null))}catch(e){consoleErrorInDev("getConnectWalletInfo: ERROR",e),t(null)}finally{clearTimeout(r)}}))})}bridgeRequest(e,t){return ProviderBase_awaiter(this,void 0,void 0,function*(){var r,n,i,o;let s=!1;t&&(0,T.Z)(t)&&(s=!0);try{let a={data:null!=e?e:{},scope:this.providerName};this.debugLogger.providerBase("bridgeRequest:",a,"\r\n -----> ",a.data);let c=yield this.bridge.request(a);c&&(c.id=null!==(n=null!==(r=null==e?void 0:e.id)&&void 0!==r?r:c.id)&&void 0!==n?n:void 0,c.jsonrpc=null!==(o=null!==(i=null==e?void 0:e.jsonrpc)&&void 0!==i?i:c.jsonrpc)&&void 0!==o?o:"2.0");let l=c?c.result:void 0;return t&&s&&t(null,c),this.debugLogger.providerBase("bridgeRequest RETURN:",{req:a,res:c},"\r\n -----> ",a.data,"\r\n -----> ",l),l}catch(e){throw t&&s&&t(e),e}})}sendSiteMetadataDomReady(){if("complete"===document.readyState)this.sendSiteMetadata();else{let domContentLoadedHandler=()=>{this.sendSiteMetadata(),window.removeEventListener("DOMContentLoaded",domContentLoadedHandler)};window.addEventListener("DOMContentLoaded",domContentLoadedHandler)}}sendSiteMetadata(){return ProviderBase_awaiter(this,void 0,void 0,function*(){let e=yield M.getSiteMetadata();return yield this.bridgeRequest({method:B.wallet_sendSiteMetadata,params:e})})}isConnectionStatusChanged(e){return void 0===this.connectionStatus||e!==this.connectionStatus}isAccountsChanged(...e){throw Error("isAccountsChanged not implemented")}isNetworkChanged(...e){throw Error("isNetworkChanged not implemented")}};(o=c||(c={}))[o.DEBUG=0]="DEBUG",o[o.LOG=1]="LOG",o[o.WARN=2]="WARN",o[o.ERROR=3]="ERROR";let J=new class{constructor(e=null){this.module=e;let t=function(){if("undefined"==typeof localStorage)return;let e=localStorage.getItem(_);if(null!==e)try{let t=parseInt(e,10);if(t in c)return t}catch(e){}}();this.level=null!=t?t:c.DEBUG,this.level=null!=t?t:c.ERROR}shouldLog(e){return e>=this.level}formatMessage(...e){return this.module?[`[${this.module}]:`,...e]:e}debug(...e){this.shouldLog(c.DEBUG)&&console.debug(...this.formatMessage(...e))}log(...e){this.shouldLog(c.LOG)&&console.log(...this.formatMessage(...e))}warn(...e){this.shouldLog(c.WARN)&&console.warn(...this.formatMessage(...e))}error(...e){this.shouldLog(c.ERROR)&&console.error(...this.formatMessage(...e))}};function injectJsBridge(e){var t;return(null===(t=null==window?void 0:window.$onekey)||void 0===t?void 0:t.jsBridge)||(window.$onekey=window.$onekey||{},window.$onekey.jsBridge=e(),J.debug("JsBridge injected success!",performance.now())),window.$onekey.jsBridge}function injectedProviderReceiveHandler(e,t){let r=(null==t?void 0:t.providersHub)||window.$onekey,n=e.scope,i=e.data;if(!n){consoleErrorInDev("providerName (scope) is required in injectedProviderReceiveHandler.");return}let o=[];if(!(o=o.concat(r[n]).filter(Boolean))||!o.length){consoleErrorInDev(`[${n}] provider is NOT injected to document or bridge.`,i);return}if(o.forEach(t=>{t&&t.emit&&(t.emit("message_low_level",i),t.emit("message_payload_raw",e))}),"$private"===n){let r=o[0];if(r&&r.webembedReceiveHandler)return r.webembedReceiveHandler(e,t)}}let $=!1;let JsBridgeIframe=class JsBridgeIframe extends JsBridgeBase_JsBridgeBase{constructor(e){var t;super(e),this.sendAsString=!1,this.isInjected=!0,this.bridgeConfig=e,this.targetOrigin=null!==(t=e.targetOrigin)&&void 0!==t?t:window.location.origin,function(e={}){$||($=!0,window.addEventListener("message",t=>{var r,n,i;let o=t.data,s=null===(r=e.bridge)||void 0===r?void 0:r.bridgeConfig;if(s&&o.channel===s.channel&&o.frameName===s.remoteFrameName){let t=o.payload,r=null!==(n=e.bridge)&&void 0!==n?n:null===(i=null==window?void 0:window.$onekey)||void 0===i?void 0:i.jsBridge;r&&r.receive(t)}},!1))}({debugLogger:this.debugLogger,bridge:this,origin:this.targetOrigin})}sendPayload(e){let t={channel:this.bridgeConfig.channel,frameName:this.bridgeConfig.selfFrameName,payload:e,direction:""};this.bridgeConfig.remoteFrame.postMessage(t,this.targetOrigin)}};(s=l||(l={})).btc="unisat",s.sui="suiWallet",s.polkadot="polkadot-js"},47333:function(e,t,r){"use strict";r.d(t,{UE:function(){return toNativeErrorObject},b$:function(){return c}});var n=r(4445),i=r.n(n);let classes_Web3RpcError=class classes_Web3RpcError extends Error{constructor(e,t,r){if(!Number.isInteger(e))throw Error('"code" must be an integer.');if(!t||"string"!=typeof t)throw Error('"message" must be a nonempty string.');super(t),this.code=e,void 0!==r&&(this.data=r)}serialize(){let e={code:this.code,message:this.message};return void 0!==this.data&&(e.data=this.data),e}toString(){return i()(this.serialize(),stringifyReplacer,2)}};let Web3ProviderError=class Web3ProviderError extends classes_Web3RpcError{constructor(e,t,r){if(!(Number.isInteger(e)&&e>=1e3&&e<=4999))throw Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,t,r)}};function stringifyReplacer(e,t){if("[Circular]"!==t)return t}let o={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901,requestTimeout:4500}},s={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Web3 provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."},4500:{standard:"",message:"The request by this Web3 provider is timeout."}},a=o.rpc.internal;function getMessageFromCode(e,t="Unspecified error message. This is a bug, please report it."){if(Number.isInteger(e)){let t=e.toString();if(Object.prototype.hasOwnProperty.call(s,t))return s[t].message;if(e>=-32099&&e<=-32e3)return"Unspecified server error."}return t}function toNativeErrorObject(e){if(e instanceof Error)return e;let t=Error(e.message),r=Object.keys(e);for(let n of r)t[n]=e[n];return t}getMessageFromCode(a);let c={rpc:{parse:e=>getWeb3JsonRpcError(o.rpc.parse,e),invalidRequest:e=>getWeb3JsonRpcError(o.rpc.invalidRequest,e),invalidParams:e=>getWeb3JsonRpcError(o.rpc.invalidParams,e),methodNotFound:e=>getWeb3JsonRpcError(o.rpc.methodNotFound,e),internal:e=>getWeb3JsonRpcError(o.rpc.internal,e),server:e=>{if(!e||"object"!=typeof e||Array.isArray(e))throw Error("Web3 RPC Server errors must provide single object argument.");let{code:t}=e;if(!Number.isInteger(t)||t>-32005||t<-32099)throw Error('"code" must be an integer such that: -32099 <= code <= -32005');return getWeb3JsonRpcError(t,e)},invalidInput:e=>getWeb3JsonRpcError(o.rpc.invalidInput,e),resourceNotFound:e=>getWeb3JsonRpcError(o.rpc.resourceNotFound,e),resourceUnavailable:e=>getWeb3JsonRpcError(o.rpc.resourceUnavailable,e),transactionRejected:e=>getWeb3JsonRpcError(o.rpc.transactionRejected,e),methodNotSupported:e=>getWeb3JsonRpcError(o.rpc.methodNotSupported,e),limitExceeded:e=>getWeb3JsonRpcError(o.rpc.limitExceeded,e)},provider:{userRejectedRequest:e=>getWeb3ProviderError(o.provider.userRejectedRequest,e),unauthorized:e=>getWeb3ProviderError(o.provider.unauthorized,e),unsupportedMethod:e=>getWeb3ProviderError(o.provider.unsupportedMethod,e),disconnected:e=>getWeb3ProviderError(o.provider.disconnected,e),chainDisconnected:e=>getWeb3ProviderError(o.provider.chainDisconnected,e),requestTimeout:e=>getWeb3ProviderError(o.provider.requestTimeout,e),custom:e=>{if(!e||"object"!=typeof e||Array.isArray(e))throw Error("Web3 Provider custom errors must provide single object argument.");let{code:t,message:r,data:n}=e;if(!r||"string"!=typeof r)throw Error('"message" must be a nonempty string');return new Web3ProviderError(t,r,n)}}};function getWeb3JsonRpcError(e,t){let[r,n]=parseOpts(t);return new classes_Web3RpcError(e,r||getMessageFromCode(e),n)}function getWeb3ProviderError(e,t){let[r,n]=parseOpts(t);return new Web3ProviderError(e,r||getMessageFromCode(e),n)}function parseOpts(e){if(e){if("string"==typeof e)return[e];if("object"==typeof e&&!Array.isArray(e)){let{message:t,data:r}=e;if(t&&"string"!=typeof t)throw Error("Must specify string message.");return[t||void 0,r]}}return[]}},92297:function(e){"use strict";var t,r="object"==typeof Reflect?Reflect:null,n=r&&"function"==typeof r.apply?r.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};t=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function EventEmitter(){EventEmitter.init.call(this)}e.exports=EventEmitter,e.exports.once=function(e,t){return new Promise(function(r,n){function errorListener(r){e.removeListener(t,resolver),n(r)}function resolver(){"function"==typeof e.removeListener&&e.removeListener("error",errorListener),r([].slice.call(arguments))}eventTargetAgnosticAddListener(e,t,resolver,{once:!0}),"error"!==t&&"function"==typeof e.on&&eventTargetAgnosticAddListener(e,"error",errorListener,{once:!0})})},EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._eventsCount=0,EventEmitter.prototype._maxListeners=void 0;var o=10;function checkListener(e){if("function"!=typeof e)throw TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function _getMaxListeners(e){return void 0===e._maxListeners?EventEmitter.defaultMaxListeners:e._maxListeners}function _addListener(e,t,r,n){if(checkListener(r),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),s=o[t]),void 0===s)s=o[t]=r,++e._eventsCount;else if("function"==typeof s?s=o[t]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),(i=_getMaxListeners(e))>0&&s.length>i&&!s.warned){s.warned=!0;var i,o,s,a=Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=s.length,console&&console.warn&&console.warn(a)}return e}function onceWrapper(){if(!this.fired)return(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0==arguments.length)?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _onceWrap(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=onceWrapper.bind(n);return i.listener=r,n.wrapFn=i,i}function _listeners(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):arrayClone(i,i.length)}function listenerCount(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function arrayClone(e,t){for(var r=Array(t),n=0;n<t;++n)r[n]=e[n];return r}function eventTargetAgnosticAddListener(e,t,r,n){if("function"==typeof e.on)n.once?e.once(t,r):e.on(t,r);else if("function"==typeof e.addEventListener)e.addEventListener(t,function wrapListener(i){n.once&&e.removeEventListener(t,wrapListener),r(i)});else throw TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}Object.defineProperty(EventEmitter,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(e){if("number"!=typeof e||e<0||i(e))throw RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");o=e}}),EventEmitter.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},EventEmitter.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},EventEmitter.prototype.getMaxListeners=function(){return _getMaxListeners(this)},EventEmitter.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var i="error"===e,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var s,a=Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var c=o[e];if(void 0===c)return!1;if("function"==typeof c)n(c,this,t);else for(var l=c.length,u=arrayClone(c,l),r=0;r<l;++r)n(u[r],this,t);return!0},EventEmitter.prototype.addListener=function(e,t){return _addListener(this,e,t,!1)},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.prependListener=function(e,t){return _addListener(this,e,t,!0)},EventEmitter.prototype.once=function(e,t){return checkListener(t),this.on(e,_onceWrap(this,e,t)),this},EventEmitter.prototype.prependOnceListener=function(e,t){return checkListener(t),this.prependListener(e,_onceWrap(this,e,t)),this},EventEmitter.prototype.removeListener=function(e,t){var r,n,i,o,s;if(checkListener(t),void 0===(n=this._events)||void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===t||r[o].listener===t){s=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,s||t)}return this},EventEmitter.prototype.off=EventEmitter.prototype.removeListener,EventEmitter.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0==arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0==arguments.length){var i,o=Object.keys(r);for(n=0;n<o.length;++n)"removeListener"!==(i=o[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},EventEmitter.prototype.listeners=function(e){return _listeners(this,e,!0)},EventEmitter.prototype.rawListeners=function(e){return _listeners(this,e,!1)},EventEmitter.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):listenerCount.call(e,t)},EventEmitter.prototype.listenerCount=listenerCount,EventEmitter.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},60047:function(e,t,r){"use strict";var n,i,o,s;r.d(t,{U:function(){return i},c:function(){return n}}),(o=n||(n={})).RESPONSE="RESPONSE",o.REQUEST="REQUEST",(s=i||(i={})).btc="btc",s.ethereum="ethereum",s.conflux="conflux",s.tron="tron",s.solana="solana",s.sollet="sollet",s.near="near",s.aptos="aptos",s.martian="martian",s.algo="algo",s.sui="sui",s.cardano="cardano",s.alephium="alephium",s.cosmos="cosmos",s.polkadot="polkadot",s.scdo="scdo",s.ton="ton",s.webln="webln",s.nostr="nostr",s.bfc="bfc",s.neo="neo",s.stellar="stellar",s.$private="$private",s.$hardware_sdk="$hardware_sdk",s.$walletConnect="$walletConnect"},4445:function(e){e.exports=stringify,stringify.default=stringify,stringify.stable=deterministicStringify,stringify.stableStringify=deterministicStringify;var t="[...]",r="[Circular]",n=[],i=[];function defaultOptions(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function stringify(e,o,s,a){void 0===a&&(a=defaultOptions()),function decirc(e,n,i,o,s,a,c){if(a+=1,"object"==typeof e&&null!==e){for(l=0;l<o.length;l++)if(o[l]===e){setReplace(r,e,n,s);return}if(void 0!==c.depthLimit&&a>c.depthLimit||void 0!==c.edgesLimit&&i+1>c.edgesLimit){setReplace(t,e,n,s);return}if(o.push(e),Array.isArray(e))for(l=0;l<e.length;l++)decirc(e[l],l,l,o,e,a,c);else{var l,u=Object.keys(e);for(l=0;l<u.length;l++){var d=u[l];decirc(e[d],d,l,o,e,a,c)}}o.pop()}}(e,"",0,[],void 0,0,a);try{c=0===i.length?JSON.stringify(e,o,s):JSON.stringify(e,replaceGetterValues(o),s)}catch(e){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==n.length;){var c,l=n.pop();4===l.length?Object.defineProperty(l[0],l[1],l[3]):l[0][l[1]]=l[2]}}return c}function setReplace(e,t,r,o){var s=Object.getOwnPropertyDescriptor(o,r);void 0!==s.get?s.configurable?(Object.defineProperty(o,r,{value:e}),n.push([o,r,t,s])):i.push([t,r,e]):(o[r]=e,n.push([o,r,t]))}function compareFunction(e,t){return e<t?-1:e>t?1:0}function deterministicStringify(e,o,s,a){void 0===a&&(a=defaultOptions());var c,l=function deterministicDecirc(e,i,o,s,a,c,l){if(c+=1,"object"==typeof e&&null!==e){for(u=0;u<s.length;u++)if(s[u]===e){setReplace(r,e,i,a);return}try{if("function"==typeof e.toJSON)return}catch(e){return}if(void 0!==l.depthLimit&&c>l.depthLimit||void 0!==l.edgesLimit&&o+1>l.edgesLimit){setReplace(t,e,i,a);return}if(s.push(e),Array.isArray(e))for(u=0;u<e.length;u++)deterministicDecirc(e[u],u,u,s,e,c,l);else{var u,d={},g=Object.keys(e).sort(compareFunction);for(u=0;u<g.length;u++){var f=g[u];deterministicDecirc(e[f],f,u,s,e,c,l),d[f]=e[f]}if(void 0===a)return d;n.push([a,i,e]),a[i]=d}s.pop()}}(e,"",0,[],void 0,0,a)||e;try{c=0===i.length?JSON.stringify(l,o,s):JSON.stringify(l,replaceGetterValues(o),s)}catch(e){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==n.length;){var u=n.pop();4===u.length?Object.defineProperty(u[0],u[1],u[3]):u[0][u[1]]=u[2]}}return c}function replaceGetterValues(e){return e=void 0!==e?e:function(e,t){return t},function(t,r){if(i.length>0)for(var n=0;n<i.length;n++){var o=i[n];if(o[1]===t&&o[0]===r){r=o[2],i.splice(n,1);break}}return e.call(this,t,r)}}},57824:function(e){function plural(e,t,r,n){return Math.round(e/r)+" "+n+(t>=1.5*r?"s":"")}e.exports=function(e,t){t=t||{};var r,n,i=typeof e;if("string"===i&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*r;case"weeks":case"week":case"w":return 6048e5*r;case"days":case"day":case"d":return 864e5*r;case"hours":case"hour":case"hrs":case"hr":case"h":return 36e5*r;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*r;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}(e);if("number"===i&&isFinite(e))return t.long?(r=Math.abs(e))>=864e5?plural(e,r,864e5,"day"):r>=36e5?plural(e,r,36e5,"hour"):r>=6e4?plural(e,r,6e4,"minute"):r>=1e3?plural(e,r,1e3,"second"):e+" ms":(n=Math.abs(e))>=864e5?Math.round(e/864e5)+"d":n>=36e5?Math.round(e/36e5)+"h":n>=6e4?Math.round(e/6e4)+"m":n>=1e3?Math.round(e/1e3)+"s":e+"ms";throw Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},17685:function(e,t,r){"use strict";var n=r(66092).Z.Symbol;t.Z=n},93589:function(e,t,r){"use strict";r.d(t,{Z:function(){return _baseGetTag}});var n=r(17685),i=Object.prototype,o=i.hasOwnProperty,s=i.toString,a=n.Z?n.Z.toStringTag:void 0,_getRawTag=function(e){var t=o.call(e,a),r=e[a];try{e[a]=void 0;var n=!0}catch(e){}var i=s.call(e);return n&&(t?e[a]=r:delete e[a]),i},c=Object.prototype.toString,l=n.Z?n.Z.toStringTag:void 0,_baseGetTag=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":l&&l in Object(e)?_getRawTag(e):c.call(e)}},13413:function(e,t){"use strict";var r="object"==typeof global&&global&&global.Object===Object&&global;t.Z=r},1851:function(e,t){"use strict";t.Z=function(e,t){return function(r){return e(t(r))}}},66092:function(e,t,r){"use strict";var n=r(13413),i="object"==typeof self&&self&&self.Object===Object&&self,o=n.Z||i||Function("return this")();t.Z=o},27771:function(e,t){"use strict";var r=Array.isArray;t.Z=r},73234:function(e,t,r){"use strict";var n=r(93589),i=r(77226);t.Z=function(e){if(!(0,i.Z)(e))return!1;var t=(0,n.Z)(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},77226:function(e,t){"use strict";t.Z=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},18533:function(e,t){"use strict";t.Z=function(e){return null!=e&&"object"==typeof e}}}]);
//# sourceMappingURL=5245.f6cbb1ab564099ab.js.map