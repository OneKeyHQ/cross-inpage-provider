"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[651],{6793:function(e,t,n){var a=n(85893);n(67294);var r=n(41664),o=n.n(r),l=n(51731);t.Z=e=>{let{dapps:t}=e;return(0,a.jsxs)(l.Zb,{children:[(0,a.jsx)(l.ll,{className:"text-xl",children:"Dapp Bookmarks"}),(0,a.jsx)(l.aY,{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:t.map((e,t)=>(0,a.jsx)("div",{className:"border p-2 rounded-lg shadow-sm hover:shadow-md",children:(0,a.jsx)(o(),{href:e.url,legacyBehavior:!0,children:(0,a.jsxs)("a",{className:"text-blue-500 hover:underline text-lg block",children:[e.name," →"]})})},t))})]})}},50651:function(e,t,n){n.r(t),n.d(t,{default:function(){return BTCExample}});var a=n(85893);let r=[{name:"Starswap",url:"https://starswap.xyz/#/swap"},{name:"KikoVerse",url:"https://kikoverse.com/"}];var o=n(6912),l=n(67294),s=n(27361),i=n.n(s),c=n(99710),d=n(23225),u=n(6793),f=n(96544);function BTCExample(){let e=(0,l.useRef)([{uuid:"injected",name:"Injected Wallet",inject:"starcoin"},{uuid:"injected-onekey",name:"Injected OneKey",inject:"$onekey.starcoin"}]),{provider:t}=(0,d.O)(),onConnectWallet=async t=>{var n;let a=null===(n=e.current)||void 0===n?void 0:n.find(e=>e.uuid===t.id);if(!a)return Promise.reject("Wallet not found");let r=i()(window,a.inject);if(!r){(0,f.Am)({title:"Wallet not found",description:"Please install the wallet extension"});return}await (null==r?void 0:r.request({method:"stc_requestAccounts"}));let[o]=await r.request({method:"stc_accounts"}),l=await r.request({method:"chain.id"});return{provider:r,address:o,chainId:null==l?void 0:l.id.toString()}};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.Z,{fetchWallets:()=>Promise.resolve(e.current.map(e=>({id:e.uuid,name:e.name}))),onConnect:onConnectWallet}),(0,a.jsxs)(c.s,{title:"Basics",children:[(0,a.jsx)(c.u,{title:"RequestAccounts",description:"连接钱包",onExecute:async e=>{let n=await (null==t?void 0:t.request({method:"stc_requestAccounts"}));return JSON.stringify(n)}}),(0,a.jsx)(c.u,{title:"GetAccounts",description:"获取账户",onExecute:async()=>{let e=await (null==t?void 0:t.request({method:"stc_accounts"}));return JSON.stringify(e)}})]}),(0,a.jsx)(u.Z,{dapps:r})]})}},6912:function(e,t,n){n.d(t,{Z:function(){return ConnectButton}});var a=n(85893),r=n(67294),o=n(9663),l=n(51731),s=n(53617),i=n(23225),c=n(96544),d=n(27361),u=n.n(d),f=n(78299);let p={address:"地址",publicKey:"公钥",chainId:"网络"};function ConnectButton(e){let{fetchWallets:t,onConnect:n,onDisconnect:d}=e,{settings:g}=(0,f.r)(),m=(0,r.useRef)(null),x=(0,r.useRef)(!1),[h,j]=(0,r.useState)([]),{setProvider:v,setAccount:y,provider:w,account:N}=(0,i.O)(),b=(0,r.useCallback)(async e=>{try{let{provider:t,...a}=await n(e);v(t),y(a)}catch(e){console.log("connectWallet error",e),(0,c.Am)({title:"连接失败",description:u()(e,"message","")})}},[n,y,v]),C=(0,r.useCallback)(async()=>{x.current=!1,await (null==d?void 0:d()),v(null),y(null)},[d,y,v]),D=(0,r.useCallback)(()=>{setTimeout(()=>{try{var e;null===(e=m.current)||void 0===e||e.click()}catch(e){}},150)},[]),k=(0,r.useCallback)(async e=>{let n=await (null==t?void 0:t());if((null==n?void 0:n.length)===0){D();return}let{directConnection:a}=null!=e?e:{directConnection:!1};(null==n?void 0:n.length)===1||(null==n?void 0:n.length)>0&&a?(D(),await b(n[0])):j(n)},[D,b,t]);return(0,r.useEffect)(()=>{let e=setTimeout(async()=>{!x.current&&(console.log("settings.autoConnect",g.autoConnect),g.autoConnect&&(x.current=!0,await k({directConnection:!0})))},500);return()=>{clearTimeout(e)}},[g.autoConnect]),(0,a.jsx)(l.Zb,{children:(0,a.jsxs)(l.aY,{className:"flex flex-col flex-wrap gap-3",children:[(0,a.jsxs)("div",{className:"flex flex-row flex-wrap justify-between",children:[(0,a.jsxs)(s.Vq,{children:[(0,a.jsx)(s.hg,{asChild:!0,children:(0,a.jsx)(o.z,{onClick:()=>k(),children:"Connect Wallet"})}),(0,a.jsxs)(s.cZ,{children:[(0,a.jsx)(s.GG,{ref:m}),(0,a.jsxs)(s.fK,{children:[(0,a.jsx)(s.$N,{children:"选择钱包开始连接"}),!!h&&h.map(e=>{var t;return(0,a.jsx)(s.GG,{asChild:!0,children:(0,a.jsxs)(o.z,{onClick:()=>b(e),className:"gap-2",children:[e.logo&&(0,a.jsx)("img",{alt:e.name,src:e.logo,className:"w-5 h-5 rounded-full"}),(0,a.jsx)("span",{className:"font-medium",children:e.name}),null===(t=e.tags)||void 0===t?void 0:t.map(e=>(0,a.jsx)("span",{className:"text-xs font-light",children:e},e))]})},e.id)}),!h||0===h.length&&(0,a.jsxs)(s.Be,{children:["没有钱包可用，请安装 OneKey Extension",(0,a.jsx)("a",{target:"_blank",href:"https://www.onekey.so/download/",children:"Install OneKey Extension →"})]})]})]})]}),w&&(0,a.jsx)(o.z,{variant:"destructive",onClick:C,children:"断开链接"})]}),N&&(0,a.jsx)("div",{className:"flex grid-cols-1 xl:grid-cols-2 flex-wrap gap-x-6 gap-y-3 mt-4",children:Object.keys(N).map(e=>{var t;return(0,a.jsxs)("div",{children:[(0,a.jsxs)("span",{children:["".concat(null!==(t=null==p?void 0:p[e])&&void 0!==t?t:e),": "]}),(0,a.jsx)("span",{className:"font-normal flex flex-wrap text-break",children:"".concat(null==N?void 0:N[e])})]},e)})})]})})}},53617:function(e,t,n){n.d(t,{$N:function(){return g},Be:function(){return m},GG:function(){return u},Vq:function(){return i},cZ:function(){return p},fK:function(){return DialogHeader},hg:function(){return c}});var a=n(85893),r=n(67294),o=n(12854),l=n(41352),s=n(13441);let i=o.fC,c=o.xz,d=o.h_,u=o.x8,f=r.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,a.jsx)(o.aV,{ref:t,className:(0,s.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...r})});f.displayName=o.aV.displayName;let p=r.forwardRef((e,t)=>{let{className:n,children:r,...i}=e;return(0,a.jsxs)(d,{children:[(0,a.jsx)(f,{}),(0,a.jsxs)(o.VY,{ref:t,className:(0,s.cn)("fixed left-[50%] top-[35%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",n),...i,children:[r,(0,a.jsxs)(o.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,a.jsx)(l.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});p.displayName=o.VY.displayName;let DialogHeader=e=>{let{className:t,...n}=e;return(0,a.jsx)("div",{className:(0,s.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...n})};DialogHeader.displayName="DialogHeader";let g=r.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,a.jsx)(o.Dx,{ref:t,className:(0,s.cn)("text-lg font-semibold leading-none tracking-tight",n),...r})});g.displayName=o.Dx.displayName;let m=r.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,a.jsx)(o.dk,{ref:t,className:(0,s.cn)("text-sm text-muted-foreground",n),...r})});m.displayName=o.dk.displayName},12854:function(e,t,n){n.d(t,{Dx:function(){return X},VY:function(){return U},aV:function(){return J},dk:function(){return L},fC:function(){return G},h_:function(){return Y},x8:function(){return Q},xz:function(){return H}});var a=n(67294),r=n(36206),o=n(28771),l=n(25360),s=n(91276),i=n(77342),c=n(46063),d=n(95420),u=n(42651),f=n(29115),p=n(75320),g=n(27552),m=n(91202),x=n(23541),h=n(88426),j=n(85893),v="Dialog",[y,w]=(0,l.b)(v),[N,b]=y(v),Dialog=e=>{let{__scopeDialog:t,children:n,open:r,defaultOpen:o,onOpenChange:l,modal:c=!0}=e,d=a.useRef(null),u=a.useRef(null),[f=!1,p]=(0,i.T)({prop:r,defaultProp:o,onChange:l});return(0,j.jsx)(N,{scope:t,triggerRef:d,contentRef:u,contentId:(0,s.M)(),titleId:(0,s.M)(),descriptionId:(0,s.M)(),open:f,onOpenChange:p,onOpenToggle:a.useCallback(()=>p(e=>!e),[p]),modal:c,children:n})};Dialog.displayName=v;var C="DialogTrigger",D=a.forwardRef((e,t)=>{let{__scopeDialog:n,...a}=e,l=b(C,n),s=(0,o.e)(t,l.triggerRef);return(0,j.jsx)(p.WV.button,{type:"button","aria-haspopup":"dialog","aria-expanded":l.open,"aria-controls":l.contentId,"data-state":getState(l.open),...a,ref:s,onClick:(0,r.M)(e.onClick,l.onOpenToggle)})});D.displayName=C;var k="DialogPortal",[R,I]=y(k,{forceMount:void 0}),DialogPortal=e=>{let{__scopeDialog:t,forceMount:n,children:r,container:o}=e,l=b(k,t);return(0,j.jsx)(R,{scope:t,forceMount:n,children:a.Children.map(r,e=>(0,j.jsx)(f.z,{present:n||l.open,children:(0,j.jsx)(u.h,{asChild:!0,container:o,children:e})}))})};DialogPortal.displayName=k;var _="DialogOverlay",O=a.forwardRef((e,t)=>{let n=I(_,e.__scopeDialog),{forceMount:a=n.forceMount,...r}=e,o=b(_,e.__scopeDialog);return o.modal?(0,j.jsx)(f.z,{present:a||o.open,children:(0,j.jsx)(E,{...r,ref:t})}):null});O.displayName=_;var E=a.forwardRef((e,t)=>{let{__scopeDialog:n,...a}=e,r=b(_,n);return(0,j.jsx)(m.Z,{as:h.g7,allowPinchZoom:!0,shards:[r.contentRef],children:(0,j.jsx)(p.WV.div,{"data-state":getState(r.open),...a,ref:t,style:{pointerEvents:"auto",...a.style}})})}),W="DialogContent",P=a.forwardRef((e,t)=>{let n=I(W,e.__scopeDialog),{forceMount:a=n.forceMount,...r}=e,o=b(W,e.__scopeDialog);return(0,j.jsx)(f.z,{present:a||o.open,children:o.modal?(0,j.jsx)(V,{...r,ref:t}):(0,j.jsx)(F,{...r,ref:t})})});P.displayName=W;var V=a.forwardRef((e,t)=>{let n=b(W,e.__scopeDialog),l=a.useRef(null),s=(0,o.e)(t,n.contentRef,l);return a.useEffect(()=>{let e=l.current;if(e)return(0,x.Ry)(e)},[]),(0,j.jsx)(M,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,r.M)(e.onCloseAutoFocus,e=>{e.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:(0,r.M)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey,a=2===t.button||n;a&&e.preventDefault()}),onFocusOutside:(0,r.M)(e.onFocusOutside,e=>e.preventDefault())})}),F=a.forwardRef((e,t)=>{let n=b(W,e.__scopeDialog),r=a.useRef(!1),o=a.useRef(!1);return(0,j.jsx)(M,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(r.current||n.triggerRef.current?.focus(),t.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(r.current=!0,"pointerdown"!==t.detail.originalEvent.type||(o.current=!0));let a=t.target,l=n.triggerRef.current?.contains(a);l&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&o.current&&t.preventDefault()}})}),M=a.forwardRef((e,t)=>{let{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:l,onCloseAutoFocus:s,...i}=e,u=b(W,n),f=a.useRef(null),p=(0,o.e)(t,f);return(0,g.EW)(),(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(d.M,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:l,onUnmountAutoFocus:s,children:(0,j.jsx)(c.XB,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":getState(u.open),...i,ref:p,onDismiss:()=>u.onOpenChange(!1)})}),(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(TitleWarning,{titleId:u.titleId}),(0,j.jsx)(DescriptionWarning,{contentRef:f,descriptionId:u.descriptionId})]})]})}),z="DialogTitle",A=a.forwardRef((e,t)=>{let{__scopeDialog:n,...a}=e,r=b(z,n);return(0,j.jsx)(p.WV.h2,{id:r.titleId,...a,ref:t})});A.displayName=z;var T="DialogDescription",B=a.forwardRef((e,t)=>{let{__scopeDialog:n,...a}=e,r=b(T,n);return(0,j.jsx)(p.WV.p,{id:r.descriptionId,...a,ref:t})});B.displayName=T;var q="DialogClose",S=a.forwardRef((e,t)=>{let{__scopeDialog:n,...a}=e,o=b(q,n);return(0,j.jsx)(p.WV.button,{type:"button",...a,ref:t,onClick:(0,r.M)(e.onClick,()=>o.onOpenChange(!1))})});function getState(e){return e?"open":"closed"}S.displayName=q;var Z="DialogTitleWarning",[K,$]=(0,l.k)(Z,{contentName:W,titleName:z,docsSlug:"dialog"}),TitleWarning=({titleId:e})=>{let t=$(Z),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return a.useEffect(()=>{if(e){let t=document.getElementById(e);t||console.error(n)}},[n,e]),null},DescriptionWarning=({contentRef:e,descriptionId:t})=>{let n=$("DialogDescriptionWarning"),r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${n.contentName}}.`;return a.useEffect(()=>{let n=e.current?.getAttribute("aria-describedby");if(t&&n){let e=document.getElementById(t);e||console.warn(r)}},[r,e,t]),null},G=Dialog,H=D,Y=DialogPortal,J=O,U=P,X=A,L=B,Q=S}}]);
//# sourceMappingURL=651.75aae5b52e981ca5.js.map